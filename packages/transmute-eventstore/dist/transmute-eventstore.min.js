!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("buffer"),require("stream"),require("string_decoder"),require("vm"),require("crypto"),require("assert"),require("events"),require("util"),require("url"),require("os"),require("path"),require("constants"),require("http"),require("https"),require("secp256k1")):"function"==typeof define&&define.amd?define(["buffer","stream","string_decoder","vm","crypto","assert","events","util","url","os","path","constants","http","https","secp256k1"],e):t.transmuteEventstore=e(t.require$$0,t.stream,t.string_decoder,t.vm,t.crypto$1,t.assert,t.require$$0$1,t.util,t.url,t.os,t.path,t.constants,t.http,t.https)}(this,function(t,e,r,n,i,o,a,s,u,c,f,h,l,d){"use strict";function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m;function y(t){this.wrapped=t}function v(t){var e,r;function n(e,r){try{var o=t[e](r),a=o.value,s=a instanceof y;Promise.resolve(s?a.wrapped:a).then(function(t){s?n("next",t):i(o.done?"return":"normal",t)},function(t){n("throw",t)})}catch(t){i("throw",t)}}function i(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?n(e.key,e.arg):r=null}this._invoke=function(t,i){return new Promise(function(o,a){var s={key:t,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(e=r=s,n(t,i))})},"function"!=typeof t.return&&(this.return=void 0)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function _(t){return(_=Object.getPrototypeOf||function(t){return t.__proto__})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t,e,r){return(S="object"==typeof Reflect&&Reflect.construct||function(t,e,r){var n=[null];return n.push.apply(n,e),k(new(t.bind.apply(t,n)),r.prototype)})(t,e,r)}function E(t){var e="function"==typeof Map?new Map:void 0;return(E=function(t){if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,k(function(){return S(t,arguments,_(this).constructor)},t))})(t)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,i=i&&i.hasOwnProperty("default")?i.default:i,o=o&&o.hasOwnProperty("default")?o.default:o,a=a&&a.hasOwnProperty("default")?a.default:a,s=s&&s.hasOwnProperty("default")?s.default:s,u=u&&u.hasOwnProperty("default")?u.default:u,c=c&&c.hasOwnProperty("default")?c.default:c,f=f&&f.hasOwnProperty("default")?f.default:f,h=h&&h.hasOwnProperty("default")?h.default:h,l=l&&l.hasOwnProperty("default")?l.default:l,d=d&&d.hasOwnProperty("default")?d.default:d,"function"==typeof Symbol&&Symbol.asyncIterator&&(v.prototype[Symbol.asyncIterator]=function(){return this}),v.prototype.next=function(t){return this._invoke("next",t)},v.prototype.throw=function(t){return this._invoke("throw",t)},v.prototype.return=function(t){return this._invoke("return",t)};var A={};function x(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function B(t){if(Array.isArray(t))return t}function C(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function I(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}function T(t,e){for(var r,n=[],i=t[Symbol.iterator]();!(r=i.next()).done&&(n.push(r.value),!e||n.length!==e););return n}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function N(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var R=Object.freeze({get typeof(){return p},jsx:function(t,e,r,n){m||(m="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),e&&i)for(var a in i)void 0===e[a]&&(e[a]=i[a]);else e||(e=i||{});if(1===o)e.children=n;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];e.children=s}return{$$typeof:m,type:t,key:void 0===r?null:""+r,ref:null,props:e,_owner:null}},asyncIterator:function(t){if("function"==typeof Symbol){if(Symbol.asyncIterator){var e=t[Symbol.asyncIterator];if(null!=e)return e.call(t)}if(Symbol.iterator)return t[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},AwaitValue:y,AsyncGenerator:v,wrapAsyncGenerator:function(t){return function(){return new v(t.apply(this,arguments))}},awaitAsyncGenerator:function(t){return new y(t)},asyncGeneratorDelegate:function(t,e){var r={},n=!1;function i(r,i){return n=!0,i=new Promise(function(e){e(t[r](i))}),{done:!1,value:e(i)}}return"function"==typeof Symbol&&Symbol.iterator&&(r[Symbol.iterator]=function(){return this}),r.next=function(t){return n?(n=!1,t):i("next",t)},"function"==typeof t.throw&&(r.throw=function(t){if(n)throw n=!1,t;return i("throw",t)}),"function"==typeof t.return&&(r.return=function(t){return i("return",t)}),r},asyncToGenerator:function(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(t,e){try{var r=o[t](e),a=r.value}catch(t){return void i(t)}r.done?n(a):Promise.resolve(a).then(s,u)}function s(t){a("next",t)}function u(t){a("throw",t)}s()})}},classCallCheck:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},createClass:function(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t},defineEnumerableProperties:function(t,e){for(var r in e)(o=e[r]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r,o);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(e),i=0;i<n.length;i++){var o,a=n[i];(o=e[a]).configurable=o.enumerable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,a,o)}return t},defaults:function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t},defineProperty:b,get extends(){return w},objectSpread:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){b(t,e,r[e])})}return t},get:function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},inherits:function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},inheritsLoose:function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},get wrapNativeSuper(){return E},instanceof:function(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?e[Symbol.hasInstance](t):t instanceof e},interopRequireDefault:function(t){return t&&t.__esModule?t:{default:t}},interopRequireWildcard:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e},newArrowCheck:function(t,e){if(t!==e)throw new TypeError("Cannot instantiate an arrow function")},objectDestructuringEmpty:function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},objectWithoutProperties:function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i},assertThisInitialized:M,possibleConstructorReturn:function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?M(t):e},set:function t(e,r,n,i){var o=Object.getOwnPropertyDescriptor(e,r);if(void 0===o){var a=Object.getPrototypeOf(e);null!==a&&t(a,r,n,i)}else if("value"in o&&o.writable)o.value=n;else{var s=o.set;void 0!==s&&s.call(i,n)}return n},taggedTemplateLiteral:function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))},taggedTemplateLiteralLoose:function(t,e){return e||(e=t.slice(0)),t.raw=e,t},temporalRef:function(t,e){if(t===A)throw new ReferenceError(e+" is not defined - temporal dead zone");return t},readOnlyError:function(t){throw new Error('"'+t+'" is read-only')},classNameTDZError:function(t){throw new Error('Class "'+t+'" cannot be referenced in computed property keys.')},temporalUndefined:A,slicedToArray:function(t,e){return B(t)||I(t,e)||N()},slicedToArrayLoose:function(t,e){return B(t)||T(t,e)||N()},toArray:function(t){return B(t)||C(t)||N()},toConsumableArray:function(t){return x(t)||C(t)||P()},arrayWithoutHoles:x,arrayWithHoles:B,iterableToArray:C,iterableToArrayLimit:I,iterableToArrayLimitLoose:T,nonIterableSpread:P,nonIterableRest:N,skipFirstGeneratorNext:function(t){return function(){var e=t.apply(this,arguments);return e.next(),e}},toPropertyKey:function(t){return"symbol"==typeof t?t:String(t)},initializerWarningHelper:function(t,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")},initializerDefineProperty:function(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})},applyDecoratedDescriptor:function(t,e,r,n,i){var o={};return Object.keys(n).forEach(function(t){o[t]=n[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(t,e,r)||r},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}}),L=[["web3@1.0.0-beta.33","/Users/orie/OR13/transmute/packages/transmute-eventstore"]],O="web3@1.0.0-beta.33",j="web3@1.0.0-beta.33",D="sha1-xgIbV2mSdyY3HBhLhoRFMRsTkpU=",U={},F={type:"version",registry:!0,raw:"web3@1.0.0-beta.33",name:"web3",escapedName:"web3",rawSpec:"1.0.0-beta.33",saveSpec:null,fetchSpec:"1.0.0-beta.33"},q=["/"],K="https://registry.npmjs.org/web3/-/web3-1.0.0-beta.33.tgz",z="/Users/orie/OR13/transmute/packages/transmute-eventstore",V={name:"ethereum.org"},H=[{name:"Fabian Vogelsteller",email:"fabian@ethereum.org",homepage:"http://frozeman.de"},{name:"Marek Kotewicz",email:"marek@parity.io",url:"https://github.com/debris"},{name:"Marian Oancea",url:"https://github.com/cubedro"},{name:"Gav Wood",email:"g@parity.io",homepage:"http://gavwood.com"},{name:"Jeffery Wilcke",email:"jeffrey.wilcke@ethereum.org",url:"https://github.com/obscuren"}],G={url:"https://github.com/ethereum/web3.js/issues"},$={"web3-bzz":"1.0.0-beta.33","web3-core":"1.0.0-beta.33","web3-eth":"1.0.0-beta.33","web3-eth-personal":"1.0.0-beta.33","web3-net":"1.0.0-beta.33","web3-shh":"1.0.0-beta.33","web3-utils":"1.0.0-beta.33"},W=["Ethereum","JavaScript","API"],Y={type:"git",url:"https://github.com/ethereum/web3.js/tree/master/packages/web3"},Z={_args:L,_from:O,_id:j,_inBundle:!1,_integrity:D,_location:"/web3",_phantomChildren:U,_requested:F,_requiredBy:q,_resolved:K,_spec:"1.0.0-beta.33",_where:z,author:V,authors:H,bugs:G,dependencies:$,description:"Ethereum JavaScript API",keywords:W,license:"LGPL-3.0",main:"src/index.js",name:"web3",namespace:"ethereum",repository:Y,types:"index.d.ts",version:"1.0.0-beta.33"},Q=Object.freeze({_args:L,_from:O,_id:j,_inBundle:!1,_integrity:D,_location:"/web3",_phantomChildren:U,_requested:F,_requiredBy:q,_resolved:K,_spec:"1.0.0-beta.33",_where:z,author:V,authors:H,bugs:G,dependencies:$,description:"Ethereum JavaScript API",keywords:W,license:"LGPL-3.0",main:"src/index.js",name:"web3",namespace:"ethereum",repository:Y,types:"index.d.ts",version:"1.0.0-beta.33",default:Z}),X="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function J(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function et(t,e){return t(e={exports:{}},e.exports),e.exports}var rt=et(function(t,e){(function(){var r=this,n=r._,i=Array.prototype,o=Object.prototype,a=Function.prototype,s=i.push,u=i.slice,c=o.toString,f=o.hasOwnProperty,h=Array.isArray,l=Object.keys,d=a.bind,p=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};t.exports&&(e=t.exports=y),e._=y,y.VERSION="1.8.3";var v=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,o){return t.call(e,r,n,i,o)}}return function(){return t.apply(e,arguments)}},g=function(t,e,r){return null==t?y.identity:y.isFunction(t)?v(t,e,r):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return g(t,e,1/0)};var b=function(t,e){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var c=a[u];e&&void 0!==r[c]||(r[c]=o[c])}return r}},w=function(t){if(!y.isObject(t))return{};if(p)return p(t);m.prototype=t;var e=new m;return m.prototype=null,e},_=function(t){return function(e){return null==e?void 0:e[t]}},k=Math.pow(2,53)-1,S=_("length"),E=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=k};function M(t){return function(e,r,n,i){r=v(r,i,4);var o=!E(e)&&y.keys(e),a=(o||e).length,s=t>0?0:a-1;return arguments.length<3&&(n=e[o?o[s]:s],s+=t),function(e,r,n,i,o,a){for(;o>=0&&o<a;o+=t){var s=i?i[o]:o;n=r(n,e[s],s,e)}return n}(e,r,n,o,s,a)}}y.each=y.forEach=function(t,e,r){var n,i;if(e=v(e,r),E(t))for(n=0,i=t.length;n<i;n++)e(t[n],n,t);else{var o=y.keys(t);for(n=0,i=o.length;n<i;n++)e(t[o[n]],o[n],t)}return t},y.map=y.collect=function(t,e,r){e=g(e,r);for(var n=!E(t)&&y.keys(t),i=(n||t).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=e(t[s],s,t)}return o},y.reduce=y.foldl=y.inject=M(1),y.reduceRight=y.foldr=M(-1),y.find=y.detect=function(t,e,r){var n;if(void 0!==(n=E(t)?y.findIndex(t,e,r):y.findKey(t,e,r))&&-1!==n)return t[n]},y.filter=y.select=function(t,e,r){var n=[];return e=g(e,r),y.each(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n},y.reject=function(t,e,r){return y.filter(t,y.negate(g(e)),r)},y.every=y.all=function(t,e,r){e=g(e,r);for(var n=!E(t)&&y.keys(t),i=(n||t).length,o=0;o<i;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,r){e=g(e,r);for(var n=!E(t)&&y.keys(t),i=(n||t).length,o=0;o<i;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,r,n){return E(t)||(t=y.values(t)),("number"!=typeof r||n)&&(r=0),y.indexOf(t,e,r)>=0},y.invoke=function(t,e){var r=u.call(arguments,2),n=y.isFunction(e);return y.map(t,function(t){var i=n?e:t[e];return null==i?i:i.apply(t,r)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,r){var n,i,o=-1/0,a=-1/0;if(null==e&&null!=t)for(var s=0,u=(t=E(t)?t:y.values(t)).length;s<u;s++)(n=t[s])>o&&(o=n);else e=g(e,r),y.each(t,function(t,r,n){((i=e(t,r,n))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},y.min=function(t,e,r){var n,i,o=1/0,a=1/0;if(null==e&&null!=t)for(var s=0,u=(t=E(t)?t:y.values(t)).length;s<u;s++)(n=t[s])<o&&(o=n);else e=g(e,r),y.each(t,function(t,r,n){((i=e(t,r,n))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},y.shuffle=function(t){for(var e,r=E(t)?t:y.values(t),n=r.length,i=Array(n),o=0;o<n;o++)(e=y.random(0,o))!==o&&(i[o]=i[e]),i[e]=r[o];return i},y.sample=function(t,e,r){return null==e||r?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,r){return e=g(e,r),y.pluck(y.map(t,function(t,r,n){return{value:t,index:r,criteria:e(t,r,n)}}).sort(function(t,e){var r=t.criteria,n=e.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,r,n){var i={};return r=g(r,n),y.each(e,function(n,o){var a=r(n,o,e);t(i,n,a)}),i}};y.groupBy=A(function(t,e,r){y.has(t,r)?t[r].push(e):t[r]=[e]}),y.indexBy=A(function(t,e,r){t[r]=e}),y.countBy=A(function(t,e,r){y.has(t,r)?t[r]++:t[r]=1}),y.toArray=function(t){return t?y.isArray(t)?u.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,e,r){e=g(e,r);var n=[],i=[];return y.each(t,function(t,r,o){(e(t,r,o)?n:i).push(t)}),[n,i]},y.first=y.head=y.take=function(t,e,r){if(null!=t)return null==e||r?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,r){return u.call(t,0,Math.max(0,t.length-(null==e||r?1:e)))},y.last=function(t,e,r){if(null!=t)return null==e||r?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,r){return u.call(t,null==e||r?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var x=function(t,e,r,n){for(var i=[],o=0,a=n||0,s=S(t);a<s;a++){var u=t[a];if(E(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=x(u,e,r));var c=0,f=u.length;for(i.length+=f;c<f;)i[o++]=u[c++]}else r||(i[o++]=u)}return i};function B(t){return function(e,r,n){r=g(r,n);for(var i=S(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(r(e[o],o,e))return o;return-1}}function C(t,e,r){return function(n,i,o){var a=0,s=S(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return n[o=r(n,i)]===i?o:-1;if(i!=i)return(o=e(u.call(n,a,s),y.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(n[o]===i)return o;return-1}}y.flatten=function(t,e){return x(t,e,!1)},y.without=function(t){return y.difference(t,u.call(arguments,1))},y.uniq=y.unique=function(t,e,r,n){y.isBoolean(e)||(n=r,r=e,e=!1),null!=r&&(r=g(r,n));for(var i=[],o=[],a=0,s=S(t);a<s;a++){var u=t[a],c=r?r(u,a,t):u;e?(a&&o===c||i.push(u),o=c):r?y.contains(o,c)||(o.push(c),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(x(arguments,!0,!0))},y.intersection=function(t){for(var e=[],r=arguments.length,n=0,i=S(t);n<i;n++){var o=t[n];if(!y.contains(e,o)){for(var a=1;a<r&&y.contains(arguments[a],o);a++);a===r&&e.push(o)}}return e},y.difference=function(t){var e=x(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,S).length||0,r=Array(e),n=0;n<e;n++)r[n]=y.pluck(t,n);return r},y.object=function(t,e){for(var r={},n=0,i=S(t);n<i;n++)e?r[t[n]]=e[n]:r[t[n][0]]=t[n][1];return r},y.findIndex=B(1),y.findLastIndex=B(-1),y.sortedIndex=function(t,e,r,n){for(var i=(r=g(r,n,1))(e),o=0,a=S(t);o<a;){var s=Math.floor((o+a)/2);r(t[s])<i?o=s+1:a=s}return o},y.indexOf=C(1,y.findIndex,y.sortedIndex),y.lastIndexOf=C(-1,y.findLastIndex),y.range=function(t,e,r){null==e&&(e=t||0,t=0),r=r||1;for(var n=Math.max(Math.ceil((e-t)/r),0),i=Array(n),o=0;o<n;o++,t+=r)i[o]=t;return i};var I=function(t,e,r,n,i){if(!(n instanceof e))return t.apply(r,i);var o=w(t.prototype),a=t.apply(o,i);return y.isObject(a)?a:o};y.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,u.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var r=u.call(arguments,2),n=function(){return I(t,n,e,this,r.concat(u.call(arguments)))};return n},y.partial=function(t){var e=u.call(arguments,1),r=function(){for(var n=0,i=e.length,o=Array(i),a=0;a<i;a++)o[a]=e[a]===y?arguments[n++]:e[a];for(;n<arguments.length;)o.push(arguments[n++]);return I(t,r,this,this,o)};return r},y.bindAll=function(t){var e,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)t[r=arguments[e]]=y.bind(t[r],t);return t},y.memoize=function(t,e){var r=function(n){var i=r.cache,o=""+(e?e.apply(this,arguments):n);return y.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return r.cache={},r},y.delay=function(t,e){var r=u.call(arguments,2);return setTimeout(function(){return t.apply(null,r)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,r){var n,i,o,a=null,s=0;r||(r={});var u=function(){s=!1===r.leading?0:y.now(),a=null,o=t.apply(n,i),a||(n=i=null)};return function(){var c=y.now();s||!1!==r.leading||(s=c);var f=e-(c-s);return n=this,i=arguments,f<=0||f>e?(a&&(clearTimeout(a),a=null),s=c,o=t.apply(n,i),a||(n=i=null)):a||!1===r.trailing||(a=setTimeout(u,f)),o}},y.debounce=function(t,e,r){var n,i,o,a,s,u=function(){var c=y.now()-a;c<e&&c>=0?n=setTimeout(u,e-c):(n=null,r||(s=t.apply(o,i),n||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var c=r&&!n;return n||(n=setTimeout(u,e)),c&&(s=t.apply(o,i),o=i=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var r;return function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=null),r}},y.once=y.partial(y.before,2);var T=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(t,e){var r=P.length,n=t.constructor,i=y.isFunction(n)&&n.prototype||o,a="constructor";for(y.has(t,a)&&!y.contains(e,a)&&e.push(a);r--;)(a=P[r])in t&&t[a]!==i[a]&&!y.contains(e,a)&&e.push(a)}y.keys=function(t){if(!y.isObject(t))return[];if(l)return l(t);var e=[];for(var r in t)y.has(t,r)&&e.push(r);return T&&N(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var r in t)e.push(r);return T&&N(t,e),e},y.values=function(t){for(var e=y.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n},y.mapObject=function(t,e,r){e=g(e,r);for(var n,i=y.keys(t),o=i.length,a={},s=0;s<o;s++)a[n=i[s]]=e(t[n],n,t);return a},y.pairs=function(t){for(var e=y.keys(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=[e[i],t[e[i]]];return n},y.invert=function(t){for(var e={},r=y.keys(t),n=0,i=r.length;n<i;n++)e[t[r[n]]]=r[n];return e},y.functions=y.methods=function(t){var e=[];for(var r in t)y.isFunction(t[r])&&e.push(r);return e.sort()},y.extend=b(y.allKeys),y.extendOwn=y.assign=b(y.keys),y.findKey=function(t,e,r){e=g(e,r);for(var n,i=y.keys(t),o=0,a=i.length;o<a;o++)if(e(t[n=i[o]],n,t))return n},y.pick=function(t,e,r){var n,i,o={},a=t;if(null==a)return o;y.isFunction(e)?(i=y.allKeys(a),n=v(e,r)):(i=x(arguments,!1,!1,1),n=function(t,e,r){return e in r},a=Object(a));for(var s=0,u=i.length;s<u;s++){var c=i[s],f=a[c];n(f,c,a)&&(o[c]=f)}return o},y.omit=function(t,e,r){if(y.isFunction(e))e=y.negate(e);else{var n=y.map(x(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(n,e)}}return y.pick(t,e,r)},y.defaults=b(y.allKeys,!0),y.create=function(t,e){var r=w(t);return e&&y.extendOwn(r,e),r},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var r=y.keys(e),n=r.length;if(null==t)return!n;for(var i=Object(t),o=0;o<n;o++){var a=r[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var R=function(t,e,r,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=c.call(t);if(i!==c.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===t)return n[u]===e;if(r.push(t),n.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!R(t[u],e[u],r,n))return!1}else{var f,h=y.keys(t);if(u=h.length,y.keys(e).length!==u)return!1;for(;u--;)if(f=h[u],!y.has(e,f)||!R(t[f],e[f],r,n))return!1}return r.pop(),n.pop(),!0};y.isEqual=function(t,e){return R(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=h||function(t){return"[object Array]"===c.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&f.call(t,e)},y.noConflict=function(){return r._=n,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=_,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,r){var n=Array(Math.max(0,t));e=v(e,r,1);for(var i=0;i<t;i++)n[i]=e(i);return n},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=y.invert(L),j=function(t){var e=function(e){return t[e]},r="(?:"+y.keys(t).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(i,e):t}};y.escape=j(L),y.unescape=j(O),y.result=function(t,e,r){var n=null==t?void 0:t[e];return void 0===n&&(n=r),y.isFunction(n)?n.call(t):n};var D=0;y.uniqueId=function(t){var e=++D+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var U=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+F[t]};y.template=function(t,e,r){!e&&r&&(e=r),e=y.defaults({},e,y.templateSettings);var n=RegExp([(e.escape||U).source,(e.interpolate||U).source,(e.evaluate||U).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(n,function(e,r,n,a,s){return o+=t.slice(i,s).replace(q,K),i=s+e.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,y)},u=e.variable||"obj";return s.source="function("+u+"){\n"+o+"}",s},y.chain=function(t){var e=y(t);return e._chain=!0,e};var z=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var r=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),z(this,r.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];y.prototype[t]=function(){var r=this._wrapped;return e.apply(r,arguments),"shift"!==t&&"splice"!==t||0!==r.length||delete r[0],z(this,r)}}),y.each(["concat","join","slice"],function(t){var e=i[t];y.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped}}).call(X)}),nt=(rt._,{ErrorResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:JSON.stringify(t);return new Error("Returned error: "+e)},InvalidNumberOfParams:function(t,e,r){return new Error('Invalid number of parameters for "'+r+'". Got '+t+" expected "+e+"!")},InvalidConnection:function(t){return new Error("CONNECTION ERROR: Couldn't connect to node "+t+".")},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")}}),it=et(function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=J().Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;f+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(t=t||10,e=0|e||1,16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],h=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,f=0|a[0],h=8191&f,l=f>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,_=b>>>13,k=0|a[4],S=8191&k,E=k>>>13,M=0|a[5],A=8191&M,x=M>>>13,B=0|a[6],C=8191&B,I=B>>>13,T=0|a[7],P=8191&T,N=T>>>13,R=0|a[8],L=8191&R,O=R>>>13,j=0|a[9],D=8191&j,U=j>>>13,F=0|s[0],q=8191&F,K=F>>>13,z=0|s[1],V=8191&z,H=z>>>13,G=0|s[2],$=8191&G,W=G>>>13,Y=0|s[3],Z=8191&Y,Q=Y>>>13,X=0|s[4],J=8191&X,tt=X>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ft=0|s[8],ht=8191&ft,lt=ft>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,K))+Math.imul(l,q)|0))<<13)|0;c=((o=Math.imul(l,K))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(m,q)|0,o=Math.imul(m,K);var vt=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(l,V)|0))<<13)|0;c=((o=o+Math.imul(l,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(g,q)|0,o=Math.imul(g,K),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0;var gt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(l,$)|0))<<13)|0;c=((o=o+Math.imul(l,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,W)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(l,Z)|0))<<13)|0;c=((o=o+Math.imul(l,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,K))+Math.imul(E,q)|0,o=Math.imul(E,K),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,K))+Math.imul(x,q)|0,o=Math.imul(x,K),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,Q)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,K))+Math.imul(I,q)|0,o=Math.imul(I,K),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,K))+Math.imul(N,q)|0,o=Math.imul(N,K),n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,K))+Math.imul(O,q)|0,o=Math.imul(O,K),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,Q)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul(U,q)|0,o=Math.imul(U,K),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,lt)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(U,V)|0,o=Math.imul(U,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,W))+Math.imul(U,$)|0,o=Math.imul(U,W),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,lt)|0;var xt=(c+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,Q))+Math.imul(U,Z)|0,o=Math.imul(U,Q),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,tt))+Math.imul(U,J)|0,o=Math.imul(U,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,lt)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,lt)|0;var It=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Tt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,lt))+Math.imul(U,ht)|0,o=Math.imul(U,lt);var Nt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=yt,u[1]=vt,u[2]=gt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=Et,u[9]=Mt,u[10]=At,u[11]=xt,u[12]=Bt,u[13]=Ct,u[14]=It,u[15]=Tt,u[16]=Pt,u[17]=Nt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(l=h),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?l(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;s=67108863&(l=l+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},p.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},p.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var h=u,l=c,d=0;d<a;d++){var p=r[f+d],m=n[f+d],y=r[f+d+a],v=n[f+d+a],g=h*y-l*v;v=h*v+l*y,y=g,r[f+d]=p+y,n[f+d]=m+v,r[f+d+a]=p-y,n[f+d+a]=m-v,d!==s&&(g=u*h-c*l,l=u*l+c*h,h=g)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},p.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},p.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,f,h,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(o,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=l)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),h=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(f),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s),a.isub(u)):(n.isub(e),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,l=1;0==(n.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(o=0===e.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(g,y),n(b,y),n(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new g;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();r(y<p);var v=this.pow(h,new i(1).iushln(p-y-1));l=l.redMul(v),h=v.redSqr(),d=d.redMul(h),p=y}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===f)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,X)}),ot=et(function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=J().Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;f+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(t=t||10,e=0|e||1,16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],h=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,f=0|a[0],h=8191&f,l=f>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,_=b>>>13,k=0|a[4],S=8191&k,E=k>>>13,M=0|a[5],A=8191&M,x=M>>>13,B=0|a[6],C=8191&B,I=B>>>13,T=0|a[7],P=8191&T,N=T>>>13,R=0|a[8],L=8191&R,O=R>>>13,j=0|a[9],D=8191&j,U=j>>>13,F=0|s[0],q=8191&F,K=F>>>13,z=0|s[1],V=8191&z,H=z>>>13,G=0|s[2],$=8191&G,W=G>>>13,Y=0|s[3],Z=8191&Y,Q=Y>>>13,X=0|s[4],J=8191&X,tt=X>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ft=0|s[8],ht=8191&ft,lt=ft>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,K))+Math.imul(l,q)|0))<<13)|0;c=((o=Math.imul(l,K))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(m,q)|0,o=Math.imul(m,K);var vt=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(l,V)|0))<<13)|0;c=((o=o+Math.imul(l,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(g,q)|0,o=Math.imul(g,K),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0;var gt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(l,$)|0))<<13)|0;c=((o=o+Math.imul(l,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,W)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(l,Z)|0))<<13)|0;c=((o=o+Math.imul(l,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,K))+Math.imul(E,q)|0,o=Math.imul(E,K),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,K))+Math.imul(x,q)|0,o=Math.imul(x,K),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,Q)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,K))+Math.imul(I,q)|0,o=Math.imul(I,K),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,K))+Math.imul(N,q)|0,o=Math.imul(N,K),n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,K))+Math.imul(O,q)|0,o=Math.imul(O,K),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,Q)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul(U,q)|0,o=Math.imul(U,K),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,lt)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(U,V)|0,o=Math.imul(U,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,W))+Math.imul(U,$)|0,o=Math.imul(U,W),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,lt)|0;var xt=(c+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,Q))+Math.imul(U,Z)|0,o=Math.imul(U,Q),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,tt))+Math.imul(U,J)|0,o=Math.imul(U,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,lt)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,lt)|0;var It=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Tt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,lt))+Math.imul(U,ht)|0,o=Math.imul(U,lt);var Nt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=yt,u[1]=vt,u[2]=gt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=Et,u[9]=Mt,u[10]=At,u[11]=xt,u[12]=Bt,u[13]=Ct,u[14]=It,u[15]=Tt,u[16]=Pt,u[17]=Nt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(l=h),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?l(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;s=67108863&(l=l+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},p.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},p.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var h=u,l=c,d=0;d<a;d++){var p=r[f+d],m=n[f+d],y=r[f+d+a],v=n[f+d+a],g=h*y-l*v;v=h*v+l*y,y=g,r[f+d]=p+y,n[f+d]=m+v,r[f+d+a]=p-y,n[f+d+a]=m-v,d!==s&&(g=u*h-c*l,l=u*l+c*h,h=g)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},p.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},p.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,f,h,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(o,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=l)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),h=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(f),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s),a.isub(u)):(n.isub(e),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,l=1;0==(n.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(o=0===e.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(g,y),n(b,y),n(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new g;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();r(y<p);var v=this.pow(h,new i(1).iushln(p-y-1));l=l.redMul(v),h=v.redSqr(),d=d.redMul(h),p=y}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===f)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,X)}),at=function(t){if("string"!=typeof t)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof t+", while checking isHexPrefixed.");return"0x"===t.slice(0,2)},st=function(t){return"string"!=typeof t?t:at(t)?t.slice(2):t},ut=function(t){if("string"==typeof t||"number"==typeof t){var e=new ot(1),r=String(t).toLowerCase().trim(),n="0x"===r.substr(0,2)||"-0x"===r.substr(0,3),i=st(r);if("-"===i.substr(0,1)&&(i=st(i.slice(1)),e=new ot(-1,10)),!(i=""===i?"0":i).match(/^-?[0-9]+$/)&&i.match(/^[0-9A-Fa-f]+$/)||i.match(/^[a-fA-F]+$/)||!0===n&&i.match(/^[0-9A-Fa-f]+$/))return new ot(i,16).mul(e);if((i.match(/^-?[0-9]+$/)||""===i)&&!1===n)return new ot(i,10).mul(e)}else if("object"==typeof t&&t.toString&&!t.pop&&!t.push&&t.toString(10).match(/^-?[0-9]+$/)&&(t.mul||t.dividedToIntegerBy))return new ot(t.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(t)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")},ct=new it(0),ft=new it(-1),ht={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function lt(t){var e=t?t.toLowerCase():"ether",r=ht[e];if("string"!=typeof r)throw new Error("[ethjs-unit] the unit provided "+t+" doesn't exists, please use the one of the following units "+JSON.stringify(ht,null,2));return new it(r,10)}function dt(t){if("string"==typeof t){if(!t.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+t+"', should be a number matching (^-?[0-9.]+).");return t}if("number"==typeof t)return String(t);if("object"==typeof t&&t.toString&&(t.toTwos||t.dividedToIntegerBy))return t.toPrecision?String(t.toPrecision()):t.toString(10);throw new Error("while converting number to string, invalid number value '"+t+"' type "+typeof t+".")}var pt={unitMap:ht,numberToString:dt,getValueOfUnit:lt,fromWei:function(t,e,r){var n=ut(t),i=n.lt(ct),o=lt(e),a=ht[e].length-1||1,s=r||{};i&&(n=n.mul(ft));for(var u=n.mod(o).toString(10);u.length<a;)u="0"+u;s.pad||(u=u.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var c=n.div(o).toString(10);s.commify&&(c=c.replace(/\B(?=(\d{3})+(?!\d))/g,","));var f=c+("0"==u?"":"."+u);return i&&(f="-"+f),f},toWei:function(t,e){var r=dt(t),n=lt(e),i=ht[e].length-1||1,o="-"===r.substring(0,1);if(o&&(r=r.substring(1)),"."===r)throw new Error("[ethjs-unit] while converting number "+t+" to wei, invalid value");var a=r.split(".");if(a.length>2)throw new Error("[ethjs-unit] while converting number "+t+" to wei,  too many decimal points");var s=a[0],u=a[1];if(s||(s="0"),u||(u="0"),u.length>i)throw new Error("[ethjs-unit] while converting number "+t+" to wei, too many decimal places");for(;u.length<i;)u+="0";s=new it(s),u=new it(u);var c=s.mul(n).add(u);return o&&(c=c.mul(ft)),new it(c.toString(10),10)}},mt=et(function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=J().Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;f+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(t=t||10,e=0|e||1,16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],h=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,f=0|a[0],h=8191&f,l=f>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,_=b>>>13,k=0|a[4],S=8191&k,E=k>>>13,M=0|a[5],A=8191&M,x=M>>>13,B=0|a[6],C=8191&B,I=B>>>13,T=0|a[7],P=8191&T,N=T>>>13,R=0|a[8],L=8191&R,O=R>>>13,j=0|a[9],D=8191&j,U=j>>>13,F=0|s[0],q=8191&F,K=F>>>13,z=0|s[1],V=8191&z,H=z>>>13,G=0|s[2],$=8191&G,W=G>>>13,Y=0|s[3],Z=8191&Y,Q=Y>>>13,X=0|s[4],J=8191&X,tt=X>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ft=0|s[8],ht=8191&ft,lt=ft>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,K))+Math.imul(l,q)|0))<<13)|0;c=((o=Math.imul(l,K))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(m,q)|0,o=Math.imul(m,K);var vt=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(l,V)|0))<<13)|0;c=((o=o+Math.imul(l,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(g,q)|0,o=Math.imul(g,K),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0;var gt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(l,$)|0))<<13)|0;c=((o=o+Math.imul(l,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,W)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(l,Z)|0))<<13)|0;c=((o=o+Math.imul(l,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,K))+Math.imul(E,q)|0,o=Math.imul(E,K),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,K))+Math.imul(x,q)|0,o=Math.imul(x,K),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,Q)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,K))+Math.imul(I,q)|0,o=Math.imul(I,K),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,K))+Math.imul(N,q)|0,o=Math.imul(N,K),n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,K))+Math.imul(O,q)|0,o=Math.imul(O,K),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,Q)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul(U,q)|0,o=Math.imul(U,K),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,lt)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(U,V)|0,o=Math.imul(U,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,W))+Math.imul(U,$)|0,o=Math.imul(U,W),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,lt)|0;var xt=(c+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,Q))+Math.imul(U,Z)|0,o=Math.imul(U,Q),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,tt))+Math.imul(U,J)|0,o=Math.imul(U,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,lt)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,lt)|0;var It=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Tt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,lt))+Math.imul(U,ht)|0,o=Math.imul(U,lt);var Nt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=yt,u[1]=vt,u[2]=gt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=Et,u[9]=Mt,u[10]=At,u[11]=xt,u[12]=Bt,u[13]=Ct,u[14]=It,u[15]=Tt,u[16]=Pt,u[17]=Nt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(l=h),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?l(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;s=67108863&(l=l+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},p.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},p.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var h=u,l=c,d=0;d<a;d++){var p=r[f+d],m=n[f+d],y=r[f+d+a],v=n[f+d+a],g=h*y-l*v;v=h*v+l*y,y=g,r[f+d]=p+y,n[f+d]=m+v,r[f+d+a]=p-y,n[f+d+a]=m-v,d!==s&&(g=u*h-c*l,l=u*l+c*h,h=g)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},p.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},p.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,f,h,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(o,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=l)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),h=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(f),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s),a.isub(u)):(n.isub(e),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,l=1;0==(n.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(o=0===e.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(g,y),n(b,y),n(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new g;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();r(y<p);var v=this.pow(h,new i(1).iushln(p-y-1));l=l.redMul(v),h=v.redSqr(),d=d.redMul(h),p=y}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===f)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,X)}),yt=et(function(t,e){!function(r){var n=e,i=t&&t.exports==n&&t,o="object"==typeof X&&X;o.global!==o&&o.window!==o||(r=o);var a,s,u,c=String.fromCharCode;function f(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function h(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function l(t,e){return c(t>>e&63|128)}function d(t){if(0==(4294967168&t))return c(t);var e="";return 0==(4294965248&t)?e=c(t>>6&31|192):0==(4294901760&t)?(h(t),e=c(t>>12&15|224),e+=l(t,6)):0==(4292870144&t)&&(e=c(t>>18&7|240),e+=l(t,12),e+=l(t,6)),e+=c(63&t|128)}function p(){if(u>=s)throw Error("Invalid byte index");var t=255&a[u];if(u++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function m(){var t,e;if(u>s)throw Error("Invalid byte index");if(u==s)return!1;if(t=255&a[u],u++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|p())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|p()<<6|p())>=2048)return h(e),e;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(15&t)<<18|p()<<12|p()<<6|p())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}var y={version:"2.0.0",encode:function(t){for(var e=f(t),r=e.length,n=-1,i="";++n<r;)i+=d(e[n]);return i},decode:function(t){a=f(t),s=a.length,u=0;for(var e,r=[];!1!==(e=m());)r.push(e);return function(t){for(var e,r=t.length,n=-1,i="";++n<r;)(e=t[n])>65535&&(i+=c((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=c(e);return i}(r)}};if(n&&!n.nodeType)if(i)i.exports=y;else{var v={}.hasOwnProperty;for(var g in y)v.call(y,g)&&(n[g]=y[g])}else r.utf8=y}(X)}),vt="0123456789abcdef".split(""),gt=[1,256,65536,16777216],bt=[0,8,16,24],wt=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],_t=function(t){var e,r,n,i,o,a,s,u,c,f,h,l,d,p,m,y,v,g,b,w,_,k,S,E,M,A,x,B,C,I,T,P,N,R,L,O,j,D,U,F,q,K,z,V,H,G,$,W,Y,Z,Q,X,J,tt,et,rt,nt,it,ot,at,st,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(l=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|s>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(s<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(f<<1|h>>>31),r=s^(h<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(l<<1|d>>>31),r=c^(d<<1|l>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|o>>>31),r=h^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,p=t[0],m=t[1],G=t[11]<<4|t[10]>>>28,$=t[10]<<4|t[11]>>>28,B=t[20]<<3|t[21]>>>29,C=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,st=t[30]<<9|t[31]>>>23,K=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,R=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,Y=t[23]<<10|t[22]>>>22,I=t[33]<<13|t[32]>>>19,T=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,tt=t[5]<<30|t[4]>>>2,et=t[4]<<30|t[5]>>>2,O=t[14]<<6|t[15]>>>26,j=t[15]<<6|t[14]>>>26,g=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Q=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,N=t[44]<<29|t[45]>>>3,E=t[6]<<28|t[7]>>>4,M=t[7]<<28|t[6]>>>4,rt=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,X=t[47]<<24|t[46]>>>8,J=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,H=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,x=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,F=t[38]<<8|t[39]>>>24,q=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=p^~y&g,t[1]=m^~v&b,t[10]=E^~A&B,t[11]=M^~x&C,t[20]=R^~O&D,t[21]=L^~j&U,t[30]=V^~G&W,t[31]=H^~$&Y,t[40]=tt^~rt&it,t[41]=et^~nt&ot,t[2]=y^~g&w,t[3]=v^~b&_,t[12]=A^~B&I,t[13]=x^~C&T,t[22]=O^~D&F,t[23]=j^~U&q,t[32]=G^~W&Z,t[33]=$^~Y&Q,t[42]=rt^~it&at,t[43]=nt^~ot&st,t[4]=g^~w&k,t[5]=b^~_&S,t[14]=B^~I&P,t[15]=C^~T&N,t[24]=D^~F&K,t[25]=U^~q&z,t[34]=W^~Z&X,t[35]=Y^~Q&J,t[44]=it^~at&ut,t[45]=ot^~st&ct,t[6]=w^~k&p,t[7]=_^~S&m,t[16]=I^~P&E,t[17]=T^~N&M,t[26]=F^~K&R,t[27]=q^~z&L,t[36]=Z^~X&V,t[37]=Q^~J&H,t[46]=at^~ut&tt,t[47]=st^~ct&et,t[8]=k^~p&y,t[9]=S^~m&v,t[18]=P^~E&A,t[19]=N^~M&x,t[28]=K^~R&O,t[29]=z^~L&j,t[38]=X^~V&G,t[39]=J^~H&$,t[48]=ut^~tt&rt,t[49]=ct^~et&nt,t[0]^=wt[n],t[1]^=wt[n+1]},kt=function(t){return function(e){var r;if("0x"===e.slice(0,2)){r=[];for(var n=2,i=e.length;n<i;n+=2)r.push(parseInt(e.slice(n,n+2),16))}else r=e;return function(t,e){for(var r,n=e.length,i=t.blocks,o=t.blockCount<<2,a=t.blockCount,s=t.outputBlocks,u=t.s,c=0;c<n;){if(t.reset)for(t.reset=!1,i[0]=t.block,l=1;l<a+1;++l)i[l]=0;if("string"!=typeof e)for(l=t.start;c<n&&l<o;++c)i[l>>2]|=e[c]<<bt[3&l++];else for(l=t.start;c<n&&l<o;++c)(r=e.charCodeAt(c))<128?i[l>>2]|=r<<bt[3&l++]:r<2048?(i[l>>2]|=(192|r>>6)<<bt[3&l++],i[l>>2]|=(128|63&r)<<bt[3&l++]):r<55296||r>=57344?(i[l>>2]|=(224|r>>12)<<bt[3&l++],i[l>>2]|=(128|r>>6&63)<<bt[3&l++],i[l>>2]|=(128|63&r)<<bt[3&l++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++c)),i[l>>2]|=(240|r>>18)<<bt[3&l++],i[l>>2]|=(128|r>>12&63)<<bt[3&l++],i[l>>2]|=(128|r>>6&63)<<bt[3&l++],i[l>>2]|=(128|63&r)<<bt[3&l++]);if(t.lastByteIndex=l,l>=o){for(t.start=l-o,t.block=i[a],l=0;l<a;++l)u[l]^=i[l];_t(u),t.reset=!0}else t.start=l}if(i[(l=t.lastByteIndex)>>2]|=gt[3&l],t.lastByteIndex===o)for(i[0]=i[a],l=1;l<a+1;++l)i[l]=0;for(i[a-1]|=2147483648,l=0;l<a;++l)u[l]^=i[l];_t(u);for(var f,h="",l=0,d=0;d<s;){for(l=0;l<a&&d<s;++l,++d)f=u[l],h+=vt[f>>4&15]+vt[15&f]+vt[f>>12&15]+vt[f>>8&15]+vt[f>>20&15]+vt[f>>16&15]+vt[f>>28&15]+vt[f>>24&15];d%a==0&&(_t(u),l=0)}return"0x"+h}(function(t){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:(e=[0,0,0,0,0,0,0,0,0,0],[].concat(e,e,e,e,e))};var e}(t),r)}},St={keccak256:kt(256),keccak512:kt(512),keccak256s:kt(256),keccak512s:kt(512)},Et=function(t){return t instanceof mt||t&&t.constructor&&"BN"===t.constructor.name},Mt=function(t){return t&&t.constructor&&"BigNumber"===t.constructor.name},At=function(t){try{return ut.apply(null,arguments)}catch(e){throw new Error(e+' Given value: "'+t+'"')}},xt=function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||Bt(t))},Bt=function(t){t=t.replace(/^0x/i,"");for(var e=Nt(t.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},Ct=function(t){var e="";t=(t=(t=(t=(t=yt.encode(t)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},It=function(t){if(rt.isNull(t)||rt.isUndefined(t))return t;if(!isFinite(t)&&!Pt(t))throw new Error('Given input "'+t+'" is not a number.');var e=At(t),r=e.toString(16);return e.lt(new mt(0))?"-0x"+r.substr(1):"0x"+r},Tt=function(t){if(t=t.toString(16),!Pt(t))throw new Error('Given value "'+t+'" is not a valid hex string.');t=t.replace(/^0x/i,"");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},Pt=function(t){return(rt.isString(t)||rt.isNumber(t))&&/^(-)?0x[0-9a-f]*$/i.test(t)},Nt=function(t){Pt(t)&&/^0x/i.test(t.toString())&&(t=Tt(t));var e=St.keccak256(t);return"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===e?null:e};Nt._Hash=St;var Rt={BN:mt,isBN:Et,isBigNumber:Mt,toBN:At,isAddress:xt,isBloom:function(t){return!(!/^(0x)?[0-9a-f]{512}$/i.test(t)||!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t))},isTopic:function(t){return!(!/^(0x)?[0-9a-f]{64}$/i.test(t)||!/^(0x)?[0-9a-f]{64}$/.test(t)&&!/^(0x)?[0-9A-F]{64}$/.test(t))},checkAddressChecksum:Bt,utf8ToHex:Ct,hexToUtf8:function(t){if(!Pt(t))throw new Error('The parameter "'+t+'" must be a valid HEX string.');for(var e="",r=0,n=(t=(t=(t=(t=(t=t.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,i=0;i<n;i+=2)r=parseInt(t.substr(i,2),16),e+=String.fromCharCode(r);return yt.decode(e)},hexToNumber:function(t){return t?At(t).toNumber():t},hexToNumberString:function(t){return t?At(t).toString(10):t},numberToHex:It,toHex:function(t,e){if(xt(t))return e?"address":"0x"+t.toLowerCase().replace(/^0x/i,"");if(rt.isBoolean(t))return e?"bool":t?"0x01":"0x00";if(rt.isObject(t)&&!Mt(t)&&!Et(t))return e?"string":Ct(JSON.stringify(t));if(rt.isString(t)){if(0===t.indexOf("-0x")||0===t.indexOf("-0X"))return e?"int256":It(t);if(0===t.indexOf("0x")||0===t.indexOf("0X"))return e?"bytes":t;if(!isFinite(t))return e?"string":Ct(t)}return e?t<0?"int256":"uint256":It(t)},hexToBytes:Tt,bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return"0x"+e.join("")},isHex:function(t){return(rt.isString(t)||rt.isNumber(t))&&/^(-0x|0x)?[0-9a-f]*$/i.test(t)},isHexStrict:Pt,leftPad:function(t,e,r){var n=/^0x/i.test(t)||"number"==typeof t,i=e-(t=t.toString(16).replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(n?"0x":"")+new Array(i).join(r||"0")+t},rightPad:function(t,e,r){var n=/^0x/i.test(t)||"number"==typeof t,i=e-(t=t.toString(16).replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(n?"0x":"")+t+new Array(i).join(r||"0")},toTwosComplement:function(t){return"0x"+At(t).toTwos(256).toString(16,64)},sha3:Nt},Lt=function(t){var e=typeof t;if("string"===e)return Rt.isHexStrict(t)?new mt(t.replace(/0x/i,""),16):new mt(t,10);if("number"===e)return new mt(t);if(Rt.isBigNumber(t))return new mt(t.toString(10));if(Rt.isBN(t))return t;throw new Error(t+" is not a number")},Ot=function(t,e,r){var n,i,o;if("bytes"===(t=(o=t).startsWith("int[")?"int256"+o.slice(3):"int"===o?"int256":o.startsWith("uint[")?"uint256"+o.slice(4):"uint"===o?"uint256":o.startsWith("fixed[")?"fixed128x128"+o.slice(5):"fixed"===o?"fixed128x128":o.startsWith("ufixed[")?"ufixed128x128"+o.slice(6):"ufixed"===o?"ufixed128x128":o)){if(e.replace(/^0x/i,"").length%2!=0)throw new Error("Invalid bytes characters "+e.length);return e}if("string"===t)return Rt.utf8ToHex(e);if("bool"===t)return e?"01":"00";if(t.startsWith("address")){if(n=r?64:40,!Rt.isAddress(e))throw new Error(e+" is not a valid address, or the checksum is invalid.");return Rt.leftPad(e.toLowerCase(),n)}if(n=function(t){var e=/^\D+(\d+).*$/.exec(t);return e?parseInt(e[1],10):null}(t),t.startsWith("bytes")){if(!n)throw new Error("bytes[] not yet supported in solidity");if(r&&(n=32),n<1||n>32||n<e.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+n+" for "+e);return Rt.rightPad(e,2*n)}if(t.startsWith("uint")){if(n%8||n<8||n>256)throw new Error("Invalid uint"+n+" size");if((i=Lt(e)).bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());if(i.lt(new mt(0)))throw new Error("Supplied uint "+i.toString()+" is negative");return n?Rt.leftPad(i.toString("hex"),n/8*2):i}if(t.startsWith("int")){if(n%8||n<8||n>256)throw new Error("Invalid int"+n+" size");if((i=Lt(e)).bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return i.lt(new mt(0))?i.toTwos(n).toString("hex"):n?Rt.leftPad(i.toString("hex"),n/8*2):i}throw new Error("Unsupported or invalid type: "+t)},jt=function(t){if(rt.isArray(t))throw new Error("Autodetection of array types is not supported.");var e,r,n="";if(rt.isObject(t)&&(t.hasOwnProperty("v")||t.hasOwnProperty("t")||t.hasOwnProperty("value")||t.hasOwnProperty("type"))?(e=t.t||t.type,n=t.v||t.value):(e=Rt.toHex(t,!0),n=Rt.toHex(t),e.startsWith("int")||e.startsWith("uint")||(e="bytes")),!e.startsWith("int")&&!e.startsWith("uint")||"string"!=typeof n||/^(-)?0x/i.test(n)||(n=new mt(n)),rt.isArray(n)){if((r=function(t){var e=/^\D+\d*\[(\d+)\]$/.exec(t);return e?parseInt(e[1],10):null}(e))&&n.length!==r)throw new Error(e+" is not matching the given array "+JSON.stringify(n));r=n.length}return rt.isArray(n)?n.map(function(t){return Ot(e,t,r).toString("hex").replace("0x","")}).join(""):Ot(e,n,r).toString("hex").replace("0x","")},Dt=function(){var t=Array.prototype.slice.call(arguments),e=rt.map(t,jt);return Rt.sha3("0x"+e.join(""))},Ut=window.crypto,Ft=function(t){if(!Rt.isHexStrict(t))throw new Error("The parameter must be a valid HEX string.");var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},qt=function(t){if(!t)return"0x00";for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},Kt=function(t){if(t=t?t.toLowerCase():"ether",!pt.unitMap[t])throw new Error('This unit "'+t+"\" doesn't exist, please use the one of the following units"+JSON.stringify(pt.unitMap,null,2));return t},zt={_fireError:function(t,e,r,n){return!rt.isObject(t)||t instanceof Error||!t.data||((rt.isObject(t.data)||rt.isArray(t.data))&&(t.data=JSON.stringify(t.data,null,2)),t=t.message+"\n"+t.data),rt.isString(t)&&(t=new Error(t)),rt.isFunction(n)&&n(t),rt.isFunction(r)&&((e&&rt.isFunction(e.listeners)&&e.listeners("error").length||rt.isFunction(n))&&e.catch(function(){}),setTimeout(function(){r(t)},1)),e&&rt.isFunction(e.emit)&&setTimeout(function(){e.emit("error",t),e.removeAllListeners()},1),e},_jsonInterfaceMethodToString:function(t){if(rt.isObject(t)&&t.name&&-1!==t.name.indexOf("("))return t.name;var e=t.inputs.map(function(t){return t.type}).join(",");return t.name+"("+e+")"},randomHex:function(t,e){var r=Ut,n="function"==typeof e;if(t>65536){if(!n)throw new Error("Requested too many random bytes.");e(new Error("Requested too many random bytes."))}if(void 0!==r&&r.randomBytes){if(!n)return"0x"+r.randomBytes(t).toString("hex");r.randomBytes(t,function(t,r){t?e(s):e(null,"0x"+r.toString("hex"))})}else{var i;if(void 0!==r?i=r:"undefined"!=typeof msCrypto&&(i=msCrypto),i&&i.getRandomValues){var o=i.getRandomValues(new Uint8Array(t)),a="0x"+Array.from(o).map(function(t){return t.toString(16)}).join("");if(!n)return a;e(null,a)}else{var s=new Error('No "crypto" object available. This Browser doesn\'t support generating secure random bytes.');if(!n)throw s;e(s)}}},_:rt,BN:Rt.BN,isBN:Rt.isBN,isBigNumber:Rt.isBigNumber,isHex:Rt.isHex,isHexStrict:Rt.isHexStrict,sha3:Rt.sha3,keccak256:Rt.sha3,soliditySha3:Dt,isAddress:Rt.isAddress,checkAddressChecksum:Rt.checkAddressChecksum,toChecksumAddress:function(t){if(void 0===t)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,"");for(var e=Rt.sha3(t).replace(/^0x/i,""),r="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},toHex:Rt.toHex,toBN:Rt.toBN,bytesToHex:Rt.bytesToHex,hexToBytes:Rt.hexToBytes,hexToNumberString:Rt.hexToNumberString,hexToNumber:Rt.hexToNumber,toDecimal:Rt.hexToNumber,numberToHex:Rt.numberToHex,fromDecimal:Rt.numberToHex,hexToUtf8:Rt.hexToUtf8,hexToString:Rt.hexToUtf8,toUtf8:Rt.hexToUtf8,utf8ToHex:Rt.utf8ToHex,stringToHex:Rt.utf8ToHex,fromUtf8:Rt.utf8ToHex,hexToAscii:Ft,toAscii:Ft,asciiToHex:qt,fromAscii:qt,unitMap:pt.unitMap,toWei:function(t,e){if(e=Kt(e),!Rt.isBN(t)&&!rt.isString(t))throw new Error("Please pass numbers as strings or BigNumber objects to avoid precision errors.");return Rt.isBN(t)?pt.toWei(t,e):pt.toWei(t,e).toString(10)},fromWei:function(t,e){if(e=Kt(e),!Rt.isBN(t)&&!rt.isString(t))throw new Error("Please pass numbers as strings or BigNumber objects to avoid precision errors.");return Rt.isBN(t)?pt.fromWei(t,e):pt.fromWei(t,e).toString(10)},padLeft:Rt.leftPad,leftPad:Rt.leftPad,padRight:Rt.rightPad,rightPad:Rt.rightPad,toTwosComplement:Rt.toTwosComplement},Vt=et(function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=J().Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;f+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(t=t||10,e=0|e||1,16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],h=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,f=0|a[0],h=8191&f,l=f>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,_=b>>>13,k=0|a[4],S=8191&k,E=k>>>13,M=0|a[5],A=8191&M,x=M>>>13,B=0|a[6],C=8191&B,I=B>>>13,T=0|a[7],P=8191&T,N=T>>>13,R=0|a[8],L=8191&R,O=R>>>13,j=0|a[9],D=8191&j,U=j>>>13,F=0|s[0],q=8191&F,K=F>>>13,z=0|s[1],V=8191&z,H=z>>>13,G=0|s[2],$=8191&G,W=G>>>13,Y=0|s[3],Z=8191&Y,Q=Y>>>13,X=0|s[4],J=8191&X,tt=X>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ft=0|s[8],ht=8191&ft,lt=ft>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,K))+Math.imul(l,q)|0))<<13)|0;c=((o=Math.imul(l,K))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(m,q)|0,o=Math.imul(m,K);var vt=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(l,V)|0))<<13)|0;c=((o=o+Math.imul(l,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(g,q)|0,o=Math.imul(g,K),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0;var gt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(l,$)|0))<<13)|0;c=((o=o+Math.imul(l,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,W)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(l,Z)|0))<<13)|0;c=((o=o+Math.imul(l,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,K))+Math.imul(E,q)|0,o=Math.imul(E,K),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,K))+Math.imul(x,q)|0,o=Math.imul(x,K),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,Q)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,K))+Math.imul(I,q)|0,o=Math.imul(I,K),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,K))+Math.imul(N,q)|0,o=Math.imul(N,K),n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,K))+Math.imul(O,q)|0,o=Math.imul(O,K),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,Q)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul(U,q)|0,o=Math.imul(U,K),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,lt)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(U,V)|0,o=Math.imul(U,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,W))+Math.imul(U,$)|0,o=Math.imul(U,W),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,lt)|0;var xt=(c+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,Q))+Math.imul(U,Z)|0,o=Math.imul(U,Q),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,tt))+Math.imul(U,J)|0,o=Math.imul(U,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,lt)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,lt)|0;var It=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Tt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,lt))+Math.imul(U,ht)|0,o=Math.imul(U,lt);var Nt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=yt,u[1]=vt,u[2]=gt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=Et,u[9]=Mt,u[10]=At,u[11]=xt,u[12]=Bt,u[13]=Ct,u[14]=It,u[15]=Tt,u[16]=Pt,u[17]=Nt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(l=h),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?l(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;s=67108863&(l=l+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},p.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},p.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var h=u,l=c,d=0;d<a;d++){var p=r[f+d],m=n[f+d],y=r[f+d+a],v=n[f+d+a],g=h*y-l*v;v=h*v+l*y,y=g,r[f+d]=p+y,n[f+d]=m+v,r[f+d+a]=p-y,n[f+d+a]=m-v,d!==s&&(g=u*h-c*l,l=u*l+c*h,h=g)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},p.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},p.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,f,h,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(o,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=l)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),h=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(f),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s),a.isub(u)):(n.isub(e),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,l=1;0==(n.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(o=0===e.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(g,y),n(b,y),n(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new g;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();r(y<p);var v=this.pow(h,new i(1).iushln(p-y-1));l=l.redMul(v),h=v.redSqr(),d=d.redMul(h),p=y}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===f)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,X)}),Ht=function(t){var e="A".charCodeAt(0),r="Z".charCodeAt(0);return(t=(t=t.toUpperCase()).substr(4)+t.substr(0,4)).split("").map(function(t){var n=t.charCodeAt(0);return n>=e&&n<=r?n-e+10:t}).join("")},Gt=function(t){for(var e,r=t;r.length>2;)e=r.slice(0,9),r=parseInt(e,10)%97+r.slice(e.length);return parseInt(r,10)%97},$t=function(t){this._iban=t};$t.toAddress=function(t){if(!(t=new $t(t)).isDirect())throw new Error("IBAN is indirect and can't be converted");return t.toAddress()},$t.toIban=function(t){return $t.fromAddress(t).toString()},$t.fromAddress=function(t){if(!zt.isAddress(t))throw new Error("Provided address is not a valid address: "+t);t=t.replace("0x","").replace("0X","");var e=function(t,e){for(var r=t;r.length<2*e;)r="0"+r;return r}(new Vt(t,16).toString(36),15);return $t.fromBban(e.toUpperCase())},$t.fromBban=function(t){var e=("0"+(98-Gt(Ht("XE00"+t)))).slice(-2);return new $t("XE"+e+t)},$t.createIndirect=function(t){return $t.fromBban("ETH"+t.institution+t.identifier)},$t.isValid=function(t){return new $t(t).isValid()},$t.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===Gt(Ht(this._iban))},$t.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},$t.prototype.isIndirect=function(){return 20===this._iban.length},$t.prototype.checksum=function(){return this._iban.substr(2,2)},$t.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},$t.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},$t.prototype.toAddress=function(){if(this.isDirect()){var t=this._iban.substr(4),e=new Vt(t,36);return zt.toChecksumAddress(e.toString(16,20))}return""},$t.prototype.toString=function(){return this._iban};var Wt=$t,Yt=function(t){return zt.toBN(t).toString(10)},Zt=function(t){if(void 0!==t)return function(t){return"latest"===t||"pending"===t||"earliest"===t}(t)?t:zt.isHexStrict(t)?rt.isString(t)?t.toLowerCase():t:zt.numberToHex(t)},Qt=function(t){if(t.to&&(t.to=te(t.to)),t.data&&t.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!zt.isHex(t.data))throw new Error("The data field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),["gasPrice","gas","value","nonce"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=zt.numberToHex(t[e])}),t},Xt=function(t){return null!==t.blockNumber&&(t.blockNumber=zt.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=zt.hexToNumber(t.transactionIndex)),t.nonce=zt.hexToNumber(t.nonce),t.gas=zt.hexToNumber(t.gas),t.gasPrice=Yt(t.gasPrice),t.value=Yt(t.value),t.to&&zt.isAddress(t.to)?t.to=zt.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=zt.toChecksumAddress(t.from)),t},Jt=function(t){if("string"==typeof t.blockHash&&"string"==typeof t.transactionHash&&"string"==typeof t.logIndex){var e=zt.sha3(t.blockHash.replace("0x","")+t.transactionHash.replace("0x","")+t.logIndex.replace("0x",""));t.id="log_"+e.replace("0x","").substr(0,8)}else t.id||(t.id=null);return null!==t.blockNumber&&(t.blockNumber=zt.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=zt.hexToNumber(t.transactionIndex)),null!==t.logIndex&&(t.logIndex=zt.hexToNumber(t.logIndex)),t.address&&(t.address=zt.toChecksumAddress(t.address)),t},te=function(t){var e=new Wt(t);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(zt.isAddress(t))return"0x"+t.toLowerCase().replace("0x","");throw new Error('Provided address "'+t+"\" is invalid, the capitalization checksum test failed, or its an indrect IBAN address which can't be converted.")},ee={errors:nt,formatters:{inputDefaultBlockNumberFormatter:function(t){return!this||void 0!==t&&null!==t?"genesis"===t||"earliest"===t?"0x0":Zt(t):this.defaultBlock},inputBlockNumberFormatter:Zt,inputCallFormatter:function(t){var e=(t=Qt(t)).from||(this?this.defaultAccount:null);return e&&(t.from=te(e)),t},inputTransactionFormatter:function(t){if(t=Qt(t),!rt.isNumber(t.from)&&!rt.isObject(t.from)){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&!rt.isNumber(t.from))throw new Error('The send transactions "from" field must be defined!');t.from=te(t.from)}return t},inputAddressFormatter:te,inputPostFormatter:function(t){return t.ttl&&(t.ttl=zt.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=zt.numberToHex(t.workToProve)),t.priority&&(t.priority=zt.numberToHex(t.priority)),rt.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(t){return 0===t.indexOf("0x")?t:zt.fromUtf8(t)}),t},inputLogFormatter:function(t){var e=function(t){return null===t||void 0===t?null:0===(t=String(t)).indexOf("0x")?t:zt.fromUtf8(t)};return t.topics=t.topics||[],t.topics=t.topics.map(function(t){return rt.isArray(t)?t.map(e):e(t)}),e=null,t.address&&(t.address=rt.isArray(t.address)?t.address.map(function(t){return te(t)}):te(t.address)),t},inputSignFormatter:function(t){return zt.isHexStrict(t)?t:zt.utf8ToHex(t)},outputBigNumberFormatter:Yt,outputTransactionFormatter:Xt,outputTransactionReceiptFormatter:function(t){if("object"!=typeof t)throw new Error("Received receipt is invalid: "+t);return null!==t.blockNumber&&(t.blockNumber=zt.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=zt.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=zt.hexToNumber(t.cumulativeGasUsed),t.gasUsed=zt.hexToNumber(t.gasUsed),rt.isArray(t.logs)&&(t.logs=t.logs.map(Jt)),t.contractAddress&&(t.contractAddress=zt.toChecksumAddress(t.contractAddress)),t},outputBlockFormatter:function(t){return t.gasLimit=zt.hexToNumber(t.gasLimit),t.gasUsed=zt.hexToNumber(t.gasUsed),t.size=zt.hexToNumber(t.size),t.timestamp=zt.hexToNumber(t.timestamp),null!==t.number&&(t.number=zt.hexToNumber(t.number)),t.difficulty&&(t.difficulty=Yt(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=Yt(t.totalDifficulty)),rt.isArray(t.transactions)&&t.transactions.forEach(function(t){if(!rt.isString(t))return Xt(t)}),t.miner&&(t.miner=zt.toChecksumAddress(t.miner)),t},outputLogFormatter:Jt,outputPostFormatter:function(t){return t.expiry=zt.hexToNumber(t.expiry),t.sent=zt.hexToNumber(t.sent),t.ttl=zt.hexToNumber(t.ttl),t.workProved=zt.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(t){return zt.toUtf8(t)}),t},outputSyncingFormatter:function(t){return t.startingBlock=zt.hexToNumber(t.startingBlock),t.currentBlock=zt.hexToNumber(t.currentBlock),t.highestBlock=zt.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=zt.hexToNumber(t.knownStates),t.pulledStates=zt.hexToNumber(t.pulledStates)),t}}},re={messageId:0,toPayload:function(t,e){if(!t)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(e)+'"!');return re.messageId++,{jsonrpc:"2.0",id:re.messageId,method:t,params:e||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!(!t||t.error||"2.0"!==t.jsonrpc||"number"!=typeof t.id&&"string"!=typeof t.id||void 0===t.result)}},toBatchPayload:function(t){return t.map(function(t){return re.toPayload(t.method,t.params)})}},ne=re,ie=ee.errors,oe=function(t){this.requestManager=t,this.requests=[]};oe.prototype.add=function(t){this.requests.push(t)},oe.prototype.execute=function(){var t=this.requests;this.requestManager.sendBatch(t,function(e,r){r=r||[],t.map(function(t,e){return r[e]||{}}).forEach(function(e,r){if(t[r].callback){if(e&&e.error)return t[r].callback(ie.ErrorResponse(e));if(!ne.isValidResponse(e))return t[r].callback(ie.InvalidResponse(e));t[r].callback(null,t[r].format?t[r].format(e.result):e.result)}})})};var ae=oe,se=null,ue=Function("return this")();void 0!==ue.ethereumProvider?se=ue.ethereumProvider:void 0!==ue.web3&&ue.web3.currentProvider&&(ue.web3.currentProvider.sendAsync&&(ue.web3.currentProvider.send=ue.web3.currentProvider.sendAsync,delete ue.web3.currentProvider.sendAsync),!ue.web3.currentProvider.on&&ue.web3.currentProvider.connection&&"ipcProviderWrapper"===ue.web3.currentProvider.connection.constructor.name&&(ue.web3.currentProvider.on=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.connection.on("data",function(t){var r="";t=t.toString();try{r=JSON.parse(t)}catch(r){return e(new Error("Couldn't parse response data"+t))}r.id||-1===r.method.indexOf("_subscription")||e(null,r)});break;default:this.connection.on(t,e)}}),se=ue.web3.currentProvider);var ce=se,fe="websocket@git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",he="websocket@1.0.24",le={ms:"2.0.0"},de={type:"git",raw:"websocket@git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",name:"websocket",escapedName:"websocket",rawSpec:"git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",saveSpec:"git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",fetchSpec:"git://github.com/frozeman/WebSocket-Node.git",gitCommittish:"7004c39c42ac98875ab61126e5b4a925430f592c"},pe=["/web3-providers-ws"],me="git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",ye="websocket@git://github.com/frozeman/WebSocket-Node.git#7004c39c42ac98875ab61126e5b4a925430f592c",ve="/Users/orie/OR13/transmute/packages/transmute-eventstore",ge={name:"Brian McKelvey",email:"brian@worlize.com",url:"https://www.worlize.com/"},be={url:"https://github.com/theturtle32/WebSocket-Node/issues"},we={verbose:!1},_e=[{name:"Iñaki Baz Castillo",email:"ibc@aliax.net",url:"http://dev.sipdoc.net"}],ke={debug:"^2.2.0",nan:"^2.3.3","typedarray-to-buffer":"^3.1.2",yaeti:"^0.0.6"},Se="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Ee={"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4",jshint:"^2.0.0","jshint-stylish":"^2.2.1",tape:"^4.0.1"},Me={lib:"./lib"},Ae={node:">=0.8.0"},xe="https://github.com/theturtle32/WebSocket-Node",Be=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Ce={type:"git",url:"git+https://github.com/theturtle32/WebSocket-Node.git"},Ie={gulp:"gulp",install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit"},Te={_from:fe,_id:he,_inBundle:!1,_integrity:"sha1-gLFGkaAk/sAGmDCKbb6YkMb/sWg=",_location:"/websocket",_phantomChildren:le,_requested:de,_requiredBy:pe,_resolved:me,_spec:ye,_where:ve,author:ge,browser:"lib/browser.js",bugs:be,bundleDependencies:!1,config:we,contributors:_e,dependencies:ke,deprecated:!1,description:Se,devDependencies:Ee,directories:Me,engines:Ae,homepage:xe,keywords:Be,license:"Apache-2.0",main:"index",name:"websocket",repository:Ce,scripts:Ie,version:"1.0.24"},Pe=Object.freeze({_from:fe,_id:he,_inBundle:!1,_integrity:"sha1-gLFGkaAk/sAGmDCKbb6YkMb/sWg=",_location:"/websocket",_phantomChildren:le,_requested:de,_requiredBy:pe,_resolved:me,_spec:ye,_where:ve,author:ge,browser:"lib/browser.js",bugs:be,bundleDependencies:!1,config:we,contributors:_e,dependencies:ke,deprecated:!1,description:Se,devDependencies:Ee,directories:Me,engines:Ae,homepage:xe,keywords:Be,license:"Apache-2.0",main:"index",name:"websocket",repository:Ce,scripts:Ie,version:"1.0.24",default:Te}),Ne=(Pe&&Te||Pe).version,Re=function(){return this||{}}(),Le=Re.WebSocket||Re.MozWebSocket;var Oe={w3cwebsocket:Le?function(t,e){return e?new Le(t,e):new Le(t)}:null,version:Ne},je=ee.errors,De=null;De="undefined"!=typeof window?window.WebSocket:Oe.w3cwebsocket;var Ue=function(t){var e=this;this.responseCallbacks={},this.notificationCallbacks=[],this.connection=new De(t),this.addDefaultEvents(),this.connection.onmessage=function(t){var r="string"==typeof t.data?t.data:"";e._parseResponse(r).forEach(function(t){var r=null;rt.isArray(t)?t.forEach(function(t){e.responseCallbacks[t.id]&&(r=t.id)}):r=t.id,r||-1===t.method.indexOf("_subscription")?e.responseCallbacks[r]&&(e.responseCallbacks[r](null,t),delete e.responseCallbacks[r]):e.notificationCallbacks.forEach(function(e){rt.isFunction(e)&&e(t)})})}};Ue.prototype.addDefaultEvents=function(){var t=this;this.connection.onerror=function(){t._timeout()},this.connection.onclose=function(){t._timeout(),t.reset()}},Ue.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(r){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),je.InvalidResponse(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)}),r},Ue.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n},Ue.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](je.InvalidConnection("on WS")),delete this.responseCallbacks[t])},Ue.prototype.send=function(t,e){var r=this;if(this.connection.readyState!==this.connection.CONNECTING){if(this.connection.readyState!==this.connection.OPEN)return console.error("connection not open on send()"),"function"==typeof this.connection.onerror?this.connection.onerror(new Error("connection not open")):console.error("no error callback"),void e(new Error("connection not open"));this.connection.send(JSON.stringify(t)),this._addResponseCallback(t,e)}else setTimeout(function(){r.send(t,e)},10)},Ue.prototype.on=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.notificationCallbacks.push(e);break;case"connect":this.connection.onopen=e;break;case"end":this.connection.onclose=e;break;case"error":this.connection.onerror=e}},Ue.prototype.removeListener=function(t,e){var r=this;switch(t){case"data":this.notificationCallbacks.forEach(function(t,n){t===e&&r.notificationCallbacks.splice(n,1)})}},Ue.prototype.removeAllListeners=function(t){switch(t){case"data":this.notificationCallbacks=[];break;case"connect":this.connection.onopen=null;break;case"end":this.connection.onclose=null;break;case"error":this.connection.onerror=null}},Ue.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.addDefaultEvents()};var Fe=Ue,qe=XMLHttpRequest,Ke=ee.errors,ze=function(t,e,r){this.host=t||"http://localhost:8545",this.timeout=e||0,this.connected=!1,this.headers=r};ze.prototype._prepareRequest=function(){var t=new qe;return t.open("POST",this.host,!0),t.setRequestHeader("Content-Type","application/json"),this.headers&&this.headers.forEach(function(e){t.setRequestHeader(e.name,e.value)}),t},ze.prototype.send=function(t,e){var r=this,n=this._prepareRequest();n.onreadystatechange=function(){if(4===n.readyState&&1!==n.timeout){var t=n.responseText,i=null;try{t=JSON.parse(t)}catch(t){i=Ke.InvalidResponse(n.responseText)}r.connected=!0,e(i,t)}},n.ontimeout=function(){r.connected=!1,e(Ke.ConnectionTimeout(this.timeout))};try{n.send(JSON.stringify(t))}catch(t){this.connected=!1,e(Ke.InvalidConnection(this.host))}};var Ve=ze,He=et(function(t,e){!function(e,r,n,i,o,a){var s=l(function(t,e){var r=e.length;return l(function(n){for(var i=0;i<n.length;i++)e[r+i]=n[i];return e.length=r+n.length,t.apply(this,e)})});l(function(t){var e=M(t);function r(t,e){return[h(t,e)]}return l(function(t){return C(r,t,e)[0]})});function u(t,e){return function(){return t.call(this,e.apply(this,arguments))}}function c(t){return function(e){return e[t]}}var f=l(function(t){return l(function(e){for(var r,n=0;n<v(t);n++)if(r=h(e,t[n]))return r})});function h(t,e){return e.apply(a,t)}function l(t){var e=t.length-1,r=n.prototype.slice;if(0==e)return function(){return t.call(this,r.call(arguments))};if(1==e)return function(){return t.call(this,arguments[0],r.call(arguments,1))};var i=n(t.length);return function(){for(var n=0;n<e;n++)i[n]=arguments[n];return i[e]=r.call(arguments,e),t.apply(this,i)}}function d(t,e){return function(r){return t(r)&&e(r)}}function p(){}function m(){return!0}function y(t,e){return e&&e.constructor===t}var v=c("length"),g=s(y,String);function b(t){return t!==a}function w(t,e){return e instanceof r&&function t(e,r){return!r||e(S(r))&&t(e,E(r))}(function(t){return t in e},t)}function _(t,e){return[t,e]}var k=null,S=c(0),E=c(1);function M(t){return T(t.reduce((e=_,function(t,r){return e(r,t)}),k));var e}var A=l(M);function x(t){return C(function(t,e){return t.unshift(e),t},[],t)}function B(t,e){return e?_(t(S(e)),B(t,E(e))):k}function C(t,e,r){return r?t(C(t,e,E(r)),S(r)):e}function I(t,e,r){return function t(r,n){return r?e(S(r))?(n(S(r)),E(r)):_(S(r),t(E(r),n)):k}(t,r||p)}function T(t){return function t(e,r){return e?t(E(e),_(S(e),r)):r}(t,k)}function P(t){var e,r,n,o=t(ft).emit,s=t(ht).emit,u=t(lt).emit,c=t(nt).emit,f=65536,h=/[\\"\n]/g,l=0,d=l++,p=l++,m=l++,y=l++,v=l++,g=l++,b=l++,w=l++,_=l++,k=l++,S=l++,E=l++,M=l++,A=l++,x=l++,B=l++,C=l++,I=l++,T=l++,P=l++,N=l,R=f,L=a,O="",j=!1,D=!1,U=d,F=[],q=null,K=0,z=0,V=0,H=0,G=1;function $(t){L!==a&&(s(L),u(),L=a),e=i(t+"\nLn: "+G+"\nCol: "+H+"\nChr: "+r),c(dt(a,a,e))}function W(t){return"\r"==t||"\n"==t||" "==t||"\t"==t}t(st).on(function(t){if(e)return;if(D)return $("Cannot write after close");var i=0;r=t[0];for(;r&&(n=r,r=t[i++]);)switch(V++,"\n"==r?(G++,H=0):H++,U){case d:if("{"===r)U=m;else if("["===r)U=v;else if(!W(r))return $("Non-whitespace before {[.");continue;case w:case m:if(W(r))continue;if(U===w)F.push(_);else{if("}"===r){s({}),u(),U=F.pop()||p;continue}F.push(y)}if('"'!==r)return $('Malformed object key should start with " ');U=b;continue;case _:case y:if(W(r))continue;if(":"===r)U===y?(F.push(y),L!==a&&(s({}),o(L),L=a),z++):L!==a&&(o(L),L=a),U=p;else if("}"===r)L!==a&&(s(L),u(),L=a),u(),z--,U=F.pop()||p;else{if(","!==r)return $("Bad object");U===y&&F.push(y),L!==a&&(s(L),u(),L=a),U=w}continue;case v:case p:if(W(r))continue;if(U===v){if(s([]),z++,U=p,"]"===r){u(),z--,U=F.pop()||p;continue}F.push(g)}if('"'===r)U=b;else if("{"===r)U=m;else if("["===r)U=v;else if("t"===r)U=k;else if("f"===r)U=M;else if("n"===r)U=C;else if("-"===r)O+=r;else if("0"===r)O+=r,U=N;else{if(-1==="123456789".indexOf(r))return $("Bad value");O+=r,U=N}continue;case g:if(","===r)F.push(g),L!==a&&(s(L),u(),L=a),U=p;else{if("]"!==r){if(W(r))continue;return $("Bad array")}L!==a&&(s(L),u(),L=a),u(),z--,U=F.pop()||p}continue;case b:L===a&&(L="");var c=i-1;t:for(;;){for(;K>0;)if(q+=r,r=t.charAt(i++),4===K?(L+=String.fromCharCode(parseInt(q,16)),K=0,c=i-1):K++,!r)break t;if('"'===r&&!j){U=F.pop()||p,L+=t.substring(c,i-1);break}if(!("\\"!==r||j||(j=!0,L+=t.substring(c,i-1),r=t.charAt(i++))))break;if(j){if(j=!1,"n"===r?L+="\n":"r"===r?L+="\r":"t"===r?L+="\t":"f"===r?L+="\f":"b"===r?L+="\b":"u"===r?(K=1,q=""):L+=r,r=t.charAt(i++),c=i-1,r)continue;break}h.lastIndex=i;var l=h.exec(t);if(!l){i=t.length+1,L+=t.substring(c,i-1);break}if(i=l.index+1,!(r=t.charAt(l.index))){L+=t.substring(c,i-1);break}}continue;case k:if(!r)continue;if("r"!==r)return $("Invalid true started with t"+r);U=S;continue;case S:if(!r)continue;if("u"!==r)return $("Invalid true started with tr"+r);U=E;continue;case E:if(!r)continue;if("e"!==r)return $("Invalid true started with tru"+r);s(!0),u(),U=F.pop()||p;continue;case M:if(!r)continue;if("a"!==r)return $("Invalid false started with f"+r);U=A;continue;case A:if(!r)continue;if("l"!==r)return $("Invalid false started with fa"+r);U=x;continue;case x:if(!r)continue;if("s"!==r)return $("Invalid false started with fal"+r);U=B;continue;case B:if(!r)continue;if("e"!==r)return $("Invalid false started with fals"+r);s(!1),u(),U=F.pop()||p;continue;case C:if(!r)continue;if("u"!==r)return $("Invalid null started with n"+r);U=I;continue;case I:if(!r)continue;if("l"!==r)return $("Invalid null started with nu"+r);U=T;continue;case T:if(!r)continue;if("l"!==r)return $("Invalid null started with nul"+r);s(null),u(),U=F.pop()||p;continue;case P:if("."!==r)return $("Leading zero not followed by .");O+=r,U=N;continue;case N:if(-1!=="0123456789".indexOf(r))O+=r;else if("."===r){if(-1!==O.indexOf("."))return $("Invalid number has two dots");O+=r}else if("e"===r||"E"===r){if(-1!==O.indexOf("e")||-1!==O.indexOf("E"))return $("Invalid number has two exponential");O+=r}else if("+"===r||"-"===r){if("e"!==n&&"E"!==n)return $("Invalid symbol in number");O+=r}else O&&(s(parseFloat(O)),u(),O=""),i--,U=F.pop()||p;continue;default:return $("Unknown state: "+U)}V>=R&&(Y=0,L!==a&&L.length>f&&($("Max buffer length exceeded: textNode"),Y=Math.max(Y,L.length)),O.length>f&&($("Max buffer length exceeded: numberNode"),Y=Math.max(Y,O.length)),R=f-Y+V);var Y}),t(ut).on(function(){if(U==d)return s({}),u(),void(D=!0);U===p&&0===z||$("Unexpected end");L!==a&&(s(L),u(),L=a);D=!0})}var N,R,L,O,j,D,U,F,q,K,z,V=(N=l(function(t){return t.unshift(/^/),(e=RegExp(t.map(c("source")).join(""))).exec.bind(e);var e}),O=N(R=/(\$?)/,/([\w-_]+|\*)/,L=/(?:{([\w ]*?)})?/),j=N(R,/\["([^"]+)"\]/,L),D=N(R,/\[(\d+|\*)\]/,L),U=N(R,/()/,/{([\w ]*?)}/),F=N(/\.\./),q=N(/\./),K=N(R,/!/),z=N(/$/),function(t){return t(f(O,j,D,U),F,q,K,z)});function H(t,e){return{key:t,node:e}}var G=c("key"),$=c("node"),W={};function Y(t){var e=t(J).emit,r=t(tt).emit,i=t(ot).emit,o=t(it).emit;function a(t,e,r){$(S(t))[e]=r}function s(t,r,n){t&&a(t,r,n);var i=_(H(r,n),t);return e(i),i}var u={};return u[ht]=function(t,e){if(!t)return i(e),s(t,W,e);var r=function(t,e){var r=$(S(t));return y(n,r)?s(t,v(r),e):t}(t,e),o=E(r),u=G(S(r));return a(o,u,e),_(H(u,e),o)},u[lt]=function(t){return r(t),E(t)||o($(S(t)))},u[ft]=s,u}var Z=V(function(t,e,r,n,o){var a=1,c=2,h=3,l=u(G,S),p=u($,S);function y(t,e){return!!e[a]?d(t,S):t}function g(t){if(t==m)return m;return d(function(t){return l(t)!=W},u(t,E))}function b(){return function(t){return l(t)==W}}function _(t,e,r,n,i){var o=t(r);if(o){var a=function(t,e,r){return C(function(t,e){return e(t,r)},e,t)}(e,n,o);return i(r.substr(v(o[0])),a)}}function k(t,e){return s(_,t,e)}var x=f(k(t,A(y,function(t,e){var r=e[h];return r?d(u(s(w,M(r.split(/\W+/))),p),t):t},function(t,e){var r=e[c];return d(r&&"*"!=r?function(t){return l(t)==r}:m,t)},g)),k(e,A(function(t){if(t==m)return m;var e=b(),r=t,n=g(function(t){return i(t)}),i=f(e,r,n);return i})),k(r,A()),k(n,A(y,b)),k(o,A(function(t){return function(e){var r=t(e);return!0===r?S(e):r}})),function(t){throw i('"'+t+'" could not be tokenised')});function B(t,e){return e}function I(t,e){return x(t,e,t?I:B)}return function(t){try{return I(t,m)}catch(e){throw i('Could not compile "'+t+'" because '+e.message)}}});function Q(t,e,r){var n,i;function o(t){return function(e){return e.id==t}}return{on:function(r,o){var a={listener:r,id:o||r};return e&&e.emit(t,r,a.id),n=_(a,n),i=_(r,i),this},emit:function(){!function t(e,r){e&&(S(e).apply(null,r),t(E(e),r))}(i,arguments)},un:function(e){var a;n=I(n,o(e),function(t){a=t}),a&&(i=I(i,function(t){return t==a.listener}),r&&r.emit(t,a.listener,a.id))},listeners:function(){return i},hasListener:function(t){return b(function t(e,r){return r&&(e(S(r))?S(r):t(e,E(r)))}(t?o(t):m,n))}}}var X=1,J=X++,tt=X++,et=X++,rt=X++,nt="fail",it=X++,ot=X++,at="start",st="data",ut="end",ct=X++,ft=X++,ht=X++,lt=X++;function dt(t,e,r){try{var n=o.parse(e)}catch(t){}return{statusCode:t,body:e,jsonBody:n,thrown:r}}function pt(t,e){var r={node:t(tt),path:t(J)};function n(e,r,n){var i=t(e).emit;r.on(function(t){var e=n(t);!1!==e&&function(t,e,r){var n=T(r);t(e,x(E(B(G,n))),x(B($,n)))}(i,$(e),t)},e),t("removeListener").on(function(n){n==e&&(t(n).listeners()||r.un(e))})}t("newListener").on(function(t){var i=/(node|path):(.*)/.exec(t);if(i){var o=r[i[1]];o.hasListener(t)||n(t,o,e(i[2]))}})}function mt(t,e){var r,n=/^(node|path):./,i=t(it),o=t(rt).emit,a=t(et).emit,u=l(function(e,i){if(r[e])h(i,r[e]);else{var o=t(e),a=i[0];n.test(e)?c(o,a):o.on(a)}return r});function c(t,e,n){n=n||e;var i=f(e);return t.on(function(){var e=!1;r.forget=function(){e=!0},h(arguments,i),delete r.forget,e&&t.un(n)},n),r}function f(t){return function(){try{return t.apply(r,arguments)}catch(t){setTimeout(function(){throw t})}}}function d(e,r,n){var i;i="node"==e?function(t){return function(){var e=t.apply(this,arguments);b(e)&&(e==gt.drop?o():a(e))}}(n):n,c(function(e,r){return t(e+":"+r)}(e,r),i,n)}function m(t,e,n){return g(e)?d(t,e,n):function(t,e){for(var r in e)d(t,r,e[r])}(t,e),r}return t(ot).on(function(t){var e;r.root=(e=t,function(){return e})}),t(at).on(function(t,e){r.header=function(t){return t?e[t]:e}}),r={on:u,addListener:u,removeListener:function(e,n,o){if("done"==e)i.un(n);else if("node"==e||"path"==e)t.un(e+":"+n,o);else{var a=n;t(e).un(a)}return r},emit:t.emit,node:s(m,"node"),path:s(m,"path"),done:s(c,i),start:s(function(e,n){return t(e).on(f(n),n),r},at),fail:t(nt).on,abort:t(ct).emit,header:p,root:p,source:e}}function yt(t,r,n,i,o){var u=function(){var t={},e=n("newListener"),r=n("removeListener");function n(n){return t[n]=Q(n,e,r)}function i(e){return t[e]||n(e)}return["emit","on","un"].forEach(function(t){i[t]=l(function(e,r){h(r,i(e)[t])})}),i}();return r&&function(t,r,n,i,o,u,c){var f=t(st).emit,h=t(nt).emit,l=0,d=!0;function p(){var t=r.responseText,e=t.substr(l);e&&f(e),l=v(t)}t(ct).on(function(){r.onreadystatechange=null,r.abort()}),"onprogress"in r&&(r.onprogress=p),r.onreadystatechange=function(){function e(){try{d&&t(at).emit(r.status,(e=r.getAllResponseHeaders(),n={},e&&e.split("\r\n").forEach(function(t){var e=t.indexOf(": ");n[t.substring(0,e)]=t.substring(e+2)}),n)),d=!1}catch(t){}var e,n}switch(r.readyState){case 2:case 3:return e();case 4:e(),2==String(r.status)[0]?(p(),t(ut).emit()):h(dt(r.status,r.responseText))}};try{for(var m in r.open(n,i,!0),u)r.setRequestHeader(m,u[m]);(function(t,e){function r(e){return e.port||{"http:":80,"https:":443}[e.protocol||t.protocol]}return!!(e.protocol&&e.protocol!=t.protocol||e.host&&e.host!=t.host||e.host&&r(e)!=r(t))})(e.location,function(t){var e=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(t)||[];return{protocol:e[1]||"",host:e[2]||"",port:e[3]||""}}(i))||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=c,r.send(o)}catch(t){e.setTimeout(s(h,dt(a,a,t)),0)}}(u,new XMLHttpRequest,t,r,n,i,o),P(u),function(t,e){var r,n={};function i(t){return function(e){r=t(r,e)}}for(var o in e)t(o).on(i(e[o]),n);t(et).on(function(t){var e=S(r),n=G(e),i=E(r);i&&($(S(i))[n]=t)}),t(rt).on(function(){var t=S(r),e=G(t),n=E(r);n&&delete $(S(n))[e]}),t(ct).on(function(){for(var r in e)t(r).un(n)})}(u,Y(u)),pt(u,Z),mt(u,r)}function vt(t,e,r,n,i,a,s){return i=i?o.parse(o.stringify(i)):{},n?g(n)||(n=o.stringify(n),i["Content-Type"]=i["Content-Type"]||"application/json"):n=null,t(r||"GET",function(t,e){return!1===e&&(-1==t.indexOf("?")?t+="?":t+="&",t+="_="+(new Date).getTime()),t}(e,s),n,i,a||!1)}function gt(t){var e=A("resume","pause","pipe"),r=s(w,e);return t?r(t)||g(t)?vt(yt,t):vt(yt,t.url,t.method,t.body,t.headers,t.withCredentials,t.cached):yt()}gt.drop=function(){return gt.drop},"function"==typeof a&&a.amd?a("oboe",[],function(){return gt}):t.exports=gt}(function(){try{return window}catch(t){return self}}(),Object,Array,Error,JSON)}),Ge=ee.errors,$e=function(t,e){var r=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=t,this.connection=e.connect({path:this.path}),this.addDefaultEvents();var n=function(t){var e=null;rt.isArray(t)?t.forEach(function(t){r.responseCallbacks[t.id]&&(e=t.id)}):e=t.id,e||-1===t.method.indexOf("_subscription")?r.responseCallbacks[e]&&(r.responseCallbacks[e](null,t),delete r.responseCallbacks[e]):r.notificationCallbacks.forEach(function(e){rt.isFunction(e)&&e(t)})};"Socket"===e.constructor.name?He(this.connection).done(n):this.connection.on("data",function(t){r._parseResponse(t.toString()).forEach(n)})};$e.prototype.addDefaultEvents=function(){var t=this;this.connection.on("connect",function(){}),this.connection.on("error",function(){t._timeout()}),this.connection.on("end",function(){t._timeout()}),this.connection.on("timeout",function(){t._timeout()})},$e.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(r){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),Ge.InvalidResponse(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)}),r},$e.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n},$e.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](Ge.InvalidConnection("on IPC")),delete this.responseCallbacks[t])},$e.prototype.reconnect=function(){this.connection.connect({path:this.path})},$e.prototype.send=function(t,e){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(t)),this._addResponseCallback(t,e)},$e.prototype.on=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");switch(t){case"data":this.notificationCallbacks.push(e);break;default:this.connection.on(t,e)}},$e.prototype.once=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");this.connection.once(t,e)},$e.prototype.removeListener=function(t,e){var r=this;switch(t){case"data":this.notificationCallbacks.forEach(function(t,n){t===e&&r.notificationCallbacks.splice(n,1)});break;default:this.connection.removeListener(t,e)}},$e.prototype.removeAllListeners=function(t){switch(t){case"data":this.notificationCallbacks=[];break;default:this.connection.removeAllListeners(t)}},$e.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()};var We=$e,Ye=ee.errors,Ze=function t(e){this.provider=null,this.providers=t.providers,this.setProvider(e),this.subscriptions={}};Ze.givenProvider=ce,Ze.providers={WebsocketProvider:Fe,HttpProvider:Ve,IpcProvider:We},Ze.prototype.setProvider=function(t,e){var r=this;if(t&&"string"==typeof t&&this.providers)if(/^http(s)?:\/\//i.test(t))t=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))t=new this.providers.WebsocketProvider(t);else if(t&&"object"==typeof e&&"function"==typeof e.connect)t=new this.providers.IpcProvider(t,e);else if(t)throw new Error("Can't autodetect provider for \""+t+'"');this.provider&&this.clearSubscriptions(),this.provider=t||null,this.provider&&this.provider.on&&this.provider.on("data",function(t,e){(t=t||e).method&&r.subscriptions[t.params.subscription]&&r.subscriptions[t.params.subscription].callback&&r.subscriptions[t.params.subscription].callback(null,t.params.result)})},Ze.prototype.send=function(t,e){if(e=e||function(){},!this.provider)return e(Ye.InvalidProvider());var r=ne.toPayload(t.method,t.params);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,function(t,n){return n&&n.id&&r.id!==n.id?e(new Error('Wrong response id "'+n.id+'" (expected: "'+r.id+'") in '+JSON.stringify(r))):t?e(t):n&&n.error?e(Ye.ErrorResponse(n)):ne.isValidResponse(n)?void e(null,n.result):e(Ye.InvalidResponse(n))})},Ze.prototype.sendBatch=function(t,e){if(!this.provider)return e(Ye.InvalidProvider());var r=ne.toBatchPayload(t);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,function(t,r){return t?e(t):rt.isArray(r)?void e(null,r):e(Ye.InvalidResponse(r))})},Ze.prototype.addSubscription=function(t,e,r,n){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions[t]={callback:n,type:r,name:e}},Ze.prototype.removeSubscription=function(t,e){this.subscriptions[t]&&(this.send({method:this.subscriptions[t].type+"_unsubscribe",params:[t]},e),delete this.subscriptions[t])},Ze.prototype.clearSubscriptions=function(t){var e=this;Object.keys(this.subscriptions).forEach(function(r){t&&"syncing"===e.subscriptions[r].name||e.removeSubscription(r)}),this.provider.reset&&this.provider.reset()};var Qe={Manager:Ze,BatchManager:ae},Xe=et(function(t){var e="function"!=typeof Object.create&&"~";function r(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function n(){}n.prototype._events=void 0,n.prototype.listeners=function(t,r){var n=e?e+t:t,i=this._events&&this._events[n];if(r)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},n.prototype.emit=function(t,r,n,i,o,a){var s=e?e+t:t;if(!this._events||!this._events[s])return!1;var u,c,f=this._events[s],h=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),h){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,r),!0;case 3:return f.fn.call(f.context,r,n),!0;case 4:return f.fn.call(f.context,r,n,i),!0;case 5:return f.fn.call(f.context,r,n,i,o),!0;case 6:return f.fn.call(f.context,r,n,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var l,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),h){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,r);break;case 3:f[c].fn.call(f[c].context,r,n);break;default:if(!u)for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];f[c].fn.apply(f[c].context,u)}}return!0},n.prototype.on=function(t,n,i){var o=new r(n,i||this),a=e?e+t:t;return this._events||(this._events=e?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},n.prototype.once=function(t,n,i){var o=new r(n,i||this,!0),a=e?e+t:t;return this._events||(this._events=e?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},n.prototype.removeListener=function(t,r,n,i){var o=e?e+t:t;if(!this._events||!this._events[o])return this;var a=this._events[o],s=[];if(r)if(a.fn)(a.fn!==r||i&&!a.once||n&&a.context!==n)&&s.push(a);else for(var u=0,c=a.length;u<c;u++)(a[u].fn!==r||i&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);return s.length?this._events[o]=1===s.length?s[0]:s:delete this._events[o],this},n.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[e?e+t:t]:this._events=e?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=e,t.exports=n}),Je=null;var tr=function(t,e){return function(r,n){r=r||null;var i=!1!==(n=n||{}).global;if(null===Je&&i&&(Je=t["@@any-promise/REGISTRATION"]||null),null!==Je&&null!==r&&Je.implementation!==r)throw new Error('any-promise already defined as "'+Je.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===Je&&(Je=null!==r&&void 0!==n.Promise?{Promise:n.Promise,implementation:r}:e(r),i&&(t["@@any-promise/REGISTRATION"]=Je)),Je}}(window,function(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}})().Promise,er=function(t){var e,r,n=new tr(function(){e=arguments[0],r=arguments[1]});if(t)return{resolve:e,reject:r,eventEmitter:n};var i=new Xe;return n._events=i._events,n.emit=i.emit,n.on=i.on,n.once=i.once,n.off=i.off,n.listeners=i.listeners,n.addListener=i.addListener,n.removeListener=i.removeListener,n.removeAllListeners=i.removeAllListeners,{resolve:e,reject:r,eventEmitter:n}};er.resolve=function(t){var e=er(!0);return e.resolve(t),e.eventEmitter};var rr=er,nr=et(function(t){var e="function"!=typeof Object.create&&"~";function r(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function n(){}n.prototype._events=void 0,n.prototype.listeners=function(t,r){var n=e?e+t:t,i=this._events&&this._events[n];if(r)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},n.prototype.emit=function(t,r,n,i,o,a){var s=e?e+t:t;if(!this._events||!this._events[s])return!1;var u,c,f=this._events[s],h=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),h){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,r),!0;case 3:return f.fn.call(f.context,r,n),!0;case 4:return f.fn.call(f.context,r,n,i),!0;case 5:return f.fn.call(f.context,r,n,i,o),!0;case 6:return f.fn.call(f.context,r,n,i,o,a),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var l,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),h){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,r);break;case 3:f[c].fn.call(f[c].context,r,n);break;default:if(!u)for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];f[c].fn.apply(f[c].context,u)}}return!0},n.prototype.on=function(t,n,i){var o=new r(n,i||this),a=e?e+t:t;return this._events||(this._events=e?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},n.prototype.once=function(t,n,i){var o=new r(n,i||this,!0),a=e?e+t:t;return this._events||(this._events=e?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):this._events[a]=o,this},n.prototype.removeListener=function(t,r,n,i){var o=e?e+t:t;if(!this._events||!this._events[o])return this;var a=this._events[o],s=[];if(r)if(a.fn)(a.fn!==r||i&&!a.once||n&&a.context!==n)&&s.push(a);else for(var u=0,c=a.length;u<c;u++)(a[u].fn!==r||i&&!a[u].once||n&&a[u].context!==n)&&s.push(a[u]);return s.length?this._events[o]=1===s.length?s[0]:s:delete this._events[o],this},n.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[e?e+t:t]:this._events=e?{}:Object.create(null),this):this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prototype.setMaxListeners=function(){return this},n.prefixed=e,t.exports=n}),ir=ee.errors;function or(t){nr.call(this),this.id=null,this.callback=null,this.arguments=null,this._reconnectIntervalId=null,this.options={subscription:t.subscription,type:t.type,requestManager:t.requestManager}}or.prototype=Object.create(nr.prototype),or.prototype.constructor=or,or.prototype._extractCallback=function(t){if(rt.isFunction(t[t.length-1]))return t.pop()},or.prototype._validateArgs=function(t){var e=this.options.subscription;if(e||(e={}),e.params||(e.params=0),t.length!==e.params)throw ir.InvalidNumberOfParams(t.length,e.params+1,t[0])},or.prototype._formatInput=function(t){var e=this.options.subscription;return e&&e.inputFormatter?e.inputFormatter.map(function(e,r){return e?e(t[r]):t[r]}):t},or.prototype._formatOutput=function(t){var e=this.options.subscription;return e&&e.outputFormatter&&t?e.outputFormatter(t):t},or.prototype._toPayload=function(t){var e=[];if(this.callback=this._extractCallback(t),this.subscriptionMethod||(this.subscriptionMethod=t.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(t),this._validateArgs(this.arguments),t=[]),e.push(this.subscriptionMethod),e=e.concat(this.arguments),t.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:e}},or.prototype.unsubscribe=function(t){this.options.requestManager.removeSubscription(this.id,t),this.id=null,this.removeAllListeners(),clearInterval(this._reconnectIntervalId)},or.prototype.subscribe=function(){var t=this,e=Array.prototype.slice.call(arguments),r=this._toPayload(e);if(!r)return this;if(!this.options.requestManager.provider){var n=new Error("No provider set.");return this.callback(n,null,this),this.emit("error",n),this}if(!this.options.requestManager.provider.on){var i=new Error("The current provider doesn't support subscriptions: "+this.options.requestManager.provider.constructor.name);return this.callback(i,null,this),this.emit("error",i),this}return this.id&&this.unsubscribe(),this.options.params=r.params[1],"logs"===r.params[0]&&rt.isObject(r.params[1])&&r.params[1].hasOwnProperty("fromBlock")&&isFinite(r.params[1].fromBlock)&&this.options.requestManager.send({method:"eth_getLogs",params:[r.params[1]]},function(e,r){e?(t.callback(e,null,t),t.emit("error",e)):r.forEach(function(e){var r=t._formatOutput(e);t.callback(null,r,t),t.emit("data",r)})}),"object"==typeof r.params[1]&&delete r.params[1].fromBlock,this.options.requestManager.send(r,function(e,n){!e&&n?(t.id=n,t.options.requestManager.addSubscription(t.id,r.params[0],t.options.type,function(e,r){e?(t.options.requestManager.removeSubscription(t.id),t.options.requestManager.provider.once&&(t._reconnectIntervalId=setInterval(function(){t.options.requestManager.provider.reconnect&&t.options.requestManager.provider.reconnect()},500),t.options.requestManager.provider.once("connect",function(){clearInterval(t._reconnectIntervalId),t.subscribe(t.callback)})),t.emit("error",e),rt.isFunction(t.callback)&&t.callback(e,null,t)):(rt.isArray(r)||(r=[r]),r.forEach(function(e){var r=t._formatOutput(e);if(rt.isFunction(t.options.subscription.subscriptionHandler))return t.options.subscription.subscriptionHandler.call(t,r);t.emit("data",r),rt.isFunction(t.callback)&&t.callback(null,r,t)}))})):rt.isFunction(t.callback)?(t.callback(e,null,t),t.emit("error",e)):t.emit("error",e)}),this};var ar=or,sr=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};sr.prototype.setRequestManager=function(t){this.requestManager=t},sr.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},sr.prototype.buildCall=function(){var t=this;return function(){t.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var e=new ar({subscription:t.subscriptions[arguments[0]],requestManager:t.requestManager,type:t.type});return e.subscribe.apply(e,arguments)}};var ur={subscriptions:sr,subscription:ar},cr=ee.errors,fr=ee.formatters,hr=ur.subscriptions,lr=function(t){if(!t.call||!t.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.transformPayload=t.transformPayload,this.extraFormatters=t.extraFormatters,this.requestManager=t.requestManager,this.accounts=t.accounts,this.defaultBlock=t.defaultBlock||"latest",this.defaultAccount=t.defaultAccount||null};lr.prototype.setRequestManager=function(t,e){this.requestManager=t,e&&(this.accounts=e)},lr.prototype.createFunction=function(t,e){var r=this.buildCall();return r.call=this.call,this.setRequestManager(t||this.requestManager,e||this.accounts),r},lr.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},lr.prototype.getCall=function(t){return rt.isFunction(this.call)?this.call(t):this.call},lr.prototype.extractCallback=function(t){if(rt.isFunction(t[t.length-1]))return t.pop()},lr.prototype.validateArgs=function(t){if(t.length!==this.params)throw cr.InvalidNumberOfParams(t.length,this.params,this.name)},lr.prototype.formatInput=function(t){var e=this;return this.inputFormatter?this.inputFormatter.map(function(r,n){return r?r.call(e,t[n]):t[n]}):t},lr.prototype.formatOutput=function(t){var e=this;return rt.isArray(t)?t.map(function(t){return e.outputFormatter&&t?e.outputFormatter(t):t}):this.outputFormatter&&t?this.outputFormatter(t):t},lr.prototype.toPayload=function(t){var e=this.getCall(t),r=this.extractCallback(t),n=this.formatInput(t);this.validateArgs(n);var i={method:e,params:n,callback:r};return this.transformPayload&&(i=this.transformPayload(i)),i},lr.prototype._confirmTransaction=function(t,e,r){var n=this,i=!1,o=!0,a=0,s=0,u=null,c=rt.isObject(r.params[0])&&r.params[0].gas?r.params[0].gas:null,f=rt.isObject(r.params[0])&&r.params[0].data&&r.params[0].from&&!r.params[0].to,h=[new lr({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:fr.outputTransactionReceiptFormatter}),new lr({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[fr.inputAddressFormatter,fr.inputDefaultBlockNumberFormatter]}),new hr({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:fr.outputBlockFormatter}}})],l={};rt.each(h,function(t){t.attachToObject(l),t.requestManager=n.requestManager});var d=function(r,h,d,p,m){if(!d)return m||(m={unsubscribe:function(){clearInterval(u)}}),(r?rr.resolve(r):l.getTransactionReceipt(e)).catch(function(e){m.unsubscribe(),i=!0,zt._fireError({message:"Failed to check for transaction receipt:",data:e},t.eventEmitter,t.reject)}).then(function(e){if(!e||!e.blockHash)throw new Error("Receipt missing or blockHash null");return n.extraFormatters&&n.extraFormatters.receiptFormatter&&(e=n.extraFormatters.receiptFormatter(e)),t.eventEmitter.listeners("confirmation").length>0&&(void 0!==r&&0===s||t.eventEmitter.emit("confirmation",s,e),o=!1,25===++s&&(m.unsubscribe(),t.eventEmitter.removeAllListeners())),e}).then(function(e){if(f&&!i){if(!e.contractAddress)return o&&(m.unsubscribe(),i=!0),void zt._fireError(new Error("The transaction receipt didn't contain a contract address."),t.eventEmitter,t.reject);l.getCode(e.contractAddress,function(r,a){a&&(a.length>2?(t.eventEmitter.emit("receipt",e),n.extraFormatters&&n.extraFormatters.contractDeployFormatter?t.resolve(n.extraFormatters.contractDeployFormatter(e)):t.resolve(e),o&&t.eventEmitter.removeAllListeners()):zt._fireError(new Error("The contract code couldn't be stored, please check your gas limit."),t.eventEmitter,t.reject),o&&m.unsubscribe(),i=!0)})}return e}).then(function(e){f||i||(e.outOfGas||c&&c===e.gasUsed?(e&&(e=JSON.stringify(e,null,2)),zt._fireError(new Error("Transaction ran out of gas. Please provide more gas:\n"+e),t.eventEmitter,t.reject)):(t.eventEmitter.emit("receipt",e),t.resolve(e),o&&t.eventEmitter.removeAllListeners()),o&&m.unsubscribe(),i=!0)}).catch(function(){a++,h?a-1>=750&&(m.unsubscribe(),i=!0,zt._fireError(new Error("Transaction was not mined within750 seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject)):a-1>=50&&(m.unsubscribe(),i=!0,zt._fireError(new Error("Transaction was not mined within 50 blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject))});m.unsubscribe(),i=!0,zt._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:d},t.eventEmitter,t.reject)},p=function(t){rt.isFunction(this.requestManager.provider.on)?l.subscribe("newBlockHeaders",d.bind(null,t,!1)):u=setInterval(d.bind(null,t,!0),1e3)}.bind(this);l.getTransactionReceipt(e).then(function(e){e&&e.blockHash?(t.eventEmitter.listeners("confirmation").length>0&&p(e),d(e,!1)):i||p()}).catch(function(){i||p()})};var dr=function(t,e){return rt.isNumber(t)?e.wallet[t]:rt.isObject(t)&&t.address&&t.privateKey?t:e.wallet[t.toLowerCase()]};lr.prototype.buildCall=function(){var t=this,e="eth_sendTransaction"===t.call||"eth_sendRawTransaction"===t.call,r=function(){var r=rr(!e),n=t.toPayload(Array.prototype.slice.call(arguments)),i=function(i,o){try{o=t.formatOutput(o)}catch(t){i=t}if(o instanceof Error&&(i=o),i)return i.error&&(i=i.error),zt._fireError(i,r.eventEmitter,r.reject,n.callback);n.callback&&n.callback(null,o),e?(r.eventEmitter.emit("transactionHash",o),t._confirmTransaction(r,o,n)):i||r.resolve(o)},o=function(e){var r=rt.extend({},n,{method:"eth_sendRawTransaction",params:[e.rawTransaction]});t.requestManager.send(r,i)},a=function(t,e){var n;if(e&&e.accounts&&e.accounts.wallet&&e.accounts.wallet.length)if("eth_sendTransaction"===t.method){var a=t.params[0];if((n=dr(rt.isObject(a)?a.from:null,e.accounts))&&n.privateKey)return e.accounts.signTransaction(rt.omit(a,"from"),n.privateKey).then(o)}else if("eth_sign"===t.method){var s=t.params[1];if((n=dr(t.params[0],e.accounts))&&n.privateKey){var u=e.accounts.sign(s,n.privateKey);return t.callback&&t.callback(null,u.signature),void r.resolve(u.signature)}}return e.requestManager.send(t,i)};e&&rt.isObject(n.params[0])&&!n.params[0].gasPrice?new lr({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(t.requestManager)(function(e,r){r&&(n.params[0].gasPrice=r),a(n,t)}):a(n,t);return r.eventEmitter};return r.method=t,r.request=this.request.bind(this),r},lr.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t};var pr=lr,mr=ee.formatters,yr=function(t){var e=function(e){var r;return e.property?(t[e.property]||(t[e.property]={}),r=t[e.property]):r=t,e.methods&&e.methods.forEach(function(e){e instanceof pr||(e=new pr(e)),e.attachToObject(r),e.setRequestManager(t._requestManager)}),t};return e.formatters=mr,e.utils=zt,e.Method=pr,e},vr=function(t,e){if(e=Array.prototype.slice.call(e),!t)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(t,"currentProvider",{get:function(){return t._provider},set:function(e){return t.setProvider(e)},enumerable:!0,configurable:!0}),e[0]&&e[0]._requestManager?t._requestManager=new Qe.Manager(e[0].currentProvider):(t._requestManager=new Qe.Manager,t._requestManager.setProvider(e[0],e[1])),t.givenProvider=Qe.Manager.givenProvider,t.providers=Qe.Manager.providers,t._provider=t._requestManager.provider,t.setProvider||(t.setProvider=function(e,r){return t._requestManager.setProvider(e,r),t._provider=t._requestManager.provider,!0}),t.BatchRequest=Qe.BatchManager.bind(null,t._requestManager),t.extend=yr(t)},gr=function(t){t.givenProvider=Qe.Manager.givenProvider,t.providers=Qe.Manager.providers},br=function(){var t=this;vr(this,arguments),[new pr({name:"getId",call:"net_version",params:0,outputFormatter:zt.hexToNumber}),new pr({name:"isListening",call:"net_listening",params:0}),new pr({name:"getPeerCount",call:"net_peerCount",params:0,outputFormatter:zt.hexToNumber})].forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})};gr(br);var wr=br,_r=ee.formatters,kr=function(){var t=this;vr(this,arguments),this.net=new wr(this.currentProvider);var e=null,r="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return e},set:function(t){return t&&(e=zt.toChecksumAddress(_r.inputAddressFormatter(t))),n.forEach(function(t){t.defaultAccount=e}),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return r},set:function(t){return r=t,n.forEach(function(t){t.defaultBlock=r}),t},enumerable:!0});var n=[new pr({name:"getAccounts",call:"personal_listAccounts",params:0,outputFormatter:zt.toChecksumAddress}),new pr({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:zt.toChecksumAddress}),new pr({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[_r.inputAddressFormatter,null,null]}),new pr({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[_r.inputAddressFormatter]}),new pr({name:"importRawKey",call:"personal_importRawKey",params:2}),new pr({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[_r.inputTransactionFormatter,null]}),new pr({name:"signTransaction",call:"personal_signTransaction",params:2,inputFormatter:[_r.inputTransactionFormatter,null]}),new pr({name:"sign",call:"personal_sign",params:3,inputFormatter:[_r.inputSignFormatter,_r.inputAddressFormatter,null]}),new pr({name:"ecRecover",call:"personal_ecRecover",params:2,inputFormatter:[_r.inputSignFormatter,null]})];n.forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager),e.defaultBlock=t.defaultBlock,e.defaultAccount=t.defaultAccount})};gr(kr);var Sr=kr,Er=et(function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=J().Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;f+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(t=t||10,e=0|e||1,16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],h=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,f=0|a[0],h=8191&f,l=f>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,_=b>>>13,k=0|a[4],S=8191&k,E=k>>>13,M=0|a[5],A=8191&M,x=M>>>13,B=0|a[6],C=8191&B,I=B>>>13,T=0|a[7],P=8191&T,N=T>>>13,R=0|a[8],L=8191&R,O=R>>>13,j=0|a[9],D=8191&j,U=j>>>13,F=0|s[0],q=8191&F,K=F>>>13,z=0|s[1],V=8191&z,H=z>>>13,G=0|s[2],$=8191&G,W=G>>>13,Y=0|s[3],Z=8191&Y,Q=Y>>>13,X=0|s[4],J=8191&X,tt=X>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ft=0|s[8],ht=8191&ft,lt=ft>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,K))+Math.imul(l,q)|0))<<13)|0;c=((o=Math.imul(l,K))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(m,q)|0,o=Math.imul(m,K);var vt=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(l,V)|0))<<13)|0;c=((o=o+Math.imul(l,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(g,q)|0,o=Math.imul(g,K),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0;var gt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(l,$)|0))<<13)|0;c=((o=o+Math.imul(l,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,W)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(l,Z)|0))<<13)|0;c=((o=o+Math.imul(l,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,K))+Math.imul(E,q)|0,o=Math.imul(E,K),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,K))+Math.imul(x,q)|0,o=Math.imul(x,K),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,Q)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,K))+Math.imul(I,q)|0,o=Math.imul(I,K),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,K))+Math.imul(N,q)|0,o=Math.imul(N,K),n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,K))+Math.imul(O,q)|0,o=Math.imul(O,K),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,Q)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul(U,q)|0,o=Math.imul(U,K),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,lt)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(U,V)|0,o=Math.imul(U,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,W))+Math.imul(U,$)|0,o=Math.imul(U,W),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,lt)|0;var xt=(c+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,Q))+Math.imul(U,Z)|0,o=Math.imul(U,Q),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,tt))+Math.imul(U,J)|0,o=Math.imul(U,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,lt)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,lt)|0;var It=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Tt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,lt))+Math.imul(U,ht)|0,o=Math.imul(U,lt);var Nt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=yt,u[1]=vt,u[2]=gt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=Et,u[9]=Mt,u[10]=At,u[11]=xt,u[12]=Bt,u[13]=Ct,u[14]=It,u[15]=Tt,u[16]=Pt,u[17]=Nt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(l=h),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?l(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;s=67108863&(l=l+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},p.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},p.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var h=u,l=c,d=0;d<a;d++){var p=r[f+d],m=n[f+d],y=r[f+d+a],v=n[f+d+a],g=h*y-l*v;v=h*v+l*y,y=g,r[f+d]=p+y,n[f+d]=m+v,r[f+d+a]=p-y,n[f+d+a]=m-v,d!==s&&(g=u*h-c*l,l=u*l+c*h,h=g)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},p.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},p.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,f,h,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(o,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=l)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),h=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(f),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s),a.isub(u)):(n.isub(e),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,l=1;0==(n.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(o=0===e.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(g,y),n(b,y),n(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new g;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();r(y<p);var v=this.pow(h,new i(1).iushln(p-y-1));l=l.redMul(v),h=v.redSqr(),d=d.redMul(h),p=y}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===f)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,X)}),Mr=function(t,e,r){this.value=t||"",this.offset=e,this.rawValue=r};Mr.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},Mr.prototype.withOffset=function(t){return new Mr(this.value,t)},Mr.prototype.combine=function(t){return new Mr(this.value+t.value)},Mr.prototype.isDynamic=function(){return void 0!==this.offset},Mr.prototype.offsetAsBytes=function(){return this.isDynamic()?Br.toTwosComplement(this.offset).replace("0x",""):""},Mr.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},Mr.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},Mr.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},Mr.encodeList=function(t){var e=32*t.length,r=t.map(function(t){if(!t.isDynamic())return t;var r=e;return e+=t.dynamicPartLength(),t.withOffset(r)});return r.reduce(function(t,e){return t+e.dynamicPart()},r.reduce(function(t,e){return t+e.staticPart()},""))};var Ar=Mr,xr=function(t){return rt.isNumber(t)&&(t=Math.trunc(t)),new Ar(zt.toTwosComplement(t).replace("0x",""))},Br={formatInputInt:xr,formatInputBytes:function(t){if(!zt.isHexStrict(t))throw new Error('Given parameter is not bytes: "'+t+'"');var e=t.replace(/^0x/i,"");if(e.length%2!=0)throw new Error('Given parameter bytes has an invalid length: "'+t+'"');if(e.length>64)throw new Error('Given parameter bytes is too long: "'+t+'"');var r=Math.floor((e.length+63)/64);return e=zt.padRight(e,64*r),new Ar(e)},formatInputDynamicBytes:function(t){if(!zt.isHexStrict(t))throw new Error('Given parameter is not bytes: "'+t+'"');var e=t.replace(/^0x/i,"");if(e.length%2!=0)throw new Error('Given parameter bytes has an invalid length: "'+t+'"');var r=e.length/2,n=Math.floor((e.length+63)/64);return e=zt.padRight(e,64*n),new Ar(xr(r).value+e)},formatInputString:function(t){if(!rt.isString(t))throw new Error("Given parameter is not a valid string: "+t);var e=zt.utf8ToHex(t).replace(/^0x/i,""),r=e.length/2,n=Math.floor((e.length+63)/64);return e=zt.padRight(e,64*n),new Ar(xr(r).value+e)},formatInputBool:function(t){return new Ar("000000000000000000000000000000000000000000000000000000000000000"+(t?"1":"0"))},formatOutputInt:function(t){var e=t.staticPart();if(!e&&!t.rawValue)throw new Error("Couldn't decode "+name+" from ABI: 0x"+t.rawValue);return function(t){return"1"===new Er(t.substr(0,1),16).toString(2).substr(0,1)}(e)?new Er(e,16).fromTwos(256).toString(10):new Er(e,16).toString(10)},formatOutputUInt:function(t,e){var r=t.staticPart();if(!r&&!t.rawValue)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue);return new Er(r,16).toString(10)},formatOutputBool:function(t,e){var r=t.staticPart();if(!r&&!t.rawValue)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue);return"0000000000000000000000000000000000000000000000000000000000000001"===r},formatOutputBytes:function(t,e){var r=e.match(/^bytes([0-9]*)/),n=parseInt(r[1]);if(t.staticPart().slice(0,2*n).length!==2*n)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue+" The size doesn't match.");return"0x"+t.staticPart().slice(0,2*n)},formatOutputDynamicBytes:function(t,e){var r=t.dynamicPart().slice(0,64);if(!r)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue);var n=2*new Er(r,16).toNumber();return"0x"+t.dynamicPart().substr(64,n)},formatOutputString:function(t){var e=t.dynamicPart().slice(0,64);if(!e)throw new Error("ERROR: The returned value is not a convertible string:"+e);var r=2*new Er(e,16).toNumber();return r?zt.hexToUtf8("0x"+t.dynamicPart().substr(64,r).replace(/^0x/i,"")):""},formatOutputAddress:function(t,e){var r=t.staticPart();if(!r)throw new Error("Couldn't decode "+e+" from ABI: 0x"+t.rawValue);return zt.toChecksumAddress("0x"+r.slice(r.length-40,r.length))},toTwosComplement:zt.toTwosComplement},Cr=function(t){this._inputFormatter=t.inputFormatter,this._outputFormatter=t.outputFormatter};Cr.prototype.isType=function(t){throw"This method should be overwritten for type "+t},Cr.prototype.staticPartLength=function(t){return(this.nestedTypes(t)||["[1]"]).map(function(t){return parseInt(t.slice(1,-1),10)||1}).reduce(function(t,e){return t*e},32)},Cr.prototype.isDynamicArray=function(t){var e=this.nestedTypes(t);return!!e&&!e[e.length-1].match(/[0-9]{1,}/g)},Cr.prototype.isStaticArray=function(t){var e=this.nestedTypes(t);return!!e&&!!e[e.length-1].match(/[0-9]{1,}/g)},Cr.prototype.staticArrayLength=function(t){var e=this.nestedTypes(t);return e?parseInt(e[e.length-1].match(/[0-9]{1,}/g)||1):1},Cr.prototype.nestedName=function(t){var e=this.nestedTypes(t);return e?t.substr(0,t.length-e[e.length-1].length):t},Cr.prototype.isDynamicType=function(){return!1},Cr.prototype.nestedTypes=function(t){return t.match(/(\[[0-9]*\])/g)},Cr.prototype.encode=function(t,e){var r,n,i,o=this;return this.isDynamicArray(e)?(r=t.length,n=o.nestedName(e),(i=[]).push(Br.formatInputInt(r).encode()),t.forEach(function(t){i.push(o.encode(t,n))}),i):this.isStaticArray(e)?function(){for(var r=o.staticArrayLength(e),n=o.nestedName(e),i=[],a=0;a<r;a++)i.push(o.encode(t[a],n));return i}():this._inputFormatter(t,e).encode()},Cr.prototype.decode=function(t,e,r){var n=this;if(this.isDynamicArray(r))return function(){for(var i=parseInt("0x"+t.substr(2*e,64)),o=parseInt("0x"+t.substr(2*i,64)),a=i+32,s=n.nestedName(r),u=n.staticPartLength(s),c=32*Math.floor((u+31)/32),f=[],h=0;h<o*c;h+=c)f.push(n.decode(t,a+h,s));return f}();if(this.isStaticArray(r))return function(){for(var i=n.staticArrayLength(r),o=e,a=n.nestedName(r),s=n.staticPartLength(a),u=32*Math.floor((s+31)/32),c=[],f=0;f<i*u;f+=u)c.push(n.decode(t,o+f,a));return c}();if(this.isDynamicType(r))return function(){var i=parseInt("0x"+t.substr(2*e,64)),o=parseInt("0x"+t.substr(2*i,64)),a=Math.floor((o+31)/32),s=new Ar(t.substr(2*i,64*(1+a)),0,t);return n._outputFormatter(s,r)}();var i=this.staticPartLength(r),o=new Ar(t.substr(2*e,2*i),void 0,t);return this._outputFormatter(o,r)};var Ir=Cr,Tr=ee.formatters,Pr=function(){this._inputFormatter=function(){var t=Array.prototype.slice.call(arguments);return t[0]=t[0]&&"0x0"!==t[0]?Tr.inputAddressFormatter(t[0]):"",Br.formatInputInt.apply(this,t)},this._outputFormatter=Br.formatOutputAddress};(Pr.prototype=new Ir({})).constructor=Pr,Pr.prototype.isType=function(t){return!!t.match(/address(\[([0-9]*)\])?/)};var Nr=Pr,Rr=function(){this._inputFormatter=Br.formatInputBool,this._outputFormatter=Br.formatOutputBool};(Rr.prototype=new Ir({})).constructor=Rr,Rr.prototype.isType=function(t){return!!t.match(/^bool(\[([0-9]*)\])*$/)};var Lr=Rr,Or=function(){this._inputFormatter=Br.formatInputInt,this._outputFormatter=Br.formatOutputInt};(Or.prototype=new Ir({})).constructor=Or,Or.prototype.isType=function(t){return!!t.match(/^int([0-9]*)?(\[([0-9]*)\])*$/)};var jr=Or,Dr=function(){this._inputFormatter=Br.formatInputInt,this._outputFormatter=Br.formatOutputUInt};(Dr.prototype=new Ir({})).constructor=Dr,Dr.prototype.isType=function(t){return!!t.match(/^uint([0-9]*)?(\[([0-9]*)\])*$/)};var Ur=Dr,Fr=function(){this._inputFormatter=Br.formatInputDynamicBytes,this._outputFormatter=Br.formatOutputDynamicBytes};(Fr.prototype=new Ir({})).constructor=Fr,Fr.prototype.isType=function(t){return!!t.match(/^bytes(\[([0-9]*)\])*$/)},Fr.prototype.isDynamicType=function(){return!0};var qr=Fr,Kr=function(){this._inputFormatter=Br.formatInputString,this._outputFormatter=Br.formatOutputString};(Kr.prototype=new Ir({})).constructor=Kr,Kr.prototype.isType=function(t){return!!t.match(/^string(\[([0-9]*)\])*$/)},Kr.prototype.isDynamicType=function(){return!0};var zr=Kr,Vr=function(){this._inputFormatter=Br.formatInputBytes,this._outputFormatter=Br.formatOutputBytes};(Vr.prototype=new Ir({})).constructor=Vr,Vr.prototype.isType=function(t){return!!t.match(/^bytes([0-9]{1,})(\[([0-9]*)\])*$/)};var Hr=Vr,Gr=function(t,e){return t.isDynamicType(e)||t.isDynamicArray(e)};function $r(){}var Wr=function(t){this._types=t};Wr.prototype._requireType=function(t){var e=this._types.filter(function(e){return e.isType(t)})[0];if(!e)throw Error("Invalid solidity type: "+t);return e},Wr.prototype._getOffsets=function(t,e){for(var r=e.map(function(e,r){return e.staticPartLength(t[r])}),n=1;n<r.length;n++)r[n]+=r[n-1];return r.map(function(r,n){return r-e[n].staticPartLength(t[n])})},Wr.prototype._getSolidityTypes=function(t){var e=this;return t.map(function(t){return e._requireType(t)})},Wr.prototype._encodeMultiWithOffset=function(t,e,r,n){var i="",o=this;return t.forEach(function(a,s){if(Gr(e[s],t[s])){i+=Br.formatInputInt(n).encode();var u=o._encodeWithOffset(t[s],e[s],r[s],n);n+=u.length/2}else i+=o._encodeWithOffset(t[s],e[s],r[s],n)}),t.forEach(function(a,s){if(Gr(e[s],t[s])){var u=o._encodeWithOffset(t[s],e[s],r[s],n);n+=u.length/2,i+=u}}),i},Wr.prototype._encodeWithOffset=function(t,e,r,n){var i,o,a,s=this;return e.isDynamicArray(t)?(i=e.nestedName(t),o=e.staticPartLength(i),a=r[0],function(){var t=2;if(e.isDynamicArray(i))for(var s=1;s<r.length;s++)t+=+r[s-1][0]||0,a+=Br.formatInputInt(n+s*o+32*t).encode()}(),function(){for(var t=0;t<r.length-1;t++){var o=a/2;a+=s._encodeWithOffset(i,e,r[t+1],n+o)}}(),a):e.isStaticArray(t)?function(){var i=e.nestedName(t),o=e.staticPartLength(i),a="";return e.isDynamicArray(i)&&function(){for(var t=0,e=0;e<r.length;e++)t+=+(r[e-1]||[])[0]||0,a+=Br.formatInputInt(n+e*o+32*t).encode()}(),function(){for(var t=0;t<r.length;t++){var o=a/2;a+=s._encodeWithOffset(i,e,r[t],n+o)}}(),a}():r},Wr.prototype.encodeFunctionSignature=function(t){return rt.isObject(t)&&(t=zt._jsonInterfaceMethodToString(t)),zt.sha3(t).slice(0,10)},Wr.prototype.encodeEventSignature=function(t){return rt.isObject(t)&&(t=zt._jsonInterfaceMethodToString(t)),zt.sha3(t)},Wr.prototype.encodeParameter=function(t,e){return this.encodeParameters([t],[e])},Wr.prototype.encodeParameters=function(t,e){rt.isObject(t)&&t.inputs&&(t=rt.map(t.inputs,function(t){return t.type}));var r=this._getSolidityTypes(t),n=r.map(function(r,n){return r.encode(e[n],t[n])}),i=r.reduce(function(e,n,i){var o=n.staticPartLength(t[i]),a=32*Math.floor((o+31)/32);return e+(Gr(r[i],t[i])?32:a)},0);return"0x"+this._encodeMultiWithOffset(t,r,n,i)},Wr.prototype.encodeFunctionCall=function(t,e){return this.encodeFunctionSignature(t)+this.encodeParameters(t,e).replace("0x","")},Wr.prototype.decodeParameter=function(t,e){if(!rt.isString(t))throw new Error("Given parameter type is not a string: "+t);return this.decodeParameters([{type:t}],e)[0]},Wr.prototype.decodeParameters=function(t,e){var r=rt.isArray(t)&&rt.isString(t[0]),n=r?t:[];r||t.forEach(function(t){n.push(t.type)});var i=this._getSolidityTypes(n),o=this._getOffsets(n,i),a=new $r;a.__length__=0;var s=0;return t.forEach(function(t,r){var u=i[s].decode(e.replace(/^0x/i,""),o[s],n[s],s);u="0x"===u?null:u,a[r]=u,rt.isObject(t)&&t.name&&(a[t.name]=u),a.__length__++,s++}),a},Wr.prototype.decodeLog=function(t,e,r){e=e||"";var n=[],i=[];t.forEach(function(t,e){t.indexed?i[e]=t:n[e]=t});var o=e.slice(2),a=rt.isArray(r)?r.map(function(t){return t.slice(2)}).join(""):r,s=this.decodeParameters(n,o),u=this.decodeParameters(i,a),c=new $r;return c.__length__=0,t.forEach(function(t,e){c[e]="string"===t.type?"":null,s[e]&&(c[e]=s[e]),u[e]&&(c[e]=u[e]),t.name&&(c[t.name]=c[e]),c.__length__++}),c};var Yr=new Wr([new Nr,new Lr,new jr,new Ur,new qr,new Hr,new zr]),Zr=ur.subscription,Qr=ee.formatters,Xr=ee.errors,Jr=function t(e,r,n){var i=this,o=Array.prototype.slice.call(arguments);if(!(this instanceof t))throw new Error('Please use the "new" keyword to instantiate a web3.eth.contract() object!');if(vr(this,[this.constructor.currentProvider]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!e||!Array.isArray(e))throw new Error("You must provide the json interface of the contract when instantiating a contract object.");this.options={};var a=o[o.length-1];rt.isObject(a)&&!rt.isArray(a)&&(n=a,this.options=rt.extend(this.options,this._getOrSetDefaultOptions(n)),rt.isObject(r)&&(r=null)),Object.defineProperty(this.options,"address",{set:function(t){t&&(i._address=zt.toChecksumAddress(Qr.inputAddressFormatter(t)))},get:function(){return i._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(t){return i.methods={},i.events={},i._jsonInterface=t.map(function(t){var e,r;if(t.name&&(r=zt._jsonInterfaceMethodToString(t)),"function"===t.type){if(t.signature=Yr.encodeFunctionSignature(r),e=i._createTxObject.bind({method:t,parent:i}),i.methods[t.name]){var n=i._createTxObject.bind({method:t,parent:i,nextMethod:i.methods[t.name]});i.methods[t.name]=n}else i.methods[t.name]=e;i.methods[t.signature]=e,i.methods[r]=e}else if("event"===t.type){t.signature=Yr.encodeEventSignature(r);var o=i._on.bind(i,t.signature);i.events[t.name]&&"bound "!==i.events[t.name].name||(i.events[t.name]=o),i.events[t.signature]=o,i.events[r]=o}return t}),i.events.allEvents=i._on.bind(i,"allevents"),i._jsonInterface},get:function(){return i._jsonInterface},enumerable:!0});var s=this.constructor.defaultAccount,u=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"defaultAccount",{get:function(){return s},set:function(t){return t&&(s=zt.toChecksumAddress(Qr.inputAddressFormatter(t))),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return u},set:function(t){return u=t,t},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=r,this.options.jsonInterface=e};Jr.setProvider=function(t,e){vr(this,[t]),this._ethAccounts=e},Jr.prototype._getCallback=function(t){if(t&&rt.isFunction(t[t.length-1]))return t.pop()},Jr.prototype._checkListener=function(t,e){if(e===t)throw new Error('The event "'+t+"\" is a reserved event name, you can't use it.")},Jr.prototype._getOrSetDefaultOptions=function(t){var e=t.gasPrice?String(t.gasPrice):null,r=t.from?zt.toChecksumAddress(Qr.inputAddressFormatter(t.from)):null;return t.data=t.data||this.options.data,t.from=r||this.options.from,t.gasPrice=e||this.options.gasPrice,t.gas=t.gas||t.gasLimit||this.options.gas,delete t.gasLimit,t},Jr.prototype._encodeEventABI=function(t,e){var r=(e=e||{}).filter||{},n={};if(["fromBlock","toBlock"].filter(function(t){return void 0!==e[t]}).forEach(function(t){n[t]=Qr.inputBlockNumberFormatter(e[t])}),rt.isArray(e.topics))n.topics=e.topics;else{if(n.topics=[],t&&!t.anonymous&&"ALLEVENTS"!==t.name&&n.topics.push(t.signature),"ALLEVENTS"!==t.name){var i=t.inputs.filter(function(t){return!0===t.indexed}).map(function(t){var e=r[t.name];return e?rt.isArray(e)?e.map(function(e){return Yr.encodeParameter(t.type,e)}):Yr.encodeParameter(t.type,e):null});n.topics=n.topics.concat(i)}n.topics.length||delete n.topics}return this.options.address&&(n.address=this.options.address.toLowerCase()),n},Jr.prototype._decodeEventABI=function(t){var e=this;t.data=t.data||"",t.topics=t.topics||[];var r=Qr.outputLogFormatter(t);"ALLEVENTS"===e.name&&(e=e.jsonInterface.find(function(e){return e.signature===t.topics[0]})||{anonymous:!0}),e.inputs=e.inputs||[];var n=e.anonymous?t.topics:t.topics.slice(1);return r.returnValues=Yr.decodeLog(e.inputs,t.data,n),delete r.returnValues.__length__,r.event=e.name,r.signature=e.anonymous||!t.topics[0]?null:t.topics[0],r.raw={data:r.data,topics:r.topics},delete r.data,delete r.topics,r},Jr.prototype._encodeMethodABI=function(){var t=this._method.signature,e=this.arguments||[],r=!1,n=this._parent.options.jsonInterface.filter(function(e){return"constructor"===t&&e.type===t||(e.signature===t||e.signature===t.replace("0x","")||e.name===t)&&"function"===e.type}).map(function(t){var n=rt.isArray(t.inputs)?t.inputs.length:0;if(n!==e.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+n+" arguments.");return"function"===t.type&&(r=t.signature),rt.isArray(t.inputs)?t.inputs.map(function(t){return t.type}):[]}).map(function(t){return Yr.encodeParameters(t,e).replace("0x","")})[0]||"";if("constructor"===t){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData+n}var i=r?r+n:n;if(i)return i;throw new Error("Couldn't find a matching contract method named \""+this._method.name+'".')},Jr.prototype._decodeMethodReturn=function(t,e){if(!e)return null;e=e.length>=2?e.slice(2):e;var r=Yr.decodeParameters(t,e);return 1===r.__length__?r[0]:(delete r.__length__,r)},Jr.prototype.deploy=function(t,e){if((t=t||{}).arguments=t.arguments||[],!(t=this._getOrSetDefaultOptions(t)).data)return zt._fireError(new Error('No "data" specified in neither the given options, nor the default options.'),null,null,e);var r=rt.find(this.options.jsonInterface,function(t){return"constructor"===t.type})||{};return r.signature="constructor",this._createTxObject.apply({method:r,parent:this,deployData:t.data,_ethAccounts:this.constructor._ethAccounts},t.arguments)},Jr.prototype._generateEventOptions=function(){var t=Array.prototype.slice.call(arguments),e=this._getCallback(t),r=rt.isObject(t[t.length-1])?t.pop():{},n=rt.isString(t[0])?t[0]:"allevents";if(!(n="allevents"===n.toLowerCase()?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find(function(t){return"event"===t.type&&(t.name===n||t.signature==="0x"+n.replace("0x",""))})))throw new Error('Event "'+n.name+"\" doesn't exist in this contract.");if(!zt.isAddress(this.options.address))throw new Error("This contract object doesn't have address set yet, please set an address first.");return{params:this._encodeEventABI(n,r),event:n,callback:e}},Jr.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},Jr.prototype.once=function(t,e,r){var n=Array.prototype.slice.call(arguments);if(!(r=this._getCallback(n)))throw new Error("Once requires a callback as the second parameter.");e&&delete e.fromBlock,this._on(t,e,function(t,e,n){n.unsubscribe(),rt.isFunction(r)&&r(t,e,n)})},Jr.prototype._on=function(){var t=this._generateEventOptions.apply(this,arguments);this._checkListener("newListener",t.event.name,t.callback),this._checkListener("removeListener",t.event.name,t.callback);var e=new Zr({subscription:{params:1,inputFormatter:[Qr.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event),subscriptionHandler:function(t){t.removed?this.emit("changed",t):this.emit("data",t),rt.isFunction(this.callback)&&this.callback(null,t,this)}},type:"eth",requestManager:this._requestManager});return e.subscribe("logs",t.params,t.callback||function(){}),e},Jr.prototype.getPastEvents=function(){var t=this._generateEventOptions.apply(this,arguments),e=new pr({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[Qr.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event)});e.setRequestManager(this._requestManager);var r=e.buildCall();return e=null,r(t.params,t.callback)},Jr.prototype._createTxObject=function(){var t=Array.prototype.slice.call(arguments),e={};if("function"===this.method.type&&(e.call=this.parent._executeMethod.bind(e,"call"),e.call.request=this.parent._executeMethod.bind(e,"call",!0)),e.send=this.parent._executeMethod.bind(e,"send"),e.send.request=this.parent._executeMethod.bind(e,"send",!0),e.encodeABI=this.parent._encodeMethodABI.bind(e),e.estimateGas=this.parent._executeMethod.bind(e,"estimate"),t&&this.method.inputs&&t.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,t);throw Xr.InvalidNumberOfParams(t.length,this.method.inputs.length,this.method.name)}return e.arguments=t||[],e._method=this.method,e._parent=this.parent,e._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(e._deployData=this.deployData),e},Jr.prototype._processExecuteArguments=function(t,e){var r={};if(r.type=t.shift(),r.callback=this._parent._getCallback(t),"call"===r.type&&!0!==t[t.length-1]&&(rt.isString(t[t.length-1])||isFinite(t[t.length-1]))&&(r.defaultBlock=t.pop()),r.options=rt.isObject(t[t.length-1])?t.pop():{},r.generateRequest=!0===t[t.length-1]&&t.pop(),r.options=this._parent._getOrSetDefaultOptions(r.options),r.options.data=this.encodeABI(),!this._deployData&&!zt.isAddress(this._parent.options.address))throw new Error("This contract object doesn't have address set yet, please set an address first.");return this._deployData||(r.options.to=this._parent.options.address),r.options.data?r:zt._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),e.eventEmitter,e.reject,r.callback)},Jr.prototype._executeMethod=function(){var t=this,e=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),r),r=rr("send"!==e.type),n=t.constructor._ethAccounts||t._ethAccounts;if(e.generateRequest){var i={params:[Qr.inputCallFormatter.call(this._parent,e.options)],callback:e.callback};return"call"===e.type?(i.params.push(Qr.inputDefaultBlockNumberFormatter.call(this._parent,e.defaultBlock)),i.method="eth_call",i.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):i.method="eth_sendTransaction",i}switch(e.type){case"estimate":return new pr({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[Qr.inputCallFormatter],outputFormatter:zt.hexToNumber,requestManager:t._parent._requestManager,accounts:n,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction()(e.options,e.callback);case"call":return new pr({name:"call",call:"eth_call",params:2,inputFormatter:[Qr.inputCallFormatter,Qr.inputDefaultBlockNumberFormatter],outputFormatter:function(e){return t._parent._decodeMethodReturn(t._method.outputs,e)},requestManager:t._parent._requestManager,accounts:n,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction()(e.options,e.defaultBlock,e.callback);case"send":if(!zt.isAddress(e.options.from))return zt._fireError(new Error('No "from" address specified in neither the given options, nor the default options.'),r.eventEmitter,r.reject,e.callback);if(rt.isBoolean(this._method.payable)&&!this._method.payable&&e.options.value&&e.options.value>0)return zt._fireError(new Error("Can not send value to non-payable contract method or constructor"),r.eventEmitter,r.reject,e.callback);var o={receiptFormatter:function(e){if(rt.isArray(e.logs)){var r=rt.map(e.logs,function(e){return t._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:t._parent.options.jsonInterface},e)});e.events={};var n=0;r.forEach(function(t){t.event?e.events[t.event]?Array.isArray(e.events[t.event])?e.events[t.event].push(t):e.events[t.event]=[e.events[t.event],t]:e.events[t.event]=t:(e.events[n]=t,n++)}),delete e.logs}return e},contractDeployFormatter:function(e){var r=t._parent.clone();return r.options.address=e.contractAddress,r}};return new pr({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[Qr.inputTransactionFormatter],requestManager:t._parent._requestManager,accounts:t.constructor._ethAccounts||t._ethAccounts,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock,extraFormatters:o}).createFunction()(e.options,e.callback)}};var tn=Jr,en=function(t,e){return parseInt(t.slice(2*e+2,2*e+4),16)},rn=function(t){return(t.length-2)/2},nn=function(t){for(var e=[],r=2,n=t.length;r<n;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},on=function(t){for(var e="0x",r=0,n=t.length;r<n;++r){var i=t[r];e+=(i<16?"0":"")+i.toString(16)}return e},an={random:function(t){var e=void 0;e="undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(t)):J().randomBytes(t);for(var r="0x",n=0;n<t;++n)r+=("00"+e[n].toString(16)).slice(-2);return r},length:rn,concat:function(t,e){return t.concat(e.slice(2))},flatten:function(t){return"0x"+t.reduce(function(t,e){return t+e.slice(2)},"")},slice:function(t,e,r){return"0x"+r.slice(2*t+2,2*e+2)},reverse:function(t){for(var e="0x",r=0,n=rn(t);r<n;++r)e+=t.slice(2*(n-r),2*(n-r+1));return e},pad:function t(e,r){return r.length===2*e+2?r:t(e,"0x0"+r.slice(2))},padRight:function t(e,r){return r.length===2*e+2?r:t(e,r+"0")},fromAscii:function(t){for(var e="0x",r=0;r<t.length;++r)e+=("00"+t.charCodeAt(r).toString(16)).slice(-2);return e},toAscii:function(t){for(var e="",r=2;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.slice(r,r+2),16));return e},fromString:function(t){for(var e=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},r="0x",n=0;n!=t.length;n++){var i=t.charCodeAt(n);if(i<128)r+=e(i);else{if(i<2048)r+=e(i>>6|192);else{if(i>55295&&i<56320){if(++n==t.length)return null;var o=t.charCodeAt(n);if(o<56320||o>57343)return null;r+=e((i=65536+((1023&i)<<10)+(1023&o))>>18|240),r+=e(i>>12&63|128)}else r+=e(i>>12|224);r+=e(i>>6&63|128)}r+=e(63&i|128)}}return r},toString:function(t){for(var e="",r=0,n=rn(t);r<n;){var i=en(t,r++);if(i>127){if(i>191&&i<224){if(r>=n)return null;i=(31&i)<<6|63&en(t,r)}else if(i>223&&i<240){if(r+1>=n)return null;i=(15&i)<<12|(63&en(t,r))<<6|63&en(t,++r)}else{if(!(i>239&&i<248))return null;if(r+2>=n)return null;i=(7&i)<<18|(63&en(t,r))<<12|(63&en(t,++r))<<6|63&en(t,++r)}++r}if(i<=65535)e+=String.fromCharCode(i);else{if(!(i<=1114111))return null;i-=65536,e+=String.fromCharCode(i>>10|55296),e+=String.fromCharCode(1023&i|56320)}}return e},fromNumber:function(t){var e=t.toString(16);return e.length%2==0?"0x"+e:"0x0"+e},toNumber:function(t){return parseInt(t.slice(2),16)},fromNat:function(t){return"0x0"===t?"0x":t.length%2==0?t:"0x0"+t.slice(2)},toNat:function(t){return"0"===t[2]?"0x"+t.slice(3):t},fromArray:on,toArray:nn,fromUint8Array:function(t){return on([].slice.call(t,0))},toUint8Array:function(t){return new Uint8Array(nn(t))}},sn={},un=Object.freeze({default:sn}),cn=un&&sn||un,fn=et(function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=cn.Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;f+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(t=t||10,e=0|e||1,16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],h=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,f=0|a[0],h=8191&f,l=f>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,_=b>>>13,k=0|a[4],S=8191&k,E=k>>>13,M=0|a[5],A=8191&M,x=M>>>13,B=0|a[6],C=8191&B,I=B>>>13,T=0|a[7],P=8191&T,N=T>>>13,R=0|a[8],L=8191&R,O=R>>>13,j=0|a[9],D=8191&j,U=j>>>13,F=0|s[0],q=8191&F,K=F>>>13,z=0|s[1],V=8191&z,H=z>>>13,G=0|s[2],$=8191&G,W=G>>>13,Y=0|s[3],Z=8191&Y,Q=Y>>>13,X=0|s[4],J=8191&X,tt=X>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ft=0|s[8],ht=8191&ft,lt=ft>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,K))+Math.imul(l,q)|0))<<13)|0;c=((o=Math.imul(l,K))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(m,q)|0,o=Math.imul(m,K);var vt=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(l,V)|0))<<13)|0;c=((o=o+Math.imul(l,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(g,q)|0,o=Math.imul(g,K),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0;var gt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(l,$)|0))<<13)|0;c=((o=o+Math.imul(l,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,W)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(l,Z)|0))<<13)|0;c=((o=o+Math.imul(l,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,K))+Math.imul(E,q)|0,o=Math.imul(E,K),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,K))+Math.imul(x,q)|0,o=Math.imul(x,K),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,Q)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,K))+Math.imul(I,q)|0,o=Math.imul(I,K),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,K))+Math.imul(N,q)|0,o=Math.imul(N,K),n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,K))+Math.imul(O,q)|0,o=Math.imul(O,K),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,Q)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul(U,q)|0,o=Math.imul(U,K),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,lt)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(U,V)|0,o=Math.imul(U,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,W))+Math.imul(U,$)|0,o=Math.imul(U,W),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,lt)|0;var xt=(c+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,Q))+Math.imul(U,Z)|0,o=Math.imul(U,Q),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,tt))+Math.imul(U,J)|0,o=Math.imul(U,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,lt)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,lt)|0;var It=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Tt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,lt))+Math.imul(U,ht)|0,o=Math.imul(U,lt);var Nt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=yt,u[1]=vt,u[2]=gt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=Et,u[9]=Mt,u[10]=At,u[11]=xt,u[12]=Bt,u[13]=Ct,u[14]=It,u[15]=Tt,u[16]=Pt,u[17]=Nt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(l=h),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?l(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;s=67108863&(l=l+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},p.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},p.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var h=u,l=c,d=0;d<a;d++){var p=r[f+d],m=n[f+d],y=r[f+d+a],v=n[f+d+a],g=h*y-l*v;v=h*v+l*y,y=g,r[f+d]=p+y,n[f+d]=m+v,r[f+d+a]=p-y,n[f+d+a]=m-v,d!==s&&(g=u*h-c*l,l=u*l+c*h,h=g)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},p.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},p.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,f,h,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(o,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=l)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),h=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(f),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s),a.isub(u)):(n.isub(e),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,l=1;0==(n.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(o=0===e.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(g,y),n(b,y),n(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new g;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();r(y<p);var v=this.pow(h,new i(1).iushln(p-y-1));l=l.redMul(v),h=v.redSqr(),d=d.redMul(h),p=y}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===f)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,X)}),hn=function(t){return new fn(t.slice(2),16)},ln=function(t){var e="0x"+("0x"===t.slice(0,2)?new fn(t.slice(2),16):new fn(t,10)).toString("hex");return"0x0"===e?"0x":e},dn=function(t){return"string"==typeof t?/^0x/.test(t)?t:"0x"+t:"0x"+new fn(t).toString("hex")},pn=function(t){return hn(t).toNumber()},mn=function(t){return function(e,r){return"0x"+hn(e)[t](hn(r)).toString("hex")}},yn=mn("add"),vn=mn("mul"),gn=mn("div"),bn=mn("sub"),wn={toString:function(t){return hn(t).toString(10)},fromString:ln,toNumber:pn,fromNumber:dn,toEther:function(t){return pn(gn(t,ln("10000000000")))/1e8},fromEther:function(t){return vn(dn(Math.floor(1e8*t)),ln("10000000000"))},toUint256:function(t){return an.pad(32,t)},add:yn,mul:vn,div:gn,sub:bn},_n=[["elliptic@6.4.0","/Users/orie/OR13/transmute/packages/transmute-eventstore"]],kn={},Sn={type:"version",registry:!0,raw:"elliptic@6.4.0",name:"elliptic",escapedName:"elliptic",rawSpec:"6.4.0",saveSpec:null,fetchSpec:"6.4.0"},En=["/browserify-sign","/create-ecdh","/eth-lib","/secp256k1","/web3-eth-accounts/eth-lib"],Mn="https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",An="/Users/orie/OR13/transmute/packages/transmute-eventstore",xn={name:"Fedor Indutny",email:"fedor@indutny.com"},Bn={url:"https://github.com/indutny/elliptic/issues"},Cn={"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},In={brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},Tn=["lib"],Pn="https://github.com/indutny/elliptic",Nn=["EC","Elliptic","curve","Cryptography"],Rn={type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},Ln={jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},On={_args:_n,_from:"elliptic@6.4.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:kn,_requested:Sn,_requiredBy:En,_resolved:Mn,_spec:"6.4.0",_where:An,author:xn,bugs:Bn,dependencies:Cn,description:"EC cryptography",devDependencies:In,files:Tn,homepage:Pn,keywords:Nn,license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:Rn,scripts:Ln,version:"6.4.0"},jn=Object.freeze({_args:_n,_from:"elliptic@6.4.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:kn,_requested:Sn,_requiredBy:En,_resolved:Mn,_spec:"6.4.0",_where:An,author:xn,bugs:Bn,dependencies:Cn,description:"EC cryptography",devDependencies:In,files:Tn,homepage:Pn,keywords:Nn,license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:Rn,scripts:Ln,version:"6.4.0",default:On}),Dn=Un;function Un(t,e){if(!t)throw new Error(e||"Assertion failed")}Un.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Fn,qn=et(function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}}),Kn=et(function(t,e){var r=e;r.assert=Dn,r.toArray=qn.toArray,r.zero2=qn.zero2,r.toHex=qn.toHex,r.encode=qn.encode,r.getNAF=function(t,e){for(var r=[],n=1<<e+1,i=t.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var a=i.andln(n-1);o=a>(n>>1)-1?(n>>1)-a:a,i.isubn(o)}else o=0;r.push(o);for(var s=0!==i.cmpn(0)&&0===i.andln(n-1)?e+1:1,u=1;u<s;u++)r.push(0);i.iushrn(s)}return r},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o,a,s,u=t.andln(3)+n&3,c=e.andln(3)+i&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(s=t.andln(7)+n&7)&&5!==s||2!==c?u:-u,r[0].push(o),a=0==(1&c)?0:3!=(s=e.andln(7)+i&7)&&5!==s||2!==u?c:-c,r[1].push(a),2*n===o+1&&(n=1-n),2*i===a+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new fn(t,"hex","le")}}),zn=function(t){return Fn||(Fn=new Vn(null)),Fn.generate(t)};function Vn(t){this.rand=t}var Hn=Vn;if(Vn.prototype.generate=function(t){return this._rand(t)},Vn.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Vn.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?Vn.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(Vn.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Gn=cn;if("function"!=typeof Gn.randomBytes)throw new Error("Not supported");Vn.prototype._rand=function(t){return Gn.randomBytes(t)}}catch(t){}zn.Rand=Hn;var $n=Ca.utils,Wn=$n.getNAF,Yn=$n.getJSF,Zn=$n.assert;function Qn(t,e){this.type=t,this.p=new fn(e.p,16),this.red=e.prime?fn.red(e.prime):fn.mont(this.p),this.zero=new fn(0).toRed(this.red),this.one=new fn(1).toRed(this.red),this.two=new fn(2).toRed(this.red),this.n=e.n&&new fn(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xn=Qn;function Jn(t,e){this.curve=t,this.type=e,this.precomputed=null}Qn.prototype.point=function(){throw new Error("Not implemented")},Qn.prototype.validate=function(){throw new Error("Not implemented")},Qn.prototype._fixedNafMul=function(t,e){Zn(t.precomputed);var r=t._getDoubles(),n=Wn(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var o=[],a=0;a<n.length;a+=r.step){var s=0;for(e=a+r.step-1;e>=a;e--)s=(s<<1)+n[e];o.push(s)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<o.length;a++){(s=o[a])===f?c=c.mixedAdd(r.points[a]):s===-f&&(c=c.mixedAdd(r.points[a].neg()))}u=u.add(c)}return u.toP()},Qn.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=Wn(e,r),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(e=0;s>=0&&0===o[s];s--)e++;if(s>=0&&e++,a=a.dblp(e),s<0)break;var u=o[s];Zn(0!==u),a="affine"===t.type?u>0?a.mixedAdd(i[u-1>>1]):a.mixedAdd(i[-u-1>>1].neg()):u>0?a.add(i[u-1>>1]):a.add(i[-u-1>>1].neg())}return"affine"===t.type?a.toP():a},Qn.prototype._wnafMulAdd=function(t,e,r,n,i){for(var o=this._wnafT1,a=this._wnafT2,s=this._wnafT3,u=0,c=0;c<n;c++){var f=(S=e[c])._getNAFPoints(t);o[c]=f.wnd,a[c]=f.points}for(c=n-1;c>=1;c-=2){var h=c-1,l=c;if(1===o[h]&&1===o[l]){var d=[e[h],null,null,e[l]];0===e[h].y.cmp(e[l].y)?(d[1]=e[h].add(e[l]),d[2]=e[h].toJ().mixedAdd(e[l].neg())):0===e[h].y.cmp(e[l].y.redNeg())?(d[1]=e[h].toJ().mixedAdd(e[l]),d[2]=e[h].add(e[l].neg())):(d[1]=e[h].toJ().mixedAdd(e[l]),d[2]=e[h].toJ().mixedAdd(e[l].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],m=Yn(r[h],r[l]);u=Math.max(m[0].length,u),s[h]=new Array(u),s[l]=new Array(u);for(var y=0;y<u;y++){var v=0|m[0][y],g=0|m[1][y];s[h][y]=p[3*(v+1)+(g+1)],s[l][y]=0,a[h]=d}}else s[h]=Wn(r[h],o[h]),s[l]=Wn(r[l],o[l]),u=Math.max(s[h].length,u),u=Math.max(s[l].length,u)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(c=u;c>=0;c--){for(var _=0;c>=0;){var k=!0;for(y=0;y<n;y++)w[y]=0|s[y][c],0!==w[y]&&(k=!1);if(!k)break;_++,c--}if(c>=0&&_++,b=b.dblp(_),c<0)break;for(y=0;y<n;y++){var S,E=w[y];0!==E&&(E>0?S=a[y][E-1>>1]:E<0&&(S=a[y][-E-1>>1].neg()),b="affine"===S.type?b.mixedAdd(S):b.add(S))}}for(c=0;c<n;c++)a[c]=null;return i?b:b.toP()},Qn.BasePoint=Jn,Jn.prototype.eq=function(){throw new Error("Not implemented")},Jn.prototype.validate=function(){return this.curve.validate(this)},Qn.prototype.decodePoint=function(t,e){t=$n.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Zn(t[t.length-1]%2==0):7===t[0]&&Zn(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Jn.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Jn.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Jn.prototype.encode=function(t,e){return $n.encode(this._encode(e),t)},Jn.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Jn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Jn.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},Jn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Jn.prototype._getBeta=function(){return null},Jn.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var ti=et(function(t){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}),ei=vi.base,ri=Ca.utils.assert;function ni(t){ei.call(this,"short",t),this.a=new fn(t.a,16).toRed(this.red),this.b=new fn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ti(ni,ei);var ii=ni;function oi(t,e,r,n){ei.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new fn(e,16),this.y=new fn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ai(t,e,r,n){ei.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fn(0)):(this.x=new fn(e,16),this.y=new fn(r,16),this.z=new fn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ni.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new fn(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new fn(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],ri(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map(function(t){return{a:new fn(t.a,16),b:new fn(t.b,16)}}):this._getEndoBasis(r)}}},ni.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:fn.mont(t),r=new fn(2).toRed(e).redInvm(),n=r.redNeg(),i=new fn(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},ni.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,a,s,u,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,l=this.n.clone(),d=new fn(1),p=new fn(0),m=new fn(0),y=new fn(1),v=0;0!==h.cmpn(0);){var g=l.div(h);u=l.sub(g.mul(h)),c=m.sub(g.mul(d));var b=y.sub(g.mul(p));if(!n&&u.cmp(f)<0)e=s.neg(),r=d,n=u.neg(),i=c;else if(n&&2==++v)break;s=u,l=h,h=u,m=d,d=c,y=p,p=b}o=u.neg(),a=c;var w=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},ni.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:t.sub(a).sub(s),k2:u.add(c).neg()}},ni.prototype.pointFromX=function(t,e){(t=new fn(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},ni.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},ni.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return c},ti(oi,ei.BasePoint),ni.prototype.point=function(t,e,r){return new oi(this,t,e,r)},ni.prototype.pointFromJSON=function(t,e){return oi.fromJSON(this,t,e)},oi.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},oi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},oi.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},oi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},oi.prototype.isInfinity=function(){return this.inf},oi.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},oi.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},oi.prototype.getX=function(){return this.x.fromRed()},oi.prototype.getY=function(){return this.y.fromRed()},oi.prototype.mul=function(t){return t=new fn(t,16),this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},oi.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},oi.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},oi.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},oi.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},oi.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},ti(ai,ei.BasePoint),ni.prototype.jpoint=function(t,e,r){return new ai(this,t,e,r)},ai.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},ai.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ai.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),f=c.redMul(s),h=n.redMul(c),l=u.redSqr().redIAdd(f).redISub(h).redISub(h),d=u.redMul(h.redISub(l)).redISub(o.redMul(f)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(l,d,p)},ai.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=r.redMul(u),h=s.redSqr().redIAdd(c).redISub(f).redISub(f),l=s.redMul(f.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(a);return this.curve.jpoint(h,l,d)},ai.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a);for(r=0;r<t;r++){var f=o.redSqr(),h=c.redSqr(),l=h.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),y=p.redISub(m),v=d.redMul(y);v=v.redIAdd(v).redISub(l);var g=c.redMul(s);r+1<t&&(u=u.redMul(l)),o=m,s=g,c=v}return this.curve.jpoint(o,c.redMul(i),s)},ai.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ai.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=s.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),m=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},ai.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=s.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),l=this.x.redMul(h),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var y=h.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),e=d.redMul(p.redISub(t)).redISub(y)}return this.curve.jpoint(t,e,r)},ai.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(a),f=s.redSqr().redISub(c.redAdd(c)),h=c.redISub(f),l=a.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=s.redMul(h).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,d,p)},ai.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.x.redMul(s).redISub(f);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(h,l,d)},ai.prototype.mul=function(t,e){return t=new fn(t,e),this.curve._wnafMul(this,t)},ai.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},ai.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}return!1},ai.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ai.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var si=vi.base,ui=Ca.utils;function ci(t){si.call(this,"mont",t),this.a=new fn(t.a,16).toRed(this.red),this.b=new fn(t.b,16).toRed(this.red),this.i4=new fn(4).toRed(this.red).redInvm(),this.two=new fn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}ti(ci,si);var fi=ci;function hi(t,e,r){si.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new fn(e,16),this.z=new fn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ci.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},ti(hi,si.BasePoint),ci.prototype.decodePoint=function(t,e){return this.point(ui.toArray(t,e),1)},ci.prototype.point=function(t,e){return new hi(this,t,e)},ci.prototype.pointFromJSON=function(t){return hi.fromJSON(this,t)},hi.prototype.precompute=function(){},hi.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},hi.fromJSON=function(t,e){return new hi(t,e[0],e[1]||t.one)},hi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},hi.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},hi.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},hi.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},hi.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(r),a=i.redMul(n),s=e.z.redMul(o.redAdd(a).redSqr()),u=e.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},hi.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},hi.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},hi.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},hi.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},hi.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},hi.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var li=vi.base,di=Ca.utils.assert;function pi(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,li.call(this,"edwards",t),this.a=new fn(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new fn(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new fn(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),di(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}ti(pi,li);var mi=pi;function yi(t,e,r,n,i){li.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new fn(e,16),this.y=new fn(r,16),this.z=n?new fn(n,16):this.curve.one,this.t=i&&new fn(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}pi.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},pi.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},pi.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},pi.prototype.pointFromX=function(t,e){(t=new fn(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var s=a.fromRed().isOdd();return(e&&!s||!e&&s)&&(a=a.redNeg()),this.point(t,a)},pi.prototype.pointFromY=function(t,e){(t=new fn(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.one),i=r.redMul(this.d).redAdd(this.one),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},pi.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},ti(yi,li.BasePoint),pi.prototype.pointFromJSON=function(t){return yi.fromJSON(this,t)},pi.prototype.point=function(t,e,r,n){return new yi(this,t,e,r,n)},yi.fromJSON=function(t,e){return new yi(t,e[0],e[1],e[2])},yi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},yi.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},yi.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=n.redAdd(e),a=o.redSub(r),s=n.redSub(e),u=i.redMul(a),c=o.redMul(s),f=i.redMul(s),h=a.redMul(o);return this.curve.point(u,c,h,f)},yi.prototype._projDbl=function(){var t,e,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(c=this.curve._mulA(i)).redAdd(o);if(this.zOne)t=n.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),e=a.redMul(c.redSub(o)),r=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),u=a.redSub(s).redISub(s);t=n.redSub(i).redISub(o).redMul(u),e=a.redMul(c.redSub(o)),r=a.redMul(u)}}else{var c=i.redAdd(o);s=this.curve._mulC(this.c.redMul(this.z)).redSqr(),u=c.redSub(s).redSub(s);t=this.curve._mulC(n.redISub(c)).redMul(u),e=this.curve._mulC(c).redMul(i.redISub(o)),r=c.redMul(u)}return this.curve.point(t,e,r)},yi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},yi.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=r.redSub(e),a=i.redSub(n),s=i.redAdd(n),u=r.redAdd(e),c=o.redMul(a),f=s.redMul(u),h=o.redMul(u),l=a.redMul(s);return this.curve.point(c,f,l,h)},yi.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),o=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),c=i.redAdd(s),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(a),h=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(a.redSub(this.curve._mulA(o))),r=u.redMul(c)):(e=n.redMul(c).redMul(a.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(h,e,r)},yi.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},yi.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},yi.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},yi.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},yi.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},yi.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},yi.prototype.getX=function(){return this.normalize(),this.x.fromRed()},yi.prototype.getY=function(){return this.normalize(),this.y.fromRed()},yi.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},yi.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}return!1},yi.prototype.toP=yi.prototype.normalize,yi.prototype.mixedAdd=yi.prototype.add;var vi=et(function(t,e){var r=e;r.base=Xn,r.short=ii,r.mont=fi,r.edwards=mi});function gi(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function bi(t){return 1===t.length?"0"+t:t}function wi(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}var _i={inherits:ti,toArray:function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},toHex:function(t){for(var e="",r=0;r<t.length;r++)e+=bi(t[r].toString(16));return e},htonl:gi,toHex32:function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=gi(i)),r+=wi(i.toString(16))}return r},zero2:bi,zero8:wi,join32:function(t,e,r,n){var i=r-e;Dn(i%4==0);for(var o=new Array(i/4),a=0,s=e;a<o.length;a++,s+=4){var u;u="big"===n?t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],o[a]=u>>>0}return o},split32:function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},rotr32:function(t,e){return t>>>e|t<<32-e},rotl32:function(t,e){return t<<e|t>>>32-e},sum32:function(t,e){return t+e>>>0},sum32_3:function(t,e,r){return t+e+r>>>0},sum32_4:function(t,e,r,n){return t+e+r+n>>>0},sum32_5:function(t,e,r,n,i){return t+e+r+n+i>>>0},sum64:function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o},sum64_hi:function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},sum64_lo:function(t,e,r,n){return e+n>>>0},sum64_4_hi:function(t,e,r,n,i,o,a,s){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+r+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},sum64_4_lo:function(t,e,r,n,i,o,a,s){return e+n+o+s>>>0},sum64_5_hi:function(t,e,r,n,i,o,a,s,u,c){var f=0,h=e;return f+=(h=h+n>>>0)<e?1:0,f+=(h=h+o>>>0)<o?1:0,f+=(h=h+s>>>0)<s?1:0,t+r+i+a+u+(f+=(h=h+c>>>0)<c?1:0)>>>0},sum64_5_lo:function(t,e,r,n,i,o,a,s,u,c){return e+n+o+s+c>>>0},rotr64_hi:function(t,e,r){return(e<<32-r|t>>>r)>>>0},rotr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0},shr64_hi:function(t,e,r){return t>>>r},shr64_lo:function(t,e,r){return(t<<32-r|e>>>r)>>>0}};function ki(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var Si=ki;ki.prototype.update=function(t,e){if(t=_i.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=_i.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},ki.prototype.digest=function(t){return this.update(this._pad()),Dn(null===this.pending),this._digest(t)},ki.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Ei={BlockHash:Si},Mi=_i.rotr32;function Ai(t,e,r){return t&e^~t&r}function xi(t,e,r){return t&e^t&r^e&r}function Bi(t,e,r){return t^e^r}var Ci={ft_1:function(t,e,r,n){return 0===t?Ai(e,r,n):1===t||3===t?Bi(e,r,n):2===t?xi(e,r,n):void 0},ch32:Ai,maj32:xi,p32:Bi,s0_256:function(t){return Mi(t,2)^Mi(t,13)^Mi(t,22)},s1_256:function(t){return Mi(t,6)^Mi(t,11)^Mi(t,25)},g0_256:function(t){return Mi(t,7)^Mi(t,18)^t>>>3},g1_256:function(t){return Mi(t,17)^Mi(t,19)^t>>>10}},Ii=_i.rotl32,Ti=_i.sum32,Pi=_i.sum32_5,Ni=Ci.ft_1,Ri=Ei.BlockHash,Li=[1518500249,1859775393,2400959708,3395469782];function Oi(){if(!(this instanceof Oi))return new Oi;Ri.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_i.inherits(Oi,Ri);var ji=Oi;Oi.blockSize=512,Oi.outSize=160,Oi.hmacStrength=80,Oi.padLength=64,Oi.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Ii(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),f=Pi(Ii(i,5),Ni(c,o,a,s),u,r[n],Li[c]);u=s,s=a,a=Ii(o,30),o=i,i=f}this.h[0]=Ti(this.h[0],i),this.h[1]=Ti(this.h[1],o),this.h[2]=Ti(this.h[2],a),this.h[3]=Ti(this.h[3],s),this.h[4]=Ti(this.h[4],u)},Oi.prototype._digest=function(t){return"hex"===t?_i.toHex32(this.h,"big"):_i.split32(this.h,"big")};var Di=_i.sum32,Ui=_i.sum32_4,Fi=_i.sum32_5,qi=Ci.ch32,Ki=Ci.maj32,zi=Ci.s0_256,Vi=Ci.s1_256,Hi=Ci.g0_256,Gi=Ci.g1_256,$i=Ei.BlockHash,Wi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yi(){if(!(this instanceof Yi))return new Yi;$i.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Wi,this.W=new Array(64)}_i.inherits(Yi,$i);var Zi=Yi;function Qi(){if(!(this instanceof Qi))return new Qi;Zi.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Yi.blockSize=512,Yi.outSize=256,Yi.hmacStrength=192,Yi.padLength=64,Yi.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Ui(Gi(r[n-2]),r[n-7],Hi(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],h=this.h[7];for(Dn(this.k.length===r.length),n=0;n<r.length;n++){var l=Fi(h,Vi(u),qi(u,c,f),this.k[n],r[n]),d=Di(zi(i),Ki(i,o,a));h=f,f=c,c=u,u=Di(s,l),s=a,a=o,o=i,i=Di(l,d)}this.h[0]=Di(this.h[0],i),this.h[1]=Di(this.h[1],o),this.h[2]=Di(this.h[2],a),this.h[3]=Di(this.h[3],s),this.h[4]=Di(this.h[4],u),this.h[5]=Di(this.h[5],c),this.h[6]=Di(this.h[6],f),this.h[7]=Di(this.h[7],h)},Yi.prototype._digest=function(t){return"hex"===t?_i.toHex32(this.h,"big"):_i.split32(this.h,"big")},_i.inherits(Qi,Zi);var Xi=Qi;Qi.blockSize=512,Qi.outSize=224,Qi.hmacStrength=192,Qi.padLength=64,Qi.prototype._digest=function(t){return"hex"===t?_i.toHex32(this.h.slice(0,7),"big"):_i.split32(this.h.slice(0,7),"big")};var Ji=_i.rotr64_hi,to=_i.rotr64_lo,eo=_i.shr64_hi,ro=_i.shr64_lo,no=_i.sum64,io=_i.sum64_hi,oo=_i.sum64_lo,ao=_i.sum64_4_hi,so=_i.sum64_4_lo,uo=_i.sum64_5_hi,co=_i.sum64_5_lo,fo=Ei.BlockHash,ho=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function lo(){if(!(this instanceof lo))return new lo;fo.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ho,this.W=new Array(160)}_i.inherits(lo,fo);var po=lo;function mo(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function yo(t,e,r,n,i,o){var a=e&n^~e&o;return a<0&&(a+=4294967296),a}function vo(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function go(t,e,r,n,i,o){var a=e&n^e&o^n&o;return a<0&&(a+=4294967296),a}function bo(t,e){var r=Ji(t,e,28)^Ji(e,t,2)^Ji(e,t,7);return r<0&&(r+=4294967296),r}function wo(t,e){var r=to(t,e,28)^to(e,t,2)^to(e,t,7);return r<0&&(r+=4294967296),r}function _o(t,e){var r=Ji(t,e,14)^Ji(t,e,18)^Ji(e,t,9);return r<0&&(r+=4294967296),r}function ko(t,e){var r=to(t,e,14)^to(t,e,18)^to(e,t,9);return r<0&&(r+=4294967296),r}function So(t,e){var r=Ji(t,e,1)^Ji(t,e,8)^eo(t,e,7);return r<0&&(r+=4294967296),r}function Eo(t,e){var r=to(t,e,1)^to(t,e,8)^ro(t,e,7);return r<0&&(r+=4294967296),r}function Mo(t,e){var r=Ji(t,e,19)^Ji(e,t,29)^eo(t,e,6);return r<0&&(r+=4294967296),r}function Ao(t,e){var r=to(t,e,19)^to(e,t,29)^ro(t,e,6);return r<0&&(r+=4294967296),r}function xo(){if(!(this instanceof xo))return new xo;po.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}lo.blockSize=1024,lo.outSize=512,lo.hmacStrength=192,lo.padLength=128,lo.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Mo(r[n-4],r[n-3]),o=Ao(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],u=So(r[n-30],r[n-29]),c=Eo(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=ao(i,o,a,s,u,c,f,h),r[n+1]=so(i,o,a,s,u,c,f,h)}},lo.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7],h=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],y=this.h[13],v=this.h[14],g=this.h[15];Dn(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,_=g,k=_o(h,l),S=ko(h,l),E=mo(h,l,d,p,m),M=yo(h,l,d,p,m,y),A=this.k[b],x=this.k[b+1],B=r[b],C=r[b+1],I=uo(w,_,k,S,E,M,A,x,B,C),T=co(w,_,k,S,E,M,A,x,B,C);w=bo(n,i),_=wo(n,i),k=vo(n,i,o,a,s),S=go(n,i,o,a,s,u);var P=io(w,_,k,S),N=oo(w,_,k,S);v=m,g=y,m=d,y=p,d=h,p=l,h=io(c,f,I,T),l=oo(f,f,I,T),c=s,f=u,s=o,u=a,o=n,a=i,n=io(I,T,P,N),i=oo(I,T,P,N)}no(this.h,0,n,i),no(this.h,2,o,a),no(this.h,4,s,u),no(this.h,6,c,f),no(this.h,8,h,l),no(this.h,10,d,p),no(this.h,12,m,y),no(this.h,14,v,g)},lo.prototype._digest=function(t){return"hex"===t?_i.toHex32(this.h,"big"):_i.split32(this.h,"big")},_i.inherits(xo,po);var Bo=xo;xo.blockSize=1024,xo.outSize=384,xo.hmacStrength=192,xo.padLength=128,xo.prototype._digest=function(t){return"hex"===t?_i.toHex32(this.h.slice(0,12),"big"):_i.split32(this.h.slice(0,12),"big")};var Co={sha1:ji,sha224:Xi,sha256:Zi,sha384:Bo,sha512:po},Io=_i.rotl32,To=_i.sum32,Po=_i.sum32_3,No=_i.sum32_4,Ro=Ei.BlockHash;function Lo(){if(!(this instanceof Lo))return new Lo;Ro.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_i.inherits(Lo,Ro);var Oo=Lo;function jo(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Do(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Uo(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Lo.blockSize=512,Lo.outSize=160,Lo.hmacStrength=192,Lo.padLength=64,Lo.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],a=this.h[4],s=r,u=n,c=i,f=o,h=a,l=0;l<80;l++){var d=To(Io(No(r,jo(l,n,i,o),t[Fo[l]+e],Do(l)),Ko[l]),a);r=a,a=o,o=Io(i,10),i=n,n=d,d=To(Io(No(s,jo(79-l,u,c,f),t[qo[l]+e],Uo(l)),zo[l]),h),s=h,h=f,f=Io(c,10),c=u,u=d}d=Po(this.h[1],i,f),this.h[1]=Po(this.h[2],o,h),this.h[2]=Po(this.h[3],a,s),this.h[3]=Po(this.h[4],r,u),this.h[4]=Po(this.h[0],n,c),this.h[0]=d},Lo.prototype._digest=function(t){return"hex"===t?_i.toHex32(this.h,"little"):_i.split32(this.h,"little")};var Fo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],qo=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ko=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],zo=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Vo={ripemd160:Oo};function Ho(t,e,r){if(!(this instanceof Ho))return new Ho(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(_i.toArray(e,r))}var Go=Ho;Ho.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Dn(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Ho.prototype.update=function(t,e){return this.inner.update(t,e),this},Ho.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};var $o=et(function(t,e){var r=e;r.utils=_i,r.common=Ei,r.sha=Co,r.ripemd=Vo,r.hmac=Go,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160}),Wo={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},Yo=et(function(t,e){var r,n=e,i=Ca.utils.assert;function o(t){"short"===t.type?this.curve=new Ca.curve.short(t):"edwards"===t.type?this.curve=new Ca.curve.edwards(t):this.curve=new Ca.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$o.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=Wo}catch(t){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function Zo(t){if(!(this instanceof Zo))return new Zo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=qn.toArray(t.entropy,t.entropyEnc||"hex"),r=qn.toArray(t.nonce,t.nonceEnc||"hex"),n=qn.toArray(t.pers,t.persEnc||"hex");Dn(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Qo=Zo;Zo.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Zo.prototype._hmac=function(){return new $o.hmac(this.hash,this.K)},Zo.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Zo.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=qn.toArray(t,e),r=qn.toArray(r,n),Dn(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Zo.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=qn.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,qn.encode(o,e)};var Xo=Ca.utils.assert;function Jo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ta=Jo;Jo.fromPublic=function(t,e,r){return e instanceof Jo?e:new Jo(t,{pub:e,pubEnc:r})},Jo.fromPrivate=function(t,e,r){return e instanceof Jo?e:new Jo(t,{priv:e,privEnc:r})},Jo.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Jo.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Jo.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Jo.prototype._importPrivate=function(t,e){this.priv=new fn(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Jo.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Xo(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Xo(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Jo.prototype.derive=function(t){return t.mul(this.priv).getX()},Jo.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Jo.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Jo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ea=Ca.utils,ra=ea.assert;function na(t,e){if(t instanceof na)return t;this._importDER(t,e)||(ra(t.r&&t.s,"Signature without r or s"),this.r=new fn(t.r,16),this.s=new fn(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ia=na;function oa(t,e){var r=t[e.place++];if(!(128&r))return r;for(var n=15&r,i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a];return e.place=a,i}function aa(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function sa(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}na.prototype._importDER=function(t,e){t=ea.toArray(t,e);var r=new function(){this.place=0};if(48!==t[r.place++])return!1;if(oa(t,r)+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var n=oa(t,r),i=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var o=oa(t,r);if(t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===a[0]&&128&a[1]&&(a=a.slice(1)),this.r=new fn(i),this.s=new fn(a),this.recoveryParam=null,!0},na.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=aa(e),r=aa(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];sa(n,e.length),(n=n.concat(e)).push(2),sa(n,r.length);var i=n.concat(r),o=[48];return sa(o,i.length),o=o.concat(i),ea.encode(o,t)};var ua=Ca.utils.assert;function ca(t){if(!(this instanceof ca))return new ca(t);"string"==typeof t&&(ua(Ca.curves.hasOwnProperty(t),"Unknown curve "+t),t=Ca.curves[t]),t instanceof Ca.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var fa=ca;ca.prototype.keyPair=function(t){return new ta(this,t)},ca.prototype.keyFromPrivate=function(t,e){return ta.fromPrivate(this,t,e)},ca.prototype.keyFromPublic=function(t,e){return ta.fromPublic(this,t,e)},ca.prototype.genKeyPair=function(t){t||(t={});for(var e=new Qo({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Ca.rand(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new fn(2));;){var i=new fn(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},ca.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},ca.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new fn(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),a=t.toArray("be",i),s=new Qo({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new fn(1)),c=0;;c++){var f=n.k?n.k(c):new fn(s.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var l=h.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new ia({r:d,s:p,recoveryParam:m})}}}}}},ca.prototype.verify=function(t,e,r,n){t=this._truncateToN(new fn(t,16)),r=this.keyFromPublic(r,n);var i=(e=new ia(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(t).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},ca.prototype.recoverPubKey=function(t,e,r,n){ua((3&r)===r,"The recovery param is more than two bits"),e=new ia(e,n);var i=this.n,o=new fn(t),a=e.r,s=e.s,u=1&r,c=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");a=c?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var f=e.r.invm(i),h=i.sub(o).mul(f).umod(i),l=s.mul(f).umod(i);return this.g.mulAdd(h,a,l)},ca.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new ia(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ha=Ca.utils,la=ha.assert,da=ha.parseBytes,pa=ha.cachedProperty;function ma(t,e){this.eddsa=t,this._secret=da(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=da(e.pub)}ma.fromPublic=function(t,e){return e instanceof ma?e:new ma(t,{pub:e})},ma.fromSecret=function(t,e){return e instanceof ma?e:new ma(t,{secret:e})},ma.prototype.secret=function(){return this._secret},pa(ma,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),pa(ma,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),pa(ma,"privBytes",function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),pa(ma,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),pa(ma,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),pa(ma,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),ma.prototype.sign=function(t){return la(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},ma.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},ma.prototype.getSecret=function(t){return la(this._secret,"KeyPair is public only"),ha.encode(this.secret(),t)},ma.prototype.getPublic=function(t){return ha.encode(this.pubBytes(),t)};var ya=ma,va=Ca.utils,ga=va.assert,ba=va.cachedProperty,wa=va.parseBytes;function _a(t,e){this.eddsa=t,"object"!=typeof e&&(e=wa(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),ga(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof fn&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}ba(_a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),ba(_a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),ba(_a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),ba(_a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),_a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},_a.prototype.toHex=function(){return va.encode(this.toBytes(),"hex").toUpperCase()};var ka=_a,Sa=Ca.utils,Ea=Sa.assert,Ma=Sa.parseBytes;function Aa(t){if(Ea("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof Aa))return new Aa(t);t=Ca.curves[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=$o.sha512}var xa=Aa;Aa.prototype.sign=function(t,e){t=Ma(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),t).mul(r.priv()),s=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},Aa.prototype.verify=function(t,e,r){t=Ma(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(o)},Aa.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return Sa.intFromLE(t.digest()).umod(this.curve.n)},Aa.prototype.keyFromPublic=function(t){return ya.fromPublic(this,t)},Aa.prototype.keyFromSecret=function(t){return ya.fromSecret(this,t)},Aa.prototype.makeSignature=function(t){return t instanceof ka?t:new ka(this,t)},Aa.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},Aa.prototype.decodePoint=function(t){var e=(t=Sa.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=Sa.intFromLE(r);return this.curve.pointFromY(i,n)},Aa.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},Aa.prototype.decodeInt=function(t){return Sa.intFromLE(t)},Aa.prototype.isPoint=function(t){return t instanceof this.pointClass};var Ba=jn&&On||jn,Ca=et(function(t,e){var r=e;r.version=Ba.version,r.utils=Kn,r.rand=zn,r.curve=vi,r.curves=Yo,r.ec=fa,r.eddsa=xa}),Ia={encode:function(t){var e=function(t){return(e=t.toString(16)).length%2==0?e:"0"+e;var e},r=function(t,r){return t<56?e(r+t):e(r+e(t).length/2+55)+e(t)};return"0x"+function t(e){if("string"==typeof e){var n=e.slice(2);return(2!=n.length||n>="80"?r(n.length/2,128):"")+n}var i=e.map(t).join("");return r(i.length/2,192)+i}(t)},decode:function(t){var e=2,r=function(){if(e>=t.length)throw"";var r=t.slice(e,e+2);return r<"80"?(e+=2,"0x"+r):r<"c0"?i():o()},n=function(){var r=parseInt(t.slice(e,e+=2),16)%64;return r<56?r:parseInt(t.slice(e,e+=2*(r-55)),16)},i=function(){var r=n();return"0x"+t.slice(e,e+=2*r)},o=function(){for(var t=2*n()+e,i=[];e<t;)i.push(r());return i};try{return r()}catch(t){return[]}}},Ta="0123456789abcdef".split(""),Pa=[1,256,65536,16777216],Na=[0,8,16,24],Ra=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],La=function(t){var e,r,n,i,o,a,s,u,c,f,h,l,d,p,m,y,v,g,b,w,_,k,S,E,M,A,x,B,C,I,T,P,N,R,L,O,j,D,U,F,q,K,z,V,H,G,$,W,Y,Z,Q,X,J,tt,et,rt,nt,it,ot,at,st,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],h=t[7]^t[17]^t[27]^t[37]^t[47],e=(l=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|s>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(s<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(f<<1|h>>>31),r=s^(h<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(l<<1|d>>>31),r=c^(d<<1|l>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|o>>>31),r=h^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,p=t[0],m=t[1],G=t[11]<<4|t[10]>>>28,$=t[10]<<4|t[11]>>>28,B=t[20]<<3|t[21]>>>29,C=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,st=t[30]<<9|t[31]>>>23,K=t[40]<<18|t[41]>>>14,z=t[41]<<18|t[40]>>>14,R=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,Y=t[23]<<10|t[22]>>>22,I=t[33]<<13|t[32]>>>19,T=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,tt=t[5]<<30|t[4]>>>2,et=t[4]<<30|t[5]>>>2,O=t[14]<<6|t[15]>>>26,j=t[15]<<6|t[14]>>>26,g=t[25]<<11|t[24]>>>21,b=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Q=t[35]<<15|t[34]>>>17,P=t[45]<<29|t[44]>>>3,N=t[44]<<29|t[45]>>>3,E=t[6]<<28|t[7]>>>4,M=t[7]<<28|t[6]>>>4,rt=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,X=t[47]<<24|t[46]>>>8,J=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,H=t[9]<<27|t[8]>>>5,A=t[18]<<20|t[19]>>>12,x=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,F=t[38]<<8|t[39]>>>24,q=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=p^~y&g,t[1]=m^~v&b,t[10]=E^~A&B,t[11]=M^~x&C,t[20]=R^~O&D,t[21]=L^~j&U,t[30]=V^~G&W,t[31]=H^~$&Y,t[40]=tt^~rt&it,t[41]=et^~nt&ot,t[2]=y^~g&w,t[3]=v^~b&_,t[12]=A^~B&I,t[13]=x^~C&T,t[22]=O^~D&F,t[23]=j^~U&q,t[32]=G^~W&Z,t[33]=$^~Y&Q,t[42]=rt^~it&at,t[43]=nt^~ot&st,t[4]=g^~w&k,t[5]=b^~_&S,t[14]=B^~I&P,t[15]=C^~T&N,t[24]=D^~F&K,t[25]=U^~q&z,t[34]=W^~Z&X,t[35]=Y^~Q&J,t[44]=it^~at&ut,t[45]=ot^~st&ct,t[6]=w^~k&p,t[7]=_^~S&m,t[16]=I^~P&E,t[17]=T^~N&M,t[26]=F^~K&R,t[27]=q^~z&L,t[36]=Z^~X&V,t[37]=Q^~J&H,t[46]=at^~ut&tt,t[47]=st^~ct&et,t[8]=k^~p&y,t[9]=S^~m&v,t[18]=P^~E&A,t[19]=N^~M&x,t[28]=K^~R&O,t[29]=z^~L&j,t[38]=X^~V&G,t[39]=J^~H&$,t[48]=ut^~tt&rt,t[49]=ct^~et&nt,t[0]^=Ra[n],t[1]^=Ra[n+1]},Oa=function(t){return function(e){var r;if("0x"===e.slice(0,2)){r=[];for(var n=2,i=e.length;n<i;n+=2)r.push(parseInt(e.slice(n,n+2),16))}else r=e;return function(t,e){for(var r,n=e.length,i=t.blocks,o=t.blockCount<<2,a=t.blockCount,s=t.outputBlocks,u=t.s,c=0;c<n;){if(t.reset)for(t.reset=!1,i[0]=t.block,l=1;l<a+1;++l)i[l]=0;if("string"!=typeof e)for(l=t.start;c<n&&l<o;++c)i[l>>2]|=e[c]<<Na[3&l++];else for(l=t.start;c<n&&l<o;++c)(r=e.charCodeAt(c))<128?i[l>>2]|=r<<Na[3&l++]:r<2048?(i[l>>2]|=(192|r>>6)<<Na[3&l++],i[l>>2]|=(128|63&r)<<Na[3&l++]):r<55296||r>=57344?(i[l>>2]|=(224|r>>12)<<Na[3&l++],i[l>>2]|=(128|r>>6&63)<<Na[3&l++],i[l>>2]|=(128|63&r)<<Na[3&l++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++c)),i[l>>2]|=(240|r>>18)<<Na[3&l++],i[l>>2]|=(128|r>>12&63)<<Na[3&l++],i[l>>2]|=(128|r>>6&63)<<Na[3&l++],i[l>>2]|=(128|63&r)<<Na[3&l++]);if(t.lastByteIndex=l,l>=o){for(t.start=l-o,t.block=i[a],l=0;l<a;++l)u[l]^=i[l];La(u),t.reset=!0}else t.start=l}if(i[(l=t.lastByteIndex)>>2]|=Pa[3&l],t.lastByteIndex===o)for(i[0]=i[a],l=1;l<a+1;++l)i[l]=0;for(i[a-1]|=2147483648,l=0;l<a;++l)u[l]^=i[l];La(u);for(var f,h="",l=0,d=0;d<s;){for(l=0;l<a&&d<s;++l,++d)f=u[l],h+=Ta[f>>4&15]+Ta[15&f]+Ta[f>>12&15]+Ta[f>>8&15]+Ta[f>>20&15]+Ta[f>>16&15]+Ta[f>>28&15]+Ta[f>>24&15];d%a==0&&(La(u),l=0)}return"0x"+h}(function(t){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(t<<1)>>5,outputBlocks:t>>5,s:(e=[0,0,0,0,0,0,0,0,0,0],[].concat(e,e,e,e,e))};var e}(t),r)}},ja={keccak256:Oa(256),keccak512:Oa(512),keccak256s:Oa(256),keccak512s:Oa(512)},Da=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ua=new Ca.ec("secp256k1"),Fa=ja.keccak256,qa=ja.keccak256s,Ka=function(t){for(var e=qa(t.slice(2)),r="0x",n=0;n<40;n++)r+=parseInt(e[n+2],16)>7?t[n+2].toUpperCase():t[n+2];return r},za=function(t){var e=new Buffer(t.slice(2),"hex"),r="0x"+Ua.keyFromPrivate(e).getPublic(!1,"hex").slice(2),n=Fa(r);return{address:Ka("0x"+n.slice(-40)),privateKey:t}},Va=function(t){var e=Da(t,3),r=e[0],n=an.pad(32,e[1]),i=an.pad(32,e[2]);return an.flatten([n,i,r])},Ha=function(t){return[an.slice(64,an.length(t),t),an.slice(0,32,t),an.slice(32,64,t)]},Ga=function(t){return function(e,r){var n=Ua.keyFromPrivate(new Buffer(r.slice(2),"hex")).sign(new Buffer(e.slice(2),"hex"),{canonical:!0});return Va([wn.fromString(an.fromNumber(t+n.recoveryParam)),an.pad(32,an.fromNat("0x"+n.r.toString(16))),an.pad(32,an.fromNat("0x"+n.s.toString(16)))])}},$a=Ga(27),Wa={create:function(t){var e=Fa(an.concat(an.random(32),t||an.random(32))),r=an.concat(an.concat(an.random(32),e),an.random(32)),n=Fa(r);return za(n)},toChecksum:Ka,fromPrivate:za,sign:$a,makeSigner:Ga,recover:function(t,e){var r=Ha(e),n={v:an.toNumber(r[0]),r:r[1].slice(2),s:r[2].slice(2)},i="0x"+Ua.recoverPubKey(new Buffer(t.slice(2),"hex"),n,n.v<2?n.v:1-n.v%2).encode("hex",!1).slice(2),o=Fa(i);return Ka("0x"+o.slice(-40))},encodeSignature:Va,decodeSignature:Ha},Ya=et(function(e,r){var n=t.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return n(t,e,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=t:(i(t,r),r.Buffer=o),i(n,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return n(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=n(t);return void 0!==e?"string"==typeof r?i.fill(e,r):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n(t)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return t.SlowBuffer(e)}}),Za=(Ya.Buffer,et(function(t){var e=Ya.Buffer,r=X.crypto||X.msCrypto;r&&r.getRandomValues?t.exports=function(t,n){if(t>65536)throw new Error("requested too many random bytes");var i=new X.Uint8Array(t);t>0&&r.getRandomValues(i);var o=e.from(i.buffer);if("function"==typeof n)return process.nextTick(function(){n(null,o)});return o}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),Qa=4,Xa=new Buffer(Qa);Xa.fill(0);var Ja=function(t,e){var r=e(function(t){if(t.length%Qa!=0){var e=t.length+(Qa-t.length%Qa);t=Buffer.concat([t,Xa],e)}for(var r=new Array(t.length>>>2),n=0,i=0;n<t.length;n+=Qa,i++)r[i]=t.readInt32LE(n);return r}(t),8*t.length);t=new Buffer(16);for(var n=0;n<r.length;n++)t.writeInt32LE(r[n],n<<2,!0);return t};function ts(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=r,u=n,c=i,f=o;n=os(n=os(n=os(n=os(n=is(n=is(n=is(n=is(n=ns(n=ns(n=ns(n=ns(n=rs(n=rs(n=rs(n=rs(n,i=rs(i,o=rs(o,r=rs(r,n,i,o,t[a+0],7,-680876936),n,i,t[a+1],12,-389564586),r,n,t[a+2],17,606105819),o,r,t[a+3],22,-1044525330),i=rs(i,o=rs(o,r=rs(r,n,i,o,t[a+4],7,-176418897),n,i,t[a+5],12,1200080426),r,n,t[a+6],17,-1473231341),o,r,t[a+7],22,-45705983),i=rs(i,o=rs(o,r=rs(r,n,i,o,t[a+8],7,1770035416),n,i,t[a+9],12,-1958414417),r,n,t[a+10],17,-42063),o,r,t[a+11],22,-1990404162),i=rs(i,o=rs(o,r=rs(r,n,i,o,t[a+12],7,1804603682),n,i,t[a+13],12,-40341101),r,n,t[a+14],17,-1502002290),o,r,t[a+15],22,1236535329),i=ns(i,o=ns(o,r=ns(r,n,i,o,t[a+1],5,-165796510),n,i,t[a+6],9,-1069501632),r,n,t[a+11],14,643717713),o,r,t[a+0],20,-373897302),i=ns(i,o=ns(o,r=ns(r,n,i,o,t[a+5],5,-701558691),n,i,t[a+10],9,38016083),r,n,t[a+15],14,-660478335),o,r,t[a+4],20,-405537848),i=ns(i,o=ns(o,r=ns(r,n,i,o,t[a+9],5,568446438),n,i,t[a+14],9,-1019803690),r,n,t[a+3],14,-187363961),o,r,t[a+8],20,1163531501),i=ns(i,o=ns(o,r=ns(r,n,i,o,t[a+13],5,-1444681467),n,i,t[a+2],9,-51403784),r,n,t[a+7],14,1735328473),o,r,t[a+12],20,-1926607734),i=is(i,o=is(o,r=is(r,n,i,o,t[a+5],4,-378558),n,i,t[a+8],11,-2022574463),r,n,t[a+11],16,1839030562),o,r,t[a+14],23,-35309556),i=is(i,o=is(o,r=is(r,n,i,o,t[a+1],4,-1530992060),n,i,t[a+4],11,1272893353),r,n,t[a+7],16,-155497632),o,r,t[a+10],23,-1094730640),i=is(i,o=is(o,r=is(r,n,i,o,t[a+13],4,681279174),n,i,t[a+0],11,-358537222),r,n,t[a+3],16,-722521979),o,r,t[a+6],23,76029189),i=is(i,o=is(o,r=is(r,n,i,o,t[a+9],4,-640364487),n,i,t[a+12],11,-421815835),r,n,t[a+15],16,530742520),o,r,t[a+2],23,-995338651),i=os(i,o=os(o,r=os(r,n,i,o,t[a+0],6,-198630844),n,i,t[a+7],10,1126891415),r,n,t[a+14],15,-1416354905),o,r,t[a+5],21,-57434055),i=os(i,o=os(o,r=os(r,n,i,o,t[a+12],6,1700485571),n,i,t[a+3],10,-1894986606),r,n,t[a+10],15,-1051523),o,r,t[a+1],21,-2054922799),i=os(i,o=os(o,r=os(r,n,i,o,t[a+8],6,1873313359),n,i,t[a+15],10,-30611744),r,n,t[a+6],15,-1560198380),o,r,t[a+13],21,1309151649),i=os(i,o=os(o,r=os(r,n,i,o,t[a+4],6,-145523070),n,i,t[a+11],10,-1120210379),r,n,t[a+2],15,718787259),o,r,t[a+9],21,-343485551),r=as(r,s),n=as(n,u),i=as(i,c),o=as(o,f)}return[r,n,i,o]}function es(t,e,r,n,i,o){return as((a=as(as(e,t),as(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function rs(t,e,r,n,i,o,a){return es(e&r|~e&n,t,e,i,o,a)}function ns(t,e,r,n,i,o,a){return es(e&n|r&~n,t,e,i,o,a)}function is(t,e,r,n,i,o,a){return es(e^r^n,t,e,i,o,a)}function os(t,e,r,n,i,o,a){return es(r^(e|~n),t,e,i,o,a)}function as(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}var ss=function(t){return Ja(t,ts)},us=e.Transform;function cs(t){us.call(this),this._block=new Buffer(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}ti(cs,us),cs.prototype._transform=function(t,e,r){var n=null;try{"buffer"!==e&&(t=new Buffer(t,e)),this.update(t)}catch(t){n=t}r(n)},cs.prototype._flush=function(t){var e=null;try{this.push(this._digest())}catch(t){e=t}t(e)},cs.prototype.update=function(t,e){if(!Buffer.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(t)||(t=new Buffer(t,e||"binary"));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},cs.prototype._update=function(t){throw new Error("_update is not implemented")},cs.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();return void 0!==t&&(e=e.toString(t)),e},cs.prototype._digest=function(){throw new Error("_digest is not implemented")};var fs=cs;function hs(){fs.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function ls(t,e){return t<<e|t>>>32-e}function ds(t,e,r,n,i,o,a,s){return ls(t+(e^r^n)+o+a|0,s)+i|0}function ps(t,e,r,n,i,o,a,s){return ls(t+(e&r|~e&n)+o+a|0,s)+i|0}function ms(t,e,r,n,i,o,a,s){return ls(t+((e|~r)^n)+o+a|0,s)+i|0}function ys(t,e,r,n,i,o,a,s){return ls(t+(e&n|r&~n)+o+a|0,s)+i|0}function vs(t,e,r,n,i,o,a,s){return ls(t+(e^(r|~n))+o+a|0,s)+i|0}ti(hs,fs),hs.prototype._update=function(){for(var t=new Array(16),e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d,a=this._e;a=ds(a,r=ds(r,n,i,o,a,t[0],0,11),n,i=ls(i,10),o,t[1],0,14),n=ds(n=ls(n,10),i=ds(i,o=ds(o,a,r,n,i,t[2],0,15),a,r=ls(r,10),n,t[3],0,12),o,a=ls(a,10),r,t[4],0,5),o=ds(o=ls(o,10),a=ds(a,r=ds(r,n,i,o,a,t[5],0,8),n,i=ls(i,10),o,t[6],0,7),r,n=ls(n,10),i,t[7],0,9),r=ds(r=ls(r,10),n=ds(n,i=ds(i,o,a,r,n,t[8],0,11),o,a=ls(a,10),r,t[9],0,13),i,o=ls(o,10),a,t[10],0,14),i=ds(i=ls(i,10),o=ds(o,a=ds(a,r,n,i,o,t[11],0,15),r,n=ls(n,10),i,t[12],0,6),a,r=ls(r,10),n,t[13],0,7),a=ps(a=ls(a,10),r=ds(r,n=ds(n,i,o,a,r,t[14],0,9),i,o=ls(o,10),a,t[15],0,8),n,i=ls(i,10),o,t[7],1518500249,7),n=ps(n=ls(n,10),i=ps(i,o=ps(o,a,r,n,i,t[4],1518500249,6),a,r=ls(r,10),n,t[13],1518500249,8),o,a=ls(a,10),r,t[1],1518500249,13),o=ps(o=ls(o,10),a=ps(a,r=ps(r,n,i,o,a,t[10],1518500249,11),n,i=ls(i,10),o,t[6],1518500249,9),r,n=ls(n,10),i,t[15],1518500249,7),r=ps(r=ls(r,10),n=ps(n,i=ps(i,o,a,r,n,t[3],1518500249,15),o,a=ls(a,10),r,t[12],1518500249,7),i,o=ls(o,10),a,t[0],1518500249,12),i=ps(i=ls(i,10),o=ps(o,a=ps(a,r,n,i,o,t[9],1518500249,15),r,n=ls(n,10),i,t[5],1518500249,9),a,r=ls(r,10),n,t[2],1518500249,11),a=ps(a=ls(a,10),r=ps(r,n=ps(n,i,o,a,r,t[14],1518500249,7),i,o=ls(o,10),a,t[11],1518500249,13),n,i=ls(i,10),o,t[8],1518500249,12),n=ms(n=ls(n,10),i=ms(i,o=ms(o,a,r,n,i,t[3],1859775393,11),a,r=ls(r,10),n,t[10],1859775393,13),o,a=ls(a,10),r,t[14],1859775393,6),o=ms(o=ls(o,10),a=ms(a,r=ms(r,n,i,o,a,t[4],1859775393,7),n,i=ls(i,10),o,t[9],1859775393,14),r,n=ls(n,10),i,t[15],1859775393,9),r=ms(r=ls(r,10),n=ms(n,i=ms(i,o,a,r,n,t[8],1859775393,13),o,a=ls(a,10),r,t[1],1859775393,15),i,o=ls(o,10),a,t[2],1859775393,14),i=ms(i=ls(i,10),o=ms(o,a=ms(a,r,n,i,o,t[7],1859775393,8),r,n=ls(n,10),i,t[0],1859775393,13),a,r=ls(r,10),n,t[6],1859775393,6),a=ms(a=ls(a,10),r=ms(r,n=ms(n,i,o,a,r,t[13],1859775393,5),i,o=ls(o,10),a,t[11],1859775393,12),n,i=ls(i,10),o,t[5],1859775393,7),n=ys(n=ls(n,10),i=ys(i,o=ms(o,a,r,n,i,t[12],1859775393,5),a,r=ls(r,10),n,t[1],2400959708,11),o,a=ls(a,10),r,t[9],2400959708,12),o=ys(o=ls(o,10),a=ys(a,r=ys(r,n,i,o,a,t[11],2400959708,14),n,i=ls(i,10),o,t[10],2400959708,15),r,n=ls(n,10),i,t[0],2400959708,14),r=ys(r=ls(r,10),n=ys(n,i=ys(i,o,a,r,n,t[8],2400959708,15),o,a=ls(a,10),r,t[12],2400959708,9),i,o=ls(o,10),a,t[4],2400959708,8),i=ys(i=ls(i,10),o=ys(o,a=ys(a,r,n,i,o,t[13],2400959708,9),r,n=ls(n,10),i,t[3],2400959708,14),a,r=ls(r,10),n,t[7],2400959708,5),a=ys(a=ls(a,10),r=ys(r,n=ys(n,i,o,a,r,t[15],2400959708,6),i,o=ls(o,10),a,t[14],2400959708,8),n,i=ls(i,10),o,t[5],2400959708,6),n=vs(n=ls(n,10),i=ys(i,o=ys(o,a,r,n,i,t[6],2400959708,5),a,r=ls(r,10),n,t[2],2400959708,12),o,a=ls(a,10),r,t[4],2840853838,9),o=vs(o=ls(o,10),a=vs(a,r=vs(r,n,i,o,a,t[0],2840853838,15),n,i=ls(i,10),o,t[5],2840853838,5),r,n=ls(n,10),i,t[9],2840853838,11),r=vs(r=ls(r,10),n=vs(n,i=vs(i,o,a,r,n,t[7],2840853838,6),o,a=ls(a,10),r,t[12],2840853838,8),i,o=ls(o,10),a,t[2],2840853838,13),i=vs(i=ls(i,10),o=vs(o,a=vs(a,r,n,i,o,t[10],2840853838,12),r,n=ls(n,10),i,t[14],2840853838,5),a,r=ls(r,10),n,t[1],2840853838,12),a=vs(a=ls(a,10),r=vs(r,n=vs(n,i,o,a,r,t[3],2840853838,13),i,o=ls(o,10),a,t[8],2840853838,14),n,i=ls(i,10),o,t[11],2840853838,11),n=vs(n=ls(n,10),i=vs(i,o=vs(o,a,r,n,i,t[6],2840853838,8),a,r=ls(r,10),n,t[15],2840853838,5),o,a=ls(a,10),r,t[13],2840853838,6),o=ls(o,10);var s=this._a,u=this._b,c=this._c,f=this._d,h=this._e;h=vs(h,s=vs(s,u,c,f,h,t[5],1352829926,8),u,c=ls(c,10),f,t[14],1352829926,9),u=vs(u=ls(u,10),c=vs(c,f=vs(f,h,s,u,c,t[7],1352829926,9),h,s=ls(s,10),u,t[0],1352829926,11),f,h=ls(h,10),s,t[9],1352829926,13),f=vs(f=ls(f,10),h=vs(h,s=vs(s,u,c,f,h,t[2],1352829926,15),u,c=ls(c,10),f,t[11],1352829926,15),s,u=ls(u,10),c,t[4],1352829926,5),s=vs(s=ls(s,10),u=vs(u,c=vs(c,f,h,s,u,t[13],1352829926,7),f,h=ls(h,10),s,t[6],1352829926,7),c,f=ls(f,10),h,t[15],1352829926,8),c=vs(c=ls(c,10),f=vs(f,h=vs(h,s,u,c,f,t[8],1352829926,11),s,u=ls(u,10),c,t[1],1352829926,14),h,s=ls(s,10),u,t[10],1352829926,14),h=ys(h=ls(h,10),s=vs(s,u=vs(u,c,f,h,s,t[3],1352829926,12),c,f=ls(f,10),h,t[12],1352829926,6),u,c=ls(c,10),f,t[6],1548603684,9),u=ys(u=ls(u,10),c=ys(c,f=ys(f,h,s,u,c,t[11],1548603684,13),h,s=ls(s,10),u,t[3],1548603684,15),f,h=ls(h,10),s,t[7],1548603684,7),f=ys(f=ls(f,10),h=ys(h,s=ys(s,u,c,f,h,t[0],1548603684,12),u,c=ls(c,10),f,t[13],1548603684,8),s,u=ls(u,10),c,t[5],1548603684,9),s=ys(s=ls(s,10),u=ys(u,c=ys(c,f,h,s,u,t[10],1548603684,11),f,h=ls(h,10),s,t[14],1548603684,7),c,f=ls(f,10),h,t[15],1548603684,7),c=ys(c=ls(c,10),f=ys(f,h=ys(h,s,u,c,f,t[8],1548603684,12),s,u=ls(u,10),c,t[12],1548603684,7),h,s=ls(s,10),u,t[4],1548603684,6),h=ys(h=ls(h,10),s=ys(s,u=ys(u,c,f,h,s,t[9],1548603684,15),c,f=ls(f,10),h,t[1],1548603684,13),u,c=ls(c,10),f,t[2],1548603684,11),u=ms(u=ls(u,10),c=ms(c,f=ms(f,h,s,u,c,t[15],1836072691,9),h,s=ls(s,10),u,t[5],1836072691,7),f,h=ls(h,10),s,t[1],1836072691,15),f=ms(f=ls(f,10),h=ms(h,s=ms(s,u,c,f,h,t[3],1836072691,11),u,c=ls(c,10),f,t[7],1836072691,8),s,u=ls(u,10),c,t[14],1836072691,6),s=ms(s=ls(s,10),u=ms(u,c=ms(c,f,h,s,u,t[6],1836072691,6),f,h=ls(h,10),s,t[9],1836072691,14),c,f=ls(f,10),h,t[11],1836072691,12),c=ms(c=ls(c,10),f=ms(f,h=ms(h,s,u,c,f,t[8],1836072691,13),s,u=ls(u,10),c,t[12],1836072691,5),h,s=ls(s,10),u,t[2],1836072691,14),h=ms(h=ls(h,10),s=ms(s,u=ms(u,c,f,h,s,t[10],1836072691,13),c,f=ls(f,10),h,t[0],1836072691,13),u,c=ls(c,10),f,t[4],1836072691,7),u=ps(u=ls(u,10),c=ps(c,f=ms(f,h,s,u,c,t[13],1836072691,5),h,s=ls(s,10),u,t[8],2053994217,15),f,h=ls(h,10),s,t[6],2053994217,5),f=ps(f=ls(f,10),h=ps(h,s=ps(s,u,c,f,h,t[4],2053994217,8),u,c=ls(c,10),f,t[1],2053994217,11),s,u=ls(u,10),c,t[3],2053994217,14),s=ps(s=ls(s,10),u=ps(u,c=ps(c,f,h,s,u,t[11],2053994217,14),f,h=ls(h,10),s,t[15],2053994217,6),c,f=ls(f,10),h,t[0],2053994217,14),c=ps(c=ls(c,10),f=ps(f,h=ps(h,s,u,c,f,t[5],2053994217,6),s,u=ls(u,10),c,t[12],2053994217,9),h,s=ls(s,10),u,t[2],2053994217,12),h=ps(h=ls(h,10),s=ps(s,u=ps(u,c,f,h,s,t[13],2053994217,9),c,f=ls(f,10),h,t[9],2053994217,12),u,c=ls(c,10),f,t[7],2053994217,5),u=ds(u=ls(u,10),c=ps(c,f=ps(f,h,s,u,c,t[10],2053994217,15),h,s=ls(s,10),u,t[14],2053994217,8),f,h=ls(h,10),s,t[12],0,8),f=ds(f=ls(f,10),h=ds(h,s=ds(s,u,c,f,h,t[15],0,5),u,c=ls(c,10),f,t[10],0,12),s,u=ls(u,10),c,t[4],0,9),s=ds(s=ls(s,10),u=ds(u,c=ds(c,f,h,s,u,t[1],0,12),f,h=ls(h,10),s,t[5],0,5),c,f=ls(f,10),h,t[8],0,14),c=ds(c=ls(c,10),f=ds(f,h=ds(h,s,u,c,f,t[7],0,6),s,u=ls(u,10),c,t[6],0,8),h,s=ls(s,10),u,t[2],0,13),h=ds(h=ls(h,10),s=ds(s,u=ds(u,c,f,h,s,t[13],0,6),c,f=ls(f,10),h,t[14],0,5),u,c=ls(c,10),f,t[0],0,15),u=ds(u=ls(u,10),c=ds(c,f=ds(f,h,s,u,c,t[3],0,13),h,s=ls(s,10),u,t[9],0,11),f,h=ls(h,10),s,t[11],0,11),f=ls(f,10);var l=this._b+i+f|0;this._b=this._c+o+h|0,this._c=this._d+a+s|0,this._d=this._e+r+u|0,this._e=this._a+n+c|0,this._a=l},hs.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new Buffer(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};var gs=hs,bs=Ya.Buffer;function ws(t,e){this._block=bs.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}ws.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=bs.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,o=this._len,a=0;a<i;){for(var s=o%n,u=Math.min(i-a,n-s),c=0;c<u;c++)r[s+c]=t[a+c];a+=u,(o+=u)%n==0&&this._update(r)}return this._len+=i,this},ws.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},ws.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var _s=ws,ks=Ya.Buffer,Ss=[1518500249,1859775393,-1894007588,-899497514],Es=new Array(80);function Ms(){this.init(),this._w=Es,_s.call(this,64,56)}function As(t){return t<<30|t>>>2}function xs(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}ti(Ms,_s),Ms.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Ms.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,u=0;u<16;++u)r[u]=t.readInt32BE(4*u);for(;u<80;++u)r[u]=r[u-3]^r[u-8]^r[u-14]^r[u-16];for(var c=0;c<80;++c){var f=~~(c/20),h=0|((e=n)<<5|e>>>27)+xs(f,i,o,a)+s+r[c]+Ss[f];s=a,a=o,o=As(i),i=n,n=h}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},Ms.prototype._hash=function(){var t=ks.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t};var Bs=Ms,Cs=Ya.Buffer,Is=[1518500249,1859775393,-1894007588,-899497514],Ts=new Array(80);function Ps(){this.init(),this._w=Ts,_s.call(this,64,56)}function Ns(t){return t<<5|t>>>27}function Rs(t){return t<<30|t>>>2}function Ls(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}ti(Ps,_s),Ps.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Ps.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,u=0;u<16;++u)r[u]=t.readInt32BE(4*u);for(;u<80;++u)r[u]=(e=r[u-3]^r[u-8]^r[u-14]^r[u-16])<<1|e>>>31;for(var c=0;c<80;++c){var f=~~(c/20),h=Ns(n)+Ls(f,i,o,a)+s+r[c]+Is[f]|0;s=a,a=o,o=Rs(i),i=n,n=h}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},Ps.prototype._hash=function(){var t=Cs.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t};var Os=Ps,js=Ya.Buffer,Ds=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Us=new Array(64);function Fs(){this.init(),this._w=Us,_s.call(this,64,56)}function qs(t,e,r){return r^t&(e^r)}function Ks(t,e,r){return t&e|r&(t|e)}function zs(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Vs(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Hs(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}ti(Fs,_s),Fs.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Fs.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,u=0|this._f,c=0|this._g,f=0|this._h,h=0;h<16;++h)r[h]=t.readInt32BE(4*h);for(;h<64;++h)r[h]=0|(((e=r[h-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[h-7]+Hs(r[h-15])+r[h-16];for(var l=0;l<64;++l){var d=f+Vs(s)+qs(s,u,c)+Ds[l]+r[l]|0,p=zs(n)+Ks(n,i,o)|0;f=c,c=u,u=s,s=a+d|0,a=o,o=i,i=n,n=d+p|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=u+this._f|0,this._g=c+this._g|0,this._h=f+this._h|0},Fs.prototype._hash=function(){var t=js.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Gs=Fs,$s=Ya.Buffer,Ws=new Array(64);function Ys(){this.init(),this._w=Ws,_s.call(this,64,56)}ti(Ys,Gs),Ys.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Ys.prototype._hash=function(){var t=$s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Zs=Ys,Qs=Ya.Buffer,Xs=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Js=new Array(160);function tu(){this.init(),this._w=Js,_s.call(this,128,112)}function eu(t,e,r){return r^t&(e^r)}function ru(t,e,r){return t&e|r&(t|e)}function nu(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function iu(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function ou(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function au(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function su(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function uu(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function cu(t,e){return t>>>0<e>>>0?1:0}ti(tu,_s),tu.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},tu.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,s=0|this._fh,u=0|this._gh,c=0|this._hh,f=0|this._al,h=0|this._bl,l=0|this._cl,d=0|this._dl,p=0|this._el,m=0|this._fl,y=0|this._gl,v=0|this._hl,g=0;g<32;g+=2)e[g]=t.readInt32BE(4*g),e[g+1]=t.readInt32BE(4*g+4);for(;g<160;g+=2){var b=e[g-30],w=e[g-30+1],_=ou(b,w),k=au(w,b),S=su(b=e[g-4],w=e[g-4+1]),E=uu(w,b),M=e[g-14],A=e[g-14+1],x=e[g-32],B=e[g-32+1],C=k+A|0,I=_+M+cu(C,k)|0;I=(I=I+S+cu(C=C+E|0,E)|0)+x+cu(C=C+B|0,B)|0,e[g]=I,e[g+1]=C}for(var T=0;T<160;T+=2){I=e[T],C=e[T+1];var P=ru(r,n,i),N=ru(f,h,l),R=nu(r,f),L=nu(f,r),O=iu(a,p),j=iu(p,a),D=Xs[T],U=Xs[T+1],F=eu(a,s,u),q=eu(p,m,y),K=v+j|0,z=c+O+cu(K,v)|0;z=(z=(z=z+F+cu(K=K+q|0,q)|0)+D+cu(K=K+U|0,U)|0)+I+cu(K=K+C|0,C)|0;var V=L+N|0,H=R+P+cu(V,L)|0;c=u,v=y,u=s,y=m,s=a,m=p,a=o+z+cu(p=d+K|0,d)|0,o=i,d=l,i=n,l=h,n=r,h=f,r=z+H+cu(f=K+V|0,K)|0}this._al=this._al+f|0,this._bl=this._bl+h|0,this._cl=this._cl+l|0,this._dl=this._dl+d|0,this._el=this._el+p|0,this._fl=this._fl+m|0,this._gl=this._gl+y|0,this._hl=this._hl+v|0,this._ah=this._ah+r+cu(this._al,f)|0,this._bh=this._bh+n+cu(this._bl,h)|0,this._ch=this._ch+i+cu(this._cl,l)|0,this._dh=this._dh+o+cu(this._dl,d)|0,this._eh=this._eh+a+cu(this._el,p)|0,this._fh=this._fh+s+cu(this._fl,m)|0,this._gh=this._gh+u+cu(this._gl,y)|0,this._hh=this._hh+c+cu(this._hl,v)|0},tu.prototype._hash=function(){var t=Qs.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var fu=tu,hu=Ya.Buffer,lu=new Array(160);function du(){this.init(),this._w=lu,_s.call(this,128,112)}ti(du,fu),du.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},du.prototype._hash=function(){var t=hu.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var pu=du,mu=et(function(t){var e=t.exports=function(t){t=t.toLowerCase();var r=e[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};e.sha=Bs,e.sha1=Os,e.sha224=Zs,e.sha256=Gs,e.sha384=pu,e.sha512=fu}),yu=Ya.Buffer,vu=e.Transform,gu=r.StringDecoder;function bu(t){vu.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}ti(bu,vu),bu.prototype.update=function(t,e,r){"string"==typeof t&&(t=yu.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},bu.prototype.setAutoPadding=function(){},bu.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},bu.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},bu.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},bu.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},bu.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},bu.prototype._finalOrDigest=function(t){var e=this.__final()||yu.alloc(0);return t&&(e=this._toString(e,t,!0)),e},bu.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new gu(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var wu=bu;function _u(t){wu.call(this,"digest"),this._hash=t,this.buffers=[]}function ku(t){wu.call(this,"digest"),this._hash=t}ti(_u,wu),_u.prototype._update=function(t){this.buffers.push(t)},_u.prototype._final=function(){var t=Buffer.concat(this.buffers),e=this._hash(t);return this.buffers=null,e},ti(ku,wu),ku.prototype._update=function(t){this._hash.update(t)},ku.prototype._final=function(){return this._hash.digest()};var Su=function(t){return"md5"===(t=t.toLowerCase())?new _u(ss):new ku("rmd160"===t||"ripemd160"===t?new gs:mu(t))},Eu=Ya.Buffer,Mu=Eu.alloc(128),Au=64;function xu(t,e){wu.call(this,"digest"),"string"==typeof e&&(e=Eu.from(e)),this._alg=t,this._key=e,e.length>Au?e=t(e):e.length<Au&&(e=Eu.concat([e,Mu],Au));for(var r=this._ipad=Eu.allocUnsafe(Au),n=this._opad=Eu.allocUnsafe(Au),i=0;i<Au;i++)r[i]=54^e[i],n[i]=92^e[i];this._hash=[r]}ti(xu,wu),xu.prototype._update=function(t){this._hash.push(t)},xu.prototype._final=function(){var t=this._alg(Eu.concat(this._hash));return this._alg(Eu.concat([this._opad,t]))};var Bu=xu,Cu=Ya.Buffer,Iu=Cu.alloc(128);function Tu(t,e){wu.call(this,"digest"),"string"==typeof e&&(e=Cu.from(e));var r="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>r)?e=("rmd160"===t?new gs:mu(t)).update(e).digest():e.length<r&&(e=Cu.concat([e,Iu],r));for(var n=this._ipad=Cu.allocUnsafe(r),i=this._opad=Cu.allocUnsafe(r),o=0;o<r;o++)n[o]=54^e[o],i[o]=92^e[o];this._hash="rmd160"===t?new gs:mu(t),this._hash.update(n)}ti(Tu,wu),Tu.prototype._update=function(t){this._hash.update(t)},Tu.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new gs:mu(this._alg)).update(this._opad).update(t).digest()};var Pu,Nu=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new Tu("rmd160",e):"md5"===t?new Bu(ss,e):new Tu(t,e)},Ru={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},Lu={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},Ou={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},ju={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},Du={sign:"ecdsa",hash:"sha256",id:""},Uu={sign:"ecdsa",hash:"sha224",id:""},Fu={sign:"ecdsa",hash:"sha384",id:""},qu={sign:"ecdsa",hash:"sha512",id:""},Ku={sign:"dsa",hash:"sha1",id:""},zu={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},Vu={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},Hu={sha224WithRSAEncryption:Ru,sha256WithRSAEncryption:Lu,sha384WithRSAEncryption:Ou,sha512WithRSAEncryption:ju,sha256:Du,sha224:Uu,sha384:Fu,sha512:qu,DSA:Ku,ripemd160WithRSA:zu,md5WithRSAEncryption:Vu,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}},Gu=Object.freeze({sha224WithRSAEncryption:Ru,sha256WithRSAEncryption:Lu,sha384WithRSAEncryption:Ou,sha512WithRSAEncryption:ju,sha256:Du,sha224:Uu,sha384:Fu,sha512:qu,DSA:Ku,ripemd160WithRSA:zu,md5WithRSAEncryption:Vu,default:Hu}),$u=Gu&&Hu||Gu,Wu=$u,Yu=Math.pow(2,30)-1,Zu=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||e>Yu||e!=e)throw new TypeError("Bad key length")};process.browser?Pu="utf-8":Pu=parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";var Qu=Pu,Xu=Ya.Buffer,Ju=Xu.alloc(128),tc={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function ec(t,e,r){var n=function(t){return"rmd160"===t||"ripemd160"===t?gs:"md5"===t?ss:function(e){return mu(t).update(e).digest()}}(t),i="sha512"===t||"sha384"===t?128:64;e.length>i?e=n(e):e.length<i&&(e=Xu.concat([e,Ju],i));for(var o=Xu.allocUnsafe(i+tc[t]),a=Xu.allocUnsafe(i+tc[t]),s=0;s<i;s++)o[s]=54^e[s],a[s]=92^e[s];var u=Xu.allocUnsafe(i+r+4);o.copy(u,0,0,i),this.ipad1=u,this.ipad2=o,this.opad=a,this.alg=t,this.blocksize=i,this.hash=n,this.size=tc[t]}ec.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)};var rc,nc=function(t,e,r,n,i){Xu.isBuffer(t)||(t=Xu.from(t,Qu)),Xu.isBuffer(e)||(e=Xu.from(e,Qu)),Zu(r,n);var o=new ec(i=i||"sha1",t,e.length),a=Xu.allocUnsafe(n),s=Xu.allocUnsafe(e.length+4);e.copy(s,0,0,e.length);for(var u=0,c=tc[i],f=Math.ceil(n/c),h=1;h<=f;h++){s.writeUInt32BE(h,e.length);for(var l=o.run(s,o.ipad1),d=l,p=1;p<r;p++){d=o.run(d,o.ipad2);for(var m=0;m<c;m++)l[m]^=d[m]}l.copy(a,u),u+=c}return a},ic=Ya.Buffer,oc=X.crypto&&X.crypto.subtle,ac={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},sc=[];function uc(t,e,r,n,i){return oc.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return oc.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},t,n<<3)}).then(function(t){return ic.from(t)})}var cc={pbkdf2:function(t,e,r,n,i,o){if(ic.isBuffer(t)||(t=ic.from(t,Qu)),ic.isBuffer(e)||(e=ic.from(e,Qu)),Zu(r,n),"function"==typeof i&&(o=i,i=void 0),"function"!=typeof o)throw new Error("No callback provided to pbkdf2");var a=ac[(i=i||"sha1").toLowerCase()];if(!a||"function"!=typeof X.Promise)return process.nextTick(function(){var a;try{a=nc(t,e,r,n,i)}catch(t){return o(t)}o(null,a)});!function(t,e){t.then(function(t){process.nextTick(function(){e(null,t)})},function(t){process.nextTick(function(){e(t)})})}(function(t){if(X.process&&!X.process.browser)return Promise.resolve(!1);if(!oc||!oc.importKey||!oc.deriveBits)return Promise.resolve(!1);if(void 0!==sc[t])return sc[t];var e=uc(rc=rc||ic.alloc(8),rc,10,128,t).then(function(){return!0}).catch(function(){return!1});return sc[t]=e,e}(a).then(function(o){return o?uc(t,e,r,n,a):nc(t,e,r,n,i)}),o)},pbkdf2Sync:nc},fc=Ya.Buffer,hc=e.Transform;function lc(t){hc.call(this),this._block=fc.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}ti(lc,hc),lc.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},lc.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},lc.prototype.update=function(t,e){if(function(t,e){if(!fc.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");fc.isBuffer(t)||(t=fc.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},lc.prototype._update=function(){throw new Error("_update is not implemented")},lc.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},lc.prototype._digest=function(){throw new Error("_digest is not implemented")};var dc=lc,pc=new Array(16);function mc(){dc.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function yc(t,e){return t<<e|t>>>32-e}function vc(t,e,r,n,i,o,a){return yc(t+(e&r|~e&n)+i+o|0,a)+e|0}function gc(t,e,r,n,i,o,a){return yc(t+(e&n|r&~n)+i+o|0,a)+e|0}function bc(t,e,r,n,i,o,a){return yc(t+(e^r^n)+i+o|0,a)+e|0}function wc(t,e,r,n,i,o,a){return yc(t+(r^(e|~n))+i+o|0,a)+e|0}ti(mc,dc),mc.prototype._update=function(){for(var t=pc,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,o=this._d;n=wc(n=wc(n=wc(n=wc(n=bc(n=bc(n=bc(n=bc(n=gc(n=gc(n=gc(n=gc(n=vc(n=vc(n=vc(n=vc(n,i=vc(i,o=vc(o,r=vc(r,n,i,o,t[0],3614090360,7),n,i,t[1],3905402710,12),r,n,t[2],606105819,17),o,r,t[3],3250441966,22),i=vc(i,o=vc(o,r=vc(r,n,i,o,t[4],4118548399,7),n,i,t[5],1200080426,12),r,n,t[6],2821735955,17),o,r,t[7],4249261313,22),i=vc(i,o=vc(o,r=vc(r,n,i,o,t[8],1770035416,7),n,i,t[9],2336552879,12),r,n,t[10],4294925233,17),o,r,t[11],2304563134,22),i=vc(i,o=vc(o,r=vc(r,n,i,o,t[12],1804603682,7),n,i,t[13],4254626195,12),r,n,t[14],2792965006,17),o,r,t[15],1236535329,22),i=gc(i,o=gc(o,r=gc(r,n,i,o,t[1],4129170786,5),n,i,t[6],3225465664,9),r,n,t[11],643717713,14),o,r,t[0],3921069994,20),i=gc(i,o=gc(o,r=gc(r,n,i,o,t[5],3593408605,5),n,i,t[10],38016083,9),r,n,t[15],3634488961,14),o,r,t[4],3889429448,20),i=gc(i,o=gc(o,r=gc(r,n,i,o,t[9],568446438,5),n,i,t[14],3275163606,9),r,n,t[3],4107603335,14),o,r,t[8],1163531501,20),i=gc(i,o=gc(o,r=gc(r,n,i,o,t[13],2850285829,5),n,i,t[2],4243563512,9),r,n,t[7],1735328473,14),o,r,t[12],2368359562,20),i=bc(i,o=bc(o,r=bc(r,n,i,o,t[5],4294588738,4),n,i,t[8],2272392833,11),r,n,t[11],1839030562,16),o,r,t[14],4259657740,23),i=bc(i,o=bc(o,r=bc(r,n,i,o,t[1],2763975236,4),n,i,t[4],1272893353,11),r,n,t[7],4139469664,16),o,r,t[10],3200236656,23),i=bc(i,o=bc(o,r=bc(r,n,i,o,t[13],681279174,4),n,i,t[0],3936430074,11),r,n,t[3],3572445317,16),o,r,t[6],76029189,23),i=bc(i,o=bc(o,r=bc(r,n,i,o,t[9],3654602809,4),n,i,t[12],3873151461,11),r,n,t[15],530742520,16),o,r,t[2],3299628645,23),i=wc(i,o=wc(o,r=wc(r,n,i,o,t[0],4096336452,6),n,i,t[7],1126891415,10),r,n,t[14],2878612391,15),o,r,t[5],4237533241,21),i=wc(i,o=wc(o,r=wc(r,n,i,o,t[12],1700485571,6),n,i,t[3],2399980690,10),r,n,t[10],4293915773,15),o,r,t[1],2240044497,21),i=wc(i,o=wc(o,r=wc(r,n,i,o,t[8],1873313359,6),n,i,t[15],4264355552,10),r,n,t[6],2734768916,15),o,r,t[13],1309151649,21),i=wc(i,o=wc(o,r=wc(r,n,i,o,t[4],4149444226,6),n,i,t[11],3174756917,10),r,n,t[2],718787259,15),o,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},mc.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=new Buffer(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};var _c=mc,kc=Ya.Buffer;var Sc=function(t,e,r,n){if(kc.isBuffer(t)||(t=kc.from(t,"binary")),e&&(kc.isBuffer(e)||(e=kc.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,o=kc.alloc(i),a=kc.alloc(n||0),s=kc.alloc(0);i>0||n>0;){var u=new _c;u.update(s),u.update(t),e&&u.update(e),s=u.digest();var c=0;if(i>0){var f=o.length-i;c=Math.min(i,s.length),s.copy(o,f,0,c),i-=c}if(c<s.length&&n>0){var h=a.length-n,l=Math.min(n,s.length-c);s.copy(a,h,c,c+l),n-=l}}return s.fill(0),{key:o,iv:a}},Ec={encrypt:function(t,e){return t._cipher.encryptBlock(e)},decrypt:function(t,e){return t._cipher.decryptBlock(e)}},Mc=function(t,e){for(var r=Math.min(t.length,e.length),n=new Buffer(r),i=0;i<r;++i)n[i]=t[i]^e[i];return n},Ac={encrypt:function(t,e){var r=Mc(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev},decrypt:function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return Mc(n,r)}},xc=Ya.Buffer;function Bc(t,e,r){var n=e.length,i=Mc(e,t._cache);return t._cache=t._cache.slice(n),t._prev=xc.concat([t._prev,r?e:i]),i}var Cc={encrypt:function(t,e,r){for(var n,i=xc.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=xc.allocUnsafe(0)),!(t._cache.length<=e.length)){i=xc.concat([i,Bc(t,e,r)]);break}n=t._cache.length,i=xc.concat([i,Bc(t,e.slice(0,n),r)]),e=e.slice(n)}return i}},Ic=Ya.Buffer;function Tc(t,e,r){var n=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=Ic.concat([t._prev.slice(1),Ic.from([r?e:n])]),n}var Pc={encrypt:function(t,e,r){for(var n=e.length,i=Ic.allocUnsafe(n),o=-1;++o<n;)i[o]=Tc(t,e[o],r);return i}},Nc=Ya.Buffer;function Rc(t,e,r){for(var n,i,o,a=-1,s=0;++a<8;)n=t._cipher.encryptBlock(t._prev),i=e&1<<7-a?128:0,s+=(128&(o=n[0]^i))>>a%8,t._prev=Lc(t._prev,r?i:o);return s}function Lc(t,e){var r=t.length,n=-1,i=Nc.allocUnsafe(t.length);for(t=Nc.concat([t,Nc.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}var Oc={encrypt:function(t,e,r){for(var n=e.length,i=Nc.allocUnsafe(n),o=-1;++o<n;)i[o]=Rc(t,e[o],r);return i}};function jc(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var Dc={encrypt:function(t,e){for(;t._cache.length<e.length;)t._cache=Buffer.concat([t._cache,jc(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Mc(e,r)}};var Uc=function(t){for(var e,r=t.length;r--;){if(255!==(e=t.readUInt8(r))){e++,t.writeUInt8(e,r);break}t.writeUInt8(0,r)}},Fc=Ya.Buffer;function qc(t){var e=t._cipher.encryptBlockRaw(t._prev);return Uc(t._prev),e}var Kc={encrypt:function(t,e){var r=Math.ceil(e.length/16),n=t._cache.length;t._cache=Fc.concat([t._cache,Fc.allocUnsafe(16*r)]);for(var i=0;i<r;i++){var o=qc(t),a=n+16*i;t._cache.writeUInt32BE(o[0],a+0),t._cache.writeUInt32BE(o[1],a+4),t._cache.writeUInt32BE(o[2],a+8),t._cache.writeUInt32BE(o[3],a+12)}var s=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Mc(e,s)}},zc={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},Vc={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},Hc={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},Gc={aes128:zc,aes192:Vc,aes256:Hc,"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},$c=Object.freeze({aes128:zc,aes192:Vc,aes256:Hc,default:Gc}),Wc=$c&&Gc||$c,Yc={ECB:Ec,CBC:Ac,CFB:Cc,CFB8:Pc,CFB1:Oc,OFB:Dc,CTR:Kc,GCM:Kc};for(var Zc in Wc)Wc[Zc].module=Yc[Wc[Zc].mode];var Qc=Wc,Xc=Ya.Buffer;function Jc(t){Xc.isBuffer(t)||(t=Xc.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(4*n);return r}function tf(t){for(;0<t.length;t++)t[0]=0}function ef(t,e,r,n,i){for(var o,a,s,u,c=r[0],f=r[1],h=r[2],l=r[3],d=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],y=t[3]^e[3],v=4,g=1;g<i;g++)o=c[d>>>24]^f[p>>>16&255]^h[m>>>8&255]^l[255&y]^e[v++],a=c[p>>>24]^f[m>>>16&255]^h[y>>>8&255]^l[255&d]^e[v++],s=c[m>>>24]^f[y>>>16&255]^h[d>>>8&255]^l[255&p]^e[v++],u=c[y>>>24]^f[d>>>16&255]^h[p>>>8&255]^l[255&m]^e[v++],d=o,p=a,m=s,y=u;return o=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&y])^e[v++],a=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[y>>>8&255]<<8|n[255&d])^e[v++],s=(n[m>>>24]<<24|n[y>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^e[v++],u=(n[y>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^e[v++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var rf=[0,1,2,4,8,16,32,64,128,27,54],nf=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,r[a]=c,n[c]=a;var f=t[a],h=t[f],l=t[h],d=257*t[c]^16843008*c;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,d=16843009*l^65537*h^257*f^16843008*a,o[0][c]=d<<24|d>>>8,o[1][c]=d<<16|d>>>16,o[2][c]=d<<8|d>>>24,o[3][c]=d,0===a?a=s=1:(a=f^t[t[t[l^f]]],s^=t[t[s]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function of(t){this._key=Jc(t),this._reset()}of.blockSize=16,of.keySize=32,of.prototype.blockSize=of.blockSize,of.prototype.keySize=of.keySize,of.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=4*(r+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<n;o++){var a=i[o-1];o%e==0?(a=a<<8|a>>>24,a=nf.SBOX[a>>>24]<<24|nf.SBOX[a>>>16&255]<<16|nf.SBOX[a>>>8&255]<<8|nf.SBOX[255&a],a^=rf[o/e|0]<<24):e>6&&o%e==4&&(a=nf.SBOX[a>>>24]<<24|nf.SBOX[a>>>16&255]<<16|nf.SBOX[a>>>8&255]<<8|nf.SBOX[255&a]),i[o]=i[o-e]^a}for(var s=[],u=0;u<n;u++){var c=n-u,f=i[c-(u%4?0:4)];s[u]=u<4||c<=4?f:nf.INV_SUB_MIX[0][nf.SBOX[f>>>24]]^nf.INV_SUB_MIX[1][nf.SBOX[f>>>16&255]]^nf.INV_SUB_MIX[2][nf.SBOX[f>>>8&255]]^nf.INV_SUB_MIX[3][nf.SBOX[255&f]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=s},of.prototype.encryptBlockRaw=function(t){return ef(t=Jc(t),this._keySchedule,nf.SUB_MIX,nf.SBOX,this._nRounds)},of.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=Xc.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r},of.prototype.decryptBlock=function(t){var e=(t=Jc(t))[1];t[1]=t[3],t[3]=e;var r=ef(t,this._invKeySchedule,nf.INV_SUB_MIX,nf.INV_SBOX,this._nRounds),n=Xc.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n},of.prototype.scrub=function(){tf(this._keySchedule),tf(this._invKeySchedule),tf(this._key)};var af={AES:of},sf=Ya.Buffer,uf=sf.alloc(16,0);function cf(t){var e=sf.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function ff(t){this.h=t,this.state=sf.alloc(16,0),this.cache=sf.allocUnsafe(0)}ff.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},ff.prototype._multiply=function(){for(var t,e,r,n=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=cf(i)},ff.prototype.update=function(t){var e;for(this.cache=sf.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},ff.prototype.final=function(t,e){return this.cache.length&&this.ghash(sf.concat([this.cache,uf],16)),this.ghash(cf([0,t,0,e])),this.state};var hf=ff,lf=Ya.Buffer;function df(t,e,r,n){wu.call(this);var i=lf.alloc(4,0);this._cipher=new af.AES(e);var o=this._cipher.encryptBlock(i);this._ghash=new hf(o),r=function(t,e,r){if(12===e.length)return t._finID=lf.concat([e,lf.from([0,0,0,1])]),lf.concat([e,lf.from([0,0,0,2])]);var n=new hf(r),i=e.length,o=i%16;n.update(e),o&&(o=16-o,n.update(lf.alloc(o,0))),n.update(lf.alloc(8,0));var a=8*i,s=lf.alloc(8);s.writeUIntBE(a,0,8),n.update(s),t._finID=n.state;var u=lf.from(t._finID);return Uc(u),u}(this,r,o),this._prev=lf.from(r),this._cache=lf.allocUnsafe(0),this._secCache=lf.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}ti(df,wu),df.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=lf.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},df.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Mc(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},df.prototype.getAuthTag=function(){if(this._decrypt||!lf.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},df.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},df.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};var pf=df,mf=Ya.Buffer;function yf(t,e,r,n){wu.call(this),this._cipher=new af.AES(e),this._prev=mf.from(r),this._cache=mf.allocUnsafe(0),this._secCache=mf.allocUnsafe(0),this._decrypt=n,this._mode=t}ti(yf,wu),yf.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},yf.prototype._final=function(){this._cipher.scrub()};var vf=yf,gf=Ya.Buffer;function bf(t,e,r){wu.call(this),this._cache=new _f,this._cipher=new af.AES(e),this._prev=gf.from(r),this._mode=t,this._autopadding=!0}ti(bf,wu),bf.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return gf.concat(n)};var wf=gf.alloc(16,16);function _f(){this.cache=gf.allocUnsafe(0)}function kf(t,e,r){var n=Qc[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=gf.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof r&&(r=gf.from(r)),"GCM"!==n.mode&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===n.type?new vf(n.module,e,r):"auth"===n.type?new pf(n.module,e,r):new bf(n.module,e,r)}bf.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(wf))throw this._cipher.scrub(),new Error("data not multiple of block length")},bf.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},_f.prototype.add=function(t){this.cache=gf.concat([this.cache,t])},_f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},_f.prototype.flush=function(){for(var t=16-this.cache.length,e=gf.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return gf.concat([this.cache,e])};var Sf={createCipheriv:kf,createCipher:function(t,e){var r=Qc[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Sc(e,!1,r.key,r.iv);return kf(t,n.key,n.iv)}},Ef=Ya.Buffer;function Mf(t,e,r){wu.call(this),this._cache=new Af,this._last=void 0,this._cipher=new af.AES(e),this._prev=Ef.from(r),this._mode=t,this._autopadding=!0}function Af(){this.cache=Ef.allocUnsafe(0)}function xf(t,e,r){var n=Qc[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=Ef.from(r)),"GCM"!==n.mode&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof e&&(e=Ef.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===n.type?new vf(n.module,e,r,!0):"auth"===n.type?new pf(n.module,e,r,!0):new Mf(n.module,e,r)}ti(Mf,wu),Mf.prototype._update=function(t){var e,r;this._cache.add(t);for(var n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Ef.concat(n)},Mf.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15],r=-1;for(;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},Mf.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},Af.prototype.add=function(t){this.cache=Ef.concat([this.cache,t])},Af.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},Af.prototype.flush=function(){if(this.cache.length)return this.cache};var Bf={createDecipher:function(t,e){var r=Qc[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Sc(e,!1,r.key,r.iv);return xf(t,n.key,n.iv)},createDecipheriv:xf},Cf=et(function(t,e){e.createCipher=e.Cipher=Sf.createCipher,e.createCipheriv=e.Cipheriv=Sf.createCipheriv,e.createDecipher=e.Decipher=Bf.createDecipher,e.createDecipheriv=e.Decipheriv=Bf.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(Wc)}}),If=(Cf.createCipher,Cf.Cipher,Cf.createCipheriv,Cf.Cipheriv,Cf.createDecipher,Cf.Decipher,Cf.createDecipheriv,Cf.Decipheriv,Cf.listCiphers,Cf.getCiphers,[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24]),Tf=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11],Pf=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7],Nf={readUInt32BE:function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},writeUInt32BE:function(t,e,r){t[0+r]=e>>>24,t[1+r]=e>>>16&255,t[2+r]=e>>>8&255,t[3+r]=255&e},ip:function(t,e,r,n){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1}r[n+0]=i>>>0,r[n+1]=o>>>0},rip:function(t,e,r,n){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=e>>>s+a&1,i<<=1,i|=t>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=e>>>s+a&1,o<<=1,o|=t>>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},pc1:function(t,e,r,n){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r28shl:function(t,e){return t<<e&268435455|t>>>28-e},pc2:function(t,e,r,n){for(var i=0,o=0,a=If.length>>>1,s=0;s<a;s++)i<<=1,i|=t>>>If[s]&1;for(s=a;s<If.length;s++)o<<=1,o|=e>>>If[s]&1;r[n+0]=i>>>0,r[n+1]=o>>>0},expand:function(t,e,r){var n=0,i=0;n=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[r+0]=n>>>0,e[r+1]=i>>>0},substitute:function(t,e){for(var r=0,n=0;n<4;n++)r<<=4,r|=Tf[64*n+(t>>>18-6*n&63)];for(n=0;n<4;n++)r<<=4,r|=Tf[256+64*n+(e>>>18-6*n&63)];return r>>>0},permute:function(t){for(var e=0,r=0;r<Pf.length;r++)e<<=1,e|=t>>>Pf[r]&1;return e>>>0},padSplit:function(t,e,r){for(var n=t.toString(2);n.length<e;)n="0"+n;for(var i=[],o=0;o<e;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}};function Rf(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var Lf=Rf;Rf.prototype._init=function(){},Rf.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},Rf.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),n=0;n<r;n++)this.buffer[this.bufferOff+n]=t[e+n];return this.bufferOff+=r,r},Rf.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},Rf.prototype._updateEncrypt=function(t){var e=0,r=0,n=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},Rf.prototype._updateDecrypt=function(t){for(var e=0,r=0,n=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)e+=this._buffer(t,e),r+=this._flushBuffer(i,r);return e+=this._buffer(t,e),i},Rf.prototype.final=function(t){var e,r;return t&&(e=this.update(t)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},Rf.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},Rf.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},Rf.prototype._unpad=function(t){return t},Rf.prototype._finalDecrypt=function(){Dn.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)};var Of=Wf.utils,jf=Wf.Cipher;function Df(t){jf.call(this,t);var e=new function(){this.tmp=new Array(2),this.keys=null};this._desState=e,this.deriveKeys(e,t.key)}ti(Df,jf);var Uf=Df;Df.create=function(t){return new Df(t)};var Ff=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Df.prototype.deriveKeys=function(t,e){t.keys=new Array(32),Dn.equal(e.length,this.blockSize,"Invalid key length");var r=Of.readUInt32BE(e,0),n=Of.readUInt32BE(e,4);Of.pc1(r,n,t.tmp,0),r=t.tmp[0],n=t.tmp[1];for(var i=0;i<t.keys.length;i+=2){var o=Ff[i>>>1];r=Of.r28shl(r,o),n=Of.r28shl(n,o),Of.pc2(r,n,t.keys,i)}},Df.prototype._update=function(t,e,r,n){var i=this._desState,o=Of.readUInt32BE(t,e),a=Of.readUInt32BE(t,e+4);Of.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],Of.writeUInt32BE(r,o,n),Of.writeUInt32BE(r,a,n+4)},Df.prototype._pad=function(t,e){for(var r=t.length-e,n=e;n<t.length;n++)t[n]=r;return!0},Df.prototype._unpad=function(t){for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)Dn.equal(t[r],e);return t.slice(0,t.length-e)},Df.prototype._encrypt=function(t,e,r,n,i){for(var o=e,a=r,s=0;s<t.keys.length;s+=2){var u=t.keys[s],c=t.keys[s+1];Of.expand(a,t.tmp,0),u^=t.tmp[0],c^=t.tmp[1];var f=Of.substitute(u,c),h=a;a=(o^Of.permute(f))>>>0,o=h}Of.rip(a,o,n,i)},Df.prototype._decrypt=function(t,e,r,n,i){for(var o=r,a=e,s=t.keys.length-2;s>=0;s-=2){var u=t.keys[s],c=t.keys[s+1];Of.expand(o,t.tmp,0),u^=t.tmp[0],c^=t.tmp[1];var f=Of.substitute(u,c),h=o;o=(a^Of.permute(f))>>>0,a=h}Of.rip(o,a,n,i)};var qf={};var Kf=function(t){function e(e){t.call(this,e),this._cbcInit()}ti(e,t);for(var r=Object.keys(qf),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=qf[i]}return e.create=function(t){return new e(t)},e};qf._cbcInit=function(){var t=new function(t){Dn.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}(this.options.iv);this._cbcState=t},qf._update=function(t,e,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];o._update.call(this,a,0,r,n);for(s=0;s<this.blockSize;s++)a[s]=r[n+s]}else{o._update.call(this,t,e,r,n);for(s=0;s<this.blockSize;s++)r[n+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=t[e+s]}};var zf={instantiate:Kf},Vf=Wf.Cipher,Hf=Wf.DES;function Gf(t){Vf.call(this,t);var e=new function(t,e){Dn.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);this.ciphers="encrypt"===t?[Hf.create({type:"encrypt",key:r}),Hf.create({type:"decrypt",key:n}),Hf.create({type:"encrypt",key:i})]:[Hf.create({type:"decrypt",key:i}),Hf.create({type:"encrypt",key:n}),Hf.create({type:"decrypt",key:r})]}(this.type,this.options.key);this._edeState=e}ti(Gf,Vf);var $f=Gf;Gf.create=function(t){return new Gf(t)},Gf.prototype._update=function(t,e,r,n){var i=this._edeState;i.ciphers[0]._update(t,e,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},Gf.prototype._pad=Hf.prototype._pad,Gf.prototype._unpad=Hf.prototype._unpad;var Wf={utils:Nf,Cipher:Lf,DES:Uf,CBC:zf,EDE:$f},Yf={"des-ede3-cbc":Wf.CBC.instantiate(Wf.EDE),"des-ede3":Wf.EDE,"des-ede-cbc":Wf.CBC.instantiate(Wf.EDE),"des-ede":Wf.EDE,"des-cbc":Wf.CBC.instantiate(Wf.DES),"des-ecb":Wf.DES};Yf.des=Yf["des-cbc"],Yf.des3=Yf["des-ede3-cbc"];var Zf=Qf;function Qf(t){wu.call(this);var e,r=t.mode.toLowerCase(),n=Yf[r];e=t.decrypt?"decrypt":"encrypt";var i=t.key;"des-ede"!==r&&"des-ede-cbc"!==r||(i=Buffer.concat([i,i.slice(0,8)]));var o=t.iv;this._des=n.create({key:i,iv:o,type:e})}ti(Qf,wu),Qf.prototype._update=function(t){return new Buffer(this._des.update(t))},Qf.prototype._final=function(){return new Buffer(this._des.final())};var Xf=et(function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}}),Jf=(Xf.des,Xf.des3,et(function(t,e){function r(t,e,r){if(t=t.toLowerCase(),Qc[t])return Cf.createCipheriv(t,e,r);if(Xf[t])return new Zf({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function n(t,e,r){if(t=t.toLowerCase(),Qc[t])return Cf.createDecipheriv(t,e,r);if(Xf[t])return new Zf({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,i;if(t=t.toLowerCase(),Qc[t])n=Qc[t].key,i=Qc[t].iv;else{if(!Xf[t])throw new TypeError("invalid suite type");n=8*Xf[t].key,i=Xf[t].iv}var o=Sc(e,!1,n,i);return r(t,o.key,o.iv)},e.createCipheriv=e.Cipheriv=r,e.createDecipher=e.Decipher=function(t,e){var r,i;if(t=t.toLowerCase(),Qc[t])r=Qc[t].key,i=Qc[t].iv;else{if(!Xf[t])throw new TypeError("invalid suite type");r=8*Xf[t].key,i=Xf[t].iv}var o=Sc(e,!1,r,i);return n(t,o.key,o.iv)},e.createDecipheriv=e.Decipheriv=n,e.listCiphers=e.getCiphers=function(){return Object.keys(Xf).concat(Cf.getCiphers())}}));Jf.createCipher,Jf.Cipher,Jf.createCipheriv,Jf.Cipheriv,Jf.createDecipher,Jf.Decipher,Jf.createDecipheriv,Jf.Decipheriv,Jf.listCiphers,Jf.getCiphers;function th(t){this.rand=t||new zn.Rand}var eh=th;th.create=function(t){return new th(t)},th.prototype._randbelow=function(t){var e=t.bitLength(),r=Math.ceil(e/8);do{var n=new fn(this.rand.generate(r))}while(n.cmp(t)>=0);return n},th.prototype._randrange=function(t,e){var r=e.sub(t);return t.add(this._randbelow(r))},th.prototype.test=function(t,e,r){var n=t.bitLength(),i=fn.mont(t),o=new fn(1).toRed(i);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var u=t.shrn(s),c=a.toRed(i);e>0;e--){var f=this._randrange(new fn(2),a);r&&r(f);var h=f.toRed(i).redPow(u);if(0!==h.cmp(o)&&0!==h.cmp(c)){for(var l=1;l<s;l++){if(0===(h=h.redSqr()).cmp(o))return!1;if(0===h.cmp(c))break}if(l===s)return!1}}return!0},th.prototype.getDivisor=function(t,e){var r=t.bitLength(),n=fn.mont(t),i=new fn(1).toRed(n);e||(e=Math.max(1,r/48|0));for(var o=t.subn(1),a=0;!o.testn(a);a++);for(var s=t.shrn(a),u=o.toRed(n);e>0;e--){var c=this._randrange(new fn(2),o),f=t.gcd(c);if(0!==f.cmpn(1))return f;var h=c.toRed(n).redPow(s);if(0!==h.cmp(i)&&0!==h.cmp(u)){for(var l=1;l<a;l++){if(0===(h=h.redSqr()).cmp(i))return h.fromRed().subn(1).gcd(t);if(0===h.cmp(u))break}if(l===a)return(h=h.redSqr()).fromRed().subn(1).gcd(t)}}return!1};var rh=yh;yh.simpleSieve=ph,yh.fermatTest=mh;var nh=new fn(24),ih=new eh,oh=new fn(1),ah=new fn(2),sh=new fn(5),uh=(new fn(16),new fn(8),new fn(10)),ch=new fn(3),fh=(new fn(7),new fn(11)),hh=new fn(4),lh=(new fn(12),null);function dh(){if(null!==lh)return lh;var t=[];t[0]=2;for(var e=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<e&&t[i]<=n&&r%t[i]!=0;i++);e!==i&&t[i]<=n||(t[e++]=r)}return lh=t,t}function ph(t){for(var e=dh(),r=0;r<e.length;r++)if(0===t.modn(e[r]))return 0===t.cmpn(e[r]);return!0}function mh(t){var e=fn.mont(t);return 0===ah.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function yh(t,e){if(t<16)return new fn(2===e||5===e?[140,123]:[140,39]);var r,n;for(e=new fn(e);;){for(r=new fn(Za(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(oh),r.testn(1)||r.iadd(ah),e.cmp(ah)){if(!e.cmp(sh))for(;r.mod(uh).cmp(ch);)r.iadd(hh)}else for(;r.mod(nh).cmp(fh);)r.iadd(hh);if(ph(n=r.shrn(1))&&ph(r)&&mh(n)&&mh(r)&&ih.test(n)&&ih.test(r))return r}}var vh={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},gh={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},bh={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},wh={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},_h={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},kh={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},Sh={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},Eh={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},Mh={modp1:vh,modp2:gh,modp5:bh,modp14:wh,modp15:_h,modp16:kh,modp17:Sh,modp18:Eh},Ah=Object.freeze({modp1:vh,modp2:gh,modp5:bh,modp14:wh,modp15:_h,modp16:kh,modp17:Sh,modp18:Eh,default:Mh}),xh=new eh,Bh=new fn(24),Ch=new fn(11),Ih=new fn(10),Th=new fn(3),Ph=new fn(7),Nh=jh;function Rh(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._pub=new fn(t),this}function Lh(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this._priv=new fn(t),this}var Oh={};function jh(t,e,r){this.setGenerator(e),this.__prime=new fn(t),this._prime=fn.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=Rh,this.setPrivateKey=Lh):this._primeCode=8}function Dh(t,e){var r=new Buffer(t.toArray());return e?r.toString(e):r}Object.defineProperty(jh.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in Oh)return Oh[n];var i,o=0;if(t.isEven()||!rh.simpleSieve||!rh.fermatTest(t)||!xh.test(t))return o+=1,o+="02"===r||"05"===r?8:4,Oh[n]=o,o;switch(xh.test(t.shrn(1))||(o+=2),r){case"02":t.mod(Bh).cmp(Ch)&&(o+=8);break;case"05":(i=t.mod(Ih)).cmp(Th)&&i.cmp(Ph)&&(o+=8);break;default:o+=4}return Oh[n]=o,o}(this.__prime,this.__gen)),this._primeCode}}),jh.prototype.generateKeys=function(){return this._priv||(this._priv=new fn(Za(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},jh.prototype.computeSecret=function(t){var e=(t=(t=new fn(t)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new Buffer(n.length-r.length);i.fill(0),r=Buffer.concat([i,r])}return r},jh.prototype.getPublicKey=function(t){return Dh(this._pub,t)},jh.prototype.getPrivateKey=function(t){return Dh(this._priv,t)},jh.prototype.getPrime=function(t){return Dh(this.__prime,t)},jh.prototype.getGenerator=function(t){return Dh(this._gen,t)},jh.prototype.setGenerator=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.__gen=t,this._gen=new fn(t),this};var Uh=Ah&&Mh||Ah,Fh=et(function(t,e){var r={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(t){var e=new Buffer(Uh[t].prime,"hex"),r=new Buffer(Uh[t].gen,"hex");return new Nh(e,r)},e.createDiffieHellman=e.DiffieHellman=function t(e,n,i,o){return Buffer.isBuffer(n)||void 0===r[n]?t(e,"binary",n,i):(n=n||"binary",o=o||"binary",i=i||new Buffer([2]),Buffer.isBuffer(i)||(i=new Buffer(i,o)),"number"==typeof e?new Nh(rh(e,i),i,!0):(Buffer.isBuffer(e)||(e=new Buffer(e,n)),new Nh(e,i,!0)))}}),qh=(Fh.DiffieHellmanGroup,Fh.createDiffieHellmanGroup,Fh.getDiffieHellman,Fh.createDiffieHellman,Fh.DiffieHellman,Kh);function Kh(t,e){var r=function(t){var e=zh(t);return{blinder:e.toRed(fn.mont(t.modulus)).redPow(new fn(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(e),n=e.modulus.byteLength(),i=(fn.mont(e.modulus),new fn(t).mul(r.blinder).umod(e.modulus)),o=i.toRed(fn.mont(e.prime1)),a=i.toRed(fn.mont(e.prime2)),s=e.coefficient,u=e.prime1,c=e.prime2,f=o.redPow(e.exponent1),h=a.redPow(e.exponent2);f=f.fromRed(),h=h.fromRed();var l=f.isub(h).imul(s).umod(u);return l.imul(c),h.iadd(l),new Buffer(h.imul(r.unblinder).umod(e.modulus).toArray(!1,n))}function zh(t){for(var e=t.modulus.byteLength(),r=new fn(Za(e));r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2);)r=new fn(Za(e));return r}Kh.getr=zh;var Vh=et(function(t,e){function r(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new r(t,e)},r.prototype._createNamed=function(t){var e;try{e=n.runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return ti(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},r.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(Ll.decoders[t])),this.decoders[t]},r.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},r.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(Ll.encoders[t])),this.encoders[t]},r.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}});function Hh(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}var Gh=Hh;function $h(t,e){this.path=t,this.rethrow(e)}Hh.prototype.isError=function(t){return t instanceof $h},Hh.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},Hh.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},Hh.prototype.enterKey=function(t){return this._reporterState.path.push(t)},Hh.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},Hh.prototype.leaveKey=function(t,e,r){var n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},Hh.prototype.path=function(){return this._reporterState.path.join("/")},Hh.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},Hh.prototype.leaveObject=function(t){var e=this._reporterState,r=e.obj;return e.obj=t,r},Hh.prototype.error=function(t){var e,r=this._reporterState,n=t instanceof $h;if(e=n?t:new $h(r.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},Hh.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},ti($h,Error),$h.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,$h),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this};var Wh={Reporter:Gh},Yh=fl.Reporter,Zh=t.Buffer;function Qh(t,e){Yh.call(this,e),Zh.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}ti(Qh,Yh);var Xh=Qh;function Jh(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof Jh||(t=new Jh(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=Zh.byteLength(t);else{if(!Zh.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}Qh.prototype.save=function(){return{offset:this.offset,reporter:Yh.prototype.save.call(this)}},Qh.prototype.restore=function(t){var e=new Qh(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,Yh.prototype.restore.call(this,t.reporter),e},Qh.prototype.isEmpty=function(){return this.offset===this.length},Qh.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},Qh.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var r=new Qh(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},Qh.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)};var tl=Jh;Jh.prototype.join=function(t,e){return t||(t=new Zh(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):Zh.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)};var el={DecoderBuffer:Xh,EncoderBuffer:tl},rl=fl.Reporter,nl=fl.EncoderBuffer,il=fl.DecoderBuffer,ol=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],al=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ol);function sl(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}var ul=sl,cl=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];sl.prototype.clone=function(){var t=this._baseState,e={};cl.forEach(function(r){e[r]=t[r]});var r=new this.constructor(e.parent);return r._baseState=e,r},sl.prototype._wrap=function(){var t=this._baseState;al.forEach(function(e){this[e]=function(){var r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},sl.prototype._init=function(t){var e=this._baseState;Dn(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),Dn.equal(e.children.length,1,"Root node can have only one child")},sl.prototype._useArgs=function(t){var e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(Dn(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(Dn(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);var n=t[r];e[n]=r}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){sl.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),ol.forEach(function(t){sl.prototype[t]=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return Dn(null===e.tag),e.tag=t,this._useArgs(r),this}}),sl.prototype.use=function(t){Dn(t);var e=this._baseState;return Dn(null===e.use),e.use=t,this},sl.prototype.optional=function(){return this._baseState.optional=!0,this},sl.prototype.def=function(t){var e=this._baseState;return Dn(null===e.default),e.default=t,e.optional=!0,this},sl.prototype.explicit=function(t){var e=this._baseState;return Dn(null===e.explicit&&null===e.implicit),e.explicit=t,this},sl.prototype.implicit=function(t){var e=this._baseState;return Dn(null===e.explicit&&null===e.implicit),e.implicit=t,this},sl.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},sl.prototype.key=function(t){var e=this._baseState;return Dn(null===e.key),e.key=t,this},sl.prototype.any=function(){return this._baseState.any=!0,this},sl.prototype.choice=function(t){var e=this._baseState;return Dn(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},sl.prototype.contains=function(t){var e=this._baseState;return Dn(null===e.use),e.contains=t,this},sl.prototype._decode=function(t,e){var r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));var n,i=r.default,o=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){var s=null;if(null!==r.explicit?s=r.explicit:null!==r.implicit?s=r.implicit:null!==r.tag&&(s=r.tag),null!==s||r.any){if(o=this._peekTag(t,s,r.any),t.isError(o))return o}else{var u=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),o=!0}catch(t){o=!1}t.restore(u)}}if(r.obj&&o&&(n=t.enterObject()),o){if(null!==r.explicit){var c=this._decodeTag(t,r.explicit);if(t.isError(c))return c;t=c}var f=t.offset;if(null===r.use&&null===r.choice){if(r.any)u=t.save();var h=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(h))return h;r.any?i=t.raw(u):t=h}if(e&&e.track&&null!==r.tag&&e.track(t.path(),f,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var l=new il(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(l,e)}}return r.obj&&o&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},sl.prototype._decodeGeneric=function(t,e,r){var n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},sl.prototype._getUse=function(t,e){var r=this._baseState;return r.useDecoder=this._use(t,e),Dn(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},sl.prototype._decodeChoice=function(t,e){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some(function(o){var a=t.save(),s=r.choice[o];try{var u=s._decode(t,e);if(t.isError(u))return!1;n={type:o,value:u},i=!0}catch(e){return t.restore(a),!1}return!0},this),i?n:t.error("Choice not matched")},sl.prototype._createEncoderBuffer=function(t){return new nl(t,this.reporter)},sl.prototype._encode=function(t,e,r){var n=this._baseState;if(null===n.default||n.default!==t){var i=this._encodeValue(t,e,r);if(void 0!==i&&!this._skipDefault(i,e,r))return i}},sl.prototype._encodeValue=function(t,e,r){var n=this._baseState;if(null===n.parent)return n.children[0]._encode(t,e||new rl);var i=null;if(this.reporter=e,n.optional&&void 0===t){if(null===n.default)return;t=n.default}var o=null,a=!1;if(n.any)i=this._createEncoderBuffer(t);else if(n.choice)i=this._encodeChoice(t,e);else if(n.contains)o=this._getUse(n.contains,r)._encode(t,e),a=!0;else if(n.children)o=n.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");var n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),o=this._createEncoderBuffer(o);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return e.error("Too many args for : "+n.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var s=this.clone();s._baseState.implicit=null,o=this._createEncoderBuffer(t.map(function(r){var n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},s))}else null!==n.use?i=this._getUse(n.use,r)._encode(t,e):(o=this._encodePrimitive(n.tag,t),a=!0);if(!n.any&&null===n.choice){var u=null!==n.implicit?n.implicit:n.tag,c=null===n.implicit?"universal":"context";null===u?null===n.use&&e.error("Tag could be omitted only for .use()"):null===n.use&&(i=this._encodeComposite(u,a,c,o))}return null!==n.explicit&&(i=this._encodeComposite(n.explicit,!1,"context",i)),i},sl.prototype._encodeChoice=function(t,e){var r=this._baseState,n=r.choice[t.type];return n||Dn(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},sl.prototype._encodePrimitive=function(t,e){var r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},sl.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},sl.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)};var fl=et(function(t,e){var r=e;r.Reporter=Wh.Reporter,r.DecoderBuffer=el.DecoderBuffer,r.EncoderBuffer=el.EncoderBuffer,r.Node=ul}),hl=et(function(t,e){e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=ll._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=ll._reverse(e.tag)}),ll=(hl.tagClass,hl.tagClassByName,hl.tag,hl.tagByName,et(function(t,e){var r=e;r._reverse=function(t){var e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);var n=t[r];e[n]=r}),e},r.der=hl})),dl=Ll.base,pl=Ll.bignum,ml=Ll.constants.der;function yl(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new gl,this.tree._init(t.body)}var vl=yl;function gl(t){dl.Node.call(this,"der",t)}function bl(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var n=ml.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var o=r;for(r=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=127&o}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:ml.tag[r]}}function wl(t,e,r){var n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var a=t.readUInt8(r);if(t.isError(a))return a;n|=a}return n}yl.prototype.decode=function(t,e){return t instanceof dl.DecoderBuffer||(t=new dl.DecoderBuffer(t,e)),this.tree._decode(t,e)},ti(gl,dl.Node),gl.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;var n=t.save(),i=bl(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},gl.prototype._decodeTag=function(t,e,r){var n=bl(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;var i=wl(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var o=t.save(),a=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(a)?a:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},gl.prototype._skipUntilEnd=function(t,e){for(;;){var r=bl(t,e);if(t.isError(r))return r;var n,i=wl(t,r.primitive,e);if(t.isError(i))return i;if(n=r.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(n))return n;if("end"===r.tagStr)break}},gl.prototype._decodeList=function(t,e,r,n){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=r.decode(t,"der",n);if(t.isError(a)&&o)break;i.push(a)}return i},gl.prototype._decodeStr=function(t,e){if("bitstr"===e){var r=t.readUInt8();return t.isError(r)?r:{unused:r,data:t.raw()}}if("bmpstr"===e){var n=t.raw();if(n.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===e){var a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var s=t.raw().toString("ascii");return this._isPrintstr(s)?s:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},gl.prototype._decodeObjid=function(t,e,r){for(var n,i=[],o=0;!t.isEmpty();){var a=t.readUInt8();o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(n=r?i:[s,u].concat(i.slice(1)),e){var c=e[n.join(" ")];void 0===c&&(c=e[n.join(".")]),void 0!==c&&(n=c)}return n},gl.prototype._decodeTime=function(t,e){var r=t.raw().toString();if("gentime"===e)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),u=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,u,0)},gl.prototype._decodeNull=function(t){return null},gl.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},gl.prototype._decodeInt=function(t,e){var r=t.raw(),n=new pl(r);return e&&(n=e[n.toString(10)]||n),n},gl.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree};var _l=t.Buffer;function kl(t){vl.call(this,t),this.enc="pem"}ti(kl,vl);var Sl=kl;kl.prototype.decode=function(t,e){for(var r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,a=-1,s=0;s<r.length;s++){var u=r[s].match(i);if(null!==u&&u[2]===n){if(-1!==o){if("END"!==u[1])break;a=s;break}if("BEGIN"!==u[1])break;o=s}}if(-1===o||-1===a)throw new Error("PEM section not found for: "+n);var c=r.slice(o+1,a).join("");c.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new _l(c,"base64");return vl.prototype.decode.call(this,f,e)};var El=et(function(t,e){var r=e;r.der=vl,r.pem=Sl}),Ml=t.Buffer,Al=Ll.base,xl=Ll.constants.der;function Bl(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Il,this.tree._init(t.body)}var Cl=Bl;function Il(t){Al.Node.call(this,"der",t)}function Tl(t){return t<10?"0"+t:t}function Pl(t){Cl.call(this,t),this.enc="pem"}Bl.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},ti(Il,Al.Node),Il.prototype._encodeComposite=function(t,e,r,n){var i,o=function(t,e,r,n){var i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(xl.tagByName.hasOwnProperty(t))i=xl.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}if(i>=31)return n.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=xl.tagClassByName[r||"universal"]<<6}(t,e,r,this.reporter);if(n.length<128)return(i=new Ml(2))[0]=o,i[1]=n.length,this._createEncoderBuffer([i,n]);for(var a=1,s=n.length;s>=256;s>>=8)a++;(i=new Ml(2+a))[0]=o,i[1]=128|a;s=1+a;for(var u=n.length;u>0;s--,u>>=8)i[s]=255&u;return this._createEncoderBuffer([i,n])},Il.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var r=new Ml(2*t.length),n=0;n<t.length;n++)r.writeUInt16BE(t.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},Il.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var n=0;n<t.length;n++)t[n]|=0}else if(Array.isArray(t)){t=t.slice();for(n=0;n<t.length;n++)t[n]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var i=0;for(n=0;n<t.length;n++){var o=t[n];for(i++;o>=128;o>>=7)i++}var a=new Ml(i),s=a.length-1;for(n=t.length-1;n>=0;n--){o=t[n];for(a[s--]=127&o;(o>>=7)>0;)a[s--]=128|127&o}return this._createEncoderBuffer(a)},Il.prototype._encodeTime=function(t,e){var r,n=new Date(t);return"gentime"===e?r=[Tl(n.getFullYear()),Tl(n.getUTCMonth()+1),Tl(n.getUTCDate()),Tl(n.getUTCHours()),Tl(n.getUTCMinutes()),Tl(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[Tl(n.getFullYear()%100),Tl(n.getUTCMonth()+1),Tl(n.getUTCDate()),Tl(n.getUTCHours()),Tl(n.getUTCMinutes()),Tl(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},Il.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Il.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!Ml.isBuffer(t)){var r=t.toArray();!t.sign&&128&r[0]&&r.unshift(0),t=new Ml(r)}if(Ml.isBuffer(t)){var n=t.length;0===t.length&&n++;var i=new Ml(n);return t.copy(i),0===t.length&&(i[0]=0),this._createEncoderBuffer(i)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);n=1;for(var o=t;o>=256;o>>=8)n++;for(o=(i=new Array(n)).length-1;o>=0;o--)i[o]=255&t,t>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new Ml(i))},Il.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},Il.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},Il.prototype._skipDefault=function(t,e,r){var n,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0},ti(Pl,Cl);var Nl=Pl;Pl.prototype.encode=function(t,e){for(var r=Cl.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"],i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+e.label+"-----"),n.join("\n")};var Rl=et(function(t,e){var r=e;r.der=Cl,r.pem=Nl}),Ll=et(function(t,e){var r=e;r.bignum=fn,r.define=Vh.define,r.base=fl,r.constants=ll,r.decoders=El,r.encoders=Rl}),Ol=Ll.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),jl=Ll.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Dl=Ll.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),Ul=Ll.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Dl),this.key("subjectPublicKey").bitstr())}),Fl=Ll.define("RelativeDistinguishedName",function(){this.setof(jl)}),ql=Ll.define("RDNSequence",function(){this.seqof(Fl)}),Kl=Ll.define("Name",function(){this.choice({rdnSequence:this.use(ql)})}),zl=Ll.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Ol),this.key("notAfter").use(Ol))}),Vl=Ll.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Hl=Ll.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(Dl),this.key("issuer").use(Kl),this.key("validity").use(zl),this.key("subject").use(Kl),this.key("subjectPublicKeyInfo").use(Ul),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Vl).optional())}),Gl=Ll.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Hl),this.key("signatureAlgorithm").use(Dl),this.key("signatureValue").bitstr())}),$l=Ll.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}),Wl=Ll.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}),Yl=Ll.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Zl),this.key("subjectPublicKey").bitstr())}),Zl=Ll.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Ql=Ll.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Zl),this.key("subjectPrivateKey").octstr())}),Xl=Ll.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}),Jl=Ll.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}),td=Ll.define("DSAparam",function(){this.int()}),ed=Ll.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(rd),this.key("publicKey").optional().explicit(1).bitstr())}),rd=Ll.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),nd={certificate:Gl,RSAPrivateKey:$l,RSAPublicKey:Wl,PublicKey:Yl,PrivateKey:Ql,EncryptedPrivateKey:Xl,DSAPrivateKey:Jl,DSAparam:td,ECPrivateKey:ed,signature:Ll.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},id={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"},od=Object.freeze({default:id}),ad=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,sd=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n/m,ud=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?-----END \1-----$/m,cd=function(t,e){var r,n=t.toString(),i=n.match(ad);if(i){var o="aes"+i[1],a=new Buffer(i[2],"hex"),s=new Buffer(i[3].replace(/\r?\n/g,""),"base64"),u=Sc(e,a.slice(0,8),parseInt(i[1],10)).key,c=[],f=Cf.createDecipheriv(o,u,a);c.push(f.update(s)),c.push(f.final()),r=Buffer.concat(c)}else{var h=n.match(ud);r=new Buffer(h[2].replace(/\r?\n/g,""),"base64")}return{tag:n.match(sd)[1],data:r}},fd=od&&id||od,hd=ld;function ld(t){var e;"object"!=typeof t||Buffer.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=new Buffer(t));var r,n,i=cd(t,e),o=i.tag,a=i.data;switch(o){case"CERTIFICATE":n=nd.certificate.decode(a,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(n||(n=nd.PublicKey.decode(a,"der")),r=n.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return nd.RSAPublicKey.decode(n.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return n.subjectPrivateKey=n.subjectPublicKey,{type:"ec",data:n};case"1.2.840.10040.4.1":return n.algorithm.params.pub_key=nd.DSAparam.decode(n.subjectPublicKey.data,"der"),{type:"dsa",data:n.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+o);case"ENCRYPTED PRIVATE KEY":a=function(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=fd[t.algorithm.decrypt.cipher.algo.join(".")],o=t.algorithm.decrypt.cipher.iv,a=t.subjectPrivateKey,s=parseInt(i.split("-")[1],10)/8,u=cc.pbkdf2Sync(e,r,n,s),c=Cf.createDecipheriv(i,u,o),f=[];return f.push(c.update(a)),f.push(c.final()),Buffer.concat(f)}(a=nd.EncryptedPrivateKey.decode(a,"der"),e);case"PRIVATE KEY":switch(r=(n=nd.PrivateKey.decode(a,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return nd.RSAPrivateKey.decode(n.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:n.algorithm.curve,privateKey:nd.ECPrivateKey.decode(n.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return n.algorithm.params.priv_key=nd.DSAparam.decode(n.subjectPrivateKey,"der"),{type:"dsa",params:n.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+o);case"RSA PUBLIC KEY":return nd.RSAPublicKey.decode(a,"der");case"RSA PRIVATE KEY":return nd.RSAPrivateKey.decode(a,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:nd.DSAPrivateKey.decode(a,"der")};case"EC PRIVATE KEY":return{curve:(a=nd.ECPrivateKey.decode(a,"der")).parameters.value,privateKey:a.privateKey};default:throw new Error("unknown key type "+o)}}ld.signature=nd.signature;var dd={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"},pd=Object.freeze({default:dd}),md=pd&&dd||pd,yd=Ca.ec;function vd(t,e,r,n){if((t=new Buffer(t.toArray())).length<e.byteLength()){var i=new Buffer(e.byteLength()-t.length);i.fill(0),t=Buffer.concat([i,t])}var o=r.length,a=function(t,e){t=(t=gd(t,e)).mod(e);var r=new Buffer(t.toArray());if(r.length<e.byteLength()){var n=new Buffer(e.byteLength()-r.length);n.fill(0),r=Buffer.concat([n,r])}return r}(r,e),s=new Buffer(o);s.fill(1);var u=new Buffer(o);return u.fill(0),u=Nu(n,u).update(s).update(new Buffer([0])).update(t).update(a).digest(),s=Nu(n,u).update(s).digest(),{k:u=Nu(n,u).update(s).update(new Buffer([1])).update(t).update(a).digest(),v:s=Nu(n,u).update(s).digest()}}function gd(t,e){var r=new fn(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function bd(t,e,r){var n,i;do{for(n=new Buffer(0);8*n.length<t.bitLength();)e.v=Nu(r,e.k).update(e.v).digest(),n=Buffer.concat([n,e.v]);i=gd(n,t),e.k=Nu(r,e.k).update(e.v).update(new Buffer([0])).digest(),e.v=Nu(r,e.k).update(e.v).digest()}while(-1!==i.cmp(t));return i}function wd(t,e,r,n){return t.toRed(fn.mont(r)).redPow(e).fromRed().mod(n)}var _d=function(t,e,r,n,i){var o=hd(e);if(o.curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");return function(t,e){var r=md[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new yd(r).keyFromPrivate(e.privateKey).sign(t);return new Buffer(n.toDER())}(t,o)}if("dsa"===o.type){if("dsa"!==n)throw new Error("wrong private key type");return function(t,e,r){for(var n,i=e.params.priv_key,o=e.params.p,a=e.params.q,s=e.params.g,u=new fn(0),c=gd(t,a).mod(a),f=!1,h=vd(i,a,t,r);!1===f;)n=bd(a,h,r),u=wd(s,n,o,a),0===(f=n.invm(a).imul(c.add(i.mul(u))).mod(a)).cmpn(0)&&(f=!1,u=new fn(0));return function(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var r=[48,t.length+e.length+4,2,t.length];return r=r.concat(t,[2,e.length],e),new Buffer(r)}(u,f)}(t,o,r)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");t=Buffer.concat([i,t]);for(var a=o.modulus.byteLength(),s=[0,1];t.length+s.length+1<a;)s.push(255);s.push(0);for(var u=-1;++u<t.length;)s.push(t[u]);return qh(s,o)},kd=vd,Sd=bd;_d.getKey=kd,_d.makeKey=Sd;var Ed=Ca.ec;function Md(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}var Ad=function(t,e,r,n,i){var o=hd(r);if("ec"===o.type){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong public key type");return function(t,e,r){var n=md[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new Ed(n),o=r.data.subjectPrivateKey.data;return i.verify(e,t,o)}(t,e,o)}if("dsa"===o.type){if("dsa"!==n)throw new Error("wrong public key type");return function(t,e,r){var n=r.data.p,i=r.data.q,o=r.data.g,a=r.data.pub_key,s=hd.signature.decode(t,"der"),u=s.s,c=s.r;Md(u,i),Md(c,i);var f=fn.mont(n),h=u.invm(i);return 0===o.toRed(f).redPow(new fn(e).mul(h).mod(i)).fromRed().mul(a.toRed(f).redPow(c.mul(h).mod(i)).fromRed()).mod(n).mod(i).cmp(c)}(t,e,o)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong public key type");e=Buffer.concat([i,e]);for(var a=o.modulus.byteLength(),s=[1],u=0;e.length+s.length+2<a;)s.push(255),u++;s.push(0);for(var c=-1;++c<e.length;)s.push(e[c]);s=new Buffer(s);var f=fn.mont(o.modulus);t=(t=new fn(t).toRed(f)).redPow(new fn(o.publicExponent)),t=new Buffer(t.fromRed().toArray());var h=u<8?1:0;for(a=Math.min(t.length,s.length),t.length!==s.length&&(h=1),c=-1;++c<a;)h|=t[c]^s[c];return 0===h};function xd(t){e.Writable.call(this);var r=$u[t];if(!r)throw new Error("Unknown message digest");this._hashType=r.hash,this._hash=Su(r.hash),this._tag=r.id,this._signType=r.sign}function Bd(t){e.Writable.call(this);var r=$u[t];if(!r)throw new Error("Unknown message digest");this._hash=Su(r.hash),this._tag=r.id,this._signType=r.sign}function Cd(t){return new xd(t)}function Id(t){return new Bd(t)}Object.keys($u).forEach(function(t){$u[t].id=new Buffer($u[t].id,"hex"),$u[t.toLowerCase()]=$u[t]}),ti(xd,e.Writable),xd.prototype._write=function(t,e,r){this._hash.update(t),r()},xd.prototype.update=function(t,e){return"string"==typeof t&&(t=new Buffer(t,e)),this._hash.update(t),this},xd.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),n=_d(r,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},ti(Bd,e.Writable),Bd.prototype._write=function(t,e,r){this._hash.update(t),r()},Bd.prototype.update=function(t,e){return"string"==typeof t&&(t=new Buffer(t,e)),this._hash.update(t),this},Bd.prototype.verify=function(t,e,r){"string"==typeof e&&(e=new Buffer(e,r)),this.end();var n=this._hash.digest();return Ad(e,n,t,this._signType,this._tag)};var Td=Cd,Pd=Id,Nd=Cd,Rd=Id,Ld=function(t){return new jd(t)},Od={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function jd(t){this.curveType=Od[t],this.curveType||(this.curveType={name:t}),this.curve=new Ca.ec(this.curveType.name),this.keys=void 0}function Dd(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new Buffer(t);if(r&&n.length<r){var i=new Buffer(r-n.length);i.fill(0),n=Buffer.concat([i,n])}return e?n.toString(e):n}Od.p224=Od.secp224r1,Od.p256=Od.secp256r1=Od.prime256v1,Od.p192=Od.secp192r1=Od.prime192v1,Od.p384=Od.secp384r1,Od.p521=Od.secp521r1,jd.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},jd.prototype.computeSecret=function(t,e,r){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),Dd(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},jd.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(r[r.length-1]%2?r[0]=7:r[0]=6),Dd(r,t)},jd.prototype.getPrivateKey=function(t){return Dd(this.keys.getPrivate(),t)},jd.prototype.setPublicKey=function(t,e){return e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e)),this.keys._importPublic(t),this},jd.prototype.setPrivateKey=function(t,e){e=e||"utf8",Buffer.isBuffer(t)||(t=new Buffer(t,e));var r=new fn(t);return r=r.toString(16),this.keys._importPrivate(r),this};var Ud=function(t,e){for(var r,n=new Buffer(""),i=0;n.length<e;)r=Fd(i++),n=Buffer.concat([n,Su("sha1").update(t).update(r).digest()]);return n.slice(0,e)};function Fd(t){var e=new Buffer(4);return e.writeUInt32BE(t,0),e}var qd=function(t,e){for(var r=t.length,n=-1;++n<r;)t[n]^=e[n];return t};var Kd=function(t,e){return new Buffer(t.toRed(fn.mont(e.modulus)).redPow(new fn(e.publicExponent)).fromRed().toArray())},zd=function(t,e,r){var n;n=t.padding?t.padding:r?1:4;var i,o=hd(t);if(4===n)i=function(t,e){var r=t.modulus.byteLength(),n=e.length,i=Su("sha1").update(new Buffer("")).digest(),o=i.length,a=2*o;if(n>r-a-2)throw new Error("message too long");var s=new Buffer(r-n-a-2);s.fill(0);var u=r-o-1,c=Za(o),f=qd(Buffer.concat([i,s,new Buffer([1]),e],u),Ud(c,u)),h=qd(c,Ud(f,o));return new fn(Buffer.concat([new Buffer([0]),h,f],r))}(o,e);else if(1===n)i=function(t,e,r){var n,i=e.length,o=t.modulus.byteLength();if(i>o-11)throw new Error("message too long");r?(n=new Buffer(o-i-3)).fill(255):n=function(t,e){var r,n=new Buffer(t),i=0,o=Za(2*t),a=0;for(;i<t;)a===o.length&&(o=Za(2*t),a=0),(r=o[a++])&&(n[i++]=r);return n}(o-i-3);return new fn(Buffer.concat([new Buffer([0,r?1:2]),n,new Buffer([0]),e],o))}(o,e,r);else{if(3!==n)throw new Error("unknown padding");if((i=new fn(e)).cmp(o.modulus)>=0)throw new Error("data too long for modulus")}return r?qh(i,o):Kd(i,o)};var Vd=function(t,e,r){var n;n=t.padding?t.padding:r?1:4;var i,o=hd(t),a=o.modulus.byteLength();if(e.length>a||new fn(e).cmp(o.modulus)>=0)throw new Error("decryption error");i=r?Kd(new fn(e),o):qh(e,o);var s=new Buffer(a-i.length);if(s.fill(0),i=Buffer.concat([s,i],a),4===n)return function(t,e){t.modulus;var r=t.modulus.byteLength(),n=(e.length,Su("sha1").update(new Buffer("")).digest()),i=n.length;if(0!==e[0])throw new Error("decryption error");var o=e.slice(1,i+1),a=e.slice(i+1),s=qd(o,Ud(a,i)),u=qd(a,Ud(s,r-i-1));if(function(t,e){t=new Buffer(t),e=new Buffer(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));var i=-1;for(;++i<n;)r+=t[i]^e[i];return r}(n,u.slice(0,i)))throw new Error("decryption error");var c=i;for(;0===u[c];)c++;if(1!==u[c++])throw new Error("decryption error");return u.slice(c)}(o,i);if(1===n)return function(t,e,r){var n=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var a=e.slice(2,i-1);e.slice(i-1,i);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,i,r);if(3===n)return i;throw new Error("unknown padding")};var Hd=et(function(t,e){e.publicEncrypt=zd,e.privateDecrypt=Vd,e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}}),Gd=(Hd.publicEncrypt,Hd.privateDecrypt,Hd.privateEncrypt,Hd.publicDecrypt,et(function(t,e){function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var n=Ya.Buffer,i=Ya.kMaxLength,o=X.crypto||X.msCrypto,a=Math.pow(2,32)-1;function s(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>a||t<0)throw new TypeError("offset must be a uint32");if(t>i||t>e)throw new RangeError("offset out of range")}function u(t,e,r){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>a||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>i)throw new RangeError("buffer too small")}function c(t,e,r,n){if(process.browser){var i=t.buffer,a=new Uint8Array(i,e,r);return o.getRandomValues(a),n?void process.nextTick(function(){n(null,t)}):t}if(!n)return Za(r).copy(t,e),t;Za(r,function(r,i){if(r)return n(r);i.copy(t,e),n(null,t)})}o&&o.getRandomValues||!process.browser?(e.randomFill=function(t,e,r,i){if(!(n.isBuffer(t)||t instanceof X.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return s(e,t.length),u(r,e,t.length),c(t,e,r,i)},e.randomFillSync=function(t,e,r){void 0===e&&(e=0);if(!(n.isBuffer(t)||t instanceof X.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');s(e,t.length),void 0===r&&(r=t.length-e);return u(r,e,t.length),c(t,e,r)}):(e.randomFill=r,e.randomFillSync=r)})),$d=(Gd.randomFill,Gd.randomFillSync,et(function(t,e){e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=Za,e.createHash=e.Hash=Su,e.createHmac=e.Hmac=Nu;var r=Object.keys(Wu),n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);e.getHashes=function(){return n},e.pbkdf2=cc.pbkdf2,e.pbkdf2Sync=cc.pbkdf2Sync,e.Cipher=Jf.Cipher,e.createCipher=Jf.createCipher,e.Cipheriv=Jf.Cipheriv,e.createCipheriv=Jf.createCipheriv,e.Decipher=Jf.Decipher,e.createDecipher=Jf.createDecipher,e.Decipheriv=Jf.Decipheriv,e.createDecipheriv=Jf.createDecipheriv,e.getCiphers=Jf.getCiphers,e.listCiphers=Jf.listCiphers,e.DiffieHellmanGroup=Fh.DiffieHellmanGroup,e.createDiffieHellmanGroup=Fh.createDiffieHellmanGroup,e.getDiffieHellman=Fh.getDiffieHellman,e.createDiffieHellman=Fh.createDiffieHellman,e.DiffieHellman=Fh.DiffieHellman,e.createSign=Nd,e.Sign=Td,e.createVerify=Rd,e.Verify=Pd,e.createECDH=Ld,e.publicEncrypt=Hd.publicEncrypt,e.privateEncrypt=Hd.privateEncrypt,e.publicDecrypt=Hd.publicDecrypt,e.privateDecrypt=Hd.privateDecrypt,e.randomFill=Gd.randomFill,e.randomFillSync=Gd.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}})),Wd=($d.randomBytes,$d.rng,$d.pseudoRandomBytes,$d.prng,$d.createHash,$d.Hash,$d.createHmac,$d.Hmac,$d.getHashes,$d.pbkdf2,$d.pbkdf2Sync,$d.Cipher,$d.createCipher,$d.Cipheriv,$d.createCipheriv,$d.Decipher,$d.createDecipher,$d.Decipheriv,$d.createDecipheriv,$d.getCiphers,$d.listCiphers,$d.DiffieHellmanGroup,$d.createDiffieHellmanGroup,$d.getDiffieHellman,$d.createDiffieHellman,$d.DiffieHellman,$d.createSign,$d.Sign,$d.createVerify,$d.Verify,$d.createECDH,$d.publicEncrypt,$d.privateEncrypt,$d.publicDecrypt,$d.privateDecrypt,$d.randomFill,$d.randomFillSync,$d.createCredentials,$d.constants,cc.pbkdf2Sync),Yd=2147483647;function Zd(t,e,r,n,i){if(Buffer.isBuffer(t)&&Buffer.isBuffer(r))t.copy(r,n,e,e+i);else for(;i--;)r[n++]=t[e++]}var Qd,Xd=function(t,e,r,n,i,o,a){if(0===r||0!=(r&r-1))throw Error("N must be > 0 and a power of 2");if(r>Yd/128/n)throw Error("Parameter N is too large");if(n>Yd/128/i)throw Error("Parameter r is too large");var s,u=new Buffer(256*n),c=new Buffer(128*n*r),f=new Int32Array(16),h=new Int32Array(16),l=new Buffer(64),d=Wd(t,e,1,128*i*n,"sha256");if(a){var p=i*r*2,m=0;s=function(){++m%1e3==0&&a({current:m,total:p,percent:m/p*100})}}for(var y=0;y<i;y++)v(d,128*y*n,n,r,c,u);return Wd(t,d,1,o,"sha256");function v(t,e,r,n,i,o){var a,u=128*r;for(t.copy(o,0,e,e+u),a=0;a<n;a++)o.copy(i,a*u,0,0+u),g(o,0,u,r),s&&s();for(a=0;a<n;a++){var c=0+64*(2*r-1);_(i,(o.readUInt32LE(c)&n-1)*u,o,0,u),g(o,0,u,r),s&&s()}o.copy(t,e,0,0+u)}function g(t,e,r,n){var i;for(Zd(t,e+64*(2*n-1),l,0,64),i=0;i<2*n;i++)_(t,64*i,l,0,64),w(l),Zd(l,0,t,r+64*i,64);for(i=0;i<n;i++)Zd(t,r+2*i*64,t,e+64*i,64);for(i=0;i<n;i++)Zd(t,r+64*(2*i+1),t,e+64*(i+n),64)}function b(t,e){return t<<e|t>>>32-e}function w(t){var e;for(e=0;e<16;e++)f[e]=(255&t[4*e+0])<<0,f[e]|=(255&t[4*e+1])<<8,f[e]|=(255&t[4*e+2])<<16,f[e]|=(255&t[4*e+3])<<24;for(Zd(f,0,h,0,16),e=8;e>0;e-=2)h[4]^=b(h[0]+h[12],7),h[8]^=b(h[4]+h[0],9),h[12]^=b(h[8]+h[4],13),h[0]^=b(h[12]+h[8],18),h[9]^=b(h[5]+h[1],7),h[13]^=b(h[9]+h[5],9),h[1]^=b(h[13]+h[9],13),h[5]^=b(h[1]+h[13],18),h[14]^=b(h[10]+h[6],7),h[2]^=b(h[14]+h[10],9),h[6]^=b(h[2]+h[14],13),h[10]^=b(h[6]+h[2],18),h[3]^=b(h[15]+h[11],7),h[7]^=b(h[3]+h[15],9),h[11]^=b(h[7]+h[3],13),h[15]^=b(h[11]+h[7],18),h[1]^=b(h[0]+h[3],7),h[2]^=b(h[1]+h[0],9),h[3]^=b(h[2]+h[1],13),h[0]^=b(h[3]+h[2],18),h[6]^=b(h[5]+h[4],7),h[7]^=b(h[6]+h[5],9),h[4]^=b(h[7]+h[6],13),h[5]^=b(h[4]+h[7],18),h[11]^=b(h[10]+h[9],7),h[8]^=b(h[11]+h[10],9),h[9]^=b(h[8]+h[11],13),h[10]^=b(h[9]+h[8],18),h[12]^=b(h[15]+h[14],7),h[13]^=b(h[12]+h[15],9),h[14]^=b(h[13]+h[12],13),h[15]^=b(h[14]+h[13],18);for(e=0;e<16;++e)f[e]=h[e]+f[e];for(e=0;e<16;e++){var r=4*e;t[r+0]=f[e]>>0&255,t[r+1]=f[e]>>8&255,t[r+2]=f[e]>>16&255,t[r+3]=f[e]>>24&255}}function _(t,e,r,n,i){for(var o=0;o<i;o++)r[n+o]^=t[e+o]}};if(X.crypto&&crypto.getRandomValues){var Jd=new Uint8Array(16);Qd=function(){return crypto.getRandomValues(Jd),Jd}}if(!Qd){var tp=new Array(16);Qd=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),tp[e]=t>>>((3&e)<<3)&255;return tp}}for(var ep=Qd,rp=[],np={},ip=0;ip<256;ip++)rp[ip]=(ip+256).toString(16).substr(1),np[rp[ip]]=ip;function op(t,e){var r=e||0,n=rp;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}var ap=ep(),sp=[1|ap[0],ap[1],ap[2],ap[3],ap[4],ap[5]],up=16383&(ap[6]<<8|ap[7]),cp=0,fp=0;function hp(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||ep)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;o++)e[n+o]=i[o];return e||op(i)}var lp=hp;lp.v1=function(t,e,r){var n=e&&r||0,i=e||[],o=void 0!==(t=t||{}).clockseq?t.clockseq:up,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),s=void 0!==t.nsecs?t.nsecs:fp+1,u=a-cp+(s-fp)/1e4;if(u<0&&void 0===t.clockseq&&(o=o+1&16383),(u<0||a>cp)&&void 0===t.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");cp=a,fp=s,up=o;var c=(1e4*(268435455&(a+=122192928e5))+s)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=255&c;var f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=255&f,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(var h=t.node||sp,l=0;l<6;l++)i[n+l]=h[l];return e||op(i)},lp.v4=hp,lp.parse=function(t,e,r){var n=e&&r||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[n+i++]=np[t])});i<16;)e[n+i++]=0;return e},lp.unparse=op;var dp=lp,pp=void 0===X?$d:i,mp=function(t){return rt.isUndefined(t)||rt.isNull(t)},yp=function(t){for(;t&&t.startsWith("0x0");)t="0x"+t.slice(3);return t},vp=function(t){return t.length%2==1&&(t=t.replace("0x","0x0")),t},gp=function(){var t=this;vr(this,arguments),delete this.BatchRequest,delete this.extend;var e=[new pr({name:"getId",call:"net_version",params:0,outputFormatter:zt.hexToNumber}),new pr({name:"getGasPrice",call:"eth_gasPrice",params:0}),new pr({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[function(t){if(zt.isAddress(t))return t;throw new Error("Address "+t+' is not a valid address to get the "transactionCount".')},function(){return"latest"}]})];this._ethereumCall={},rt.each(e,function(e){e.attachToObject(t._ethereumCall),e.setRequestManager(t._requestManager)}),this.wallet=new bp(this)};function bp(t){this._accounts=t,this.length=0,this.defaultKeyName="web3js_wallet"}gp.prototype._addAccountFunctions=function(t){var e=this;return t.signTransaction=function(r,n){return e.signTransaction(r,t.privateKey,n)},t.sign=function(r){return e.sign(r,t.privateKey)},t.encrypt=function(r,n){return e.encrypt(t.privateKey,r,n)},t},gp.prototype.create=function(t){return this._addAccountFunctions(Wa.create(t||zt.randomHex(32)))},gp.prototype.privateKeyToAccount=function(t){return this._addAccountFunctions(Wa.fromPrivate(t))},gp.prototype.signTransaction=function(t,e,r){var n,i=!1;if(r=r||function(){},!t)return i=new Error("No transaction object given!"),r(i),tr.reject(i);function o(t){if(t.gas||t.gasLimit||(i=new Error('"gas" is missing')),(t.nonce<0||t.gas<0||t.gasPrice<0||t.chainId<0)&&(i=new Error("Gas, gasPrice, nonce or chainId is lower than 0")),i)return r(i),tr.reject(new Error('"gas" is missing'));try{var o=t=ee.formatters.inputCallFormatter(t);o.to=t.to||"0x",o.data=t.data||"0x",o.value=t.value||"0x",o.chainId=zt.numberToHex(t.chainId);var a=Ia.encode([an.fromNat(o.nonce),an.fromNat(o.gasPrice),an.fromNat(o.gas),o.to.toLowerCase(),an.fromNat(o.value),o.data,an.fromNat(o.chainId||"0x1"),"0x","0x"]),s=ja.keccak256(a),u=Wa.makeSigner(2*wn.toNumber(o.chainId||"0x1")+35)(ja.keccak256(a),e),c=Ia.decode(a).slice(0,6).concat(Wa.decodeSignature(u));c[6]=vp(yp(c[6])),c[7]=vp(yp(c[7])),c[8]=vp(yp(c[8]));var f=Ia.encode(c),h=Ia.decode(f);n={messageHash:s,v:yp(h[6]),r:yp(h[7]),s:yp(h[8]),rawTransaction:f}}catch(t){return r(t),tr.reject(t)}return r(null,n),n}return void 0!==t.nonce&&void 0!==t.chainId&&void 0!==t.gasPrice?tr.resolve(o(t)):tr.all([mp(t.chainId)?this._ethereumCall.getId():t.chainId,mp(t.gasPrice)?this._ethereumCall.getGasPrice():t.gasPrice,mp(t.nonce)?this._ethereumCall.getTransactionCount(this.privateKeyToAccount(e).address):t.nonce]).then(function(e){if(mp(e[0])||mp(e[1])||mp(e[2]))throw new Error('One of the values "chainId", "gasPrice", or "nonce" couldn\'t be fetched: '+JSON.stringify(e));return o(rt.extend(t,{chainId:e[0],gasPrice:e[1],nonce:e[2]}))})},gp.prototype.recoverTransaction=function(t){var e=Ia.decode(t),r=Wa.encodeSignature(e.slice(6,9)),n=an.toNumber(e[6]),i=n<35?[]:[an.fromNumber(n-35>>1),"0x","0x"],o=e.slice(0,6).concat(i),a=Ia.encode(o);return Wa.recover(ja.keccak256(a),r)},gp.prototype.hashMessage=function(t){var e=zt.isHexStrict(t)?zt.hexToBytes(t):t,r=Buffer.from(e),n="Ethereum Signed Message:\n"+e.length,i=Buffer.from(n),o=Buffer.concat([i,r]);return ja.keccak256s(o)},gp.prototype.sign=function(t,e){var r=this.hashMessage(t),n=Wa.sign(r,e),i=Wa.decodeSignature(n);return{message:t,messageHash:r,v:i[0],r:i[1],s:i[2],signature:n}},gp.prototype.recover=function(t,e,r){var n=[].slice.apply(arguments);return rt.isObject(t)?this.recover(t.messageHash,Wa.encodeSignature([t.v,t.r,t.s]),!0):(r||(t=this.hashMessage(t)),n.length>=4?(r=n.slice(-1)[0],r=!!rt.isBoolean(r)&&!!r,this.recover(t,Wa.encodeSignature(n.slice(1,4)),r)):Wa.recover(t,e))},gp.prototype.decrypt=function(t,e,r){if(!rt.isString(e))throw new Error("No password given.");var n,i,o=rt.isObject(t)?t:JSON.parse(r?t.toLowerCase():t);if(3!==o.version)throw new Error("Not a valid V3 wallet");if("scrypt"===o.crypto.kdf)i=o.crypto.kdfparams,n=Xd(new Buffer(e),new Buffer(i.salt,"hex"),i.n,i.r,i.p,i.dklen);else{if("pbkdf2"!==o.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(i=o.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");n=pp.pbkdf2Sync(new Buffer(e),new Buffer(i.salt,"hex"),i.c,i.dklen,"sha256")}var a=new Buffer(o.crypto.ciphertext,"hex");if(zt.sha3(Buffer.concat([n.slice(16,32),a])).replace("0x","")!==o.crypto.mac)throw new Error("Key derivation failed - possibly wrong password");var s=pp.createDecipheriv(o.crypto.cipher,n.slice(0,16),new Buffer(o.crypto.cipherparams.iv,"hex")),u="0x"+Buffer.concat([s.update(a),s.final()]).toString("hex");return this.privateKeyToAccount(u)},gp.prototype.encrypt=function(t,e,r){var n,i=this.privateKeyToAccount(t),o=(r=r||{}).salt||pp.randomBytes(32),a=r.iv||pp.randomBytes(16),s=r.kdf||"scrypt",u={dklen:r.dklen||32,salt:o.toString("hex")};if("pbkdf2"===s)u.c=r.c||262144,u.prf="hmac-sha256",n=pp.pbkdf2Sync(new Buffer(e),o,u.c,u.dklen,"sha256");else{if("scrypt"!==s)throw new Error("Unsupported kdf");u.n=r.n||8192,u.r=r.r||8,u.p=r.p||1,n=Xd(new Buffer(e),o,u.n,u.r,u.p,u.dklen)}var c=pp.createCipheriv(r.cipher||"aes-128-ctr",n.slice(0,16),a);if(!c)throw new Error("Unsupported cipher");var f=Buffer.concat([c.update(new Buffer(i.privateKey.replace("0x",""),"hex")),c.final()]),h=zt.sha3(Buffer.concat([n.slice(16,32),new Buffer(f,"hex")])).replace("0x","");return{version:3,id:dp.v4({random:r.uuid||pp.randomBytes(16)}),address:i.address.toLowerCase().replace("0x",""),crypto:{ciphertext:f.toString("hex"),cipherparams:{iv:a.toString("hex")},cipher:r.cipher||"aes-128-ctr",kdf:s,kdfparams:u,mac:h.toString("hex")}}},bp.prototype._findSafeIndex=function(t){return t=t||0,rt.has(this,t)?this._findSafeIndex(t+1):t},bp.prototype._currentIndexes=function(){return Object.keys(this).map(function(t){return parseInt(t)}).filter(function(t){return t<9e20})},bp.prototype.create=function(t,e){for(var r=0;r<t;++r)this.add(this._accounts.create(e).privateKey);return this},bp.prototype.add=function(t){return rt.isString(t)&&(t=this._accounts.privateKeyToAccount(t)),this[t.address]?this[t.address]:((t=this._accounts.privateKeyToAccount(t.privateKey)).index=this._findSafeIndex(),this[t.index]=t,this[t.address]=t,this[t.address.toLowerCase()]=t,this.length++,t)},bp.prototype.remove=function(t){var e=this[t];return!(!e||!e.address)&&(this[e.address].privateKey=null,delete this[e.address],this[e.address.toLowerCase()].privateKey=null,delete this[e.address.toLowerCase()],this[e.index].privateKey=null,delete this[e.index],this.length--,!0)},bp.prototype.clear=function(){var t=this;return this._currentIndexes().forEach(function(e){t.remove(e)}),this},bp.prototype.encrypt=function(t,e){var r=this;return this._currentIndexes().map(function(n){return r[n].encrypt(t,e)})},bp.prototype.decrypt=function(t,e){var r=this;return t.forEach(function(t){var n=r._accounts.decrypt(t,e);if(!n)throw new Error("Couldn't decrypt accounts. Password wrong?");r.add(n)}),this},bp.prototype.save=function(t,e){return localStorage.setItem(e||this.defaultKeyName,JSON.stringify(this.encrypt(t))),!0},bp.prototype.load=function(t,e){var r=localStorage.getItem(e||this.defaultKeyName);if(r)try{r=JSON.parse(r)}catch(t){}return this.decrypt(r||[],t)},"undefined"==typeof localStorage&&(delete bp.prototype.save,delete bp.prototype.load);var wp=gp,_p=function(t){var e,r=this;return this.net.getId().then(function(t){return e=t,r.getBlock(0)}).then(function(r){var n="private";return"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3"===r.hash&&1===e&&(n="main"),"0cd786a2425d16f152c658316c423e6ce1181e15c3295826d7c9904cba9ce303"===r.hash&&2===e&&(n="morden"),"0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d"===r.hash&&3===e&&(n="ropsten"),"0x6341fd3daf94b748c72ced5a5b26028f2474f5f00d824504e4fa37a75767e177"===r.hash&&4===e&&(n="rinkeby"),"0xa3c565fc15c7478862d50ccd6561e3c06b24cc509bf388941c25ea985ce32cb9"===r.hash&&42===e&&(n="kovan"),rt.isFunction(t)&&t(null,n),n}).catch(function(e){if(!rt.isFunction(t))throw e;t(e)})},kp=ur.subscriptions,Sp=ee.formatters,Ep=function(t){return rt.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},Mp=function(t){return rt.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},Ap=function(t){return rt.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},xp=function(t){return rt.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},Bp=function(t){return rt.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"},Cp=function(){var t=this;vr(this,arguments);var e=this.setProvider;this.setProvider=function(){e.apply(t,arguments),t.net.setProvider.apply(t,arguments),t.personal.setProvider.apply(t,arguments),t.accounts.setProvider.apply(t,arguments),t.Contract.setProvider(t.currentProvider,t.accounts)};var r=null,n="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return r},set:function(e){return e&&(r=zt.toChecksumAddress(Sp.inputAddressFormatter(e))),t.Contract.defaultAccount=r,t.personal.defaultAccount=r,o.forEach(function(t){t.defaultAccount=r}),e},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return n},set:function(e){return n=e,t.Contract.defaultBlock=n,t.personal.defaultBlock=n,o.forEach(function(t){t.defaultBlock=n}),e},enumerable:!0}),this.clearSubscriptions=t._requestManager.clearSubscriptions,this.net=new wr(this.currentProvider),this.net.getNetworkType=_p.bind(this),this.accounts=new wp(this.currentProvider),this.personal=new Sr(this.currentProvider),this.personal.defaultAccount=this.defaultAccount;var i=function(){tn.apply(this,arguments)};i.setProvider=function(){tn.setProvider.apply(this,arguments)},(i.prototype=Object.create(tn.prototype)).constructor=i,this.Contract=i,this.Contract.defaultAccount=this.defaultAccount,this.Contract.defaultBlock=this.defaultBlock,this.Contract.setProvider(this.currentProvider,this.accounts),this.Iban=Wt,this.abi=Yr;var o=[new pr({name:"getProtocolVersion",call:"eth_protocolVersion",params:0}),new pr({name:"getCoinbase",call:"eth_coinbase",params:0}),new pr({name:"isMining",call:"eth_mining",params:0}),new pr({name:"getHashrate",call:"eth_hashrate",params:0,outputFormatter:zt.hexToNumber}),new pr({name:"isSyncing",call:"eth_syncing",params:0,outputFormatter:Sp.outputSyncingFormatter}),new pr({name:"getGasPrice",call:"eth_gasPrice",params:0,outputFormatter:Sp.outputBigNumberFormatter}),new pr({name:"getAccounts",call:"eth_accounts",params:0,outputFormatter:zt.toChecksumAddress}),new pr({name:"getBlockNumber",call:"eth_blockNumber",params:0,outputFormatter:zt.hexToNumber}),new pr({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[Sp.inputAddressFormatter,Sp.inputDefaultBlockNumberFormatter],outputFormatter:Sp.outputBigNumberFormatter}),new pr({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[Sp.inputAddressFormatter,zt.numberToHex,Sp.inputDefaultBlockNumberFormatter]}),new pr({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[Sp.inputAddressFormatter,Sp.inputDefaultBlockNumberFormatter]}),new pr({name:"getBlock",call:Ep,params:2,inputFormatter:[Sp.inputBlockNumberFormatter,function(t){return!!t}],outputFormatter:Sp.outputBlockFormatter}),new pr({name:"getUncle",call:Ap,params:2,inputFormatter:[Sp.inputBlockNumberFormatter,zt.numberToHex],outputFormatter:Sp.outputBlockFormatter}),new pr({name:"getBlockTransactionCount",call:xp,params:1,inputFormatter:[Sp.inputBlockNumberFormatter],outputFormatter:zt.hexToNumber}),new pr({name:"getBlockUncleCount",call:Bp,params:1,inputFormatter:[Sp.inputBlockNumberFormatter],outputFormatter:zt.hexToNumber}),new pr({name:"getTransaction",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:Sp.outputTransactionFormatter}),new pr({name:"getTransactionFromBlock",call:Mp,params:2,inputFormatter:[Sp.inputBlockNumberFormatter,zt.numberToHex],outputFormatter:Sp.outputTransactionFormatter}),new pr({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:Sp.outputTransactionReceiptFormatter}),new pr({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[Sp.inputAddressFormatter,Sp.inputDefaultBlockNumberFormatter],outputFormatter:zt.hexToNumber}),new pr({name:"sendSignedTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null]}),new pr({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[Sp.inputTransactionFormatter]}),new pr({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[Sp.inputTransactionFormatter]}),new pr({name:"sign",call:"eth_sign",params:2,inputFormatter:[Sp.inputSignFormatter,Sp.inputAddressFormatter],transformPayload:function(t){return t.params.reverse(),t}}),new pr({name:"call",call:"eth_call",params:2,inputFormatter:[Sp.inputCallFormatter,Sp.inputDefaultBlockNumberFormatter]}),new pr({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[Sp.inputCallFormatter],outputFormatter:zt.hexToNumber}),new pr({name:"getCompilers",call:"eth_getCompilers",params:0}),new pr({name:"compile.solidity",call:"eth_compileSolidity",params:1}),new pr({name:"compile.lll",call:"eth_compileLLL",params:1}),new pr({name:"compile.serpent",call:"eth_compileSerpent",params:1}),new pr({name:"submitWork",call:"eth_submitWork",params:3}),new pr({name:"getWork",call:"eth_getWork",params:0}),new pr({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[Sp.inputLogFormatter],outputFormatter:Sp.outputLogFormatter}),new kp({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:Sp.outputBlockFormatter},pendingTransactions:{subscriptionName:"newPendingTransactions",params:0},logs:{params:1,inputFormatter:[Sp.inputLogFormatter],outputFormatter:Sp.outputLogFormatter,subscriptionHandler:function(t){t.removed?this.emit("changed",t):this.emit("data",t),rt.isFunction(this.callback)&&this.callback(null,t,this)}},syncing:{params:0,outputFormatter:Sp.outputSyncingFormatter,subscriptionHandler:function(t){var e=this;!0!==this._isSyncing?(this._isSyncing=!0,this.emit("changed",e._isSyncing),rt.isFunction(this.callback)&&this.callback(null,e._isSyncing,this),setTimeout(function(){e.emit("data",t),rt.isFunction(e.callback)&&e.callback(null,t,e)},0)):(this.emit("data",t),rt.isFunction(e.callback)&&this.callback(null,t,this),clearTimeout(this._isSyncingTimeout),this._isSyncingTimeout=setTimeout(function(){t.currentBlock>t.highestBlock-200&&(e._isSyncing=!1,e.emit("changed",e._isSyncing),rt.isFunction(e.callback)&&e.callback(null,e._isSyncing,e))},500))}}}})];o.forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager,t.accounts),e.defaultBlock=t.defaultBlock,e.defaultAccount=t.defaultAccount})};gr(Cp);var Ip=Cp,Tp=ur.subscriptions,Pp=function(){var t=this;vr(this,arguments);var e=this.setProvider;this.setProvider=function(){e.apply(t,arguments),t.net.setProvider.apply(t,arguments)},this.clearSubscriptions=t._requestManager.clearSubscriptions,this.net=new wr(this.currentProvider),[new Tp({name:"subscribe",type:"shh",subscriptions:{messages:{params:1}}}),new pr({name:"getVersion",call:"shh_version",params:0}),new pr({name:"getInfo",call:"shh_info",params:0}),new pr({name:"setMaxMessageSize",call:"shh_setMaxMessageSize",params:1}),new pr({name:"setMinPoW",call:"shh_setMinPoW",params:1}),new pr({name:"markTrustedPeer",call:"shh_markTrustedPeer",params:1}),new pr({name:"newKeyPair",call:"shh_newKeyPair",params:0}),new pr({name:"addPrivateKey",call:"shh_addPrivateKey",params:1}),new pr({name:"deleteKeyPair",call:"shh_deleteKeyPair",params:1}),new pr({name:"hasKeyPair",call:"shh_hasKeyPair",params:1}),new pr({name:"getPublicKey",call:"shh_getPublicKey",params:1}),new pr({name:"getPrivateKey",call:"shh_getPrivateKey",params:1}),new pr({name:"newSymKey",call:"shh_newSymKey",params:0}),new pr({name:"addSymKey",call:"shh_addSymKey",params:1}),new pr({name:"generateSymKeyFromPassword",call:"shh_generateSymKeyFromPassword",params:1}),new pr({name:"hasSymKey",call:"shh_hasSymKey",params:1}),new pr({name:"getSymKey",call:"shh_getSymKey",params:1}),new pr({name:"deleteSymKey",call:"shh_deleteSymKey",params:1}),new pr({name:"newMessageFilter",call:"shh_newMessageFilter",params:1}),new pr({name:"getFilterMessages",call:"shh_getFilterMessages",params:1}),new pr({name:"deleteMessageFilter",call:"shh_deleteMessageFilter",params:1}),new pr({name:"post",call:"shh_post",params:1,inputFormatter:[null]})].forEach(function(e){e.attachToObject(t),e.setRequestManager(t._requestManager)})};gr(Pp);var Np=Pp,Rp=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},Lp=Object.getOwnPropertySymbols,Op=Object.prototype.hasOwnProperty,jp=Object.prototype.propertyIsEnumerable;var Dp=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,n,i=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var a in r=Object(arguments[o]))Op.call(r,a)&&(i[a]=r[a]);if(Lp){n=Lp(r);for(var s=0;s<n.length;s++)jp.call(r,n[s])&&(i[n[s]]=r[n[s]])}}return i},Up=new RegExp("%[a-f0-9]{2}","gi"),Fp=new RegExp("(%[a-f0-9]{2})+","gi");function qp(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],qp(r),qp(n))}function Kp(t){try{return decodeURIComponent(t)}catch(n){for(var e=t.match(Up),r=1;r<e.length;r++)e=(t=qp(e,r).join("")).match(Up);return t}}var zp=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=Fp.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var n=Kp(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Fp.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),o=0;o<i.length;o++){var a=i[o];t=t.replace(new RegExp(a,"g"),e[a])}return t}(t)}};function Vp(t,e){return e.encode?e.strict?Rp(t):encodeURIComponent(t):t}function Hp(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function Gp(t,e){var r=function(t){var e;switch(t.arrayFormat){case"index":return function(t,r,n){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return function(t,r,n){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};default:return function(t,e,r){void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e=Dp({arrayFormat:"none"},e)),n=Object.create(null);return"string"!=typeof t?n:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),i=e.shift(),o=e.length>0?e.join("="):void 0;o=void 0===o?null:zp(o),r(zp(i),o,n)}),Object.keys(n).sort().reduce(function(t,e){var r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort(function(t,e){return Number(t)-Number(e)}).map(function(t){return e[t]}):e}(r):t[e]=r,t},Object.create(null))):n}var $p={extract:Hp,parse:Gp,stringify:function(t,e){!1===(e=Dp({encode:!0,strict:!0,arrayFormat:"none"},e)).sort&&(e.sort=function(){});var r=function(t){switch(t.arrayFormat){case"index":return function(e,r,n){return null===r?[Vp(e,t),"[",n,"]"].join(""):[Vp(e,t),"[",Vp(n,t),"]=",Vp(r,t)].join("")};case"bracket":return function(e,r){return null===r?Vp(e,t):[Vp(e,t),"[]=",Vp(r,t)].join("")};default:return function(e,r){return null===r?Vp(e,t):[Vp(e,t),"=",Vp(r,t)].join("")}}}(e);return t?Object.keys(t).sort(e.sort).map(function(n){var i=t[n];if(void 0===i)return"";if(null===i)return Vp(n,e);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(t){void 0!==t&&o.push(r(n,t,o.length))}),o.join("&")}return Vp(n,e)+"="+Vp(i,e)}).filter(function(t){return t.length>0}).join("&"):""},parseUrl:function(t,e){return{url:t.split("?")[0]||"",query:Gp(Hp(t),e)}}},Wp=function(t,e){if(e){e=(e=e.trim().replace(/^(\?|#|&)/,""))?"?"+e:e;var r=t.split(/[\?\#]/),n=r[0];e&&/\:\/\/[^\/]*$/.test(n)&&(n+="/");var i=t.match(/(\#.*)$/);t=n+e,i&&(t+=i[0])}return t};var Yp=function(t,e,r){var n=e.toLowerCase();t[e]||t[n]||(t[e]=r)};var Zp="undefined"!=typeof window?window:void 0!==X?X:"undefined"!=typeof self?self:{},Qp=function(t){var e=Xp.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},Xp=Object.prototype.toString;var Jp=et(function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}),tm=(Jp.left,Jp.right,function(t,e,r){if(!Qp(e))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this);"[object Array]"===em.call(t)?function(t,e,r){for(var n=0,i=t.length;n<i;n++)rm.call(t,n)&&e.call(r,t[n],n,t)}(t,e,r):"string"==typeof t?function(t,e,r){for(var n=0,i=t.length;n<i;n++)e.call(r,t.charAt(n),n,t)}(t,e,r):function(t,e,r){for(var n in t)rm.call(t,n)&&e.call(r,t[n],n,t)}(t,e,r)}),em=Object.prototype.toString,rm=Object.prototype.hasOwnProperty;var nm=function(t){if(!t)return{};var e={};return tm(Jp(t).split("\n"),function(t){var r,n=t.indexOf(":"),i=Jp(t.slice(0,n)).toLowerCase(),o=Jp(t.slice(n+1));void 0===e[i]?e[i]=o:(r=e[i],"[object Array]"===Object.prototype.toString.call(r)?e[i].push(o):e[i]=[e[i],o])}),e},im=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)om.call(r,n)&&(t[n]=r[n])}return t},om=Object.prototype.hasOwnProperty;var am=um;function sm(t,e,r){var n=t;return Qp(e)?(r=e,"string"==typeof t&&(n={uri:t})):n=im(e,{uri:t}),n.callback=r,n}function um(t,e,r){return cm(e=sm(t,e,r))}function cm(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,r=function(r,n,i){e||(e=!0,t.callback(r,n,i))};function n(t){return clearTimeout(u),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,m)}function i(){if(!a){var e;clearTimeout(u),e=t.useXDR&&void 0===s.status?200:1223===s.status?204:s.status;var n=m,i=null;return 0!==e?(n={body:function(){var t=void 0;if(t=s.response?s.response:s.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(s),p)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:e,method:f,headers:{},url:c,rawRequest:s},s.getAllResponseHeaders&&(n.headers=nm(s.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),r(i,n,n.body)}}var o,a,s=t.xhr||null;s||(s=t.cors||t.useXDR?new um.XDomainRequest:new um.XMLHttpRequest);var u,c=s.url=t.uri||t.url,f=s.method=t.method||"GET",h=t.body||t.data,l=s.headers=t.headers||{},d=!!t.sync,p=!1,m={body:void 0,headers:{},statusCode:0,method:f,url:c,rawRequest:s};if("json"in t&&!1!==t.json&&(p=!0,l.accept||l.Accept||(l.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(l["content-type"]||l["Content-Type"]||(l["Content-Type"]="application/json"),h=JSON.stringify(!0===t.json?h:t.json))),s.onreadystatechange=function(){4===s.readyState&&setTimeout(i,0)},s.onload=i,s.onerror=n,s.onprogress=function(){},s.onabort=function(){a=!0},s.ontimeout=n,s.open(f,c,!d,t.username,t.password),d||(s.withCredentials=!!t.withCredentials),!d&&t.timeout>0&&(u=setTimeout(function(){if(!a){a=!0,s.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",n(t)}},t.timeout)),s.setRequestHeader)for(o in l)l.hasOwnProperty(o)&&s.setRequestHeader(o,l[o]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(s.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(s),s.send(h||null),s}um.XMLHttpRequest=Zp.XMLHttpRequest||function(){},um.XDomainRequest="withCredentials"in new um.XMLHttpRequest?um.XMLHttpRequest:Zp.XDomainRequest,function(t,e){for(var r=0;r<t.length;r++)e(t[r])}(["get","put","post","patch","head","delete"],function(t){um["delete"===t?"del":t]=function(e,r,n){return(r=sm(e,r,n)).method=t.toUpperCase(),cm(r)}});var fm=function(t,e){return e?{statusCode:e.statusCode,headers:e.headers,method:t.method,url:t.url,rawRequest:e.rawRequest?e.rawRequest:e}:null};var hm=function(){},lm=function(t,e){delete t.uri;var r=!1;"json"===t.responseType&&(t.responseType="text",r=!0);var n=am(t,function(n,i,o){if(r&&!n)try{var a=i.rawRequest.responseText;o=JSON.parse(a)}catch(t){n=t}i=fm(t,i),e(n,n?null:o,i),e=hm}),i=n.onabort;return n.onabort=function(){var t=i.apply(n,Array.prototype.slice.call(arguments));return e(new Error("XHR Aborted")),e=hm,t},n};var dm="application/json",pm=function(){},mm=function(t,e,r){if(!t||"string"!=typeof t)throw new TypeError("must specify a URL");"function"==typeof e&&(r=e,e={});if(r&&"function"!=typeof r)throw new TypeError("expected cb to be undefined or a function");r=r||pm;var n=(e=e||{}).json?"json":"text",i=(e=Dp({responseType:n},e)).headers||{},o=(e.method||"GET").toUpperCase(),a=e.query;a&&("string"!=typeof a&&(a=$p.stringify(a)),t=Wp(t,a));"json"===e.responseType&&Yp(i,"Accept",dm);e.json&&"GET"!==o&&"HEAD"!==o&&(Yp(i,"Content-Type",dm),e.body=JSON.stringify(e.body));return e.method=o,e.url=t,e.headers=i,delete e.query,delete e.json,lm(e,r)};var ym=function(t,e){return parseInt(t.slice(2*e+2,2*e+4),16)},vm=function(t){return(t.length-2)/2},gm=function(t){for(var e=[],r=2,n=t.length;r<n;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},bm=function(t){for(var e="0x",r=0,n=t.length;r<n;++r){var i=t[r];e+=(i<16?"0":"")+i.toString(16)}return e},wm={random:function(t){var e=void 0;e="undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(t)):J().randomBytes(t);for(var r="0x",n=0;n<t;++n)r+=("00"+e[n].toString(16)).slice(-2);return r},length:vm,concat:function(t,e){return t.concat(e.slice(2))},flatten:function(t){return"0x"+t.reduce(function(t,e){return t+e.slice(2)},"")},slice:function(t,e,r){return"0x"+r.slice(2*t+2,2*e+2)},reverse:function(t){for(var e="0x",r=0,n=vm(t);r<n;++r)e+=t.slice(2*(n-r),2*(n-r+1));return e},pad:function t(e,r){return r.length===2*e+2?r:t(e,"0x0"+r.slice(2))},padRight:function t(e,r){return r.length===2*e+2?r:t(e,r+"0")},fromAscii:function(t){for(var e="0x",r=0;r<t.length;++r)e+=("00"+t.charCodeAt(r).toString(16)).slice(-2);return e},toAscii:function(t){for(var e="",r=2;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.slice(r,r+2),16));return e},fromString:function(t){for(var e=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},r="0x",n=0;n!=t.length;n++){var i=t.charCodeAt(n);if(i<128)r+=e(i);else{if(i<2048)r+=e(i>>6|192);else{if(i>55295&&i<56320){if(++n==t.length)return null;var o=t.charCodeAt(n);if(o<56320||o>57343)return null;r+=e((i=65536+((1023&i)<<10)+(1023&o))>>18|240),r+=e(i>>12&63|128)}else r+=e(i>>12|224);r+=e(i>>6&63|128)}r+=e(63&i|128)}}return r},toString:function(t){for(var e="",r=0,n=vm(t);r<n;){var i=ym(t,r++);if(i>127){if(i>191&&i<224){if(r>=n)return null;i=(31&i)<<6|63&ym(t,r)}else if(i>223&&i<240){if(r+1>=n)return null;i=(15&i)<<12|(63&ym(t,r))<<6|63&ym(t,++r)}else{if(!(i>239&&i<248))return null;if(r+2>=n)return null;i=(7&i)<<18|(63&ym(t,r))<<12|(63&ym(t,++r))<<6|63&ym(t,++r)}++r}if(i<=65535)e+=String.fromCharCode(i);else{if(!(i<=1114111))return null;i-=65536,e+=String.fromCharCode(i>>10|55296),e+=String.fromCharCode(1023&i|56320)}}return e},fromNumber:function(t){var e=t.toString(16);return e.length%2==0?"0x"+e:"0x0"+e},toNumber:function(t){return parseInt(t.slice(2),16)},fromNat:function(t){return"0x0"===t?"0x":t.length%2==0?t:"0x0"+t.slice(2)},toNat:function(t){return"0"===t[2]?"0x"+t.slice(3):t},fromArray:bm,toArray:gm,fromUint8Array:function(t){return bm([].slice.call(t,0))},toUint8Array:function(t){return new Uint8Array(gm(t))}},_m=St.keccak256,km=function(t,e){var r=wm.reverse(wm.pad(6,wm.fromNumber(t))),n=wm.flatten([r,"0x0000",e]);return _m(n).slice(2)},Sm=function t(e){"string"==typeof e&&"0x"!==e.slice(0,2)?e=wm.fromString(e):"string"!=typeof e&&void 0!==e.length&&(e=wm.fromUint8Array(e));var r=wm.length(e);if(r<=4096)return km(r,e);for(var n=4096;128*n<r;)n*=128;for(var i=[],o=0;o<r;o+=n){var a=n<r-o?n:r-o;i.push(t(wm.slice(e,o,o+a)))}return km(r,wm.flatten(i))},Em=function(t){return function(){return new Promise(function(e,r){var n=function(r){var n={},i=r.target.files.length,o=0;[].map.call(r.target.files,function(r){var a=new FileReader;a.onload=function(a){var s=new Uint8Array(a.target.result);if("directory"===t){var u=r.webkitRelativePath;n[u.slice(u.indexOf("/")+1)]={type:"text/plain",data:s},++o===i&&e(n)}else if("file"===t){var c=r.webkitRelativePath;e({type:mimetype.lookup(c),data:s})}else e(s)},a.readAsArrayBuffer(r)})},i=void 0;"directory"===t?((i=document.createElement("input")).addEventListener("change",n),i.type="file",i.webkitdirectory=!0,i.mozdirectory=!0,i.msdirectory=!0,i.odirectory=!0,i.directory=!0):((i=document.createElement("input")).addEventListener("change",n),i.type="file");var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!1),i.dispatchEvent(o)})}},Mm={data:Em("data"),file:Em("file"),directory:Em("directory")},Am=function(){throw"This swarm.js function isn't available on the browser."},xm=function(t){var e=t.fsp,r=t.files,n=t.os,i=t.path,o=t.child_process,a=t.mimetype,s=t.defaultArchives,u=t.request,c=t.downloadUrl,f=t.bytes,h=t.hash,l=t.pick,d=function(t){return function(e){for(var r={},n=0,i=t.length;n<i;++n)r[t[n]]=e[n];return r}},p=function(t){return function(e){return t+"/bzzr:/"+e}},m=function(t){return function(e){return u(p(t)(e),{responseType:"arraybuffer"}).then(function(t){var e,r=new Uint8Array(t);if((e=r,function(t){if(e.length!==t.length)return!1;var r=0;for(e.length;r<e;++r)if(e[r]!==t[r])return!1;return!0})([52,48,52,32,112,97,103,101,32,110,111,116,32,102,111,117,110,100,10]))throw"Error 404.";return r})}},y=function(t){return function(e){return function e(r){return function(n){return function(i){var o=function(t){return void 0===t.path?Promise.resolve():"application/bzz-manifest+json"===t.contentType?e(t.hash)(n+t.path)(i):Promise.resolve((r=n+t.path,function(t){return function(e){return e[r]=t,e}})(function(t){return{type:t.contentType,hash:t.hash}}(t))(i));var r};return m(t)(r).then(function(t){return JSON.parse(O(t)).entries}).then(function(t){return Promise.all(t.map(o))}).then(function(){return i})}}}(e)("")({})}},v=function(t){return function(e){return y(t)(e).then(function(t){return d(Object.keys(t))(Object.keys(t).map(function(e){return t[e].hash}))})}},g=function(t){return function(e){return y(t)(e).then(function(e){var r=Object.keys(e),n=r.map(function(t){return e[t].hash}),i=r.map(function(t){return e[t].type}),o=n.map(m(t));return Promise.all(o).then(function(t){return d(r)(function(t){return t.map(function(t,e){return{type:i[e],data:t}})}(t))})})}},b=function(t){return function(e){return function(n){return r.download(p(t)(e))(n)}}},w=function(t){return function(e){return function(r){return v(t)(e).then(function(e){var n=[];for(var o in e)if(o.length>0){var a=i.join(r,o);n.push(b(t)(e[o])(a))}return Promise.all(n).then(function(){return r})})}}},_=function(t){return function(e){return u(t+"/bzzr:/",{body:"string"==typeof e?j(e):e,method:"POST"})}},k=function(t){return function(e){return function(r){return function(n){return function i(o){var a="/"===r[0]?r:"/"+r,s=t+"/bzz:/"+e+a,c={method:"PUT",headers:{"Content-Type":n.type},body:n.data};return u(s,c).then(function(t){if(-1!==t.indexOf("error"))throw t;return t}).catch(function(t){return o>0&&i(o-1)})}(3)}}}},S=function(t){return function(e){return M(t)({"":e})}},E=function(t){return function(r){return e.readFile(r).then(function(e){return S(t)({type:a.lookup(r),data:e})})}},M=function(t){return function(e){return _(t)("{}").then(function(r){return Object.keys(e).reduce(function(r,n){return r.then(function(r){return function(n){return k(t)(n)(r)(e[r])}}(n))},Promise.resolve(r))})}},A=function(t){return function(r){return e.readFile(r).then(_(t))}},x=function(t){return function(n){return function(i){return r.directoryTree(i).then(function(t){return Promise.all(t.map(function(t){return e.readFile(t)})).then(function(e){var r=t.map(function(t){return t.slice(i.length)}),n=t.map(function(t){return a.lookup(t)||"text/plain"});return d(r)(e.map(function(t,e){return{type:n[e],data:t}}))})}).then(function(t){return(e=n?{"":t[n]}:{},function(t){var r={};for(var n in e)r[n]=e[n];for(var i in t)r[i]=t[i];return r})(t);var e}).then(M(t))}}},B=function(t){return function(e){if("data"===e.pick)return l.data().then(_(t));if("file"===e.pick)return l.file().then(S(t));if("directory"===e.pick)return l.directory().then(M(t));if(e.path)switch(e.kind){case"data":return A(t)(e.path);case"file":return E(t)(e.path);case"directory":return x(t)(e.defaultFile)(e.path)}else{if(e.length||"string"==typeof e)return _(t)(e);if(e instanceof Object)return M(t)(e)}return Promise.reject(new Error("Bad arguments"))}},C=function(t){return function(e){return function(r){return R(t)(e).then(function(n){return n?r?w(t)(e)(r):g(t)(e):r?b(t)(e)(r):m(t)(e)})}}},I=function(t,e){var i=n.platform().replace("win32","windows")+"-"+("x64"===n.arch()?"amd64":"386"),o=(e||s)[i],a=c+o.archive+".tar.gz",u=o.archiveMD5,f=o.binaryMD5;return r.safeDownloadArchived(a)(u)(f)(t)},T=function(t){return new Promise(function(e,r){var n=o.spawn,i=function(t){return function(e){return-1!==(""+e).indexOf(t)}},a=t.account,s=t.password,u=t.dataDir,c=t.ensApi,f=t.privateKey,h=0,l=n(t.binPath,["--bzzaccount",a||f,"--datadir",u,"--ens-api",c]),d=function(t){0===h&&i("Passphrase")(t)?setTimeout(function(){h=1,l.stdin.write(s+"\n")},500):i("Swarm http proxy started")(t)&&(h=2,clearTimeout(p),e(l))};l.stdout.on("data",d),l.stderr.on("data",d);var p=setTimeout(function(){return r(new Error("Couldn't start swarm process."))},2e4)})},P=function(t){return new Promise(function(e,r){t.stderr.removeAllListeners("data"),t.stdout.removeAllListeners("data"),t.stdin.removeAllListeners("error"),t.removeAllListeners("error"),t.removeAllListeners("exit"),t.kill("SIGINT");var n=setTimeout(function(){return t.kill("SIGKILL")},8e3);t.once("close",function(){clearTimeout(n),e()})})},N=function(t){return _(t)("test").then(function(t){return"c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7"===t}).catch(function(){return!1})},R=function(t){return function(e){return m(t)(e).then(function(t){try{return!!JSON.parse(O(t)).entries}catch(t){return!1}})}},L=function(t){return function(e,r,n,i,o){var a;return void 0!==e&&(a=t(e)),void 0!==r&&(a=t(r)),void 0!==n&&(a=t(n)),void 0!==i&&(a=t(i)),void 0!==o&&(a=t(o)),a}},O=function(t){return f.toString(f.fromUint8Array(t))},j=function(t){return f.toUint8Array(f.fromString(t))},D=function(t){return{download:function(e,r){return C(t)(e)(r)},downloadData:L(m(t)),downloadDataToDisk:L(b(t)),downloadDirectory:L(g(t)),downloadDirectoryToDisk:L(w(t)),downloadEntries:L(y(t)),downloadRoutes:L(v(t)),isAvailable:function(){return N(t)},upload:function(e){return B(t)(e)},uploadData:L(_(t)),uploadFile:L(S(t)),uploadFileFromDisk:L(S(t)),uploadDataFromDisk:L(A(t)),uploadDirectory:L(M(t)),uploadDirectoryFromDisk:L(x(t)),uploadToManifest:L(k(t)),pick:l,hash:h,fromString:j,toString:O}};return{at:D,local:function(t){return function(e){return N("http://localhost:8500").then(function(r){return r?e(D("http://localhost:8500")).then(function(){}):I(t.binPath,t.archives).onData(function(e){return(t.onProgress||function(){})(e.length)}).then(function(){return T(t)}).then(function(t){return e(D("http://localhost:8500")).then(function(){return t})}).then(P)})}},download:C,downloadBinary:I,downloadData:m,downloadDataToDisk:b,downloadDirectory:g,downloadDirectoryToDisk:w,downloadEntries:y,downloadRoutes:v,isAvailable:N,startProcess:T,stopProcess:P,upload:B,uploadData:_,uploadDataFromDisk:A,uploadFile:S,uploadFileFromDisk:E,uploadDirectory:M,uploadDirectoryFromDisk:x,uploadToManifest:k,pick:l,hash:h,fromString:j,toString:O}}({fsp:{readFile:Am},files:{download:Am,safeDownloadArchived:Am,directoryTree:Am},os:{platform:Am,arch:Am},path:{join:Am,slice:Am},child_process:{spawn:Am},defaultArchives:{},mimetype:{lookup:Am},request:function(t,e){return new Promise(function(r,n){mm(t,e,function(t,e){t?n(t):r(e)})})},downloadUrl:null,bytes:wm,hash:Sm,pick:Mm}),Bm=function t(e){this.givenProvider=t.givenProvider,e&&e._requestManager&&(e=e.currentProvider),"undefined"!=typeof document&&(this.pick=xm.pick),this.setProvider(e)};Bm.givenProvider=null,"undefined"!=typeof ethereumProvider&&ethereumProvider.bzz&&(Bm.givenProvider=ethereumProvider.bzz),Bm.prototype.setProvider=function(t){if(rt.isObject(t)&&rt.isString(t.bzz)&&(t=t.bzz),!rt.isString(t)){this.currentProvider=null;var e=new Error("No provider set, please set one using bzz.setProvider().");return this.download=this.upload=this.isAvailable=function(){throw e},!1}return this.currentProvider=t,this.download=xm.at(t).download,this.upload=xm.at(t).upload,this.isAvailable=xm.at(t).isAvailable,!0};var Cm=Bm,Im=(Q&&Z||Q).version,Tm=function(){var t=this;vr(this,arguments),this.version=Im,this.utils=zt,this.eth=new Ip(this),this.shh=new Np(this),this.bzz=new Cm(this);var e=this.setProvider;this.setProvider=function(r,n){return e.apply(t,arguments),this.eth.setProvider(r,n),this.shh.setProvider(r,n),this.bzz.setProvider(r),!0}};Tm.version=Im,Tm.utils=zt,Tm.modules={Eth:Ip,Net:wr,Personal:Sr,Shh:Np,Bzz:Cm},gr(Tm);var Pm=Tm,Nm=Ya.Buffer,Rm=e.Transform,Lm=Ya.Buffer,Om=e.Transform,jm=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Dm=function(t){for(var e=0;e<24;++e){var r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],s=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49],l=f^(i<<1|o>>>31),d=h^(o<<1|i>>>31),p=t[0]^l,m=t[1]^d,y=t[10]^l,v=t[11]^d,g=t[20]^l,b=t[21]^d,w=t[30]^l,_=t[31]^d,k=t[40]^l,S=t[41]^d;l=r^(a<<1|s>>>31),d=n^(s<<1|a>>>31);var E=t[2]^l,M=t[3]^d,A=t[12]^l,x=t[13]^d,B=t[22]^l,C=t[23]^d,I=t[32]^l,T=t[33]^d,P=t[42]^l,N=t[43]^d;l=i^(u<<1|c>>>31),d=o^(c<<1|u>>>31);var R=t[4]^l,L=t[5]^d,O=t[14]^l,j=t[15]^d,D=t[24]^l,U=t[25]^d,F=t[34]^l,q=t[35]^d,K=t[44]^l,z=t[45]^d;l=a^(f<<1|h>>>31),d=s^(h<<1|f>>>31);var V=t[6]^l,H=t[7]^d,G=t[16]^l,$=t[17]^d,W=t[26]^l,Y=t[27]^d,Z=t[36]^l,Q=t[37]^d,X=t[46]^l,J=t[47]^d;l=u^(r<<1|n>>>31),d=c^(n<<1|r>>>31);var tt=t[8]^l,et=t[9]^d,rt=t[18]^l,nt=t[19]^d,it=t[28]^l,ot=t[29]^d,at=t[38]^l,st=t[39]^d,ut=t[48]^l,ct=t[49]^d,ft=p,ht=m,lt=v<<4|y>>>28,dt=y<<4|v>>>28,pt=g<<3|b>>>29,mt=b<<3|g>>>29,yt=_<<9|w>>>23,vt=w<<9|_>>>23,gt=k<<18|S>>>14,bt=S<<18|k>>>14,wt=E<<1|M>>>31,_t=M<<1|E>>>31,kt=x<<12|A>>>20,St=A<<12|x>>>20,Et=B<<10|C>>>22,Mt=C<<10|B>>>22,At=T<<13|I>>>19,xt=I<<13|T>>>19,Bt=P<<2|N>>>30,Ct=N<<2|P>>>30,It=L<<30|R>>>2,Tt=R<<30|L>>>2,Pt=O<<6|j>>>26,Nt=j<<6|O>>>26,Rt=U<<11|D>>>21,Lt=D<<11|U>>>21,Ot=F<<15|q>>>17,jt=q<<15|F>>>17,Dt=z<<29|K>>>3,Ut=K<<29|z>>>3,Ft=V<<28|H>>>4,qt=H<<28|V>>>4,Kt=$<<23|G>>>9,zt=G<<23|$>>>9,Vt=W<<25|Y>>>7,Ht=Y<<25|W>>>7,Gt=Z<<21|Q>>>11,$t=Q<<21|Z>>>11,Wt=J<<24|X>>>8,Yt=X<<24|J>>>8,Zt=tt<<27|et>>>5,Qt=et<<27|tt>>>5,Xt=rt<<20|nt>>>12,Jt=nt<<20|rt>>>12,te=ot<<7|it>>>25,ee=it<<7|ot>>>25,re=at<<8|st>>>24,ne=st<<8|at>>>24,ie=ut<<14|ct>>>18,oe=ct<<14|ut>>>18;t[0]=ft^~kt&Rt,t[1]=ht^~St&Lt,t[10]=Ft^~Xt&pt,t[11]=qt^~Jt&mt,t[20]=wt^~Pt&Vt,t[21]=_t^~Nt&Ht,t[30]=Zt^~lt&Et,t[31]=Qt^~dt&Mt,t[40]=It^~Kt&te,t[41]=Tt^~zt&ee,t[2]=kt^~Rt&Gt,t[3]=St^~Lt&$t,t[12]=Xt^~pt&At,t[13]=Jt^~mt&xt,t[22]=Pt^~Vt&re,t[23]=Nt^~Ht&ne,t[32]=lt^~Et&Ot,t[33]=dt^~Mt&jt,t[42]=Kt^~te&yt,t[43]=zt^~ee&vt,t[4]=Rt^~Gt&ie,t[5]=Lt^~$t&oe,t[14]=pt^~At&Dt,t[15]=mt^~xt&Ut,t[24]=Vt^~re&gt,t[25]=Ht^~ne&bt,t[34]=Et^~Ot&Wt,t[35]=Mt^~jt&Yt,t[44]=te^~yt&Bt,t[45]=ee^~vt&Ct,t[6]=Gt^~ie&ft,t[7]=$t^~oe&ht,t[16]=At^~Dt&Ft,t[17]=xt^~Ut&qt,t[26]=re^~gt&wt,t[27]=ne^~bt&_t,t[36]=Ot^~Wt&Zt,t[37]=jt^~Yt&Qt,t[46]=yt^~Bt&It,t[47]=vt^~Ct&Tt,t[8]=ie^~ft&kt,t[9]=oe^~ht&St,t[18]=Dt^~Ft&Xt,t[19]=Ut^~qt&Jt,t[28]=gt^~wt&Pt,t[29]=bt^~_t&Nt,t[38]=Wt^~Zt&lt,t[39]=Yt^~Qt&dt,t[48]=Bt^~It&Kt,t[49]=Ct^~Tt&zt,t[0]^=jm[2*e],t[1]^=jm[2*e+1]}},Um=Ya.Buffer;function Fm(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Fm.prototype.initialize=function(t,e){for(var r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1},Fm.prototype.absorb=function(t){for(var e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(Dm(this.state),this.count=0)},Fm.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8,0!=(128&t)&&this.count===this.blockSize-1&&Dm(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,Dm(this.state),this.count=0,this.squeezing=!0},Fm.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);for(var e=Um.alloc(t),r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(Dm(this.state),this.count=0);return e},Fm.prototype.copy=function(t){for(var e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var qm=function(t){var e=function(t){function e(e,r,n,i,o){Rm.call(this,o),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=o,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return ti(e,Rm),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},e.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},e.prototype.update=function(t,e){if(!Nm.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Nm.isBuffer(t)||(t=Nm.from(t,e)),this._state.absorb(t),this},e.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);var e=this._state.squeeze(this._hashBitLength/8);return void 0!==t&&(e=e.toString(t)),this._resetState(),e},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}(t),r=function(t){function e(e,r,n,i){Om.call(this,i),this._rate=e,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new t,this._state.initialize(e,r),this._finalized=!1}return ti(e,Om),e.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},e.prototype._flush=function(){},e.prototype._read=function(t){this.push(this.squeeze(t))},e.prototype.update=function(t,e){if(!Lm.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Lm.isBuffer(t)||(t=Lm.from(t,e)),this._state.absorb(t),this},e.prototype.squeeze=function(t,e){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));var r=this._state.squeeze(t);return void 0!==e&&(r=r.toString(e)),r},e.prototype._resetState=function(){return this._state.initialize(this._rate,this._capacity),this},e.prototype._clone=function(){var t=new e(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(t._state),t._finalized=this._finalized,t},e}(t);return function(t,n){switch("string"==typeof t?t.toLowerCase():t){case"keccak224":return new e(1152,448,null,224,n);case"keccak256":return new e(1088,512,null,256,n);case"keccak384":return new e(832,768,null,384,n);case"keccak512":return new e(576,1024,null,512,n);case"sha3-224":return new e(1152,448,6,224,n);case"sha3-256":return new e(1088,512,6,256,n);case"sha3-384":return new e(832,768,6,384,n);case"sha3-512":return new e(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+t)}}}(Fm),Km=Object.prototype.toString,zm={isArray:function(t,e){if(!Array.isArray(t))throw TypeError(e)},isBoolean:function(t,e){if("[object Boolean]"!==Km.call(t))throw TypeError(e)},isBuffer:function(t,e){if(!Buffer.isBuffer(t))throw TypeError(e)},isFunction:function(t,e){if("[object Function]"!==Km.call(t))throw TypeError(e)},isNumber:function(t,e){if("[object Number]"!==Km.call(t))throw TypeError(e)},isObject:function(t,e){if("[object Object]"!==Km.call(t))throw TypeError(e)},isBufferLength:function(t,e,r){if(t.length!==e)throw RangeError(r)},isBufferLength2:function(t,e,r,n){if(t.length!==e&&t.length!==r)throw RangeError(n)},isLengthGTZero:function(t,e){if(0===t.length)throw RangeError(e)},isNumberInInterval:function(t,e,r,n){if(t<=e||t>=r)throw RangeError(n)}},Vm=Ya.Buffer;var Hm={check:function(t){if(t.length<8)return!1;if(t.length>72)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-2)return!1;if(2!==t[2])return!1;var e=t[3];if(0===e)return!1;if(5+e>=t.length)return!1;if(2!==t[4+e])return!1;var r=t[5+e];return!(0===r||6+e+r!==t.length||128&t[4]||e>1&&0===t[4]&&!(128&t[5])||128&t[e+6]||r>1&&0===t[e+6]&&!(128&t[e+7]))},decode:function(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(48!==t[0])throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(2!==t[2])throw new Error("Expected DER integer");var e=t[3];if(0===e)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(2!==t[4+e])throw new Error("Expected DER integer (2)");var r=t[5+e];if(0===r)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(128&t[4])throw new Error("R value is negative");if(e>1&&0===t[4]&&!(128&t[5]))throw new Error("R value excessively padded");if(128&t[e+6])throw new Error("S value is negative");if(r>1&&0===t[e+6]&&!(128&t[e+7]))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}},encode:function(t,e){var r=t.length,n=e.length;if(0===r)throw new Error("R length is zero");if(0===n)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(128&t[0])throw new Error("R value is negative");if(128&e[0])throw new Error("S value is negative");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error("R value excessively padded");if(n>1&&0===e[0]&&!(128&e[1]))throw new Error("S value excessively padded");var i=Vm.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}},Gm=Ya.Buffer,$m=Gm.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Wm=Gm.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ym=function(t,e,r){var n=Gm.from(r?$m:Wm);return t.copy(n,r?8:9),e.copy(n,r?181:214),n},Zm=function(t){var e=t.length,r=0;if(!(e<r+1||48!==t[r])&&!(e<(r+=1)+1)&&128&t[r]){var n=127&t[r];if(r+=1,!(n<1||n>2||e<r+n)){var i=t[r+n-1]|(n>1?t[r+n-2]<<8:0);if(!(e<(r+=n)+i||e<r+3||2!==t[r]||1!==t[r+1]||1!==t[r+2]||e<(r+=3)+2||4!==t[r]||t[r+1]>32||e<r+2+t[r+1]))return t.slice(r+2,r+2+t[r+1])}}},Qm=function(t){for(var e=Gm.concat([Gm.from([0]),t.r]),r=33,n=0;r>1&&0===e[n]&&!(128&e[n+1]);--r,++n);for(var i=Gm.concat([Gm.from([0]),t.s]),o=33,a=0;o>1&&0===i[a]&&!(128&i[a+1]);--o,++a);return Hm.encode(e.slice(n),i.slice(a))},Xm=function(t){var e=Gm.alloc(32,0),r=Gm.alloc(32,0);try{var n=Hm.decode(t);if(33===n.r.length&&0===n.r[0]&&(n.r=n.r.slice(1)),n.r.length>32)throw new Error("R length is too long");if(33===n.s.length&&0===n.s[0]&&(n.s=n.s.slice(1)),n.s.length>32)throw new Error("S length is too long")}catch(t){return}return n.r.copy(e,32-n.r.length),n.s.copy(r,32-n.s.length),{r:e,s:r}},Jm=function(t){var e=Gm.alloc(32,0),r=Gm.alloc(32,0),n=t.length,i=0;if(48===t[i++]){var o=t[i++];if(!(128&o&&(i+=o-128)>n)&&2===t[i++]){var a=t[i++];if(128&a){if(i+(o=a-128)>n)return;for(;o>0&&0===t[i];i+=1,o-=1);for(a=0;o>0;i+=1,o-=1)a=(a<<8)+t[i]}if(!(a>n-i)){var s=i;if(i+=a,2===t[i++]){var u=t[i++];if(128&u){if(i+(o=u-128)>n)return;for(;o>0&&0===t[i];i+=1,o-=1);for(u=0;o>0;i+=1,o-=1)u=(u<<8)+t[i]}if(!(u>n-i)){var c=i;for(i+=u;a>0&&0===t[s];a-=1,s+=1);if(!(a>32)){var f=t.slice(s,s+a);for(f.copy(e,32-f.length);u>0&&0===t[c];u-=1,c+=1);if(!(u>32)){var h=t.slice(c,c+u);return h.copy(r,32-h.length),{r:e,s:r}}}}}}}}},ty="scalar was invalid (zero or overflow)",ey="nonce generation function failed or private key is invalid",ry={COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:ty,ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:ey,ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid"},ny=Object.freeze({COMPRESSED_TYPE_INVALID:"compressed should be a boolean",EC_PRIVATE_KEY_TYPE_INVALID:"private key should be a Buffer",EC_PRIVATE_KEY_LENGTH_INVALID:"private key length is invalid",EC_PRIVATE_KEY_RANGE_INVALID:"private key range is invalid",EC_PRIVATE_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting private key is invalid",EC_PRIVATE_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PRIVATE_KEY_EXPORT_DER_FAIL:"couldn't export to DER format",EC_PRIVATE_KEY_IMPORT_DER_FAIL:"couldn't import from DER format",EC_PUBLIC_KEYS_TYPE_INVALID:"public keys should be an Array",EC_PUBLIC_KEYS_LENGTH_INVALID:"public keys Array should have at least 1 element",EC_PUBLIC_KEY_TYPE_INVALID:"public key should be a Buffer",EC_PUBLIC_KEY_LENGTH_INVALID:"public key length is invalid",EC_PUBLIC_KEY_PARSE_FAIL:"the public key could not be parsed or is invalid",EC_PUBLIC_KEY_CREATE_FAIL:"private was invalid, try again",EC_PUBLIC_KEY_TWEAK_ADD_FAIL:"tweak out of range or resulting public key is invalid",EC_PUBLIC_KEY_TWEAK_MUL_FAIL:"tweak out of range",EC_PUBLIC_KEY_COMBINE_FAIL:"the sum of the public keys is not valid",ECDH_FAIL:ty,ECDSA_SIGNATURE_TYPE_INVALID:"signature should be a Buffer",ECDSA_SIGNATURE_LENGTH_INVALID:"signature length is invalid",ECDSA_SIGNATURE_PARSE_FAIL:"couldn't parse signature",ECDSA_SIGNATURE_PARSE_DER_FAIL:"couldn't parse DER signature",ECDSA_SIGNATURE_SERIALIZE_DER_FAIL:"couldn't serialize signature to DER format",ECDSA_SIGN_FAIL:ey,ECDSA_RECOVER_FAIL:"couldn't recover public key from signature",MSG32_TYPE_INVALID:"message should be a Buffer",MSG32_LENGTH_INVALID:"message length is invalid",OPTIONS_TYPE_INVALID:"options should be an Object",OPTIONS_DATA_TYPE_INVALID:"options.data should be a Buffer",OPTIONS_DATA_LENGTH_INVALID:"options.data length is invalid",OPTIONS_NONCEFN_TYPE_INVALID:"options.noncefn should be a Function",RECOVERY_ID_TYPE_INVALID:"recovery should be a Number",RECOVERY_ID_VALUE_INVALID:"recovery should have value between -1 and 4",TWEAK_TYPE_INVALID:"tweak should be a Buffer",TWEAK_LENGTH_INVALID:"tweak length is invalid",default:ry}),iy=ny&&ry||ny;function oy(t,e){return void 0===t?e:(zm.isBoolean(t,iy.COMPRESSED_TYPE_INVALID),t)}var ay,sy=et(function(t,e){var r=Ya.Buffer,n=new(0,Ca.ec)("secp256k1"),i=n.curve;function o(t){var e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){var r=new fn(e);if(r.cmp(i.p)>=0)return null;var o=(r=r.toRed(i.red)).redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===t!==o.isOdd()&&(o=o.redNeg()),n.keyPair({pub:{x:r,y:o}})}(e,t.slice(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){var o=new fn(e),a=new fn(r);if(o.cmp(i.p)>=0||a.cmp(i.p)>=0)return null;if(o=o.toRed(i.red),a=a.toRed(i.red),(6===t||7===t)&&a.isOdd()!==(7===t))return null;var s=o.redSqr().redIMul(o);return a.redSqr().redISub(s.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:o,y:a}}):null}(e,t.slice(1,33),t.slice(33,65));default:return null}}e.privateKeyVerify=function(t){var e=new fn(t);return e.cmp(i.n)<0&&!e.isZero()},e.privateKeyExport=function(t,e){var o=new fn(t);if(o.cmp(i.n)>=0||o.isZero())throw new Error(iy.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return r.from(n.keyFromPrivate(t).getPublic(e,!0))},e.privateKeyNegate=function(t){var e=new fn(t);return e.isZero()?r.alloc(32):i.n.sub(e).umod(i.n).toArrayLike(r,"be",32)},e.privateKeyModInverse=function(t){var e=new fn(t);if(e.cmp(i.n)>=0||e.isZero())throw new Error(iy.EC_PRIVATE_KEY_RANGE_INVALID);return e.invm(i.n).toArrayLike(r,"be",32)},e.privateKeyTweakAdd=function(t,e){var n=new fn(e);if(n.cmp(i.n)>=0)throw new Error(iy.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(n.iadd(new fn(t)),n.cmp(i.n)>=0&&n.isub(i.n),n.isZero())throw new Error(iy.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return n.toArrayLike(r,"be",32)},e.privateKeyTweakMul=function(t,e){var n=new fn(e);if(n.cmp(i.n)>=0||n.isZero())throw new Error(iy.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return n.imul(new fn(t)),n.cmp(i.n)&&(n=n.umod(i.n)),n.toArrayLike(r,"be",32)},e.publicKeyCreate=function(t,e){var o=new fn(t);if(o.cmp(i.n)>=0||o.isZero())throw new Error(iy.EC_PUBLIC_KEY_CREATE_FAIL);return r.from(n.keyFromPrivate(t).getPublic(e,!0))},e.publicKeyConvert=function(t,e){var n=o(t);if(null===n)throw new Error(iy.EC_PUBLIC_KEY_PARSE_FAIL);return r.from(n.getPublic(e,!0))},e.publicKeyVerify=function(t){return null!==o(t)},e.publicKeyTweakAdd=function(t,e,n){var a=o(t);if(null===a)throw new Error(iy.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new fn(e)).cmp(i.n)>=0)throw new Error(iy.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return r.from(i.g.mul(e).add(a.pub).encode(!0,n))},e.publicKeyTweakMul=function(t,e,n){var a=o(t);if(null===a)throw new Error(iy.EC_PUBLIC_KEY_PARSE_FAIL);if((e=new fn(e)).cmp(i.n)>=0||e.isZero())throw new Error(iy.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return r.from(a.pub.mul(e).encode(!0,n))},e.publicKeyCombine=function(t,e){for(var n=new Array(t.length),i=0;i<t.length;++i)if(n[i]=o(t[i]),null===n[i])throw new Error(iy.EC_PUBLIC_KEY_PARSE_FAIL);for(var a=n[0].pub,s=1;s<n.length;++s)a=a.add(n[s].pub);if(a.isInfinity())throw new Error(iy.EC_PUBLIC_KEY_COMBINE_FAIL);return r.from(a.encode(!0,e))},e.signatureNormalize=function(t){var e=new fn(t.slice(0,32)),o=new fn(t.slice(32,64));if(e.cmp(i.n)>=0||o.cmp(i.n)>=0)throw new Error(iy.ECDSA_SIGNATURE_PARSE_FAIL);var a=r.from(t);return 1===o.cmp(n.nh)&&i.n.sub(o).toArrayLike(r,"be",32).copy(a,32),a},e.signatureExport=function(t){var e=t.slice(0,32),r=t.slice(32,64);if(new fn(e).cmp(i.n)>=0||new fn(r).cmp(i.n)>=0)throw new Error(iy.ECDSA_SIGNATURE_PARSE_FAIL);return{r:e,s:r}},e.signatureImport=function(t){var e=new fn(t.r);e.cmp(i.n)>=0&&(e=new fn(0));var n=new fn(t.s);return n.cmp(i.n)>=0&&(n=new fn(0)),r.concat([e.toArrayLike(r,"be",32),n.toArrayLike(r,"be",32)])},e.sign=function(t,e,o,a){if("function"==typeof o){var s=o;o=function(n){var i=s(t,e,null,a,n);if(!r.isBuffer(i)||32!==i.length)throw new Error(iy.ECDSA_SIGN_FAIL);return new fn(i)}}var u=new fn(e);if(u.cmp(i.n)>=0||u.isZero())throw new Error(iy.ECDSA_SIGN_FAIL);var c=n.sign(t,e,{canonical:!0,k:o,pers:a});return{signature:r.concat([c.r.toArrayLike(r,"be",32),c.s.toArrayLike(r,"be",32)]),recovery:c.recoveryParam}},e.verify=function(t,e,r){var a={r:e.slice(0,32),s:e.slice(32,64)},s=new fn(a.r),u=new fn(a.s);if(s.cmp(i.n)>=0||u.cmp(i.n)>=0)throw new Error(iy.ECDSA_SIGNATURE_PARSE_FAIL);if(1===u.cmp(n.nh)||s.isZero()||u.isZero())return!1;var c=o(r);if(null===c)throw new Error(iy.EC_PUBLIC_KEY_PARSE_FAIL);return n.verify(t,a,{x:c.pub.x,y:c.pub.y})},e.recover=function(t,e,o,a){var s={r:e.slice(0,32),s:e.slice(32,64)},u=new fn(s.r),c=new fn(s.s);if(u.cmp(i.n)>=0||c.cmp(i.n)>=0)throw new Error(iy.ECDSA_SIGNATURE_PARSE_FAIL);try{if(u.isZero()||c.isZero())throw new Error;var f=n.recoverPubKey(t,s,o);return r.from(f.encode(!0,a))}catch(t){throw new Error(iy.ECDSA_RECOVER_FAIL)}},e.ecdh=function(t,r){var n=e.ecdhUnsafe(t,r,!0);return Su("sha256").update(n).digest()},e.ecdhUnsafe=function(t,e,n){var a=o(t);if(null===a)throw new Error(iy.EC_PUBLIC_KEY_PARSE_FAIL);var s=new fn(e);if(s.cmp(i.n)>=0||s.isZero())throw new Error(iy.ECDH_FAIL);return r.from(a.pub.mul(s).encode(!0,n))}}),uy=(sy.privateKeyVerify,sy.privateKeyExport,sy.privateKeyNegate,sy.privateKeyModInverse,sy.privateKeyTweakAdd,sy.privateKeyTweakMul,sy.publicKeyCreate,sy.publicKeyConvert,sy.publicKeyVerify,sy.publicKeyTweakAdd,sy.publicKeyTweakMul,sy.publicKeyCombine,sy.signatureNormalize,sy.signatureExport,sy.signatureImport,sy.sign,sy.verify,sy.recover,sy.ecdh,sy.ecdhUnsafe,ay=sy,{privateKeyVerify:function(t){return zm.isBuffer(t,iy.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&ay.privateKeyVerify(t)},privateKeyExport:function(t,e){zm.isBuffer(t,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(t,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID),e=oy(e,!0);var r=ay.privateKeyExport(t,e);return Ym(t,r,e)},privateKeyImport:function(t){if(zm.isBuffer(t,iy.EC_PRIVATE_KEY_TYPE_INVALID),(t=Zm(t))&&32===t.length&&ay.privateKeyVerify(t))return t;throw new Error(iy.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return zm.isBuffer(t,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(t,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID),ay.privateKeyNegate(t)},privateKeyModInverse:function(t){return zm.isBuffer(t,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(t,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID),ay.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,e){return zm.isBuffer(t,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(t,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID),zm.isBuffer(e,iy.TWEAK_TYPE_INVALID),zm.isBufferLength(e,32,iy.TWEAK_LENGTH_INVALID),ay.privateKeyTweakAdd(t,e)},privateKeyTweakMul:function(t,e){return zm.isBuffer(t,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(t,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID),zm.isBuffer(e,iy.TWEAK_TYPE_INVALID),zm.isBufferLength(e,32,iy.TWEAK_LENGTH_INVALID),ay.privateKeyTweakMul(t,e)},publicKeyCreate:function(t,e){return zm.isBuffer(t,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(t,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID),e=oy(e,!0),ay.publicKeyCreate(t,e)},publicKeyConvert:function(t,e){return zm.isBuffer(t,iy.EC_PUBLIC_KEY_TYPE_INVALID),zm.isBufferLength2(t,33,65,iy.EC_PUBLIC_KEY_LENGTH_INVALID),e=oy(e,!0),ay.publicKeyConvert(t,e)},publicKeyVerify:function(t){return zm.isBuffer(t,iy.EC_PUBLIC_KEY_TYPE_INVALID),ay.publicKeyVerify(t)},publicKeyTweakAdd:function(t,e,r){return zm.isBuffer(t,iy.EC_PUBLIC_KEY_TYPE_INVALID),zm.isBufferLength2(t,33,65,iy.EC_PUBLIC_KEY_LENGTH_INVALID),zm.isBuffer(e,iy.TWEAK_TYPE_INVALID),zm.isBufferLength(e,32,iy.TWEAK_LENGTH_INVALID),r=oy(r,!0),ay.publicKeyTweakAdd(t,e,r)},publicKeyTweakMul:function(t,e,r){return zm.isBuffer(t,iy.EC_PUBLIC_KEY_TYPE_INVALID),zm.isBufferLength2(t,33,65,iy.EC_PUBLIC_KEY_LENGTH_INVALID),zm.isBuffer(e,iy.TWEAK_TYPE_INVALID),zm.isBufferLength(e,32,iy.TWEAK_LENGTH_INVALID),r=oy(r,!0),ay.publicKeyTweakMul(t,e,r)},publicKeyCombine:function(t,e){zm.isArray(t,iy.EC_PUBLIC_KEYS_TYPE_INVALID),zm.isLengthGTZero(t,iy.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var r=0;r<t.length;++r)zm.isBuffer(t[r],iy.EC_PUBLIC_KEY_TYPE_INVALID),zm.isBufferLength2(t[r],33,65,iy.EC_PUBLIC_KEY_LENGTH_INVALID);return e=oy(e,!0),ay.publicKeyCombine(t,e)},signatureNormalize:function(t){return zm.isBuffer(t,iy.ECDSA_SIGNATURE_TYPE_INVALID),zm.isBufferLength(t,64,iy.ECDSA_SIGNATURE_LENGTH_INVALID),ay.signatureNormalize(t)},signatureExport:function(t){zm.isBuffer(t,iy.ECDSA_SIGNATURE_TYPE_INVALID),zm.isBufferLength(t,64,iy.ECDSA_SIGNATURE_LENGTH_INVALID);var e=ay.signatureExport(t);return Qm(e)},signatureImport:function(t){zm.isBuffer(t,iy.ECDSA_SIGNATURE_TYPE_INVALID),zm.isLengthGTZero(t,iy.ECDSA_SIGNATURE_LENGTH_INVALID);var e=Xm(t);if(e)return ay.signatureImport(e);throw new Error(iy.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){zm.isBuffer(t,iy.ECDSA_SIGNATURE_TYPE_INVALID),zm.isLengthGTZero(t,iy.ECDSA_SIGNATURE_LENGTH_INVALID);var e=Jm(t);if(e)return ay.signatureImport(e);throw new Error(iy.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,e,r){zm.isBuffer(t,iy.MSG32_TYPE_INVALID),zm.isBufferLength(t,32,iy.MSG32_LENGTH_INVALID),zm.isBuffer(e,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(e,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID);var n=null,i=null;return void 0!==r&&(zm.isObject(r,iy.OPTIONS_TYPE_INVALID),void 0!==r.data&&(zm.isBuffer(r.data,iy.OPTIONS_DATA_TYPE_INVALID),zm.isBufferLength(r.data,32,iy.OPTIONS_DATA_LENGTH_INVALID),n=r.data),void 0!==r.noncefn&&(zm.isFunction(r.noncefn,iy.OPTIONS_NONCEFN_TYPE_INVALID),i=r.noncefn)),ay.sign(t,e,i,n)},verify:function(t,e,r){return zm.isBuffer(t,iy.MSG32_TYPE_INVALID),zm.isBufferLength(t,32,iy.MSG32_LENGTH_INVALID),zm.isBuffer(e,iy.ECDSA_SIGNATURE_TYPE_INVALID),zm.isBufferLength(e,64,iy.ECDSA_SIGNATURE_LENGTH_INVALID),zm.isBuffer(r,iy.EC_PUBLIC_KEY_TYPE_INVALID),zm.isBufferLength2(r,33,65,iy.EC_PUBLIC_KEY_LENGTH_INVALID),ay.verify(t,e,r)},recover:function(t,e,r,n){return zm.isBuffer(t,iy.MSG32_TYPE_INVALID),zm.isBufferLength(t,32,iy.MSG32_LENGTH_INVALID),zm.isBuffer(e,iy.ECDSA_SIGNATURE_TYPE_INVALID),zm.isBufferLength(e,64,iy.ECDSA_SIGNATURE_LENGTH_INVALID),zm.isNumber(r,iy.RECOVERY_ID_TYPE_INVALID),zm.isNumberInInterval(r,-1,4,iy.RECOVERY_ID_VALUE_INVALID),n=oy(n,!0),ay.recover(t,e,r,n)},ecdh:function(t,e){return zm.isBuffer(t,iy.EC_PUBLIC_KEY_TYPE_INVALID),zm.isBufferLength2(t,33,65,iy.EC_PUBLIC_KEY_LENGTH_INVALID),zm.isBuffer(e,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(e,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID),ay.ecdh(t,e)},ecdhUnsafe:function(t,e,r){return zm.isBuffer(t,iy.EC_PUBLIC_KEY_TYPE_INVALID),zm.isBufferLength2(t,33,65,iy.EC_PUBLIC_KEY_LENGTH_INVALID),zm.isBuffer(e,iy.EC_PRIVATE_KEY_TYPE_INVALID),zm.isBufferLength(e,32,iy.EC_PRIVATE_KEY_LENGTH_INVALID),r=oy(r,!0),ay.ecdhUnsafe(t,e,r)}}),cy=et(function(t,e){function r(t,e){if("00"===t.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function n(t,e){if(t<56)return new Buffer([t+e]);var r=a(t),n=a(e+55+r.length/2);return new Buffer(n+r,"hex")}function i(t){return"0x"===t.slice(0,2)}function a(t){var e=t.toString(16);return e.length%2&&(e="0"+e),e}function s(t){if(!Buffer.isBuffer(t))if("string"==typeof t)t=i(t)?new Buffer(((r="string"!=typeof(n=t)?n:i(n)?n.slice(2):n).length%2&&(r="0"+r),r),"hex"):new Buffer(t);else if("number"==typeof t)t?(e=a(t),t=new Buffer(e,"hex")):t=new Buffer([]);else if(null===t||void 0===t)t=new Buffer([]);else{if(!t.toArray)throw new Error("invalid type");t=new Buffer(t.toArray())}var e,r,n;return t}e.encode=function(t){if(t instanceof Array){for(var r=[],i=0;i<t.length;i++)r.push(e.encode(t[i]));var o=Buffer.concat(r);return Buffer.concat([n(o.length,192),o])}return 1===(t=s(t)).length&&t[0]<128?t:Buffer.concat([n(t.length,128),t])},e.decode=function(t,e){if(!t||0===t.length)return new Buffer([]);var n=function t(e){var n,i,o,a,s;var u=[];var c=e[0];if(c<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(c<=183){if(n=c-127,o=128===c?new Buffer([]):e.slice(1,n),2===n&&o[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:o,remainder:e.slice(n)}}if(c<=191){if(i=c-182,n=r(e.slice(1,i).toString("hex"),16),(o=e.slice(i,n+i)).length<n)throw new Error("invalid RLP");return{data:o,remainder:e.slice(n+i)}}if(c<=247){for(n=c-191,a=e.slice(1,n);a.length;)s=t(a),u.push(s.data),a=s.remainder;return{data:u,remainder:e.slice(n)}}i=c-246,n=r(e.slice(1,i).toString("hex"),16);var f=i+n;if(f>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(a=e.slice(i,f)).length)throw new Error("invalid rlp, List has a invalid length");for(;a.length;)s=t(a),u.push(s.data),a=s.remainder;return{data:u,remainder:e.slice(f)}}(t=s(t));return e?n:(o.equal(n.remainder.length,0,"invalid remainder"),n.data)},e.getLength=function(t){if(!t||0===t.length)return new Buffer([]);var e=(t=s(t))[0];if(e<=127)return t.length;if(e<=183)return e-127;if(e<=191)return e-182;if(e<=247)return e-191;var n=e-246;return n+r(t.slice(1,n).toString("hex"),16)}});cy.encode,cy.decode,cy.getLength;function fy(t){var e=t;if("string"!=typeof e)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function hy(t){return"0x"+fy(t.toString(16))}var ly={arrayContainsArray:function(t,e,r){if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof t+"'");if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[Boolean(r)?"some":"every"](function(e){return t.indexOf(e)>=0})},intToBuffer:function(t){var e=hy(t);return new Buffer(e.slice(2),"hex")},getBinarySize:function(t){if("string"!=typeof t)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return Buffer.byteLength(t,"utf8")},isHexPrefixed:at,stripHexPrefix:st,padToEven:fy,intToHex:hy,fromAscii:function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},fromUtf8:function(t){return"0x"+fy(new Buffer(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},toUtf8:function(t){return new Buffer(fy(st(t).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(t,e,r){if(!Array.isArray(t))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof t+"'");if("string"!=typeof e)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}},dy=et(function(t,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=Ya.Buffer;Object.assign(e,ly),e.MAX_INTEGER=new fn("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),e.TWO_POW256=new fn("10000000000000000000000000000000000000000000000000000000000000000",16),e.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.SHA3_NULL=n.from(e.SHA3_NULL_S,"hex"),e.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.SHA3_RLP_ARRAY=n.from(e.SHA3_RLP_ARRAY_S,"hex"),e.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.SHA3_RLP=n.from(e.SHA3_RLP_S,"hex"),e.BN=fn,e.rlp=cy,e.secp256k1=uy,e.zeros=function(t){return n.allocUnsafe(t).fill(0)},e.zeroAddress=function(){var t=e.zeros(20);return e.bufferToHex(t)},e.setLengthLeft=e.setLength=function(t,r,n){var i=e.zeros(r);return t=e.toBuffer(t),n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)},e.setLengthRight=function(t,r){return e.setLength(t,r,!0)},e.unpad=e.stripZeros=function(t){for(var r=(t=e.stripHexPrefix(t))[0];t.length>0&&"0"===r.toString();)r=(t=t.slice(1))[0];return t},e.toBuffer=function(t){if(!n.isBuffer(t))if(Array.isArray(t))t=n.from(t);else if("string"==typeof t)t=e.isHexString(t)?n.from(e.padToEven(e.stripHexPrefix(t)),"hex"):n.from(t);else if("number"==typeof t)t=e.intToBuffer(t);else if(null===t||void 0===t)t=n.allocUnsafe(0);else if(fn.isBN(t))t=t.toArrayLike(n);else{if(!t.toArray)throw new Error("invalid type");t=n.from(t.toArray())}return t},e.bufferToInt=function(t){return new fn(e.toBuffer(t)).toNumber()},e.bufferToHex=function(t){return"0x"+(t=e.toBuffer(t)).toString("hex")},e.fromSigned=function(t){return new fn(t).fromTwos(256)},e.toUnsigned=function(t){return n.from(t.toTwos(256).toArray())},e.sha3=function(t,r){return t=e.toBuffer(t),r||(r=256),qm("keccak"+r).update(t).digest()},e.sha256=function(t){return t=e.toBuffer(t),Su("sha256").update(t).digest()},e.ripemd160=function(t,r){t=e.toBuffer(t);var n=Su("rmd160").update(t).digest();return!0===r?e.setLength(n,32):n},e.rlphash=function(t){return e.sha3(cy.encode(t))},e.isValidPrivate=function(t){return uy.privateKeyVerify(t)},e.isValidPublic=function(t,e){return 64===t.length?uy.publicKeyVerify(n.concat([n.from([4]),t])):!!e&&uy.publicKeyVerify(t)},e.pubToAddress=e.publicToAddress=function(t,r){return t=e.toBuffer(t),r&&64!==t.length&&(t=uy.publicKeyConvert(t,!1).slice(1)),o(64===t.length),e.sha3(t).slice(-20)};var i=e.privateToPublic=function(t){return t=e.toBuffer(t),uy.publicKeyCreate(t,!1).slice(1)};e.importPublic=function(t){return 64!==(t=e.toBuffer(t)).length&&(t=uy.publicKeyConvert(t,!1).slice(1)),t},e.ecsign=function(t,e){var r=uy.sign(t,e),n={};return n.r=r.signature.slice(0,32),n.s=r.signature.slice(32,64),n.v=r.recovery+27,n},e.hashPersonalMessage=function(t){var r=e.toBuffer("Ethereum Signed Message:\n"+t.length.toString());return e.sha3(n.concat([r,t]))},e.ecrecover=function(t,r,i,o){var a=n.concat([e.setLength(i,32),e.setLength(o,32)],64),s=r-27;if(0!==s&&1!==s)throw new Error("Invalid signature v value");var u=uy.recover(t,a,s);return uy.publicKeyConvert(u,!1).slice(1)},e.toRpcSig=function(t,r,i){if(27!==t&&28!==t)throw new Error("Invalid recovery id");return e.bufferToHex(n.concat([e.setLengthLeft(r,32),e.setLengthLeft(i,32),e.toBuffer(t-27)]))},e.fromRpcSig=function(t){if(65!==(t=e.toBuffer(t)).length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},e.privateToAddress=function(t){return e.publicToAddress(i(t))},e.isValidAddress=function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)},e.isZeroAddress=function(t){return e.zeroAddress()===e.addHexPrefix(t)},e.toChecksumAddress=function(t){t=e.stripHexPrefix(t).toLowerCase();for(var r=e.sha3(t).toString("hex"),n="0x",i=0;i<t.length;i++)parseInt(r[i],16)>=8?n+=t[i].toUpperCase():n+=t[i];return n},e.isValidChecksumAddress=function(t){return e.isValidAddress(t)&&e.toChecksumAddress(t)===t},e.generateAddress=function(t,r){return t=e.toBuffer(t),r=(r=new fn(r)).isZero()?null:n.from(r.toArray()),e.rlphash([t,r]).slice(-20)},e.isPrecompiled=function(t){var r=e.unpad(t);return 1===r.length&&r[0]>=1&&r[0]<=8},e.addHexPrefix=function(t){return"string"!=typeof t?t:e.isHexPrefixed(t)?t:"0x"+t},e.isValidSignature=function(t,e,r,n){var i=new fn("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new fn("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===e.length&&32===r.length&&((27===t||28===t)&&(e=new fn(e),r=new fn(r),!(e.isZero()||e.gt(o)||r.isZero()||r.gt(o))&&(!1!==n||1!==new fn(r).cmp(i))))},e.baToJSON=function(t){if(n.isBuffer(t))return"0x"+t.toString("hex");if(t instanceof Array){for(var r=[],i=0;i<t.length;i++)r.push(e.baToJSON(t[i]));return r}},e.defineProperties=function(t,i,a){if(t.raw=[],t._fields=[],t.toJSON=function(r){if(r){var n={};return t._fields.forEach(function(e){n[e]="0x"+t[e].toString("hex")}),n}return e.baToJSON(this.raw)},t.serialize=function(){return cy.encode(t.raw)},i.forEach(function(r,i){function a(){return t.raw[i]}function s(a){"00"!==(a=e.toBuffer(a)).toString("hex")||r.allowZero||(a=n.allocUnsafe(0)),r.allowLess&&r.length?(a=e.stripZeros(a),o(r.length>=a.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===a.length||!r.length||o(r.length===a.length,"The field "+r.name+" must have byte length of "+r.length),t.raw[i]=a}t._fields.push(r.name),Object.defineProperty(t,r.name,{enumerable:!0,configurable:!0,get:a,set:s}),r.default&&(t[r.name]=r.default),r.alias&&Object.defineProperty(t,r.alias,{enumerable:!1,configurable:!0,set:s,get:a})}),a)if("string"==typeof a&&(a=n.from(e.stripHexPrefix(a),"hex")),n.isBuffer(a)&&(a=cy.decode(a)),Array.isArray(a)){if(a.length>t._fields.length)throw new Error("wrong number of fields in data");a.forEach(function(r,n){t[t._fields[n]]=e.toBuffer(r)})}else{if("object"!==(void 0===a?"undefined":r(a)))throw new Error("invalid data");var s=Object.keys(a);i.forEach(function(e){-1!==s.indexOf(e.name)&&(t[e.name]=a[e.name]),-1!==s.indexOf(e.alias)&&(t[e.alias]=a[e.alias])})}}}),py=(dy.MAX_INTEGER,dy.TWO_POW256,dy.SHA3_NULL_S,dy.SHA3_NULL,dy.SHA3_RLP_ARRAY_S,dy.SHA3_RLP_ARRAY,dy.SHA3_RLP_S,dy.SHA3_RLP,dy.BN,dy.rlp,dy.secp256k1,dy.zeros,dy.zeroAddress,dy.setLengthLeft,dy.setLength,dy.setLengthRight,dy.unpad,dy.stripZeros,dy.toBuffer,dy.bufferToInt,dy.bufferToHex,dy.fromSigned,dy.toUnsigned,dy.sha3,dy.sha256,dy.ripemd160,dy.rlphash,dy.isValidPrivate,dy.isValidPublic,dy.pubToAddress,dy.publicToAddress,dy.privateToPublic,dy.importPublic,dy.ecsign,dy.hashPersonalMessage,dy.ecrecover,dy.toRpcSig,dy.fromRpcSig,dy.privateToAddress,dy.isValidAddress,dy.isZeroAddress,dy.toChecksumAddress,dy.isValidChecksumAddress,dy.generateAddress,dy.isPrecompiled,dy.addHexPrefix,dy.isValidSignature,dy.baToJSON,dy.defineProperties,et(function(t){!function(e){var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c=e.regeneratorRuntime;if(c)t.exports=c;else{(c=e.regeneratorRuntime=t.exports).wrap=b;var f="suspendedStart",h="suspendedYield",l="executing",d="completed",p={},m={};m[a]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(I([])));v&&v!==n&&i.call(v,a)&&(m=v);var g=S.prototype=_.prototype=Object.create(m);k.prototype=g.constructor=S,S.constructor=k,S[u]=k.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(g),t},c.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},c.AsyncIterator=M,c.async=function(t,e,r,n){var i=new M(b(t,e,r,n));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(g),g[u]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=I,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(B),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;B(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),p}}}function b(t,e,r,n){var i=e&&e.prototype instanceof _?e:_,o=Object.create(i.prototype),a=new C(n||[]);return o._invoke=function(t,e,r){var n=f;return function(i,o){if(n===l)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return T()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=l;var u=w(t,e,r);if("normal"===u.type){if(n=r.done?d:h,u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function w(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function _(){}function k(){}function S(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function M(t){var e;this._invoke=function(r,n){function o(){return new Promise(function(e,o){!function e(r,n,o,a){var s=w(t[r],t,n);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}(r,n,e,o)})}return e=e?e.then(o,o):o()}}function A(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,A(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=w(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function I(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())})),my=function(){return this}()||Function("return this")(),yy=my.regeneratorRuntime&&Object.getOwnPropertyNames(my).indexOf("regeneratorRuntime")>=0,vy=yy&&my.regeneratorRuntime;my.regeneratorRuntime=void 0;var gy=py;if(yy)my.regeneratorRuntime=vy;else try{delete my.regeneratorRuntime}catch(t){my.regeneratorRuntime=void 0}var by=gy,wy=Math.ceil,_y=Math.floor,ky=function(t){return isNaN(t=+t)?0:(t>0?_y:wy)(t)},Sy=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Ey=et(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),My=et(function(t){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)}),Ay=(My.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),xy=function(t,e,r){if(Ay(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},By=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Cy=function(t){if(!By(t))throw TypeError(t+" is not an object!");return t},Iy=function(t){try{return!!t()}catch(t){return!0}},Ty=!Iy(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),Py=Ey.document,Ny=By(Py)&&By(Py.createElement),Ry=function(t){return Ny?Py.createElement(t):{}},Ly=!Ty&&!Iy(function(){return 7!=Object.defineProperty(Ry("div"),"a",{get:function(){return 7}}).a}),Oy=function(t,e){if(!By(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!By(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!By(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!By(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},jy=Object.defineProperty,Dy={f:Ty?Object.defineProperty:function(t,e,r){if(Cy(t),e=Oy(e,!0),Cy(r),Ly)try{return jy(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},Uy=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Fy=Ty?function(t,e,r){return Dy.f(t,e,Uy(1,r))}:function(t,e,r){return t[e]=r,t},qy=function(t,e,r){var n,i,o,a=t&qy.F,s=t&qy.G,u=t&qy.S,c=t&qy.P,f=t&qy.B,h=t&qy.W,l=s?My:My[e]||(My[e]={}),d=l.prototype,p=s?Ey:u?Ey[e]:(Ey[e]||{}).prototype;for(n in s&&(r=e),r)(i=!a&&p&&void 0!==p[n])&&n in l||(o=i?p[n]:r[n],l[n]=s&&"function"!=typeof p[n]?r[n]:f&&i?xy(o,Ey):h&&p[n]==o?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(o):c&&"function"==typeof o?xy(Function.call,o):o,c&&((l.virtual||(l.virtual={}))[n]=o,t&qy.R&&d&&!d[n]&&Fy(d,n,o)))};qy.F=1,qy.G=2,qy.S=4,qy.P=8,qy.B=16,qy.W=32,qy.U=64,qy.R=128;var Ky,zy=qy,Vy=Fy,Hy={}.hasOwnProperty,Gy=function(t,e){return Hy.call(t,e)},$y={},Wy={}.toString,Yy=function(t){return Wy.call(t).slice(8,-1)},Zy=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Yy(t)?t.split(""):Object(t)},Qy=function(t){return Zy(Sy(t))},Xy=Math.min,Jy=function(t){return t>0?Xy(ky(t),9007199254740991):0},tv=Math.max,ev=Math.min,rv=Ey["__core-js_shared__"]||(Ey["__core-js_shared__"]={}),nv=function(t){return rv[t]||(rv[t]={})},iv=0,ov=Math.random(),av=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++iv+ov).toString(36))},sv=nv("keys"),uv=function(t){return sv[t]||(sv[t]=av(t))},cv=(Ky=!1,function(t,e,r){var n,i=Qy(t),o=Jy(i.length),a=function(t,e){return(t=ky(t))<0?tv(t+e,0):ev(t,e)}(r,o);if(Ky&&e!=e){for(;o>a;)if((n=i[a++])!=n)return!0}else for(;o>a;a++)if((Ky||a in i)&&i[a]===e)return Ky||a||0;return!Ky&&-1}),fv=uv("IE_PROTO"),hv=function(t,e){var r,n=Qy(t),i=0,o=[];for(r in n)r!=fv&&Gy(n,r)&&o.push(r);for(;e.length>i;)Gy(n,r=e[i++])&&(~cv(o,r)||o.push(r));return o},lv="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),dv=Object.keys||function(t){return hv(t,lv)},pv=Ty?Object.defineProperties:function(t,e){Cy(t);for(var r,n=dv(e),i=n.length,o=0;i>o;)Dy.f(t,r=n[o++],e[r]);return t},mv=Ey.document,yv=mv&&mv.documentElement,vv=uv("IE_PROTO"),gv=function(){},bv=function(){var t,e=Ry("iframe"),r=lv.length;for(e.style.display="none",yv.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),bv=t.F;r--;)delete bv.prototype[lv[r]];return bv()},wv=Object.create||function(t,e){var r;return null!==t?(gv.prototype=Cy(t),r=new gv,gv.prototype=null,r[vv]=t):r=bv(),void 0===e?r:pv(r,e)},_v=et(function(t){var e=nv("wks"),r=Ey.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:av)("Symbol."+t))}).store=e}),kv=Dy.f,Sv=_v("toStringTag"),Ev=function(t,e,r){t&&!Gy(t=r?t:t.prototype,Sv)&&kv(t,Sv,{configurable:!0,value:e})},Mv={};Fy(Mv,_v("iterator"),function(){return this});var Av,xv=function(t,e,r){t.prototype=wv(Mv,{next:Uy(1,r)}),Ev(t,e+" Iterator")},Bv=function(t){return Object(Sy(t))},Cv=uv("IE_PROTO"),Iv=Object.prototype,Tv=Object.getPrototypeOf||function(t){return t=Bv(t),Gy(t,Cv)?t[Cv]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Iv:null},Pv=_v("iterator"),Nv=!([].keys&&"next"in[].keys()),Rv=function(){return this},Lv=function(t,e,r,n,i,o,a){xv(r,e,n);var s,u,c,f=function(t){if(!Nv&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},h=e+" Iterator",l="values"==i,d=!1,p=t.prototype,m=p[Pv]||p["@@iterator"]||i&&p[i],y=!Nv&&m||f(i),v=i?l?f("entries"):y:void 0,g="Array"==e&&p.entries||m;if(g&&(c=Tv(g.call(new t)))!==Object.prototype&&c.next&&Ev(c,h,!0),l&&m&&"values"!==m.name&&(d=!0,y=function(){return m.call(this)}),a&&(Nv||d||!p[Pv])&&Fy(p,Pv,y),$y[e]=y,$y[h]=Rv,i)if(s={values:l?y:f("values"),keys:o?y:f("keys"),entries:v},a)for(u in s)u in p||Vy(p,u,s[u]);else zy(zy.P+zy.F*(Nv||d),e,s);return s},Ov=(Av=!0,function(t,e){var r,n,i=String(Sy(t)),o=ky(e),a=i.length;return o<0||o>=a?Av?"":void 0:(r=i.charCodeAt(o))<55296||r>56319||o+1===a||(n=i.charCodeAt(o+1))<56320||n>57343?Av?i.charAt(o):r:Av?i.slice(o,o+2):n-56320+(r-55296<<10)+65536});Lv(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=Ov(e,r),this._i+=t.length,{value:t,done:!1})});var jv=function(t,e){return{value:e,done:!!t}};Lv(Array,"Array",function(t,e){this._t=Qy(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,jv(1)):jv(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values");$y.Arguments=$y.Array;for(var Dv=_v("toStringTag"),Uv="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Fv=0;Fv<Uv.length;Fv++){var qv=Uv[Fv],Kv=Ey[qv],zv=Kv&&Kv.prototype;zv&&!zv[Dv]&&Fy(zv,Dv,qv),$y[qv]=$y.Array}var Vv,Hv,Gv,$v=_v("toStringTag"),Wv="Arguments"==Yy(function(){return arguments}()),Yv=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),$v))?r:Wv?Yy(e):"Object"==(n=Yy(e))&&"function"==typeof e.callee?"Arguments":n},Zv=function(t,e,r,n){try{return n?e(Cy(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&Cy(i.call(t)),e}},Qv=_v("iterator"),Xv=Array.prototype,Jv=_v("iterator"),tg=My.getIteratorMethod=function(t){if(void 0!=t)return t[Jv]||t["@@iterator"]||$y[Yv(t)]},eg=et(function(t){var e={},r={},n=t.exports=function(t,n,i,o,a){var s,u,c,f,h,l=a?function(){return t}:tg(t),d=xy(i,o,n?2:1),p=0;if("function"!=typeof l)throw TypeError(t+" is not iterable!");if(void 0===(h=l)||$y.Array!==h&&Xv[Qv]!==h){for(c=l.call(t);!(u=c.next()).done;)if((f=Zv(c,d,u.value,n))===e||f===r)return f}else for(s=Jy(t.length);s>p;p++)if((f=n?d(Cy(u=t[p])[0],u[1]):d(t[p]))===e||f===r)return f};n.BREAK=e,n.RETURN=r}),rg=_v("species"),ng=function(t,e){var r,n=Cy(t).constructor;return void 0===n||void 0==(r=Cy(n)[rg])?e:Ay(r)},ig=Ey.process,og=Ey.setImmediate,ag=Ey.clearImmediate,sg=Ey.MessageChannel,ug=Ey.Dispatch,cg=0,fg={},hg=function(){var t=+this;if(fg.hasOwnProperty(t)){var e=fg[t];delete fg[t],e()}},lg=function(t){hg.call(t.data)};og&&ag||(og=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return fg[++cg]=function(){!function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}t.apply(r,e)}("function"==typeof t?t:Function(t),e)},Vv(cg),cg},ag=function(t){delete fg[t]},"process"==Yy(ig)?Vv=function(t){ig.nextTick(xy(hg,t,1))}:ug&&ug.now?Vv=function(t){ug.now(xy(hg,t,1))}:sg?(Gv=(Hv=new sg).port2,Hv.port1.onmessage=lg,Vv=xy(Gv.postMessage,Gv,1)):Ey.addEventListener&&"function"==typeof postMessage&&!Ey.importScripts?(Vv=function(t){Ey.postMessage(t+"","*")},Ey.addEventListener("message",lg,!1)):Vv="onreadystatechange"in Ry("script")?function(t){yv.appendChild(Ry("script")).onreadystatechange=function(){yv.removeChild(this),hg.call(t)}}:function(t){setTimeout(xy(hg,t,1),0)});var dg={set:og,clear:ag},pg=dg.set,mg=Ey.MutationObserver||Ey.WebKitMutationObserver,yg=Ey.process,vg=Ey.Promise,gg="process"==Yy(yg);var bg={f:function(t){return new function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=Ay(e),this.reject=Ay(r)}(t)}},wg=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},_g=function(t,e){if(Cy(t),By(e)&&e.constructor===t)return e;var r=bg.f(t);return(0,r.resolve)(e),r.promise},kg=_v("species"),Sg=_v("iterator"),Eg=!1;try{[7][Sg]().return=function(){Eg=!0}}catch(t){}var Mg,Ag,xg,Bg,Cg,Ig,Tg=dg.set,Pg=function(){var t,e,r,n=function(){var n,i;for(gg&&(n=yg.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(gg)r=function(){yg.nextTick(n)};else if(!mg||Ey.navigator&&Ey.navigator.standalone)if(vg&&vg.resolve){var i=vg.resolve();r=function(){i.then(n)}}else r=function(){pg.call(Ey,n)};else{var o=!0,a=document.createTextNode("");new mg(n).observe(a,{characterData:!0}),r=function(){a.data=o=!o}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}(),Ng=Ey.TypeError,Rg=Ey.process,Lg=Ey.Promise,Og="process"==Yv(Rg),jg=function(){},Dg=Ag=bg.f,Ug=!!function(){try{var t=Lg.resolve(1),e=(t.constructor={})[_v("species")]=function(t){t(jg,jg)};return(Og||"function"==typeof PromiseRejectionEvent)&&t.then(jg)instanceof e}catch(t){}}(),Fg=function(t){var e;return!(!By(t)||"function"!=typeof(e=t.then))&&e},qg=function(t,e){if(!t._n){t._n=!0;var r=t._c;Pg(function(){for(var n=t._v,i=1==t._s,o=0,a=function(e){var r,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{a?(i||(2==t._h&&Vg(t),t._h=1),!0===a?r=n:(c&&c.enter(),r=a(n),c&&c.exit()),r===e.promise?u(Ng("Promise-chain cycle")):(o=Fg(r))?o.call(r,s,u):s(r)):u(n)}catch(t){u(t)}};r.length>o;)a(r[o++]);t._c=[],t._n=!1,e&&!t._h&&Kg(t)})}},Kg=function(t){Tg.call(Ey,function(){var e,r,n,i=t._v,o=zg(t);if(o&&(e=wg(function(){Og?Rg.emit("unhandledRejection",i,t):(r=Ey.onunhandledrejection)?r({promise:t,reason:i}):(n=Ey.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=Og||zg(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},zg=function(t){return 1!==t._h&&0===(t._a||t._c).length},Vg=function(t){Tg.call(Ey,function(){var e;Og?Rg.emit("rejectionHandled",t):(e=Ey.onrejectionhandled)&&e({promise:t,reason:t._v})})},Hg=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),qg(e,!0))},Gg=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw Ng("Promise can't be resolved itself");(e=Fg(t))?Pg(function(){var n={_w:r,_d:!1};try{e.call(t,xy(Gg,n,1),xy(Hg,n,1))}catch(t){Hg.call(n,t)}}):(r._v=t,r._s=1,qg(r,!1))}catch(t){Hg.call({_w:r,_d:!1},t)}}};Ug||(Lg=function(t){!function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!")}(this,Lg,"Promise","_h"),Ay(t),Mg.call(this);try{t(xy(Gg,this,1),xy(Hg,this,1))}catch(t){Hg.call(this,t)}},(Mg=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:Fy(t,n,e[n]);return t}(Lg.prototype,{then:function(t,e){var r=Dg(ng(this,Lg));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Og?Rg.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&qg(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),xg=function(){var t=new Mg;this.promise=t,this.resolve=xy(Gg,t,1),this.reject=xy(Hg,t,1)},bg.f=Dg=function(t){return t===Lg||t===Bg?new xg(t):Ag(t)}),zy(zy.G+zy.W+zy.F*!Ug,{Promise:Lg}),Ev(Lg,"Promise"),Ig="function"==typeof My[Cg="Promise"]?My[Cg]:Ey[Cg],Ty&&Ig&&!Ig[kg]&&Dy.f(Ig,kg,{configurable:!0,get:function(){return this}}),Bg=My.Promise,zy(zy.S+zy.F*!Ug,"Promise",{reject:function(t){var e=Dg(this);return(0,e.reject)(t),e.promise}}),zy(zy.S+!0*zy.F,"Promise",{resolve:function(t){return _g(this===Bg?Lg:this,t)}}),zy(zy.S+zy.F*!(Ug&&function(t,e){if(!e&&!Eg)return!1;var r=!1;try{var n=[7],i=n[Sg]();i.next=function(){return{done:r=!0}},n[Sg]=function(){return i},t(n)}catch(t){}return r}(function(t){Lg.all(t).catch(jg)})),"Promise",{all:function(t){var e=this,r=Dg(e),n=r.resolve,i=r.reject,o=wg(function(){var r=[],o=0,a=1;eg(t,!1,function(t){var s=o++,u=!1;r.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,r[s]=t,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(t){var e=this,r=Dg(e),n=r.reject,i=wg(function(){eg(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}}),zy(zy.P+zy.R,"Promise",{finally:function(t){var e=ng(this,My.Promise||Ey.Promise),r="function"==typeof t;return this.then(r?function(r){return _g(e,t()).then(function(){return r})}:t,r?function(r){return _g(e,t()).then(function(){throw r})}:t)}}),zy(zy.S,"Promise",{try:function(t){var e=bg.f(this),r=wg(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}});var $g=My.Promise,Wg=et(function(t){t.exports={default:$g,__esModule:!0}});tt(Wg);var Yg=et(function(t,e){e.__esModule=!0;var r,n=(r=Wg)&&r.__esModule?r:{default:r};e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default(function(t,r){return function i(o,a){try{var s=e[o](a),u=s.value}catch(t){return void r(t)}if(!s.done)return n.default.resolve(u).then(function(t){i("next",t)},function(t){i("throw",t)});t(u)}("next")})}}});tt(Yg);!function(t,e){var r=(My.Object||{})[t]||Object[t],n={};n[t]=e(r),zy(zy.S+zy.F*Iy(function(){r(1)}),"Object",n)}("getPrototypeOf",function(){return function(t){return Tv(Bv(t))}});var Zg=My.Object.getPrototypeOf,Qg=et(function(t){t.exports={default:Zg,__esModule:!0}});tt(Qg);var Xg=et(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}});tt(Xg),zy(zy.S+zy.F*!Ty,"Object",{defineProperty:Dy.f});var Jg=My.Object,tb=function(t,e,r){return Jg.defineProperty(t,e,r)},eb=et(function(t){t.exports={default:tb,__esModule:!0}});tt(eb);var rb=et(function(t,e){e.__esModule=!0;var r,n=(r=eb)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(t,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()});tt(rb);var nb={f:_v},ib=nb.f("iterator"),ob=et(function(t){t.exports={default:ib,__esModule:!0}});tt(ob);var ab=et(function(t){var e=av("meta"),r=Dy.f,n=0,i=Object.isExtensible||function(){return!0},o=!Iy(function(){return i(Object.preventExtensions({}))}),a=function(t){r(t,e,{value:{i:"O"+ ++n,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,r){if(!By(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Gy(t,e)){if(!i(t))return"F";if(!r)return"E";a(t)}return t[e].i},getWeak:function(t,r){if(!Gy(t,e)){if(!i(t))return!0;if(!r)return!1;a(t)}return t[e].w},onFreeze:function(t){return o&&s.NEED&&i(t)&&!Gy(t,e)&&a(t),t}}}),sb=(ab.KEY,ab.NEED,ab.fastKey,ab.getWeak,ab.onFreeze,Dy.f),ub=function(t){var e=My.Symbol||(My.Symbol={});"_"==t.charAt(0)||t in e||sb(e,t,{value:nb.f(t)})},cb={f:Object.getOwnPropertySymbols},fb={f:{}.propertyIsEnumerable},hb=Array.isArray||function(t){return"Array"==Yy(t)},lb=lv.concat("length","prototype"),db={f:Object.getOwnPropertyNames||function(t){return hv(t,lb)}},pb=db.f,mb={}.toString,yb="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vb={f:function(t){return yb&&"[object Window]"==mb.call(t)?function(t){try{return pb(t)}catch(t){return yb.slice()}}(t):pb(Qy(t))}},gb=Object.getOwnPropertyDescriptor,bb={f:Ty?gb:function(t,e){if(t=Qy(t),e=Oy(e,!0),Ly)try{return gb(t,e)}catch(t){}if(Gy(t,e))return Uy(!fb.f.call(t,e),t[e])}},wb=ab.KEY,_b=bb.f,kb=Dy.f,Sb=vb.f,Eb=Ey.Symbol,Mb=Ey.JSON,Ab=Mb&&Mb.stringify,xb=_v("_hidden"),Bb=_v("toPrimitive"),Cb={}.propertyIsEnumerable,Ib=nv("symbol-registry"),Tb=nv("symbols"),Pb=nv("op-symbols"),Nb=Object.prototype,Rb="function"==typeof Eb,Lb=Ey.QObject,Ob=!Lb||!Lb.prototype||!Lb.prototype.findChild,jb=Ty&&Iy(function(){return 7!=wv(kb({},"a",{get:function(){return kb(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=_b(Nb,e);n&&delete Nb[e],kb(t,e,r),n&&t!==Nb&&kb(Nb,e,n)}:kb,Db=function(t){var e=Tb[t]=wv(Eb.prototype);return e._k=t,e},Ub=Rb&&"symbol"==typeof Eb.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Eb},Fb=function(t,e,r){return t===Nb&&Fb(Pb,e,r),Cy(t),e=Oy(e,!0),Cy(r),Gy(Tb,e)?(r.enumerable?(Gy(t,xb)&&t[xb][e]&&(t[xb][e]=!1),r=wv(r,{enumerable:Uy(0,!1)})):(Gy(t,xb)||kb(t,xb,Uy(1,{})),t[xb][e]=!0),jb(t,e,r)):kb(t,e,r)},qb=function(t,e){Cy(t);for(var r,n=function(t){var e=dv(t),r=cb.f;if(r)for(var n,i=r(t),o=fb.f,a=0;i.length>a;)o.call(t,n=i[a++])&&e.push(n);return e}(e=Qy(e)),i=0,o=n.length;o>i;)Fb(t,r=n[i++],e[r]);return t},Kb=function(t){var e=Cb.call(this,t=Oy(t,!0));return!(this===Nb&&Gy(Tb,t)&&!Gy(Pb,t))&&(!(e||!Gy(this,t)||!Gy(Tb,t)||Gy(this,xb)&&this[xb][t])||e)},zb=function(t,e){if(t=Qy(t),e=Oy(e,!0),t!==Nb||!Gy(Tb,e)||Gy(Pb,e)){var r=_b(t,e);return!r||!Gy(Tb,e)||Gy(t,xb)&&t[xb][e]||(r.enumerable=!0),r}},Vb=function(t){for(var e,r=Sb(Qy(t)),n=[],i=0;r.length>i;)Gy(Tb,e=r[i++])||e==xb||e==wb||n.push(e);return n},Hb=function(t){for(var e,r=t===Nb,n=Sb(r?Pb:Qy(t)),i=[],o=0;n.length>o;)!Gy(Tb,e=n[o++])||r&&!Gy(Nb,e)||i.push(Tb[e]);return i};Rb||(Vy((Eb=function(){if(this instanceof Eb)throw TypeError("Symbol is not a constructor!");var t=av(arguments.length>0?arguments[0]:void 0),e=function(r){this===Nb&&e.call(Pb,r),Gy(this,xb)&&Gy(this[xb],t)&&(this[xb][t]=!1),jb(this,t,Uy(1,r))};return Ty&&Ob&&jb(Nb,t,{configurable:!0,set:e}),Db(t)}).prototype,"toString",function(){return this._k}),bb.f=zb,Dy.f=Fb,db.f=vb.f=Vb,fb.f=Kb,cb.f=Hb,nb.f=function(t){return Db(_v(t))}),zy(zy.G+zy.W+zy.F*!Rb,{Symbol:Eb});for(var Gb="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),$b=0;Gb.length>$b;)_v(Gb[$b++]);for(var Wb=dv(_v.store),Yb=0;Wb.length>Yb;)ub(Wb[Yb++]);zy(zy.S+zy.F*!Rb,"Symbol",{for:function(t){return Gy(Ib,t+="")?Ib[t]:Ib[t]=Eb(t)},keyFor:function(t){if(!Ub(t))throw TypeError(t+" is not a symbol!");for(var e in Ib)if(Ib[e]===t)return e},useSetter:function(){Ob=!0},useSimple:function(){Ob=!1}}),zy(zy.S+zy.F*!Rb,"Object",{create:function(t,e){return void 0===e?wv(t):qb(wv(t),e)},defineProperty:Fb,defineProperties:qb,getOwnPropertyDescriptor:zb,getOwnPropertyNames:Vb,getOwnPropertySymbols:Hb}),Mb&&zy(zy.S+zy.F*(!Rb||Iy(function(){var t=Eb();return"[null]"!=Ab([t])||"{}"!=Ab({a:t})||"{}"!=Ab(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(By(e)||void 0!==t)&&!Ub(t))return hb(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Ub(e))return e}),n[1]=e,Ab.apply(Mb,n)}}),Eb.prototype[Bb]||Fy(Eb.prototype,Bb,Eb.prototype.valueOf),Ev(Eb,"Symbol"),Ev(Math,"Math",!0),Ev(Ey.JSON,"JSON",!0),ub("asyncIterator"),ub("observable");var Zb=My.Symbol,Qb=et(function(t){t.exports={default:Zb,__esModule:!0}});tt(Qb);var Xb=et(function(t,e){e.__esModule=!0;var r=o(ob),n=o(Qb),i="function"==typeof n.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":typeof t};function o(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof n.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof n.default&&t.constructor===n.default&&t!==n.default.prototype?"symbol":void 0===t?"undefined":i(t)}});tt(Xb);var Jb=et(function(t,e){e.__esModule=!0;var r,n=(r=Xb)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,n.default)(e))&&"function"!=typeof e?t:e}});tt(Jb);var tw=function(t,e){if(Cy(t),!By(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},ew={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=xy(Function.call,bb.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return tw(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:tw};zy(zy.S,"Object",{setPrototypeOf:ew.set});var rw=My.Object.setPrototypeOf,nw=et(function(t){t.exports={default:rw,__esModule:!0}});tt(nw),zy(zy.S,"Object",{create:wv});var iw=My.Object,ow=function(t,e){return iw.create(t,e)},aw=et(function(t){t.exports={default:ow,__esModule:!0}});tt(aw);var sw=et(function(t,e){e.__esModule=!0;var r=o(nw),n=o(aw),i=o(Xb);function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,n.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}});tt(sw);const uw=function(t){var e=(t=t||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==t.start?t.start:Math.floor(Math.random()*e);return function(){return r%=e,r++}}();var cw=fw;function fw(t){this.currentProvider=t}function hw(t){return function(){var e=[].slice.call(arguments),r=e.pop();this.sendAsync({method:t,params:e},r)}}function lw(t,e){return function(){var r=[].slice.call(arguments),n=r.pop();r.length<t&&r.push("latest"),this.sendAsync({method:e,params:r},n)}}fw.prototype.getBalance=lw(2,"eth_getBalance"),fw.prototype.getCode=lw(2,"eth_getCode"),fw.prototype.getTransactionCount=lw(2,"eth_getTransactionCount"),fw.prototype.getStorageAt=lw(3,"eth_getStorageAt"),fw.prototype.call=lw(2,"eth_call"),fw.prototype.protocolVersion=hw("eth_protocolVersion"),fw.prototype.syncing=hw("eth_syncing"),fw.prototype.coinbase=hw("eth_coinbase"),fw.prototype.mining=hw("eth_mining"),fw.prototype.hashrate=hw("eth_hashrate"),fw.prototype.gasPrice=hw("eth_gasPrice"),fw.prototype.accounts=hw("eth_accounts"),fw.prototype.blockNumber=hw("eth_blockNumber"),fw.prototype.getBlockTransactionCountByHash=hw("eth_getBlockTransactionCountByHash"),fw.prototype.getBlockTransactionCountByNumber=hw("eth_getBlockTransactionCountByNumber"),fw.prototype.getUncleCountByBlockHash=hw("eth_getUncleCountByBlockHash"),fw.prototype.getUncleCountByBlockNumber=hw("eth_getUncleCountByBlockNumber"),fw.prototype.sign=hw("eth_sign"),fw.prototype.sendTransaction=hw("eth_sendTransaction"),fw.prototype.sendRawTransaction=hw("eth_sendRawTransaction"),fw.prototype.estimateGas=hw("eth_estimateGas"),fw.prototype.getBlockByHash=hw("eth_getBlockByHash"),fw.prototype.getBlockByNumber=hw("eth_getBlockByNumber"),fw.prototype.getTransactionByHash=hw("eth_getTransactionByHash"),fw.prototype.getTransactionByBlockHashAndIndex=hw("eth_getTransactionByBlockHashAndIndex"),fw.prototype.getTransactionByBlockNumberAndIndex=hw("eth_getTransactionByBlockNumberAndIndex"),fw.prototype.getTransactionReceipt=hw("eth_getTransactionReceipt"),fw.prototype.getUncleByBlockHashAndIndex=hw("eth_getUncleByBlockHashAndIndex"),fw.prototype.getUncleByBlockNumberAndIndex=hw("eth_getUncleByBlockNumberAndIndex"),fw.prototype.getCompilers=hw("eth_getCompilers"),fw.prototype.compileLLL=hw("eth_compileLLL"),fw.prototype.compileSolidity=hw("eth_compileSolidity"),fw.prototype.compileSerpent=hw("eth_compileSerpent"),fw.prototype.newFilter=hw("eth_newFilter"),fw.prototype.newBlockFilter=hw("eth_newBlockFilter"),fw.prototype.newPendingTransactionFilter=hw("eth_newPendingTransactionFilter"),fw.prototype.uninstallFilter=hw("eth_uninstallFilter"),fw.prototype.getFilterChanges=hw("eth_getFilterChanges"),fw.prototype.getFilterLogs=hw("eth_getFilterLogs"),fw.prototype.getLogs=hw("eth_getLogs"),fw.prototype.getWork=hw("eth_getWork"),fw.prototype.submitWork=hw("eth_submitWork"),fw.prototype.submitHashrate=hw("eth_submitHashrate"),fw.prototype.sendAsync=function(t,e){var r;this.currentProvider.sendAsync((r=t,im({id:uw(),jsonrpc:"2.0",params:[]},r)),function(t,r){if(!t&&r.error&&(t=new Error("EthQuery - RPC Error - "+r.error.message)),t)return e(t);e(null,r.result)})};var dw=function(){},pw=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null!==t){var e=t;t=null,e.apply(this,arguments)}}},t.exports=e.default});tt(pw);var mw="object"==typeof X&&X&&X.Object===Object&&X,yw="object"==typeof self&&self&&self.Object===Object&&self,vw=mw||yw||Function("return this")(),gw=vw.Symbol,bw=Object.prototype,ww=bw.hasOwnProperty,_w=bw.toString,kw=gw?gw.toStringTag:void 0;var Sw=function(t){var e=ww.call(t,kw),r=t[kw];try{t[kw]=void 0;var n=!0}catch(t){}var i=_w.call(t);return n&&(e?t[kw]=r:delete t[kw]),i},Ew=Object.prototype.toString;var Mw=function(t){return Ew.call(t)},Aw="[object Null]",xw="[object Undefined]",Bw=gw?gw.toStringTag:void 0;var Cw=function(t){return null==t?void 0===t?xw:Aw:Bw&&Bw in Object(t)?Sw(t):Mw(t)};var Iw=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Tw="[object AsyncFunction]",Pw="[object Function]",Nw="[object GeneratorFunction]",Rw="[object Proxy]";var Lw=function(t){if(!Iw(t))return!1;var e=Cw(t);return e==Pw||e==Nw||e==Tw||e==Rw},Ow=9007199254740991;var jw=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ow};var Dw=function(t){return null!=t&&jw(t.length)&&!Lw(t)},Uw=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return r&&t[r]&&t[r]()};var r="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default});tt(Uw);var Fw=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var qw=function(t){return null!=t&&"object"==typeof t},Kw="[object Arguments]";var zw=function(t){return qw(t)&&Cw(t)==Kw},Vw=Object.prototype,Hw=Vw.hasOwnProperty,Gw=Vw.propertyIsEnumerable,$w=zw(function(){return arguments}())?zw:function(t){return qw(t)&&Hw.call(t,"callee")&&!Gw.call(t,"callee")},Ww=Array.isArray;var Yw=function(){return!1},Zw=et(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r?vw.Buffer:void 0,o=(i?i.isBuffer:void 0)||Yw;t.exports=o}),Qw=9007199254740991,Xw=/^(?:0|[1-9]\d*)$/;var Jw=function(t,e){var r=typeof t;return!!(e=null==e?Qw:e)&&("number"==r||"symbol"!=r&&Xw.test(t))&&t>-1&&t%1==0&&t<e},t_={};t_["[object Float32Array]"]=t_["[object Float64Array]"]=t_["[object Int8Array]"]=t_["[object Int16Array]"]=t_["[object Int32Array]"]=t_["[object Uint8Array]"]=t_["[object Uint8ClampedArray]"]=t_["[object Uint16Array]"]=t_["[object Uint32Array]"]=!0,t_["[object Arguments]"]=t_["[object Array]"]=t_["[object ArrayBuffer]"]=t_["[object Boolean]"]=t_["[object DataView]"]=t_["[object Date]"]=t_["[object Error]"]=t_["[object Function]"]=t_["[object Map]"]=t_["[object Number]"]=t_["[object Object]"]=t_["[object RegExp]"]=t_["[object Set]"]=t_["[object String]"]=t_["[object WeakMap]"]=!1;var e_=function(t){return qw(t)&&jw(t.length)&&!!t_[Cw(t)]};var r_=function(t){return function(e){return t(e)}},n_=et(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,i=n&&n.exports===r&&mw.process,o=function(){try{return i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o}),i_=n_&&n_.isTypedArray,o_=i_?r_(i_):e_,a_=Object.prototype.hasOwnProperty;var s_=function(t,e){var r=Ww(t),n=!r&&$w(t),i=!r&&!n&&Zw(t),o=!r&&!n&&!i&&o_(t),a=r||n||i||o,s=a?Fw(t.length,String):[],u=s.length;for(var c in t)!e&&!a_.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Jw(c,u))||s.push(c);return s},u_=Object.prototype;var c_=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||u_)};var f_=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),h_=Object.prototype.hasOwnProperty;var l_=function(t){if(!c_(t))return f_(t);var e=[];for(var r in Object(t))h_.call(t,r)&&"constructor"!=r&&e.push(r);return e};var d_=function(t){return Dw(t)?s_(t):l_(t)},p_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if((0,r.default)(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e=(0,n.default)(t);return e?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(e):(o=t,a=(0,i.default)(o),s=-1,u=a.length,function(){var t=a[++s];return s<u?{value:o[t],key:t}:null});var o,a,s,u};var r=o(Dw),n=o(Uw),i=o(d_);function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default});tt(p_);var m_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}},t.exports=e.default});tt(m_);var y_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default});tt(y_);var v_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,s,u){if(u=(0,n.default)(u||r.default),t<=0||!e)return u(null);var c=(0,i.default)(e),f=!1,h=0;function l(t,e){if(h-=1,t)f=!0,u(t);else{if(e===a.default||f&&h<=0)return f=!0,u(null);d()}}function d(){for(;h<t&&!f;){var e=c();if(null===e)return f=!0,void(h<=0&&u(null));h+=1,s(e.value,e.key,(0,o.default)(l))}}d()}};var r=s(dw),n=s(pw),i=s(p_),o=s(m_),a=s(y_);function s(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default});tt(v_);var g_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,r,n){return t(e,n)}},t.exports=e.default});tt(g_);var b_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){e|=0;for(var r=Math.max(t.length-e,0),n=Array(r),i=0;i<r;i++)n[i]=t[e+i];return n},t.exports=e.default});tt(b_);var w_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=(0,n.default)(arguments),r=e.pop();t.call(this,e,r)}};var r,n=(r=b_)&&r.__esModule?r:{default:r};t.exports=e.default});tt(w_);var __=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasNextTick=e.hasSetImmediate=void 0,e.fallback=s,e.wrap=u;var r,n=(r=b_)&&r.__esModule?r:{default:r};var i,o=e.hasSetImmediate="function"==typeof setImmediate&&setImmediate,a=e.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function s(t){setTimeout(t,0)}function u(t){return function(e){var r=(0,n.default)(arguments,1);t(function(){e.apply(null,r)})}}i=o?setImmediate:a?process.nextTick:s,e.default=u(i)});tt(__);__.hasNextTick,__.hasSetImmediate,__.fallback,__.wrap;var k_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,n.default)(function(e,n){var i;try{i=t.apply(this,e)}catch(t){return n(t)}(0,r.default)(i)&&"function"==typeof i.then?i.then(function(t){a(n,null,t)},function(t){a(n,t.message?t:new Error(t))}):n(null,i)})};var r=o(Iw),n=o(w_),i=o(__);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,r){try{t(e,r)}catch(t){(0,i.default)(s,t)}}function s(t){throw t}t.exports=e.default});tt(k_);var S_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=void 0;var r,n=(r=k_)&&r.__esModule?r:{default:r};var i="function"==typeof Symbol;function o(t){return i&&"AsyncFunction"===t[Symbol.toStringTag]}e.default=function(t){return o(t)?(0,n.default)(t):t},e.isAsync=o});tt(S_);S_.isAsync;var E_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,o,a){(0,r.default)(e)(t,(0,n.default)((0,i.default)(o)),a)};var r=o(v_),n=o(g_),i=o(S_);function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default});tt(E_);var M_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(r,n,i){return t(r,e,n,i)}},t.exports=e.default});tt(M_);var A_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=i(E_),n=i(M_);function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)(r.default,1),t.exports=e.default});tt(A_);var x_=et(function(t,e){var r,n=a.EventEmitter;t.exports=r=function(){n.call(this)},s.inherits(r,n),r.prototype.emit=function(t,e,r){var n=this,i=n._events[t]||[];return r||"function"!=typeof e||(r=e,e=void 0),"newListener"!==t&&"removeListener"!==t||(e={event:e,fn:r},r=void 0),i=Array.isArray(i)?i:[i],A_(i.slice(),function(t,r){var i;if(t.length<2){try{t.call(n,e)}catch(t){i=t}return r(i)}t.call(n,e,r)},r),n},r.prototype.once=function(t,e){var r,n=this;if("function"!=typeof e)throw new TypeError("listener must be a function");return(r=e.length>=2?function(i,o){n.removeListener(t,r),e(i,o)}:function(i){n.removeListener(t,r),e(i)}).listener=e,n.on(t,r),n},r.prototype.first=function(t,e){var r=this._events[t]||[];if("function"!=typeof e)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[t]=r=[r]),r.unshift(e),this},r.prototype.at=function(t,e,r){var n=this._events[t]||[];if("function"!=typeof r)throw new TypeError("listener must be a function");if("number"!=typeof e||e<0)throw new TypeError("index must be a non-negative integer");return Array.isArray(n)||(this._events[t]=n=[n]),n.splice(e,0,r),this},r.prototype.before=function(t,e,r){return this._beforeOrAfter(t,e,r)},r.prototype.after=function(t,e,r){return this._beforeOrAfter(t,e,r,"after")},r.prototype._beforeOrAfter=function(t,e,r,n){var i,o,a=this._events[t]||[],s="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof e)throw new TypeError("target must be a function");for(Array.isArray(a)||(this._events[t]=a=[a]),o=a.length,i=a.length;i--;)if(a[i]===e){o=i+s;break}return a.splice(o,0,r),this}}),B_=et(function(t){var e=function(t,e,r){return function(){for(var n=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new e(function(e,o){i.push(function(t,n){if(t)o(t);else if(r.multiArgs){for(var i=new Array(arguments.length-1),a=1;a<arguments.length;a++)i[a-1]=arguments[a];e(i)}else e(n)}),t.apply(n,i)})}},r=t.exports=function(t,r,n){"function"!=typeof r&&(n=r,r=Promise),(n=n||{}).exclude=n.exclude||[/.+Sync$/];var i="function"==typeof t?function(){return n.excludeMain?t.apply(this,arguments):e(t,r,n).apply(this,arguments)}:{};return Object.keys(t).reduce(function(i,o){var a=t[o];return i[o]="function"==typeof a&&function(t){var e=function(e){return"string"==typeof e?t===e:e.test(t)};return n.include?n.include.some(e):!n.exclude.some(e)}(o)?e(a,r,n):a,i},i)};r.all=r}),C_={incrementHexNumber:function(t){return I_(ly.intToHex(parseInt(t,16)+1))},formatHex:I_};function I_(t){for(var e=ly.stripHexPrefix(t);"0"===e[0];)e=e.substr(1);return"0x"+e}var T_=et(function(t){var e=c(by),r=c(Wg),n=c(Yg),i=c(Qg),o=c(Xg),a=c(rb),s=c(Jb),u=c(sw);function c(t){return t&&t.__esModule?t:{default:t}}var f=C_.incrementHexNumber,h=function(t){function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,c);var e=(0,s.default)(this,(c.__proto__||(0,i.default)(c)).call(this));if(!t.provider)throw new Error("RpcBlockTracker - no provider specified.");return e._query=new cw(t.provider),e._pollingInterval=t.pollingInterval||4e3,e._syncingTimeout=t.syncingTimeout||6e4,e._trackingBlock=null,e._trackingBlockTimestamp=null,e._currentBlock=null,e._isRunning=!1,e.emit=e.emit.bind(e),e._performSync=e._performSync.bind(e),e}return(0,u.default)(c,t),(0,a.default)(c,[{key:"getTrackingBlock",value:function(){return this._trackingBlock}},{key:"getCurrentBlock",value:function(){return this._currentBlock}},{key:"awaitCurrentBlock",value:function(){var t=(0,n.default)(e.default.mark(function t(){var n=this;return e.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._currentBlock){t.next=2;break}return t.abrupt("return",this._currentBlock);case 2:return t.next=4,new r.default(function(t){return n.once("sync",t)});case 4:return t.abrupt("return",this._currentBlock);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=(0,n.default)(e.default.mark(function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isRunning){t.next=2;break}return t.abrupt("return");case 2:if(this._isRunning=!0,!r.fromBlock){t.next=12;break}return t.t0=this,t.next=7,this._fetchBlockByNumber(r.fromBlock);case 7:return t.t1=t.sent,t.next=10,t.t0._setTrackingBlock.call(t.t0,t.t1);case 10:t.next=18;break;case 12:return t.t2=this,t.next=15,this._fetchLatestBlock();case 15:return t.t3=t.sent,t.next=18,t.t2._setTrackingBlock.call(t.t2,t.t3);case 18:this._performSync().catch(function(t){t&&console.error(t)});case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){this._isRunning=!1}},{key:"_setTrackingBlock",value:function(){var t=(0,n.default)(e.default.mark(function t(r){var n,i;return e.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._trackingBlock||this._trackingBlock.hash!==r.hash){t.next=2;break}return t.abrupt("return");case 2:if(n=this._trackingBlockTimestamp,i=Date.now(),!(n&&i-n>this._syncingTimeout)){t.next=10;break}return this._trackingBlockTimestamp=null,t.next=8,this._warpToLatest();case 8:t.next=14;break;case 10:return this._trackingBlock=r,this._trackingBlockTimestamp=i,t.next=14,B_(this.emit)("block",r);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_setCurrentBlock",value:function(){var t=(0,n.default)(e.default.mark(function t(r){var n;return e.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._currentBlock||this._currentBlock.hash!==r.hash){t.next=2;break}return t.abrupt("return");case 2:return n=this._currentBlock,this._currentBlock=r,t.next=6,B_(this.emit)("latest",r);case 6:return t.next=8,B_(this.emit)("sync",{newBlock:r,oldBlock:n});case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"_warpToLatest",value:function(){var t=(0,n.default)(e.default.mark(function t(){return e.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this,t.next=3,this._fetchLatestBlock();case 3:return t.t1=t.sent,t.next=6,t.t0._setTrackingBlock.call(t.t0,t.t1);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_pollForNextBlock",value:function(){var t=(0,n.default)(e.default.mark(function t(){var r=this;return e.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(function(){return r._performSync()},this._pollingInterval);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_performSync",value:function(){var t=(0,n.default)(e.default.mark(function t(){var r,n,i;return e.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isRunning){t.next=2;break}return t.abrupt("return");case 2:if(r=this.getTrackingBlock()){t.next=5;break}throw new Error("RpcBlockTracker - tracking block is missing");case 5:return n=f(r.number),t.prev=6,t.next=9,this._fetchBlockByNumber(n);case 9:if(!(i=t.sent)){t.next=16;break}return t.next=13,this._setTrackingBlock(i);case 13:this._performSync(),t.next=19;break;case 16:return t.next=18,this._setCurrentBlock(r);case 18:this._pollForNextBlock();case 19:t.next=31;break;case 21:if(t.prev=21,t.t0=t.catch(6),!t.t0.message.includes("index out of range")&&!t.t0.message.includes("Couldn't find block by reference")){t.next=29;break}return t.next=26,this._setCurrentBlock(r);case 26:this._pollForNextBlock(),t.next=31;break;case 29:console.error(t.t0),this._pollForNextBlock();case 31:case"end":return t.stop()}},t,this,[[6,21]])}));return function(){return t.apply(this,arguments)}}()},{key:"_fetchLatestBlock",value:function(){return B_(this._query.getBlockByNumber).call(this._query,"latest",!0)}},{key:"_fetchBlockByNumber",value:function(t){var e=C_.formatHex(t);return B_(this._query.getBlockByNumber).call(this._query,e,!0)}}]),c}(x_);t.exports=h});tt(T_);var P_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,o){(0,r.default)(e)(t,(0,n.default)(i),o)};var r=i(v_),n=i(S_);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default});tt(P_);var N_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){((0,r.default)(t)?h:l)(t,(0,c.default)(e),n)};var r=f(Dw),n=f(y_),i=f(P_),o=f(M_),a=f(dw),s=f(pw),u=f(m_),c=f(S_);function f(t){return t&&t.__esModule?t:{default:t}}function h(t,e,r){r=(0,s.default)(r||a.default);var i=0,o=0,c=t.length;function f(t,e){t?r(t):++o!==c&&e!==n.default||r(null)}for(0===c&&r(null);i<c;i++)e(t[i],i,(0,u.default)(f))}var l=(0,o.default)(i.default,1/0);t.exports=e.default});tt(N_);var R_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,i,o){return t(r.default,e,(0,n.default)(i),o)}};var r=i(N_),n=i(S_);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default});tt(R_);var L_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,o){o=o||r.default,e=e||[];var a=[],s=0,u=(0,n.default)(i);t(e,function(t,e,r){var n=s++;u(t,function(t,e){a[n]=e,r(t)})},function(t){o(t,a)})};var r=i(dw),n=i(S_);function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default});tt(L_);var O_=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=i(R_),n=i(L_);function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,r.default)(n.default),t.exports=e.default});tt(O_);const j_=a.EventEmitter;var D_=U_;function U_(){j_.call(this),this.isLocked=!0}(0,s.inherits)(U_,j_),U_.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},U_.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},U_.prototype.await=function(t){const e=this;e.isLocked?e.once("unlock",t):setTimeout(t)};const F_=3;var q_=function(){var t=(new Date).getTime()*Math.pow(10,F_),e=Math.floor(Math.random()*Math.pow(10,F_));return t+e};var K_=function(t){return im({id:q_(),jsonrpc:"2.0",params:[]},t)};const z_=a.EventEmitter;var V_=H_;function H_(t){const e=this;z_.call(e),e.setMaxListeners(30),t=t||{};const r={sendAsync:e._handleAsync.bind(e)},n=t.blockTrackerProvider||r;var i;e._blockTracker=t.blockTracker||new T_({provider:n,pollingInterval:t.pollingInterval||4e3}),e._blockTracker.on("block",t=>{const r=(t=t,{number:dy.toBuffer(t.number),hash:dy.toBuffer(t.hash),parentHash:dy.toBuffer(t.parentHash),nonce:dy.toBuffer(t.nonce),sha3Uncles:dy.toBuffer(t.sha3Uncles),logsBloom:dy.toBuffer(t.logsBloom),transactionsRoot:dy.toBuffer(t.transactionsRoot),stateRoot:dy.toBuffer(t.stateRoot),receiptsRoot:dy.toBuffer(t.receiptRoot||t.receiptsRoot),miner:dy.toBuffer(t.miner),difficulty:dy.toBuffer(t.difficulty),totalDifficulty:dy.toBuffer(t.totalDifficulty),size:dy.toBuffer(t.size),extraData:dy.toBuffer(t.extraData),gasLimit:dy.toBuffer(t.gasLimit),gasUsed:dy.toBuffer(t.gasUsed),timestamp:dy.toBuffer(t.timestamp),transactions:t.transactions});e._setCurrentBlock(r)}),e._blockTracker.on("block",e.emit.bind(e,"rawBlock")),e._blockTracker.on("sync",e.emit.bind(e,"sync")),e._blockTracker.on("latest",e.emit.bind(e,"latest")),e._ready=new D_,e._blockTracker.once("block",()=>{e._ready.go()}),e.currentBlock=null,e._providers=[]}(0,s.inherits)(H_,z_),H_.prototype.start=function(){this._blockTracker.start()},H_.prototype.stop=function(){this._blockTracker.stop()},H_.prototype.addProvider=function(t){this._providers.push(t),t.setEngine(this)},H_.prototype.send=function(t){throw new Error("Web3ProviderEngine does not support synchronous requests.")},H_.prototype.sendAsync=function(t,e){const r=this;r._ready.await(function(){Array.isArray(t)?O_(t,r._handleAsync.bind(r),e):r._handleAsync(t,e)})},H_.prototype._handleAsync=function(t,e){var r=this,n=-1,i=null,o=null,a=[];function s(r,n){o=r,i=n,A_(a,function(t,e){t?t(o,i,e):e()},function(){var r={id:t.id,jsonrpc:t.jsonrpc,result:i};null!=o?(r.error={message:o.stack||o.message||o,code:-32e3},e(o,r)):e(null,r)})}!function e(i){n+=1;a.unshift(i);if(n>=r._providers.length)s(new Error('Request for method "'+t.method+'" not handled by any subprovider. Please check your subprovider configuration to ensure this method is handled.'));else try{var o=r._providers[n];o.handleRequest(t,e,s)}catch(t){s(t)}}()},H_.prototype._setCurrentBlock=function(t){this.currentBlock=t,this.emit("block",t)};var G_=$_;function $_(){}$_.prototype.setEngine=function(t){const e=this;e.engine=t,t.on("block",function(t){e.currentBlock=t})},$_.prototype.handleRequest=function(t,e,r){throw new Error("Subproviders should override `handleRequest`.")},$_.prototype.emitPayload=function(t,e){this.engine.sendAsync(K_(t),e)};var W_=function(t,e,r){if(!(this instanceof W_))return new W_(t,e,r);this.message=t,this.code=e,void 0!==r&&(this.data=r)};ti(W_,Error);var Y_=function(){if(!(this instanceof Y_))return new Y_;W_.call(this,"Parse error",-32700)};ti(Y_,W_);var Z_=function(){if(!(this instanceof Z_))return new Z_;W_.call(this,"Invalid Request",-32600)};ti(Z_,W_);var Q_=function(){if(!(this instanceof Q_))return new Q_;W_.call(this,"Method not found",-32601)};ti(Q_,W_);var X_=function(){if(!(this instanceof X_))return new X_;W_.call(this,"Invalid params",-32602)};ti(X_,W_);var J_=function(t){var e;if(!(this instanceof J_))return new J_(t);e=t&&t.message?t.message:"Internal error",W_.call(this,e,-32603)};ti(J_,W_);var tk=function(t){if(t<-32099||t>-32e3)throw new Error("Invalid error code");if(!(this instanceof tk))return new tk(t);W_.call(this,"Server error",t)};ti(tk,W_),W_.ParseError=Y_,W_.InvalidRequest=Z_,W_.MethodNotFound=Q_,W_.InvalidParams=X_,W_.InternalError=J_,W_.ServerError=tk;var ek=W_;const rk=process.browser||X.XMLHttpRequest?am:cn;var nk=ik;function ik(t){this.rpcUrl=t.rpcUrl}(0,s.inherits)(ik,G_),ik.prototype.handleRequest=function(t,e,r){const n=this.rpcUrl;let i=K_(t);rk({uri:n,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i),rejectUnauthorized:!1},function(t,e,n){if(t)return r(new ek.InternalError(t));switch(e.statusCode){case 405:return r(new ek.MethodNotFound);case 504:let t="Gateway timeout. The request took too long to process. ";const n=new Error(t+="This can happen when querying logs over too wide a block range.");return r(new ek.InternalError(n));default:if(200!=e.statusCode)return r(new ek.InternalError(e.body))}let i;try{i=JSON.parse(n)}catch(t){return console.error(t.stack),r(new ek.InternalError(t))}if(i.error)return r(i.error);r(null,i.result)})};var ok=et(function(t,e){var r;t.exports=(r=r||function(t,e){var r=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var o=0;o<i;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],i=function(e){var e=e,r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=i(4294967296*(r||t.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,e)}}),s=n.enc={},u=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(r,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(r,e)}},f=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,s=4*o,u=i/s,c=(u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0))*o,f=t.min(4*c,i);if(c){for(var h=0;h<c;h+=o)this._doProcessBlock(n,h);var l=n.splice(0,c);r.sigBytes-=f}return new a.init(l,f)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),l=(i.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new l.HMAC.init(t,r).finalize(e)}}}),n.algo={});return n}(Math),r)}),ak=(et(function(t,e){var r,n,i,o,a,s;t.exports=(i=(n=r=ok).lib,o=i.Base,a=i.WordArray,(s=n.x64={}).Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return a.create(r,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}}),r)}),et(function(t,e){var r;t.exports=(r=ok,function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.x64.Word,s=e.algo,u=[],c=[],f=[];!function(){for(var t=1,e=0,r=0;r<24;r++){u[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)c[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,h=0,l=0;l<7;l++){if(1&i){var d=(1<<l)-1;d<32?h^=1<<d:s^=1<<d-32}128&i?i=i<<1^113:i<<=1}f[o]=a.create(s,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=a.create()}();var l=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(B=r[i]).high^=a,B.low^=o}for(var s=0;s<24;s++){for(var l=0;l<5;l++){for(var d=0,p=0,m=0;m<5;m++)d^=(B=r[l+5*m]).high,p^=B.low;var y=h[l];y.high=d,y.low=p}for(l=0;l<5;l++){var v=h[(l+4)%5],g=h[(l+1)%5],b=g.high,w=g.low;for(d=v.high^(b<<1|w>>>31),p=v.low^(w<<1|b>>>31),m=0;m<5;m++)(B=r[l+5*m]).high^=d,B.low^=p}for(var _=1;_<25;_++){var k=(B=r[_]).high,S=B.low,E=u[_];E<32?(d=k<<E|S>>>32-E,p=S<<E|k>>>32-E):(d=S<<E-32|k>>>64-E,p=k<<E-32|S>>>64-E);var M=h[c[_]];M.high=d,M.low=p}var A=h[0],x=r[0];for(A.high=x.high,A.low=x.low,l=0;l<5;l++)for(m=0;m<5;m++){var B=r[_=l+5*m],C=h[_],I=h[(l+1)%5+5*m],T=h[(l+2)%5+5*m];B.high=C.high^~I.high&T.high,B.low=C.low^~I.low&T.low}B=r[0];var P=f[s];B.high^=P.high,B.low^=P.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,u=s/8,c=[],f=0;f<u;f++){var h=a[f],l=h.high,d=h.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),c.push(d),c.push(l)}return new i.init(c,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=o._createHelper(l),e.HmacSHA3=o._createHmacHelper(l)}(Math),r.SHA3)}),[["truffle-contract-schema@2.0.0","/Users/orie/OR13/transmute/packages/transmute-eventstore"]]),sk="truffle-contract-schema@2.0.0",uk="truffle-contract-schema@2.0.0",ck="sha512-nLlspmu1GKDaluWksBwitHi/7Z3IpRjmBYeO9N+T1nVJD2V4IWJaptCKP1NqnPiJA+FChB7+F7pI6Br51/FtXQ==",fk={},hk={type:"version",registry:!0,raw:"truffle-contract-schema@2.0.0",name:"truffle-contract-schema",escapedName:"truffle-contract-schema",rawSpec:"2.0.0",saveSpec:null,fetchSpec:"2.0.0"},lk=["/truffle-contract"],dk="https://registry.npmjs.org/truffle-contract-schema/-/truffle-contract-schema-2.0.0.tgz",pk="/Users/orie/OR13/transmute/packages/transmute-eventstore",mk={name:"Tim Coulter",email:"tim.coulter@consensys.net"},yk={url:"https://github.com/trufflesuite/truffle-schema/issues"},vk={ajv:"^5.1.1","crypto-js":"^3.1.9-1",debug:"^3.1.0"},gk={mocha:"^3.2.0",solc:"^0.4.16"},bk="https://github.com/trufflesuite/truffle-schema#readme",wk=["ethereum","json","schema","contract","artifacts"],_k="truffle-contract-schema",kk={type:"git",url:"git+https://github.com/trufflesuite/truffle-schema.git"},Sk={test:"mocha"},Ek={_args:ak,_from:sk,_id:uk,_inBundle:!1,_integrity:ck,_location:"/truffle-contract-schema",_phantomChildren:fk,_requested:hk,_requiredBy:lk,_resolved:dk,_spec:"2.0.0",_where:pk,author:mk,bugs:yk,dependencies:vk,description:"JSON schema for contract artifacts",devDependencies:gk,homepage:bk,keywords:wk,license:"MIT",main:"index.js",name:_k,repository:kk,scripts:Sk,version:"2.0.0"},Mk=Object.freeze({_args:ak,_from:sk,_id:uk,_inBundle:!1,_integrity:ck,_location:"/truffle-contract-schema",_phantomChildren:fk,_requested:hk,_requiredBy:lk,_resolved:dk,_spec:"2.0.0",_where:pk,author:mk,bugs:yk,dependencies:vk,description:"JSON schema for contract artifacts",devDependencies:gk,homepage:bk,keywords:wk,license:"MIT",main:"index.js",name:_k,repository:kk,scripts:Sk,version:"2.0.0",default:Ek}),Ak=Array.isArray,xk=Object.keys,Bk=Object.prototype.hasOwnProperty,Ck=function t(e,r){if(e===r)return!0;var n,i,o,a=Ak(e),s=Ak(r);if(a&&s){if((i=e.length)!=r.length)return!1;for(n=0;n<i;n++)if(!t(e[n],r[n]))return!1;return!0}if(a!=s)return!1;var u=e instanceof Date,c=r instanceof Date;if(u!=c)return!1;if(u&&c)return e.getTime()==r.getTime();var f=e instanceof RegExp,h=r instanceof RegExp;if(f!=h)return!1;if(f&&h)return e.toString()==r.toString();if(e instanceof Object&&r instanceof Object){var l=xk(e);if((i=l.length)!==xk(r).length)return!1;for(n=0;n<i;n++)if(!Bk.call(r,l[n]))return!1;for(n=0;n<i;n++)if(!t(e[o=l[n]],r[o]))return!1;return!0}return!1},Ik={copy:function(t,e){for(var r in e=e||{},t)e[r]=t[r];return e},checkDataType:Tk,checkDataTypes:function(t,e){switch(t.length){case 1:return Tk(t[0],e,!0);default:var r="",n=Nk(t);for(var i in n.array&&n.object&&(r=n.null?"(":"(!"+e+" || ",r+="typeof "+e+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer,n)r+=(r?" && ":"")+Tk(i,e,!0);return r}},coerceToTypes:function(t,e){if(Array.isArray(e)){for(var r=[],n=0;n<e.length;n++){var i=e[n];Pk[i]?r[r.length]=i:"array"===t&&"array"===i&&(r[r.length]=i)}if(r.length)return r}else{if(Pk[e])return[e];if("array"===t&&"array"===e)return["array"]}},toHash:Nk,getProperty:Ok,escapeQuotes:jk,equal:Ck,ucs2length:function(t){for(var e,r=0,n=t.length,i=0;i<n;)r++,(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<n&&56320==(64512&(e=t.charCodeAt(i)))&&i++;return r},varOccurences:function(t,e){e+="[^0-9]";var r=t.match(new RegExp(e,"g"));return r?r.length:0},varReplace:function(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")},cleanUpCode:function(t){return t.replace(Dk,"").replace(Uk,"").replace(Fk,"if (!($1))")},finalCleanUpCode:function(t,e){var r=t.match(qk);r&&2==r.length&&(t=e?t.replace(zk,"").replace(Gk,$k):t.replace(Kk,"").replace(Vk,Hk));return(r=t.match(Wk))&&3===r.length?t.replace(Yk,""):t},schemaHasRules:function(t,e){if("boolean"==typeof t)return!t;for(var r in t)if(e[r])return!0},schemaHasRulesExcept:function(t,e,r){if("boolean"==typeof t)return!t&&"not"!=r;for(var n in t)if(n!=r&&e[n])return!0},toQuotedString:Zk,getPathExpr:function(t,e,r,n){return Jk(t,r?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(t,e,r){var n=Zk(r?"/"+tS(e):Ok(e));return Jk(t,n)},getData:function(t,e,r){var n,i,o,a;if(""===t)return"rootData";if("/"==t[0]){if(!Qk.test(t))throw new Error("Invalid JSON-pointer: "+t);i=t,o="rootData"}else{if(!(a=t.match(Xk)))throw new Error("Invalid JSON-pointer: "+t);if(n=+a[1],"#"==(i=a[2])){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return r[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(o="data"+(e-n||""),!i)return o}for(var s=o,u=i.split("/"),c=0;c<u.length;c++){var f=u[c];f&&(o+=Ok(eS(f)),s+=" && "+o)}return s},unescapeFragment:function(t){return eS(decodeURIComponent(t))},unescapeJsonPointer:eS,escapeFragment:function(t){return encodeURIComponent(tS(t))},escapeJsonPointer:tS};function Tk(t,e,r){var n=r?" !== ":" === ",i=r?" || ":" && ",o=r?"!":"",a=r?"":"!";switch(t){case"null":return e+n+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+i+"typeof "+e+n+'"object"'+i+a+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+n+'"number"'+i+a+"("+e+" % 1)"+i+e+n+e+")";default:return"typeof "+e+n+'"'+t+'"'}}var Pk=Nk(["string","number","integer","boolean","null"]);function Nk(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var Rk=/^[a-z$_][a-z$_0-9]*$/i,Lk=/'|\\/g;function Ok(t){return"number"==typeof t?"["+t+"]":Rk.test(t)?"."+t:"['"+jk(t)+"']"}function jk(t){return t.replace(Lk,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var Dk=/else\s*{\s*}/g,Uk=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,Fk=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var qk=/[^v.]errors/g,Kk=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,zk=/var errors = 0;|var vErrors = null;/g,Vk="return errors === 0;",Hk="validate.errors = null; return true;",Gk=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,$k="return data;",Wk=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,Yk=/if \(rootData === undefined\) rootData = data;/;function Zk(t){return"'"+jk(t)+"'"}var Qk=/^\/(?:[^~]|~0|~1)*$/,Xk=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Jk(t,e){return'""'==t?e:(t+" + "+e).replace(/' \+ '/g,"")}function tS(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function eS(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}var rS=function(t){Ik.copy(t,this)};var nS=et(function(t){var e=t.exports=function(t,r,n){"function"==typeof r&&(n=r,r={}),function t(r,n,i,o,a,s,u,c,f){if(i&&"object"==typeof i&&!Array.isArray(i))for(var h in n(i,o,a,s,u,c,f),i){var l=i[h];if(Array.isArray(l)){if(h in e.arrayKeywords)for(var d=0;d<l.length;d++)t(r,n,l[d],o+"/"+h+"/"+d,a,o,h,i,d)}else if(h in e.propsKeywords){if(l&&"object"==typeof l)for(var p in l)t(r,n,l[p],o+"/"+h+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),a,o,h,i,p)}else(h in e.keywords||r.allKeys&&!(h in e.skipKeywords))&&t(r,n,l,o+"/"+h,a,o,h,i)}}(r,n,t,"",t)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}}),iS=oS;function oS(t,e,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return oS.call(this,t,e,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof rS)return fS(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,o,a,s=aS.call(this,e,r);return s&&(i=s.schema,e=s.root,a=s.baseId),i instanceof rS?o=i.validate||t.call(this,i.schema,e,void 0,a):void 0!==i&&(o=fS(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,a)),o}function aS(t,e){var r=u.parse(e,!1,!0),n=lS(r),i=hS(this._getId(t.schema));if(n!==i){var o=pS(n),a=this._refs[o];if("string"==typeof a)return function(t,e,r){var n=aS.call(this,t,e);if(n){var i=n.schema,o=n.baseId;t=n.root;var a=this._getId(i);return a&&(o=mS(o,a)),uS.call(this,r,o,i,t)}}.call(this,t,a,r);if(a instanceof rS)a.validate||this._compile(a),t=a;else{if(!((a=this._schemas[o])instanceof rS))return;if(a.validate||this._compile(a),o==pS(e))return{schema:a,root:t,baseId:i};t=a}if(!t.schema)return;i=hS(this._getId(t.schema))}return uS.call(this,r,i,t.schema,t)}oS.normalizeId=pS,oS.fullPath=hS,oS.url=mS,oS.ids=function(t){var e=pS(this._getId(t)),r={"":e},n={"":hS(e,!1)},i={},o=this;return nS(t,{allKeys:!0},function(t,e,a,s,c,f,h){if(""!==e){var l=o._getId(t),d=r[s],p=n[s]+"/"+c;if(void 0!==h&&(p+="/"+("number"==typeof h?h:Ik.escapeFragment(h))),"string"==typeof l){l=d=pS(d?u.resolve(d,l):l);var m=o._refs[l];if("string"==typeof m&&(m=o._refs[m]),m&&m.schema){if(!Ck(t,m.schema))throw new Error('id "'+l+'" resolves to more than one schema')}else if(l!=pS(p))if("#"==l[0]){if(i[l]&&!Ck(t,i[l]))throw new Error('id "'+l+'" resolves to more than one schema');i[l]=t}else o._refs[l]=p}r[e]=d,n[e]=p}}),i},oS.inlineRef=fS,oS.schema=aS;var sS=Ik.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function uS(t,e,r,n){if(t.hash=t.hash||"","#/"==t.hash.slice(0,2)){for(var i=t.hash.split("/"),o=1;o<i.length;o++){var a=i[o];if(a){if(void 0===(r=r[a=Ik.unescapeFragment(a)]))break;var s;if(!sS[a]&&((s=this._getId(r))&&(e=mS(e,s)),r.$ref)){var u=mS(e,r.$ref),c=aS.call(this,n,u);c&&(r=c.schema,n=c.root,e=c.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:e}:void 0}}var cS=Ik.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function fS(t,e){return!1!==e&&(void 0===e||!0===e?function t(e){var r;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(r=e[n])&&!t(r))return!1}else for(var i in e){if("$ref"==i)return!1;if("object"==typeof(r=e[i])&&!t(r))return!1}return!0}(t):e?function t(e){var r,n=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(r=e[i])&&(n+=t(r)),n==1/0)return 1/0}else for(var o in e){if("$ref"==o)return 1/0;if(cS[o])n++;else if("object"==typeof(r=e[o])&&(n+=t(r)+1),n==1/0)return 1/0}return n}(t)<=e:void 0)}function hS(t,e){return!1!==e&&(t=pS(t)),lS(u.parse(t,!1,!0))}function lS(t){var e=t.protocol||"//"==t.href.slice(0,2)?"//":"";return(t.protocol||"")+e+(t.host||"")+(t.path||"")+"#"}var dS=/#\/?$/;function pS(t){return t?t.replace(dS,""):""}function mS(t,e){return e=pS(e),u.resolve(t,e)}var yS={Validation:gS(function(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}),MissingRef:gS(vS)};function vS(t,e,r){this.message=r||vS.message(t,e),this.missingRef=iS.url(t,e),this.missingSchema=iS.normalizeId(iS.fullPath(this.missingRef))}function gS(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}vS.message=function(t,e){return"can't resolve reference "+e+" from id "+t};var bS=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var r,n="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(r=e.cmp,function(t){return function(e,n){var i={key:e,value:t[e]},o={key:n,value:t[n]};return r(i,o)}}),o=[];return function t(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var r,a;if(Array.isArray(e)){for(a="[",r=0;r<e.length;r++)r&&(a+=","),a+=t(e[r])||"null";return a+"]"}if(null===e)return"null";if(-1!==o.indexOf(e)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(e)-1,u=Object.keys(e).sort(i&&i(e));for(a="",r=0;r<u.length;r++){var c=u[r],f=t(e[c]);f&&(a&&(a+=","),a+=JSON.stringify(c)+":"+f)}return o.splice(s,1),"{"+a+"}"}}(t)},wS=function(t,e,r){var n="",i=!0===t.schema.$async,o=t.util.schemaHasRulesExcept(t.schema,t.RULES.all,"$ref"),a=t.self._getId(t.schema);if(t.isTop){if(i){t.async=!0;var s="es7"==t.opts.async;t.yieldAwait=s?"await":"yield"}n+=" var validate = ",i?s?n+=" (async function ":("*"!=t.opts.async&&(n+="co.wrap"),n+="(function* "):n+=" (function ",n+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(t.opts.sourceCode||t.opts.processCode)&&(n+=" /*# sourceURL="+a+" */ ")}if("boolean"==typeof t.schema||!o&&!t.schema.$ref){var u=t.level,c=t.dataLevel,f=t.schema["false schema"],h=t.schemaPath+t.util.getProperty("false schema"),l=t.errSchemaPath+"/false schema",d=!t.opts.allErrors,p="data"+(c||""),m="valid"+u;if(!1===t.schema){t.isTop?d=!0:n+=" var "+m+" = false; ",(Q=Q||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: '"+(g||"false schema")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'boolean schema is false' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var y=n;n=Q.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+m+" = true; ";return t.isTop&&(n+=" }); return validate; "),n}if(t.isTop){var v=t.isTop;u=t.level=0,c=t.dataLevel=0,p="data";t.rootId=t.resolve.fullPath(t.self._getId(t.root.schema)),t.baseId=t.baseId||t.rootId,delete t.isTop,t.dataPathArr=[void 0],n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{u=t.level,p="data"+((c=t.dataLevel)||"");if(a&&(t.baseId=t.resolve.url(t.baseId,a)),i&&!t.async)throw new Error("async schema in sync schema");n+=" var errs_"+u+" = errors;"}m="valid"+u,d=!t.opts.allErrors;var g,b="",w="",_=t.schema.type,k=Array.isArray(_);if(k&&1==_.length&&(_=_[0],k=!1),t.schema.$ref&&o){if("fail"==t.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+t.errSchemaPath+'" (see option extendRefs)');!0!==t.opts.extendRefs&&(o=!1,t.logger.warn('$ref: keywords ignored in schema at path "'+t.errSchemaPath+'"'))}if(_){if(t.opts.coerceTypes)var S=t.util.coerceToTypes(t.opts.coerceTypes,_);var E=t.RULES.types[_];if(S||k||!0===E||E&&!X(E)){h=t.schemaPath+".type",l=t.errSchemaPath+"/type",h=t.schemaPath+".type",l=t.errSchemaPath+"/type";var M=k?"checkDataTypes":"checkDataType";if(n+=" if ("+t.util[M](_,p,!0)+") { ",S){var A="dataType"+u,x="coerced"+u;n+=" var "+A+" = typeof "+p+"; ","array"==t.opts.coerceTypes&&(n+=" if ("+A+" == 'object' && Array.isArray("+p+")) "+A+" = 'array'; "),n+=" var "+x+" = undefined; ";var B="",C=S;if(C)for(var I,T=-1,P=C.length-1;T<P;)I=C[T+=1],T&&(n+=" if ("+x+" === undefined) { ",B+="}"),"array"==t.opts.coerceTypes&&"array"!=I&&(n+=" if ("+A+" == 'array' && "+p+".length == 1) { "+x+" = "+p+" = "+p+"[0]; "+A+" = typeof "+p+";  } "),"string"==I?n+=" if ("+A+" == 'number' || "+A+" == 'boolean') "+x+" = '' + "+p+"; else if ("+p+" === null) "+x+" = ''; ":"number"==I||"integer"==I?(n+=" if ("+A+" == 'boolean' || "+p+" === null || ("+A+" == 'string' && "+p+" && "+p+" == +"+p+" ","integer"==I&&(n+=" && !("+p+" % 1)"),n+=")) "+x+" = +"+p+"; "):"boolean"==I?n+=" if ("+p+" === 'false' || "+p+" === 0 || "+p+" === null) "+x+" = false; else if ("+p+" === 'true' || "+p+" === 1) "+x+" = true; ":"null"==I?n+=" if ("+p+" === '' || "+p+" === 0 || "+p+" === false) "+x+" = null; ":"array"==t.opts.coerceTypes&&"array"==I&&(n+=" if ("+A+" == 'string' || "+A+" == 'number' || "+A+" == 'boolean' || "+p+" == null) "+x+" = ["+p+"]; ");n+=" "+B+" if ("+x+" === undefined) {   ",(Q=Q||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: '"+(g||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { type: '",n+=k?""+_.join(","):""+_,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=k?""+_.join(","):""+_,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";y=n;n=Q.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  ";var N=c?"data"+(c-1||""):"parentData",R=c?t.dataPathArr[c]:"parentDataProperty";n+=" "+p+" = "+x+"; ",c||(n+="if ("+N+" !== undefined)"),n+=" "+N+"["+R+"] = "+x+"; } "}else{(Q=Q||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: '"+(g||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { type: '",n+=k?""+_.join(","):""+_,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=k?""+_.join(","):""+_,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";y=n;n=Q.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(t.schema.$ref&&!o)n+=" "+t.RULES.all.$ref.code(t,"$ref")+" ",d&&(n+=" } if (errors === ",n+=v?"0":"errs_"+u,n+=") { ",w+="}");else{t.opts.v5&&t.schema.patternGroups&&t.logger.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var L=t.RULES;if(L)for(var O=-1,j=L.length-1;O<j;)if(X(E=L[O+=1])){if(E.type&&(n+=" if ("+t.util.checkDataType(E.type,p)+") { "),t.opts.useDefaults&&!t.compositeRule)if("object"==E.type&&t.schema.properties){f=t.schema.properties;var D=Object.keys(f);if(D)for(var U,F=-1,q=D.length-1;F<q;){if(void 0!==(z=f[U=D[F+=1]]).default)n+="  if ("+(H=p+t.util.getProperty(U))+" === undefined) "+H+" = ","shared"==t.opts.useDefaults?n+=" "+t.useDefault(z.default)+" ":n+=" "+JSON.stringify(z.default)+" ",n+="; "}}else if("array"==E.type&&Array.isArray(t.schema.items)){var K=t.schema.items;if(K){T=-1;for(var z,V=K.length-1;T<V;){var H;if(void 0!==(z=K[T+=1]).default)n+="  if ("+(H=p+"["+T+"]")+" === undefined) "+H+" = ","shared"==t.opts.useDefaults?n+=" "+t.useDefault(z.default)+" ":n+=" "+JSON.stringify(z.default)+" ",n+="; "}}}var G=E.rules;if(G)for(var $,W=-1,Y=G.length-1;W<Y;)if(J($=G[W+=1])){var Z=$.code(t,$.keyword,E.type);Z&&(n+=" "+Z+" ",d&&(b+="}"))}if(d&&(n+=" "+b+" ",b=""),E.type&&(n+=" } ",_&&_===E.type&&!S)){n+=" else { ";var Q;h=t.schemaPath+".type",l=t.errSchemaPath+"/type";(Q=Q||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: '"+(g||"type")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(l)+" , params: { type: '",n+=k?""+_.join(","):""+_,n+="' } ",!1!==t.opts.messages&&(n+=" , message: 'should be ",n+=k?""+_.join(","):""+_,n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";y=n;n=Q.pop(),!t.compositeRule&&d?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}d&&(n+=" if (errors === ",n+=v?"0":"errs_"+u,n+=") { ",w+="}")}}function X(t){for(var e=t.rules,r=0;r<e.length;r++)if(J(e[r]))return!0}function J(e){return void 0!==t.schema[e.keyword]||e.implements&&function(e){for(var r=e.implements,n=0;n<r.length;n++)if(void 0!==t.schema[r[n]])return!0}(e)}return d&&(n+=" "+w+" "),v?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }); return validate;"):n+=" var "+m+" = errors === errs_"+u+";",n=t.util.cleanUpCode(n),v&&(n=t.util.finalCleanUpCode(n,i)),n},_S=Array.prototype.slice,kS=SS.default=SS.co=SS;function SS(t){var e=this,r=_S.call(arguments,1);return new Promise(function(n,i){if("function"==typeof t&&(t=t.apply(e,r)),!t||"function"!=typeof t.next)return n(t);function o(e){var r;try{r=t.next(e)}catch(t){return i(t)}s(r)}function a(e){var r;try{r=t.throw(e)}catch(t){return i(t)}s(r)}function s(t){if(t.done)return n(t.value);var r=ES.call(e,t.value);return r&&MS(r)?r.then(o,a):a(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(t.value)+'"'))}o()})}function ES(t){return t?MS(t)?t:function(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||AS(e.prototype))}(t)||AS(t)?SS.call(this,t):"function"==typeof t?function(t){var e=this;return new Promise(function(r,n){t.call(e,function(t,e){if(t)return n(t);arguments.length>2&&(e=_S.call(arguments,1)),r(e)})})}.call(this,t):Array.isArray(t)?function(t){return Promise.all(t.map(ES,this))}.call(this,t):Object==t.constructor?function(t){for(var e=new t.constructor,r=Object.keys(t),n=[],i=0;i<r.length;i++){var o=r[i],a=ES.call(this,t[o]);a&&MS(a)?s(a,o):e[o]=t[o]}return Promise.all(n).then(function(){return e});function s(t,r){e[r]=void 0,n.push(t.then(function(t){e[r]=t}))}}.call(this,t):t:t}function MS(t){return"function"==typeof t.then}function AS(t){return"function"==typeof t.next&&"function"==typeof t.throw}SS.wrap=function(t){return e.__generatorFunction__=t,e;function e(){return SS.call(this,t.apply(this,arguments))}};var xS=Ik.ucs2length,BS=yS.Validation,CS=function t(e,r,n,i){var o=this,a=this._opts,s=[void 0],u={},c=[],f={},h=[],l={},d=[];r=r||{schema:e,refVal:s,refs:u};var p=function(t,e,r){var n=IS.call(this,t,e,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:t,root:e,baseId:r},{index:n,compiling:!1})}.call(this,e,r,i);var m=this._compilations[p.index];if(p.compiling)return m.callValidate=function t(){var e=m.validate;var r=e.apply(null,arguments);t.errors=e.errors;return r};var y=this._formats;var v=this.RULES;try{var g=w(e,r,n,i);m.validate=g;var b=m.callValidate;return b&&(b.schema=g.schema,b.errors=null,b.refs=g.refs,b.refVal=g.refVal,b.root=g.root,b.$async=g.$async,a.sourceCode&&(b.source=g.source)),g}finally{(function(t,e,r){var n=IS.call(this,t,e,r);n>=0&&this._compilations.splice(n,1)}).call(this,e,r,i)}function w(e,n,i,f){var l=!n||n&&n.schema==e;if(n.schema!=r.schema)return t.call(o,e,n,i,f);var p,m=!0===e.$async,g=wS({isTop:!0,schema:e,isRoot:l,baseId:f,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:yS.MissingRef,RULES:v,validate:wS,util:Ik,resolve:iS,resolveRef:_,usePattern:E,useDefault:M,useCustomRule:A,opts:a,formats:y,logger:o.logger,self:o});g=LS(s,NS)+LS(c,TS)+LS(h,PS)+LS(d,RS)+g,a.processCode&&(g=a.processCode(g));try{var b=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",g);p=b(o,v,y,r,s,h,d,kS,Ck,xS,BS),s[0]=p}catch(t){throw o.logger.error("Error compiling schema, function code:",g),t}return p.schema=e,p.errors=null,p.refs=u,p.refVal=s,p.root=l?p:n,m&&(p.$async=!0),!0===a.sourceCode&&(p.source={code:g,patterns:c,defaults:h}),p}function _(e,i,c){i=iS.url(e,i);var f,h,l=u[i];if(void 0!==l)return S(f=s[l],h="refVal["+l+"]");if(!c&&r.refs){var d=r.refs[i];if(void 0!==d)return f=r.refVal[d],h=k(i,f),S(f,h)}h=k(i);var p=iS.call(o,w,r,i);if(void 0===p){var m=n&&n[i];m&&(p=iS.inlineRef(m,a.inlineRefs)?m:t.call(o,m,r,n,e))}if(void 0!==p)return function(t,e){var r=u[t];s[r]=e}(i,p),S(p,h);!function(t){delete u[t]}(i)}function k(t,e){var r=s.length;return s[r]=e,u[t]=r,"refVal"+r}function S(t,e){return"object"==typeof t||"boolean"==typeof t?{code:e,schema:t,inline:!0}:{code:e,$async:t&&t.$async}}function E(t){var e=f[t];return void 0===e&&(e=f[t]=c.length,c[e]=t),"pattern"+e}function M(t){switch(typeof t){case"boolean":case"number":return""+t;case"string":return Ik.toQuotedString(t);case"object":if(null===t)return"null";var e=bS(t),r=l[e];return void 0===r&&(r=l[e]=h.length,h[r]=t),"default"+r}}function A(t,e,r,n){var i=t.definition.validateSchema;if(i&&!1!==o._opts.validateSchema){var s=i(e);if(!s){var u="keyword schema is invalid: "+o.errorsText(i.errors);if("log"!=o._opts.validateSchema)throw new Error(u);o.logger.error(u)}}var c,f=t.definition.compile,h=t.definition.inline,l=t.definition.macro;if(f)c=f.call(o,e,r,n);else if(l)c=l.call(o,e,r,n),!1!==a.validateSchema&&o.validateSchema(c,!0);else if(h)c=h.call(o,n,t.keyword,e,r);else if(!(c=t.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+t.keyword+'"failed to compile');var p=d.length;return d[p]=c,{code:"customRule"+p,validate:c}}};function IS(t,e,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==t&&i.root==e&&i.baseId==r)return n}return-1}function TS(t,e){return"var pattern"+t+" = new RegExp("+Ik.toQuotedString(e[t])+");"}function PS(t){return"var default"+t+" = defaults["+t+"];"}function NS(t,e){return void 0===e[t]?"":"var refVal"+t+" = refVal["+t+"];"}function RS(t){return"var customRule"+t+" = customRules["+t+"];"}function LS(t,e){if(!t.length)return"";for(var r="",n=0;n<t.length;n++)r+=e(n,t);return r}var OS=et(function(t){var e=t.exports=function(){this._cache={}};e.prototype.put=function(t,e){this._cache[t]=e},e.prototype.get=function(t){return this._cache[t]},e.prototype.del=function(t){delete this._cache[t]},e.prototype.clear=function(){this._cache={}}}),jS=/^\d\d\d\d-(\d\d)-(\d\d)$/,DS=[0,31,29,31,30,31,30,31,31,30,31,30,31],US=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,FS=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,qS=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,KS=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,zS=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,VS=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,HS=/^(?:\/(?:[^~/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,GS=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,$S=WS;function WS(t){return t="full"==t?"full":"fast",Ik.copy(WS[t])}function YS(t){var e=t.match(jS);if(!e)return!1;var r=+e[1],n=+e[2];return r>=1&&r<=12&&n>=1&&n<=DS[r]}function ZS(t,e){var r=t.match(US);if(!r)return!1;var n=r[1],i=r[2],o=r[3],a=r[5];return n<=23&&i<=59&&o<=59&&(!e||a)}WS.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":KS,url:zS,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:FS,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:tE,uuid:VS,"json-pointer":HS,"relative-json-pointer":GS},WS.full={date:YS,time:ZS,"date-time":function(t){var e=t.split(QS);return 2==e.length&&YS(e[0])&&ZS(e[1],!0)},uri:function(t){return XS.test(t)&&qS.test(t)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":KS,url:zS,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(t){return t.length<=255&&FS.test(t)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:tE,uuid:VS,"json-pointer":HS,"relative-json-pointer":GS};var QS=/t|\s/i;var XS=/\/|:/;var JS=/[^\\]\\Z/;function tE(t){if(JS.test(t))return!1;try{return!0}catch(t){return!1}}var eE=function(t,e,r){var n,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(a||""),l=t.opts.$data&&s&&s.$data;l?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",n="schema"+o):n=s;var d="maximum"==e,p=d?"exclusiveMaximum":"exclusiveMinimum",m=t.schema[p],y=t.opts.$data&&m&&m.$data,v=d?"<":">",g=d?">":"<",b=void 0;if(y){var w=t.util.getData(m.$data,a,t.dataPathArr),_="exclusive"+o,k="exclType"+o,S="exclIsNumber"+o,E="' + "+(x="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+w+"; ",i+=" var "+_+"; var "+k+" = typeof "+(w="schemaExcl"+o)+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { ";var M;b=p;(M=M||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: {} ",!1!==t.opts.messages&&(i+=" , message: '"+p+" should be boolean' "),t.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var A=i;i=M.pop(),!t.compositeRule&&f?t.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",l&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+k+" == 'number' ? ( ("+_+" = "+n+" === undefined || "+w+" "+v+"= "+n+") ? "+h+" "+g+"= "+w+" : "+h+" "+g+" "+n+" ) : ( ("+_+" = "+w+" === true) ? "+h+" "+g+"= "+n+" : "+h+" "+g+" "+n+" ) || "+h+" !== "+h+") { var op"+o+" = "+_+" ? '"+v+"' : '"+v+"=';"}else{E=v;if((S="number"==typeof m)&&l){var x="'"+E+"'";i+=" if ( ",l&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+m+" "+v+"= "+n+" ? "+h+" "+g+"= "+m+" : "+h+" "+g+" "+n+" ) || "+h+" !== "+h+") { "}else{S&&void 0===s?(_=!0,b=p,c=t.errSchemaPath+"/"+p,n=m,g+="="):(S&&(n=Math[d?"min":"max"](m,s)),m===(!S||n)?(_=!0,b=p,c=t.errSchemaPath+"/"+p,g+="="):(_=!1,E+="="));x="'"+E+"'";i+=" if ( ",l&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+h+" "+g+" "+n+" || "+h+" !== "+h+") { "}}b=b||e,(M=M||[]).push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { comparison: "+x+", limit: "+n+", exclusive: "+_+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be "+E+" ",i+=l?"' + "+n:n+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=l?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";A=i;return i=M.pop(),!t.compositeRule&&f?t.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",f&&(i+=" else { "),i},rE=function(t,e,r){var n,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(a||""),l=t.opts.$data&&s&&s.$data;l?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",n="schema"+o):n=s,i+="if ( ",l&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+h+".length "+("maxItems"==e?">":"<")+" "+n+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==e?"more":"less",i+=" than ",i+=l?"' + "+n+" + '":""+s,i+=" items' "),t.opts.verbose&&(i+=" , schema:  ",i+=l?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!t.compositeRule&&f?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i},nE=function(t,e,r){var n,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(a||""),l=t.opts.$data&&s&&s.$data;l?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",n="schema"+o):n=s;var d="maxLength"==e?">":"<";i+="if ( ",l&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===t.opts.unicode?i+=" "+h+".length ":i+=" ucs2length("+h+") ",i+=" "+d+" "+n+") { ";var p=e,m=m||[];m.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==e?"longer":"shorter",i+=" than ",i+=l?"' + "+n+" + '":""+s,i+=" characters' "),t.opts.verbose&&(i+=" , schema:  ",i+=l?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var y=i;return i=m.pop(),!t.compositeRule&&f?t.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i},iE=function(t,e,r){var n,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(a||""),l=t.opts.$data&&s&&s.$data;l?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",n="schema"+o):n=s,i+="if ( ",l&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+h+").length "+("maxProperties"==e?">":"<")+" "+n+") { ";var d=e,p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==e?"more":"less",i+=" than ",i+=l?"' + "+n+" + '":""+s,i+=" properties' "),t.opts.verbose&&(i+=" , schema:  ",i+=l?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!t.compositeRule&&f?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i},oE={$ref:function(t,e,r){var n,i,o=" ",a=t.level,s=t.dataLevel,u=t.schema[e],c=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(s||""),l="valid"+a;if("#"==u||"#/"==u)t.isRoot?(n=t.async,i="validate"):(n=!0===t.root.schema.$async,i="root.refVal[0]");else{var d=t.resolveRef(t.baseId,u,t.isRoot);if(void 0===d){var p=t.MissingRefError.message(t.baseId,u);if("fail"==t.opts.missingRefs){t.logger.error(p),(g=g||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { ref: '"+t.util.escapeQuotes(u)+"' } ",!1!==t.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+t.util.escapeQuotes(u)+"' "),t.opts.verbose&&(o+=" , schema: "+t.util.toQuotedString(u)+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var m=o;o=g.pop(),!t.compositeRule&&f?t.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f&&(o+=" if (false) { ")}else{if("ignore"!=t.opts.missingRefs)throw new t.MissingRefError(t.baseId,u,p);t.logger.warn(p),f&&(o+=" if (true) { ")}}else if(d.inline){var y=t.util.copy(t);y.level++;var v="valid"+y.level;y.schema=d.schema,y.schemaPath="",y.errSchemaPath=u,o+=" "+t.validate(y).replace(/validate\.schema/g,d.code)+" ",f&&(o+=" if ("+v+") { ")}else n=!0===d.$async,i=d.code}if(i){var g;(g=g||[]).push(o),o="",t.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?t.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),n){if(!t.async)throw new Error("async schema referenced by sync schema");f&&(o+=" var "+l+"; "),o+=" try { "+t.yieldAwait+" "+b+"; ",f&&(o+=" "+l+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",f&&(o+=" "+l+" = false; "),o+=" } ",f&&(o+=" if ("+l+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",f&&(o+=" else { ")}return o},allOf:function(t,e,r){var n=" ",i=t.schema[e],o=t.schemaPath+t.util.getProperty(e),a=t.errSchemaPath+"/"+e,s=!t.opts.allErrors,u=t.util.copy(t),c="";u.level++;var f="valid"+u.level,h=u.baseId,l=!0,d=i;if(d)for(var p,m=-1,y=d.length-1;m<y;)p=d[m+=1],t.util.schemaHasRules(p,t.RULES.all)&&(l=!1,u.schema=p,u.schemaPath=o+"["+m+"]",u.errSchemaPath=a+"/"+m,n+="  "+t.validate(u)+" ",u.baseId=h,s&&(n+=" if ("+f+") { ",c+="}"));return s&&(n+=l?" if (true) { ":" "+c.slice(0,-1)+" "),n=t.util.cleanUpCode(n)},anyOf:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="valid"+i,l="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level;if(a.every(function(e){return t.util.schemaHasRules(e,t.RULES.all)})){var y=d.baseId;n+=" var "+l+" = errors; var "+h+" = false;  ";var v=t.compositeRule;t.compositeRule=d.compositeRule=!0;var g=a;if(g)for(var b,w=-1,_=g.length-1;w<_;)b=g[w+=1],d.schema=b,d.schemaPath=s+"["+w+"]",d.errSchemaPath=u+"/"+w,n+="  "+t.validate(d)+" ",d.baseId=y,n+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",p+="}";t.compositeRule=d.compositeRule=v,n+=" "+p+" if (!"+h+") {   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",t.opts.allErrors&&(n+=" } "),n=t.util.cleanUpCode(n)}else c&&(n+=" if (true) { ");return n},const:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="valid"+i,l=t.opts.$data&&a&&a.$data;l&&(n+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; "),l||(n+=" var schema"+i+" = validate.schema"+s+";"),n+="var "+h+" = equal("+f+", schema"+i+"); if (!"+h+") {   ";var d=d||[];d.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should be equal to constant' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var p=n;return n=d.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+p+"]); ":n+=" validate.errors = ["+p+"]; return false; ":n+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},contains:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="valid"+i,l="errs__"+i,d=t.util.copy(t);d.level++;var p="valid"+d.level,m="i"+i,y=d.dataLevel=t.dataLevel+1,v="data"+y,g=t.baseId,b=t.util.schemaHasRules(a,t.RULES.all);if(n+="var "+l+" = errors;var "+h+";",b){var w=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.schema=a,d.schemaPath=s,d.errSchemaPath=u,n+=" var "+p+" = false; for (var "+m+" = 0; "+m+" < "+f+".length; "+m+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,m,t.opts.jsonPointers,!0);var _=f+"["+m+"]";d.dataPathArr[y]=m;var k=t.validate(d);d.baseId=g,t.util.varOccurences(k,v)<2?n+=" "+t.util.varReplace(k,v,_)+" ":n+=" var "+v+" = "+_+"; "+k+" ",n+=" if ("+p+") break; }  ",t.compositeRule=d.compositeRule=w,n+="  if (!"+p+") {"}else n+=" if ("+f+".length == 0) {";var S=S||[];S.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should contain a valid item' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var E=n;return n=S.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } "),t.opts.allErrors&&(n+=" } "),n=t.util.cleanUpCode(n)},dependencies:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="errs__"+i,l=t.util.copy(t),d="";l.level++;var p="valid"+l.level,m={},y={},v=t.opts.ownProperties;for(_ in a){var g=a[_],b=Array.isArray(g)?y:m;b[_]=g}n+="var "+h+" = errors;";var w=t.errorPath;for(var _ in n+="var missing"+i+";",y)if((b=y[_]).length){if(n+=" if ( "+f+t.util.getProperty(_)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(_)+"') "),c){n+=" && ( ";var k=b;if(k)for(var S=-1,E=k.length-1;S<E;)I=k[S+=1],S&&(n+=" || "),n+=" ( ( "+(R=f+(N=t.util.getProperty(I)))+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(I)+"') "),n+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?I:N)+") ) ";n+=")) {  ";var M="missing"+i,A="' + "+M+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,M,!0):w+" + "+M);var x=x||[];x.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(_)+"', missingProperty: '"+A+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+t.util.escapeQuotes(b[0]):n+="properties "+t.util.escapeQuotes(b.join(", ")),n+=" when property "+t.util.escapeQuotes(_)+" is present' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var B=n;n=x.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var C=b;if(C)for(var I,T=-1,P=C.length-1;T<P;){I=C[T+=1];var N=t.util.getProperty(I),R=(A=t.util.escapeQuotes(I),f+N);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,I,t.opts.jsonPointers)),n+=" if ( "+R+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(I)+"') "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { property: '"+t.util.escapeQuotes(_)+"', missingProperty: '"+A+"', depsCount: "+b.length+", deps: '"+t.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+t.util.escapeQuotes(b[0]):n+="properties "+t.util.escapeQuotes(b.join(", ")),n+=" when property "+t.util.escapeQuotes(_)+" is present' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",c&&(d+="}",n+=" else { ")}t.errorPath=w;var L=l.baseId;for(var _ in m)g=m[_],t.util.schemaHasRules(g,t.RULES.all)&&(n+=" "+p+" = true; if ( "+f+t.util.getProperty(_)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(_)+"') "),n+=") { ",l.schema=g,l.schemaPath=s+t.util.getProperty(_),l.errSchemaPath=u+"/"+t.util.escapeFragment(_),n+="  "+t.validate(l)+" ",l.baseId=L,n+=" }  ",c&&(n+=" if ("+p+") { ",d+="}"));return c&&(n+="   "+d+" if ("+h+" == errors) {"),n=t.util.cleanUpCode(n)},enum:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="valid"+i,l=t.opts.$data&&a&&a.$data;l&&(n+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ");var d="i"+i,p="schema"+i;l||(n+=" var "+p+" = validate.schema"+s+";"),n+="var "+h+";",l&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=h+" = false;for (var "+d+"=0; "+d+"<"+p+".length; "+d+"++) if (equal("+f+", "+p+"["+d+"])) { "+h+" = true; break; }",l&&(n+="  }  "),n+=" if (!"+h+") {   ";var m=m||[];m.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==t.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var y=n;return n=m.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},format:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||"");if(!1===t.opts.format)return c&&(n+=" if (true) { "),n;var h,l=t.opts.$data&&a&&a.$data;l?(n+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ",h="schema"+i):h=a;var d=t.opts.unknownFormats,p=Array.isArray(d);if(l)n+=" var "+(m="format"+i)+" = formats["+h+"]; var "+(y="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+i)+" = "+y+" && "+m+".type || 'string'; if ("+y+") { ",t.async&&(n+=" var async"+i+" = "+m+".async; "),n+=" "+m+" = "+m+".validate; } if (  ",l&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),n+=" (","ignore"!=d&&(n+=" ("+h+" && !"+m+" ",p&&(n+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),n+=") || "),n+=" ("+m+" && "+v+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",t.async?n+=" (async"+i+" ? "+t.yieldAwait+" "+m+"("+f+") : "+m+"("+f+")) ":n+=" "+m+"("+f+") ",n+=" : "+m+".test("+f+"))))) {";else{var m;if(!(m=t.formats[a])){if("ignore"==d)return t.logger.warn('unknown format "'+a+'" ignored in schema at path "'+t.errSchemaPath+'"'),c&&(n+=" if (true) { "),n;if(p&&d.indexOf(a)>=0)return c&&(n+=" if (true) { "),n;throw new Error('unknown format "'+a+'" is used in schema at path "'+t.errSchemaPath+'"')}var y,v=(y="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(y){var g=!0===m.async;m=m.validate}if(v!=r)return c&&(n+=" if (true) { "),n;if(g){if(!t.async)throw new Error("async format in sync schema");var b="formats"+t.util.getProperty(a)+".validate";n+=" if (!("+t.yieldAwait+" "+b+"("+f+"))) { "}else n+=" if (! ",b="formats"+t.util.getProperty(a),y&&(b+=".validate"),n+="function"==typeof m?" "+b+"("+f+") ":" "+b+".test("+f+") ",n+=") { "}var w=w||[];w.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { format:  ",n+=l?""+h:""+t.util.toQuotedString(a),n+="  } ",!1!==t.opts.messages&&(n+=" , message: 'should match format \"",n+=l?"' + "+h+" + '":""+t.util.escapeQuotes(a),n+="\"' "),t.opts.verbose&&(n+=" , schema:  ",n+=l?"validate.schema"+s:""+t.util.toQuotedString(a),n+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var _=n;return n=w.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},items:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="valid"+i,l="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,y="i"+i,v=d.dataLevel=t.dataLevel+1,g="data"+v,b=t.baseId;if(n+="var "+l+" = errors;var "+h+";",Array.isArray(a)){var w=t.schema.additionalItems;if(!1===w){n+=" "+h+" = "+f+".length <= "+a.length+"; ";var _=u;u=t.errSchemaPath+"/additionalItems",n+="  if (!"+h+") {   ";var k=k||[];k.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { limit: "+a.length+" } ",!1!==t.opts.messages&&(n+=" , message: 'should NOT have more than "+a.length+" items' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var S=n;n=k.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u=_,c&&(p+="}",n+=" else { ")}var E=a;if(E)for(var M,A=-1,x=E.length-1;A<x;)if(M=E[A+=1],t.util.schemaHasRules(M,t.RULES.all)){n+=" "+m+" = true; if ("+f+".length > "+A+") { ";var B=f+"["+A+"]";d.schema=M,d.schemaPath=s+"["+A+"]",d.errSchemaPath=u+"/"+A,d.errorPath=t.util.getPathExpr(t.errorPath,A,t.opts.jsonPointers,!0),d.dataPathArr[v]=A;var C=t.validate(d);d.baseId=b,t.util.varOccurences(C,g)<2?n+=" "+t.util.varReplace(C,g,B)+" ":n+=" var "+g+" = "+B+"; "+C+" ",n+=" }  ",c&&(n+=" if ("+m+") { ",p+="}")}"object"==typeof w&&t.util.schemaHasRules(w,t.RULES.all)&&(d.schema=w,d.schemaPath=t.schemaPath+".additionalItems",d.errSchemaPath=t.errSchemaPath+"/additionalItems",n+=" "+m+" = true; if ("+f+".length > "+a.length+") {  for (var "+y+" = "+a.length+"; "+y+" < "+f+".length; "+y+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers,!0),B=f+"["+y+"]",d.dataPathArr[v]=y,C=t.validate(d),d.baseId=b,t.util.varOccurences(C,g)<2?n+=" "+t.util.varReplace(C,g,B)+" ":n+=" var "+g+" = "+B+"; "+C+" ",c&&(n+=" if (!"+m+") break; "),n+=" } }  ",c&&(n+=" if ("+m+") { ",p+="}"))}else t.util.schemaHasRules(a,t.RULES.all)&&(d.schema=a,d.schemaPath=s,d.errSchemaPath=u,n+="  for (var "+y+" = 0; "+y+" < "+f+".length; "+y+"++) { ",d.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers,!0),B=f+"["+y+"]",d.dataPathArr[v]=y,C=t.validate(d),d.baseId=b,t.util.varOccurences(C,g)<2?n+=" "+t.util.varReplace(C,g,B)+" ":n+=" var "+g+" = "+B+"; "+C+" ",c&&(n+=" if (!"+m+") break; "),n+=" }");return c&&(n+=" "+p+" if ("+l+" == errors) {"),n=t.util.cleanUpCode(n)},maximum:eE,minimum:eE,maxItems:rE,minItems:rE,maxLength:nE,minLength:nE,maxProperties:iE,minProperties:iE,multipleOf:function(t,e,r){var n,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(a||""),l=t.opts.$data&&s&&s.$data;l?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",n="schema"+o):n=s,i+="var division"+o+";if (",l&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+n+", ",t.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+t.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",l&&(i+="  )  "),i+=" ) {   ";var d=d||[];d.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==t.opts.messages&&(i+=" , message: 'should be multiple of ",i+=l?"' + "+n:n+"'"),t.opts.verbose&&(i+=" , schema:  ",i+=l?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!t.compositeRule&&f?t.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i},not:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="errs__"+i,l=t.util.copy(t);l.level++;var d="valid"+l.level;if(t.util.schemaHasRules(a,t.RULES.all)){l.schema=a,l.schemaPath=s,l.errSchemaPath=u,n+=" var "+h+" = errors;  ";var p,m=t.compositeRule;t.compositeRule=l.compositeRule=!0,l.createErrors=!1,l.opts.allErrors&&(p=l.opts.allErrors,l.opts.allErrors=!1),n+=" "+t.validate(l)+" ",l.createErrors=!0,p&&(l.opts.allErrors=p),t.compositeRule=l.compositeRule=m,n+=" if ("+d+") {   ";var y=y||[];y.push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should NOT be valid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var v=n;n=y.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",t.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should NOT be valid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(n+=" if (false) { ");return n},oneOf:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="valid"+i,l="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level;n+="var "+l+" = errors;var prevValid"+i+" = false;var "+h+" = false;";var y=d.baseId,v=t.compositeRule;t.compositeRule=d.compositeRule=!0;var g=a;if(g)for(var b,w=-1,_=g.length-1;w<_;)b=g[w+=1],t.util.schemaHasRules(b,t.RULES.all)?(d.schema=b,d.schemaPath=s+"["+w+"]",d.errSchemaPath=u+"/"+w,n+="  "+t.validate(d)+" ",d.baseId=y):n+=" var "+m+" = true; ",w&&(n+=" if ("+m+" && prevValid"+i+") "+h+" = false; else { ",p+="}"),n+=" if ("+m+") "+h+" = prevValid"+i+" = true;";return t.compositeRule=d.compositeRule=v,n+=p+"if (!"+h+") {   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: {} ",!1!==t.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; }",t.opts.allErrors&&(n+=" } "),n},pattern:function(t,e,r){var n,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(a||""),l=t.opts.$data&&s&&s.$data;l?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",n="schema"+o):n=s;var d=l?"(new RegExp("+n+"))":t.usePattern(s);i+="if ( ",l&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+d+".test("+h+") ) {   ";var p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { pattern:  ",i+=l?""+n:""+t.util.toQuotedString(s),i+="  } ",!1!==t.opts.messages&&(i+=" , message: 'should match pattern \"",i+=l?"' + "+n+" + '":""+t.util.escapeQuotes(s),i+="\"' "),t.opts.verbose&&(i+=" , schema:  ",i+=l?"validate.schema"+u:""+t.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=p.pop(),!t.compositeRule&&f?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",f&&(i+=" else { "),i},properties:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="valid"+i,l="errs__"+i,d=t.util.copy(t),p="";d.level++;var m="valid"+d.level,y="key"+i,v="idx"+i,g=d.dataLevel=t.dataLevel+1,b="data"+g,w="dataProperties"+i,_=Object.keys(a||{}),k=t.schema.patternProperties||{},S=Object.keys(k),E=t.schema.additionalProperties,M=_.length||S.length,A=!1===E,x="object"==typeof E&&Object.keys(E).length,B=t.opts.removeAdditional,C=A||x||B,I=t.opts.ownProperties,T=t.baseId,P=t.schema.required;if(P&&(!t.opts.v5||!P.$data)&&P.length<t.opts.loopRequired)var N=t.util.toHash(P);if(t.opts.patternGroups)var R=t.schema.patternGroups||{},L=Object.keys(R);if(n+="var "+l+" = errors;var "+m+" = true;",I&&(n+=" var "+w+" = undefined;"),C){if(n+=I?" "+w+" = "+w+" || Object.keys("+f+"); for (var "+v+"=0; "+v+"<"+w+".length; "+v+"++) { var "+y+" = "+w+"["+v+"]; ":" for (var "+y+" in "+f+") { ",M){if(n+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>5)n+=" || validate.schema"+s+"["+y+"] ";else{var O=_;if(O)for(var j=-1,D=O.length-1;j<D;)J=O[j+=1],n+=" || "+y+" == "+t.util.toQuotedString(J)+" "}if(S.length){var U=S;if(U)for(var F=-1,q=U.length-1;F<q;)ut=U[F+=1],n+=" || "+t.usePattern(ut)+".test("+y+") "}if(t.opts.patternGroups&&L.length){var K=L;if(K){F=-1;for(var z=K.length-1;F<z;)lt=K[F+=1],n+=" || "+t.usePattern(lt)+".test("+y+") "}}n+=" ); if (isAdditional"+i+") { "}if("all"==B)n+=" delete "+f+"["+y+"]; ";else{var V=t.errorPath,H="' + "+y+" + '";if(t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers)),A)if(B)n+=" delete "+f+"["+y+"]; ";else{n+=" "+m+" = false; ";var G=u;u=t.errSchemaPath+"/additionalProperties",(_t=_t||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { additionalProperty: '"+H+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should NOT have additional properties' "),t.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var $=n;n=_t.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=G,c&&(n+=" break; ")}else if(x)if("failing"==B){n+=" var "+l+" = errors;  ";var W=t.compositeRule;t.compositeRule=d.compositeRule=!0,d.schema=E,d.schemaPath=t.schemaPath+".additionalProperties",d.errSchemaPath=t.errSchemaPath+"/additionalProperties",d.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers);var Y=f+"["+y+"]";d.dataPathArr[g]=y;var Z=t.validate(d);d.baseId=T,t.util.varOccurences(Z,b)<2?n+=" "+t.util.varReplace(Z,b,Y)+" ":n+=" var "+b+" = "+Y+"; "+Z+" ",n+=" if (!"+m+") { errors = "+l+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+f+"["+y+"]; }  ",t.compositeRule=d.compositeRule=W}else d.schema=E,d.schemaPath=t.schemaPath+".additionalProperties",d.errSchemaPath=t.errSchemaPath+"/additionalProperties",d.errorPath=t.opts._errorDataPathProperty?t.errorPath:t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers),Y=f+"["+y+"]",d.dataPathArr[g]=y,Z=t.validate(d),d.baseId=T,t.util.varOccurences(Z,b)<2?n+=" "+t.util.varReplace(Z,b,Y)+" ":n+=" var "+b+" = "+Y+"; "+Z+" ",c&&(n+=" if (!"+m+") break; ");t.errorPath=V}M&&(n+=" } "),n+=" }  ",c&&(n+=" if ("+m+") { ",p+="}")}var Q=t.opts.useDefaults&&!t.compositeRule;if(_.length){var X=_;if(X)for(var J,tt=-1,et=X.length-1;tt<et;){var rt=a[J=X[tt+=1]];if(t.util.schemaHasRules(rt,t.RULES.all)){var nt=t.util.getProperty(J),it=(Y=f+nt,Q&&void 0!==rt.default);if(d.schema=rt,d.schemaPath=s+nt,d.errSchemaPath=u+"/"+t.util.escapeFragment(J),d.errorPath=t.util.getPath(t.errorPath,J,t.opts.jsonPointers),d.dataPathArr[g]=t.util.toQuotedString(J),Z=t.validate(d),d.baseId=T,t.util.varOccurences(Z,b)<2){Z=t.util.varReplace(Z,b,Y);var ot=Y}else ot=b,n+=" var "+b+" = "+Y+"; ";if(it)n+=" "+Z+" ";else{if(N&&N[J]){n+=" if ( "+ot+" === undefined ",I&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(J)+"') "),n+=") { "+m+" = false; ",V=t.errorPath,G=u;var at=t.util.escapeQuotes(J);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(V,J,t.opts.jsonPointers)),u=t.errSchemaPath+"/required",(_t=_t||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+at+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+at+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",$=n,n=_t.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=G,t.errorPath=V,n+=" } else { "}else c?(n+=" if ( "+ot+" === undefined ",I&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(J)+"') "),n+=") { "+m+" = true; } else { "):(n+=" if ("+ot+" !== undefined ",I&&(n+=" &&   Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(J)+"') "),n+=" ) { ");n+=" "+Z+" } "}}c&&(n+=" if ("+m+") { ",p+="}")}}if(S.length){var st=S;if(st)for(var ut,ct=-1,ft=st.length-1;ct<ft;)rt=k[ut=st[ct+=1]],t.util.schemaHasRules(rt,t.RULES.all)&&(d.schema=rt,d.schemaPath=t.schemaPath+".patternProperties"+t.util.getProperty(ut),d.errSchemaPath=t.errSchemaPath+"/patternProperties/"+t.util.escapeFragment(ut),n+=I?" "+w+" = "+w+" || Object.keys("+f+"); for (var "+v+"=0; "+v+"<"+w+".length; "+v+"++) { var "+y+" = "+w+"["+v+"]; ":" for (var "+y+" in "+f+") { ",n+=" if ("+t.usePattern(ut)+".test("+y+")) { ",d.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers),Y=f+"["+y+"]",d.dataPathArr[g]=y,Z=t.validate(d),d.baseId=T,t.util.varOccurences(Z,b)<2?n+=" "+t.util.varReplace(Z,b,Y)+" ":n+=" var "+b+" = "+Y+"; "+Z+" ",c&&(n+=" if (!"+m+") break; "),n+=" } ",c&&(n+=" else "+m+" = true; "),n+=" }  ",c&&(n+=" if ("+m+") { ",p+="}"))}if(t.opts.patternGroups&&L.length){var ht=L;if(ht)for(var lt,dt=-1,pt=ht.length-1;dt<pt;){var mt=R[lt=ht[dt+=1]];if(rt=mt.schema,t.util.schemaHasRules(rt,t.RULES.all)){d.schema=rt,d.schemaPath=t.schemaPath+".patternGroups"+t.util.getProperty(lt)+".schema",d.errSchemaPath=t.errSchemaPath+"/patternGroups/"+t.util.escapeFragment(lt)+"/schema",n+=" var pgPropCount"+i+" = 0;  ",n+=I?" "+w+" = "+w+" || Object.keys("+f+"); for (var "+v+"=0; "+v+"<"+w+".length; "+v+"++) { var "+y+" = "+w+"["+v+"]; ":" for (var "+y+" in "+f+") { ",n+=" if ("+t.usePattern(lt)+".test("+y+")) { pgPropCount"+i+"++; ",d.errorPath=t.util.getPathExpr(t.errorPath,y,t.opts.jsonPointers),Y=f+"["+y+"]",d.dataPathArr[g]=y,Z=t.validate(d),d.baseId=T,t.util.varOccurences(Z,b)<2?n+=" "+t.util.varReplace(Z,b,Y)+" ":n+=" var "+b+" = "+Y+"; "+Z+" ",c&&(n+=" if (!"+m+") break; "),n+=" } ",c&&(n+=" else "+m+" = true; "),n+=" }  ",c&&(n+=" if ("+m+") { ",p+="}");var yt=mt.minimum,vt=mt.maximum;if(void 0!==yt||void 0!==vt){if(n+=" var "+h+" = true; ",G=u,void 0!==yt){var gt=yt,bt="minimum",wt="less";n+=" "+h+" = pgPropCount"+i+" >= "+yt+"; ",u=t.errSchemaPath+"/patternGroups/minimum",n+="  if (!"+h+") {   ",(_t=_t||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { reason: '"+bt+"', limit: "+gt+", pattern: '"+t.util.escapeQuotes(lt)+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should NOT have "+wt+" than "+gt+' properties matching pattern "'+t.util.escapeQuotes(lt)+"\"' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",$=n,n=_t.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",void 0!==vt&&(n+=" else ")}var _t;if(void 0!==vt)gt=vt,bt="maximum",wt="more",n+=" "+h+" = pgPropCount"+i+" <= "+vt+"; ",u=t.errSchemaPath+"/patternGroups/maximum",n+="  if (!"+h+") {   ",(_t=_t||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { reason: '"+bt+"', limit: "+gt+", pattern: '"+t.util.escapeQuotes(lt)+"' } ",!1!==t.opts.messages&&(n+=" , message: 'should NOT have "+wt+" than "+gt+' properties matching pattern "'+t.util.escapeQuotes(lt)+"\"' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",$=n,n=_t.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+$+"]); ":n+=" validate.errors = ["+$+"]; return false; ":n+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ";u=G,c&&(n+=" if ("+h+") { ",p+="}")}}}}return c&&(n+=" "+p+" if ("+l+" == errors) {"),n=t.util.cleanUpCode(n)},propertyNames:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="errs__"+i,l=t.util.copy(t);l.level++;var d="valid"+l.level;if(t.util.schemaHasRules(a,t.RULES.all)){l.schema=a,l.schemaPath=s,l.errSchemaPath=u;var p="key"+i,m="idx"+i,y="i"+i,v="' + "+p+" + '",g="data"+(l.dataLevel=t.dataLevel+1),b="dataProperties"+i,w=t.opts.ownProperties,_=t.baseId;n+=" var "+h+" = errors; ",w&&(n+=" var "+b+" = undefined; "),n+=w?" "+b+" = "+b+" || Object.keys("+f+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+p+" = "+b+"["+m+"]; ":" for (var "+p+" in "+f+") { ",n+=" var startErrs"+i+" = errors; ";var k=p,S=t.compositeRule;t.compositeRule=l.compositeRule=!0;var E=t.validate(l);l.baseId=_,t.util.varOccurences(E,g)<2?n+=" "+t.util.varReplace(E,g,k)+" ":n+=" var "+g+" = "+k+"; "+E+" ",t.compositeRule=l.compositeRule=S,n+=" if (!"+d+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+p+"; }   var err =   ",!1!==t.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { propertyName: '"+v+"' } ",!1!==t.opts.messages&&(n+=" , message: 'property name \\'"+v+"\\' is invalid' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&c&&(t.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),c&&(n+=" break; "),n+=" } }"}return c&&(n+="  if ("+h+" == errors) {"),n=t.util.cleanUpCode(n)},required:function(t,e,r){var n=" ",i=t.level,o=t.dataLevel,a=t.schema[e],s=t.schemaPath+t.util.getProperty(e),u=t.errSchemaPath+"/"+e,c=!t.opts.allErrors,f="data"+(o||""),h="valid"+i,l=t.opts.$data&&a&&a.$data;l&&(n+=" var schema"+i+" = "+t.util.getData(a.$data,o,t.dataPathArr)+"; ");var d="schema"+i;if(!l)if(a.length<t.opts.loopRequired&&t.schema.properties&&Object.keys(t.schema.properties).length){var p=[],m=a;if(m)for(var y,v=-1,g=m.length-1;v<g;){y=m[v+=1];var b=t.schema.properties[y];b&&t.util.schemaHasRules(b,t.RULES.all)||(p[p.length]=y)}}else p=a;if(l||p.length){var w=t.errorPath,_=l||p.length>=t.opts.loopRequired,k=t.opts.ownProperties;if(c)if(n+=" var missing"+i+"; ",_){l||(n+=" var "+d+" = validate.schema"+s+"; ");var S="' + "+(C="schema"+i+"["+(x="i"+i)+"]")+" + '";t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,C,t.opts.jsonPointers)),n+=" var "+h+" = true; ",l&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=" for (var "+x+" = 0; "+x+" < "+d+".length; "+x+"++) { "+h+" = "+f+"["+d+"["+x+"]] !== undefined ",k&&(n+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+d+"["+x+"]) "),n+="; if (!"+h+") break; } ",l&&(n+="  }  "),n+="  if (!"+h+") {   ",(M=M||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var E=n;n=M.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var M,A=p;if(A)for(var x=-1,B=A.length-1;x<B;)T=A[x+=1],x&&(n+=" || "),n+=" ( ( "+(L=f+(R=t.util.getProperty(T)))+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(T)+"') "),n+=") && (missing"+i+" = "+t.util.toQuotedString(t.opts.jsonPointers?T:R)+") ) ";n+=") {  ",S="' + "+(C="missing"+i)+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.opts.jsonPointers?t.util.getPathExpr(w,C,!0):w+" + "+C),(M=M||[]).push(n),n="",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",E=n,n=M.pop(),!t.compositeRule&&c?t.async?n+=" throw new ValidationError(["+E+"]); ":n+=" validate.errors = ["+E+"]; return false; ":n+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(_){var C;l||(n+=" var "+d+" = validate.schema"+s+"; "),S="' + "+(C="schema"+i+"["+(x="i"+i)+"]")+" + '",t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPathExpr(w,C,t.opts.jsonPointers)),l&&(n+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),n+=" for (var "+x+" = 0; "+x+" < "+d+".length; "+x+"++) { if ("+f+"["+d+"["+x+"]] === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+d+"["+x+"]) "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",l&&(n+="  }  ")}else{var I=p;if(I)for(var T,P=-1,N=I.length-1;P<N;){T=I[P+=1];var R=t.util.getProperty(T),L=(S=t.util.escapeQuotes(T),f+R);t.opts._errorDataPathProperty&&(t.errorPath=t.util.getPath(w,T,t.opts.jsonPointers)),n+=" if ( "+L+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+t.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",!1!==t.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(u)+" , params: { missingProperty: '"+S+"' } ",!1!==t.opts.messages&&(n+=" , message: '",t.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+S+"\\'",n+="' "),t.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t.errorPath=w}else c&&(n+=" if (true) {");return n},uniqueItems:function(t,e,r){var n,i=" ",o=t.level,a=t.dataLevel,s=t.schema[e],u=t.schemaPath+t.util.getProperty(e),c=t.errSchemaPath+"/"+e,f=!t.opts.allErrors,h="data"+(a||""),l="valid"+o,d=t.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+t.util.getData(s.$data,a,t.dataPathArr)+"; ",n="schema"+o):n=s,(s||d)&&!1!==t.opts.uniqueItems){d&&(i+=" var "+l+"; if ("+n+" === false || "+n+" === undefined) "+l+" = true; else if (typeof "+n+" != 'boolean') "+l+" = false; else { "),i+=" var "+l+" = true; if ("+h+".length > 1) { var i = "+h+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+l+" = false; break outer; } } } } ",d&&(i+="  }  "),i+=" if (!"+l+") {   ";var p=p||[];p.push(i),i="",!1!==t.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==t.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),t.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+t.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;i=p.pop(),!t.compositeRule&&f?t.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",f&&(i+=" else { ")}else f&&(i+=" if (true) { ");return i},validate:wS},aE=Ik.toHash,sE=function(){var t=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],e=["type"];return t.all=aE(e),t.types=aE(["number","integer","string","array","object","boolean","null"]),t.forEach(function(r){r.rules=r.rules.map(function(r){var n;if("object"==typeof r){var i=Object.keys(r)[0];n=r[i],r=i,n.forEach(function(r){e.push(r),t.all[r]=!0})}return e.push(r),t.all[r]={keyword:r,code:oE[r],implements:n}}),r.type&&(t.types[r.type]=r)}),t.keywords=aE(e.concat(["additionalItems","$schema","$id","id","title","description","default","definitions"])),t.custom={},t},uE=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],cE=function(t,e){for(var r=0;r<e.length;r++){t=JSON.parse(JSON.stringify(t));var n,i=e[r].split("/"),o=t;for(n=1;n<i.length;n++)o=o[i[n]];for(n=0;n<uE.length;n++){var a=uE[n],s=o[a];s&&(o[a]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return t},fE=function(t){var e=t._opts.defaultMeta,r="string"==typeof e?{$ref:e}:t.getSchema("http://json-schema.org/draft-06/schema")?{$ref:"http://json-schema.org/draft-06/schema"}:{};t.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:r},additionalProperties:!1}}}),t.RULES.all.properties.implements.push("patternGroups")},hE=yS.MissingRef,lE=function t(e,r,n){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(n=r,r=void 0);var o=a(e).then(function(){var t=i._addSchema(e,void 0,r);return t.validate||function t(e){try{return i._compile(e)}catch(t){if(t instanceof hE)return function n(t){var n=t.missingSchema;if(u(n))throw new Error("Schema "+n+" is loaded but "+t.missingRef+" cannot be resolved");var o=i._loadingSchemas[n];o||(o=i._loadingSchemas[n]=i._opts.loadSchema(n)).then(s,s);return o.then(function(t){if(!u(n))return a(t).then(function(){u(n)||i.addSchema(t,n,void 0,r)})}).then(function(){return function t(e){try{return i._compile(e)}catch(t){if(t instanceof hE)return n(t);throw t}function n(n){var o=n.missingSchema;if(c(o))throw new Error("Schema "+o+" is loaded but "+n.missingRef+" cannot be resolved");var s=i._loadingSchemas[o];return s||(s=i._loadingSchemas[o]=i._opts.loadSchema(o)).then(u,u),s.then(function(t){if(!c(o))return a(t).then(function(){c(o)||i.addSchema(t,o,void 0,r)})}).then(function(){return t(e)});function u(){delete i._loadingSchemas[o]}function c(t){return i._refs[t]||i._schemas[t]}}}(e)});function s(){delete i._loadingSchemas[n]}function u(t){return i._refs[t]||i._schemas[t]}}(t);throw t}function n(n){var o=n.missingSchema;if(c(o))throw new Error("Schema "+o+" is loaded but "+n.missingRef+" cannot be resolved");var s=i._loadingSchemas[o];return s||(s=i._loadingSchemas[o]=i._opts.loadSchema(o)).then(u,u),s.then(function(t){if(!c(o))return a(t).then(function(){c(o)||i.addSchema(t,o,void 0,r)})}).then(function(){return t(e)});function u(){delete i._loadingSchemas[o]}function c(t){return i._refs[t]||i._schemas[t]}}}(t)});n&&o.then(function(t){n(null,t)},n);return o;function a(e){var r=e.$schema;return r&&!i.getSchema(r)?t.call(i,{$ref:r},!0):Promise.resolve()}};var dE=function(t,e,r){var n,i,o=" ",a=t.level,s=t.dataLevel,u=t.schema[e],c=t.schemaPath+t.util.getProperty(e),f=t.errSchemaPath+"/"+e,h=!t.opts.allErrors,l="data"+(s||""),d="valid"+a,p="errs__"+a,m=t.opts.$data&&u&&u.$data;m?(o+=" var schema"+a+" = "+t.util.getData(u.$data,s,t.dataPathArr)+"; ",i="schema"+a):i=u;var y,v,g,b,w,_="definition"+a,k=this.definition,S="";if(m&&k.$data){w="keywordValidate"+a;var E=k.validateSchema;o+=" var "+_+" = RULES.custom['"+e+"'].definition; var "+w+" = "+_+".validate;"}else{if(!(b=t.useCustomRule(this,u,t.schema,t)))return;i="validate.schema"+c,w=b.code,y=k.compile,v=k.inline,g=k.macro}var M=w+".errors",A="i"+a,x="ruleErr"+a,B=k.async;if(B&&!t.async)throw new Error("async keyword in sync schema");if(v||g||(o+=M+" = null;"),o+="var "+p+" = errors;var "+d+";",m&&k.$data&&(S+="}",o+=" if ("+i+" === undefined) { "+d+" = true; } else { ",E&&(S+="}",o+=" "+d+" = "+_+".validateSchema("+i+"); if ("+d+") { ")),v)k.statements?o+=" "+b.validate+" ":o+=" "+d+" = "+b.validate+"; ";else if(g){var C=t.util.copy(t);S="";C.level++;var I="valid"+C.level;C.schema=b.validate,C.schemaPath="";var T=t.compositeRule;t.compositeRule=C.compositeRule=!0;var P=t.validate(C).replace(/validate\.schema/g,w);t.compositeRule=C.compositeRule=T,o+=" "+P}else{(O=O||[]).push(o),o="",o+="  "+w+".call( ",t.opts.passContext?o+="this":o+="self",y||!1===k.schema?o+=" , "+l+" ":o+=" , "+i+" , "+l+" , validate.schema"+t.schemaPath+" ",o+=" , (dataPath || '')",'""'!=t.errorPath&&(o+=" + "+t.errorPath);var N=s?"data"+(s-1||""):"parentData",R=s?t.dataPathArr[s]:"parentDataProperty",L=o+=" , "+N+" , "+R+" , rootData )  ";o=O.pop(),!1===k.errors?(o+=" "+d+" = ",B&&(o+=""+t.yieldAwait),o+=L+"; "):o+=B?" var "+(M="customErrors"+a)+" = null; try { "+d+" = "+t.yieldAwait+L+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+M+" = e.errors; else throw e; } ":" "+M+" = null; "+d+" = "+L+"; "}if(k.modifying&&(o+=" if ("+N+") "+l+" = "+N+"["+R+"];"),o+=""+S,k.valid)h&&(o+=" if (true) { ");else{var O;o+=" if ( ",void 0===k.valid?(o+=" !",o+=g?""+I:""+d):o+=" "+!k.valid+" ",o+=") { ",n=this.keyword,(O=O||[]).push(o),o="",(O=O||[]).push(o),o="",!1!==t.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(f)+" , params: { keyword: '"+this.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ";var j=o;o=O.pop(),!t.compositeRule&&h?t.async?o+=" throw new ValidationError(["+j+"]); ":o+=" validate.errors = ["+j+"]; return false; ":o+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var D=o;o=O.pop(),v?k.errors?"full"!=k.errors&&(o+="  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+x+" = vErrors["+A+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+'.schemaPath = "'+f+'"; } ',t.opts.verbose&&(o+=" "+x+".schema = "+i+"; "+x+".data = "+l+"; "),o+=" } "):!1===k.errors?o+=" "+D+" ":(o+=" if ("+p+" == errors) { "+D+" } else {  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+x+" = vErrors["+A+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+t.errorPath+"; if ("+x+".schemaPath === undefined) { "+x+'.schemaPath = "'+f+'"; } ',t.opts.verbose&&(o+=" "+x+".schema = "+i+"; "+x+".data = "+l+"; "),o+=" } } "):g?(o+="   var err =   ",!1!==t.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+t.errorPath+" , schemaPath: "+t.util.toQuotedString(f)+" , params: { keyword: '"+this.keyword+"' } ",!1!==t.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),t.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+t.schemaPath+" , data: "+l+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!t.compositeRule&&h&&(t.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===k.errors?o+=" "+D+" ":(o+=" if (Array.isArray("+M+")) { if (vErrors === null) vErrors = "+M+"; else vErrors = vErrors.concat("+M+"); errors = vErrors.length;  for (var "+A+"="+p+"; "+A+"<errors; "+A+"++) { var "+x+" = vErrors["+A+"]; if ("+x+".dataPath === undefined) "+x+".dataPath = (dataPath || '') + "+t.errorPath+";  "+x+'.schemaPath = "'+f+'";  ',t.opts.verbose&&(o+=" "+x+".schema = "+i+"; "+x+".data = "+l+"; "),o+=" } } else { "+D+" } "),o+=" } ",h&&(o+=" else { ")}return o},pE=/^[a-z_$][a-z0-9_$-]*$/i,mE=function(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!pE.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){if(e.macro&&void 0!==e.valid)throw new Error('"valid" option cannot be used with macro keywords');var n=e.type;if(Array.isArray(n)){var i,o=n.length;for(i=0;i<o;i++)c(n[i]);for(i=0;i<o;i++)u(t,n[i],e)}else n&&c(n),u(t,n,e);var a=!0===e.$data&&this._opts.$data;if(a&&!e.validate)throw new Error('$data support: "validate" function is not defined');var s=e.metaSchema;s&&(a&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),e.validateSchema=this.compile(s,!0))}function u(t,e,n){for(var i,o=0;o<r.length;o++){var a=r[o];if(a.type==e){i=a;break}}i||(i={type:e,rules:[]},r.push(i));var s={keyword:t,definition:n,custom:!0,code:dE,implements:n.implements};i.rules.push(s),r.custom[t]=s}function c(t){if(!r.types[t])throw new Error("Unknown type "+t)}return r.keywords[t]=r.all[t]=!0,this},yE=function(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1},vE=function(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var n=e[r].rules,i=0;i<n.length;i++)if(n[i].keyword==t){n.splice(i,1);break}return this};var gE="http://json-schema.org/draft-06/schema#",bE="https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",wE="Meta-schema for $data reference (JSON-schema extension proposal)",_E=["$data"],kE={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},SE={$schema:gE,$id:bE,description:wE,type:"object",required:_E,properties:kE,additionalProperties:!1},EE=Object.freeze({$schema:gE,$id:bE,description:wE,type:"object",required:_E,properties:kE,additionalProperties:!1,default:SE}),ME="http://json-schema.org/draft-06/schema#",AE="http://json-schema.org/draft-06/schema#",xE="Core schema meta-schema",BE={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},CE=["object","boolean"],IE={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},TE={$schema:ME,$id:AE,title:xE,definitions:BE,type:CE,properties:IE,default:{}},PE=Object.freeze({$schema:ME,$id:AE,title:xE,definitions:BE,type:CE,properties:IE,default:TE}),NE=EE&&SE||EE,RE=PE&&TE||PE,LE=UE;UE.prototype.validate=function(t,e){var r;if("string"==typeof t){if(!(r=this.getSchema(t)))throw new Error('no schema with key or ref "'+t+'"')}else{var n=this._addSchema(t);r=n.validate||this._compile(n)}var i=r(e);return!0===r.$async?"*"==this._opts.async?kS(i):i:(this.errors=r.errors,i)},UE.prototype.compile=function(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)},UE.prototype.addSchema=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;i++)this.addSchema(t[i],void 0,r,n);return this}var o=this._getId(t);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return HE(this,e=iS.normalizeId(e||o)),this._schemas[e]=this._addSchema(t,r,n,!0),this},UE.prototype.addMetaSchema=function(t,e,r){return this.addSchema(t,e,r,!0),this},UE.prototype.validateSchema=function(t,e){var r=t.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||(n=this,i=n._opts.meta,n._opts.defaultMeta="object"==typeof i?n._getId(i)||i:n.getSchema(OE)?OE:void 0,n._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n,i;var o,a=this._formats.uri;this._formats.uri="function"==typeof a?this._schemaUriFormatFunc:this._schemaUriFormat;try{o=this.validate(r,t)}finally{this._formats.uri=a}if(!o&&e){var s="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(s);this.logger.error(s)}return o},UE.prototype.getSchema=function(t){var e=FE(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(t,e){var r=iS.schema.call(t,{schema:{}},e);if(r){var n=r.schema,i=r.root,o=r.baseId,a=CS.call(t,n,i,void 0,o);return t._fragments[e]=new rS({ref:e,fragment:!0,schema:n,root:i,baseId:o,validate:a}),a}}(this,t)}},UE.prototype.removeSchema=function(t){if(t instanceof RegExp)return qE(this,this._schemas,t),qE(this,this._refs,t),this;switch(typeof t){case"undefined":return qE(this,this._schemas),qE(this,this._refs),this._cache.clear(),this;case"string":var e=FE(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,n=r?r(t):t;this._cache.del(n);var i=this._getId(t);i&&(i=iS.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},UE.prototype.addFormat=function(t,e){"string"==typeof e&&(e=new RegExp(e));return this._formats[t]=e,this},UE.prototype.errorsText=function(t,e){if(!(t=t||this.errors))return"No errors";for(var r=void 0===(e=e||{}).separator?", ":e.separator,n=void 0===e.dataVar?"data":e.dataVar,i="",o=0;o<t.length;o++){var a=t[o];a&&(i+=n+a.dataPath+" "+a.message+r)}return i.slice(0,-r.length)},UE.prototype._addSchema=function(t,e,r,n){if("object"!=typeof t&&"boolean"!=typeof t)throw new Error("schema should be object or boolean");var i=this._opts.serialize,o=i?i(t):t,a=this._cache.get(o);if(a)return a;n=n||!1!==this._opts.addUsedSchema;var s=iS.normalizeId(this._getId(t));s&&n&&HE(this,s);var u,c=!1!==this._opts.validateSchema&&!e;c&&!(u=s&&s==iS.normalizeId(t.$schema))&&this.validateSchema(t,!0);var f=iS.ids.call(this,t),h=new rS({id:s,schema:t,localRefs:f,cacheKey:o,meta:r});"#"!=s[0]&&n&&(this._refs[s]=h);this._cache.put(o,h),c&&u&&this.validateSchema(t,!0);return h},UE.prototype._compile=function(t,e){if(t.compiling)return t.validate=i,i.schema=t.schema,i.errors=null,i.root=e||i,!0===t.schema.$async&&(i.$async=!0),i;var r,n;t.compiling=!0,t.meta&&(r=this._opts,this._opts=this._metaOpts);try{n=CS.call(this,t.schema,e,t.localRefs)}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=n,t.refs=n.refs,t.refVal=n.refVal,t.root=n.root,n;function i(){var e=t.validate,r=e.apply(null,arguments);return i.errors=e.errors,r}},UE.prototype.compileAsync=lE,UE.prototype.addKeyword=mE,UE.prototype.getKeyword=yE,UE.prototype.removeKeyword=vE,UE.ValidationError=yS.Validation,UE.MissingRefError=yS.MissingRef,UE.$dataMetaSchema=cE;var OE="http://json-schema.org/draft-06/schema",jE=["removeAdditional","useDefaults","coerceTypes"],DE=["/properties"];function UE(t){if(!(this instanceof UE))return new UE(t);t=this._opts=Ik.copy(t)||{},function(t){var e=t._opts.logger;if(!1===e)t.logger={log:GE,warn:GE,error:GE};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=$S(t.format);var e=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(t){return e.test(t)},this._cache=t.cache||new OS,this._loadingSchemas={},this._compilations=[],this.RULES=sE(),this._getId=function(t){switch(t.schemaId){case"$id":return zE;case"id":return KE;default:return VE}}(t),t.loopRequired=t.loopRequired||1/0,"property"==t.errorDataPath&&(t._errorDataPathProperty=!0),void 0===t.serialize&&(t.serialize=bS),this._metaOpts=function(t){for(var e=Ik.copy(t._opts),r=0;r<jE.length;r++)delete e[jE[r]];return e}(this),t.formats&&function(t){for(var e in t._opts.formats){var r=t._opts.formats[e];t.addFormat(e,r)}}(this),function(t){var e;t._opts.$data&&(e=NE,t.addMetaSchema(e,e.$id,!0));if(!1===t._opts.meta)return;var r=RE;t._opts.$data&&(r=cE(r,DE));t.addMetaSchema(r,OE,!0),t._refs["http://json-schema.org/schema"]=OE}(this),"object"==typeof t.meta&&this.addMetaSchema(t.meta),function(t){var e=t._opts.schemas;if(!e)return;if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}(this),t.patternGroups&&fE(this)}function FE(t,e){return e=iS.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function qE(t,e,r){for(var n in e){var i=e[n];i.meta||r&&!r.test(n)||(t._cache.del(i.cacheKey),delete e[n])}}function KE(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function zE(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function VE(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function HE(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function GE(){}var $E="contract-object.spec.json",WE="http://json-schema.org/schema#",YE="Describes a contract consumable by Truffle, possibly including deployed instances on networks",ZE={contractName:{allOf:[{$ref:"#/definitions/ContractName"},{description:"Name used to identify the contract",default:"Contract"}]},abi:{allOf:[{$ref:"abi.spec.json#"},{description:"Interface description returned by compiler for source"}]},bytecode:{allOf:[{$ref:"#/definitions/Bytecode"},{description:"Bytecode sent as contract-creation transaction data, with unresolved link references"}]},deployedBytecode:{allOf:[{$ref:"#/definitions/Bytecode"},{description:"On-chain deployed contract bytecode, with unresolved link references"}]},sourceMap:{allOf:[{$ref:"#/definitions/SourceMap"},{description:"Source mapping for contract-creation transaction data bytecode"}]},deployedSourceMap:{allOf:[{$ref:"#/definitions/SourceMap"},{description:"Source mapping for contract bytecode"}]},source:{$ref:"#/definitions/Source"},sourcePath:{$ref:"#/definitions/SourcePath"},ast:{$ref:"#/definitions/AST"},legacyAST:{$ref:"#/definitions/LegacyAST"},compiler:{type:"object",properties:{name:{type:"string"},version:{type:"string"}}},networks:{patternProperties:{"^[a-zA-Z0-9]+$":{$ref:"network-object.spec.json#"}},additionalProperties:!1},schemaVersion:{$ref:"#/definitions/SchemaVersion"},updatedAt:{type:"string",format:"date-time"}},QE=["abi"],XE={"^x-":{anyOf:[{type:"string"},{type:"number"},{type:"object"},{type:"array"}]}},JE={ContractName:{type:"string",pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$"},Bytecode:{type:"string",pattern:"^0x0$|^0x([a-fA-F0-9]{2}|__.{38})+$"},Source:{type:"string"},SourceMap:{type:"string",examples:["315:637:1:-;;;452:55;;;;;;;-1:-1:-1;;;;;485:9:1;476:19;:8;:19;;;;;;;;;;498:5;476:27;;452:55;315:637;;;;;;;"]},SourcePath:{type:"string"},AST:{type:"object"},LegacyAST:{type:"object"},SchemaVersion:{type:"string",pattern:"[0-9]+\\.[0-9]+\\.[0-9]+"}},tM={id:$E,$schema:WE,title:"Contract Object",description:YE,type:"object",properties:ZE,required:QE,patternProperties:XE,additionalProperties:!1,definitions:JE},eM=Object.freeze({id:$E,$schema:WE,title:"Contract Object",description:YE,type:"object",properties:ZE,required:QE,patternProperties:XE,additionalProperties:!1,definitions:JE,default:tM}),rM="network-object.spec.json",nM="http://json-schema.org/schema#",iM={address:{$ref:"#/definitions/Address"},transactionHash:{$ref:"#/definitions/TransactionHash"},events:{type:"object",patternProperties:{"^0x[a-fA-F0-9]{64}$":{$ref:"abi.spec.json#/definitions/Event"}},additionalProperties:!1},links:{type:"object",patternProperties:{"^[a-zA-Z_][a-zA-Z0-9_]*$":{$ref:"#/definitions/Link"}},additionalProperties:!1}},oM={Address:{type:"string",pattern:"^0x[a-fA-F0-9]{40}$"},TransactionHash:{type:"string",pattern:"^0x[a-fA-F0-9]{64}$"},Link:{type:"object",properties:{address:{$ref:"#/definitions/Address"},events:{type:"object",patternProperties:{"^0x[a-fA-F0-9]{64}$":{$ref:"abi.spec.json#/definitions/Event"}},additionalProperties:!1}}}},aM={id:rM,$schema:nM,title:"Network Object",type:"object",properties:iM,additionalProperties:!1,definitions:oM},sM=Object.freeze({id:rM,$schema:nM,title:"Network Object",type:"object",properties:iM,additionalProperties:!1,definitions:oM,default:aM}),uM="abi.spec.json",cM="http://json-schema.org/schema#",fM={oneOf:[{$ref:"#/definitions/Event"},{$ref:"#/definitions/ConstructorFunction"},{$ref:"#/definitions/FallbackFunction"},{$ref:"#/definitions/NormalFunction"}]},hM={Name:{type:"string",pattern:"^$|^[a-zA-Z_\\$][a-zA-Z_\\$0-9]*$"},Type:{type:"string",oneOf:[{pattern:"^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?(\\[[0-9]*\\])?$"},{pattern:"^address(\\[[0-9]*\\])?$"},{pattern:"^bool(\\[[0-9]*\\])?$"},{pattern:"^u?fixed(0x8|8x0|0x16|8x8|16x0|0x24|8x16|16x8|24x0|0x32|8x24|16x16|24x8|32x0|0x40|8x32|16x24|24x16|32x8|40x0|0x48|8x40|16x32|24x24|32x16|40x8|48x0|0x56|8x48|16x40|24x32|32x24|40x16|48x8|56x0|0x64|8x56|16x48|24x40|32x32|40x24|48x16|56x8|64x0|0x72|8x64|16x56|24x48|32x40|40x32|48x24|56x16|64x8|72x0|0x80|8x72|16x64|24x56|32x48|40x40|48x32|56x24|64x16|72x8|80x0|0x88|8x80|16x72|24x64|32x56|40x48|48x40|56x32|64x24|72x16|80x8|88x0|0x96|8x88|16x80|24x72|32x64|40x56|48x48|56x40|64x32|72x24|80x16|88x8|96x0|0x104|8x96|16x88|24x80|32x72|40x64|48x56|56x48|64x40|72x32|80x24|88x16|96x8|104x0|0x112|8x104|16x96|24x88|32x80|40x72|48x64|56x56|64x48|72x40|80x32|88x24|96x16|104x8|112x0|0x120|8x112|16x104|24x96|32x88|40x80|48x72|56x64|64x56|72x48|80x40|88x32|96x24|104x16|112x8|120x0|0x128|8x120|16x112|24x104|32x96|40x88|48x80|56x72|64x64|72x56|80x48|88x40|96x32|104x24|112x16|120x8|128x0|0x136|8x128|16x120|24x112|32x104|40x96|48x88|56x80|64x72|72x64|80x56|88x48|96x40|104x32|112x24|120x16|128x8|136x0|0x144|8x136|16x128|24x120|32x112|40x104|48x96|56x88|64x80|72x72|80x64|88x56|96x48|104x40|112x32|120x24|128x16|136x8|144x0|0x152|8x144|16x136|24x128|32x120|40x112|48x104|56x96|64x88|72x80|80x72|88x64|96x56|104x48|112x40|120x32|128x24|136x16|144x8|152x0|0x160|8x152|16x144|24x136|32x128|40x120|48x112|56x104|64x96|72x88|80x80|88x72|96x64|104x56|112x48|120x40|128x32|136x24|144x16|152x8|160x0|0x168|8x160|16x152|24x144|32x136|40x128|48x120|56x112|64x104|72x96|80x88|88x80|96x72|104x64|112x56|120x48|128x40|136x32|144x24|152x16|160x8|168x0|0x176|8x168|16x160|24x152|32x144|40x136|48x128|56x120|64x112|72x104|80x96|88x88|96x80|104x72|112x64|120x56|128x48|136x40|144x32|152x24|160x16|168x8|176x0|0x184|8x176|16x168|24x160|32x152|40x144|48x136|56x128|64x120|72x112|80x104|88x96|96x88|104x80|112x72|120x64|128x56|136x48|144x40|152x32|160x24|168x16|176x8|184x0|0x192|8x184|16x176|24x168|32x160|40x152|48x144|56x136|64x128|72x120|80x112|88x104|96x96|104x88|112x80|120x72|128x64|136x56|144x48|152x40|160x32|168x24|176x16|184x8|192x0|0x200|8x192|16x184|24x176|32x168|40x160|48x152|56x144|64x136|72x128|80x120|88x112|96x104|104x96|112x88|120x80|128x72|136x64|144x56|152x48|160x40|168x32|176x24|184x16|192x8|200x0|0x208|8x200|16x192|24x184|32x176|40x168|48x160|56x152|64x144|72x136|80x128|88x120|96x112|104x104|112x96|120x88|128x80|136x72|144x64|152x56|160x48|168x40|176x32|184x24|192x16|200x8|208x0|0x216|8x208|16x200|24x192|32x184|40x176|48x168|56x160|64x152|72x144|80x136|88x128|96x120|104x112|112x104|120x96|128x88|136x80|144x72|152x64|160x56|168x48|176x40|184x32|192x24|200x16|208x8|216x0|0x224|8x216|16x208|24x200|32x192|40x184|48x176|56x168|64x160|72x152|80x144|88x136|96x128|104x120|112x112|120x104|128x96|136x88|144x80|152x72|160x64|168x56|176x48|184x40|192x32|200x24|208x16|216x8|224x0|0x232|8x224|16x216|24x208|32x200|40x192|48x184|56x176|64x168|72x160|80x152|88x144|96x136|104x128|112x120|120x112|128x104|136x96|144x88|152x80|160x72|168x64|176x56|184x48|192x40|200x32|208x24|216x16|224x8|232x0|0x240|8x232|16x224|24x216|32x208|40x200|48x192|56x184|64x176|72x168|80x160|88x152|96x144|104x136|112x128|120x120|128x112|136x104|144x96|152x88|160x80|168x72|176x64|184x56|192x48|200x40|208x32|216x24|224x16|232x8|240x0|0x248|8x240|16x232|24x224|32x216|40x208|48x200|56x192|64x184|72x176|80x168|88x160|96x152|104x144|112x136|120x128|128x120|136x112|144x104|152x96|160x88|168x80|176x72|184x64|192x56|200x48|208x40|216x32|224x24|232x16|240x8|248x0|0x256|8x248|16x240|24x232|32x224|40x216|48x208|56x200|64x192|72x184|80x176|88x168|96x160|104x152|112x144|120x136|128x128|136x120|144x112|152x104|160x96|168x88|176x80|184x72|192x64|200x56|208x48|216x40|224x32|232x24|240x16|248x8|256x0)?(\\[[0-9]*\\])?$"},{pattern:"^bytes(0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|25|26|27|28|29|30|31|32)(\\[[0-9]*\\])?"},{pattern:"^bytes$"},{pattern:"^function(\\[[0-9]*\\])?$"},{pattern:"^string$"}]},StateMutability:{type:"string",enum:["pure","view","nonpayable","payable"]},NormalFunction:{type:"object",properties:{type:{type:"string",enum:["function"],default:"function"},name:{$ref:"#/definitions/Name"},inputs:{type:"array",items:{$ref:"#/definitions/Parameter"}},outputs:{type:"array",items:{$ref:"#/definitions/Parameter"},default:[]},stateMutability:{$ref:"#/definitions/StateMutability"},constant:{type:"boolean"},payable:{type:"boolean",default:!1}},required:["name","inputs","constant"],additionalProperties:!1},ConstructorFunction:{type:"object",properties:{type:{type:"string",enum:["constructor"]},inputs:{type:"array",items:{$ref:"#/definitions/Parameter"}},payable:{type:"boolean",default:!1}},required:["type","inputs"],additionalProperties:!1},FallbackFunction:{type:"object",properties:{type:{type:"string",enum:["fallback"]},constant:{type:"boolean"},payable:{type:"boolean",default:!1}},required:["type"],additionalProperties:!1},Event:{type:"object",properties:{type:{type:"string",enum:["event"]},name:{$ref:"#/definitions/Name"},inputs:{type:"array",items:{$ref:"#/definitions/EventParameter"}},anonymous:{type:"boolean"}},required:["type","name","inputs","anonymous"],additionalProperties:!1},Parameter:{type:"object",properties:{name:{$ref:"#/definitions/Name"},type:{$ref:"#/definitions/Type"}},required:["name","type"]},EventParameter:{type:"object",properties:{name:{$ref:"#/definitions/Name"},type:{$ref:"#/definitions/Type"},indexed:{type:"boolean"}},required:["name","type","indexed"]}},lM={id:uM,$schema:cM,title:"ABI",type:"array",items:fM,definitions:hM},dM=Object.freeze({id:uM,$schema:cM,title:"ABI",type:"array",items:fM,definitions:hM,default:lM}),pM=eM&&tM||eM,mM=sM&&aM||sM,yM=dM&&lM||dM,vM=(Mk&&Ek||Mk).version,gM={contractName:{sources:["contractName","contract_name"]},abi:{sources:["abi","interface"],transform:function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}return t}},bytecode:{sources:["bytecode","binary","unlinked_binary","evm.bytecode.object"],transform:function(t){return t&&0!=t.indexOf("0x")&&(t="0x"+t),t}},deployedBytecode:{sources:["deployedBytecode","runtimeBytecode","evm.deployedBytecode.object"],transform:function(t){return t&&0!=t.indexOf("0x")&&(t="0x"+t),t}},sourceMap:{sources:["sourceMap","srcmap","evm.bytecode.sourceMap"]},deployedSourceMap:{sources:["deployedSourceMap","srcmapRuntime","evm.deployedBytecode.sourceMap"]},source:{},sourcePath:{},ast:{},legacyAST:{transform:function(t,e){return(e.schemaVersion||"0.0.0")[0]<2?e.ast:t}},compiler:{},networks:{transform:function(t){return void 0===t&&(t={}),t}},schemaVersion:{sources:["schemaVersion","schema_version"]},updatedAt:{sources:["updatedAt","updated_at"],transform:function(t){return"number"==typeof t&&(t=new Date(t).toISOString()),t}}};function bM(t,e){return void 0===e&&(e=function(t){return t}),function(r){try{return e(r[t])}catch(t){return}}}function wM(){var t=Array.prototype.slice.call(arguments);return function(e){return t.reduce(function(t,e){return e(t)},e)}}var _M={validate:function(t){var e=new LE({useDefaults:!0});if(e.addSchema(yM),e.addSchema(mM),e.addSchema(pM),e.validate("contract-object.spec.json",t))return t;throw e.errors},normalize:function(t,e){e=e||{};var r={};return Object.keys(gM).forEach(function(e){for(var n,i=gM[e],o=i.sources||[e],a=0;void 0===n&&a<o.length;a++){var s=o[a];if("string"==typeof s){var u=s.split(".").map(function(t){return bM(t)});s=wM.apply(null,u)}n=s(t)}i.transform&&(n=i.transform(n,t)),r[e]=n}),Object.keys(t).forEach(function(e){0===e.indexOf("x-")&&(r[e]=bM(e)(t))}),r.schemaVersion=vM,e.validate&&this.validate(r),r}},kM=et(function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=J().Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function s(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,u=Math.min(o,o-a)+r,c=0,f=r;f<u;f+=n)c=s(t,f,f+n,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)h*=e;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;f+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(t=t||10,e=0|e||1,16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],h=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[o-s-1]=a}return c},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,f=0|a[0],h=8191&f,l=f>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,_=b>>>13,k=0|a[4],S=8191&k,E=k>>>13,M=0|a[5],A=8191&M,x=M>>>13,B=0|a[6],C=8191&B,I=B>>>13,T=0|a[7],P=8191&T,N=T>>>13,R=0|a[8],L=8191&R,O=R>>>13,j=0|a[9],D=8191&j,U=j>>>13,F=0|s[0],q=8191&F,K=F>>>13,z=0|s[1],V=8191&z,H=z>>>13,G=0|s[2],$=8191&G,W=G>>>13,Y=0|s[3],Z=8191&Y,Q=Y>>>13,X=0|s[4],J=8191&X,tt=X>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ft=0|s[8],ht=8191&ft,lt=ft>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,K))+Math.imul(l,q)|0))<<13)|0;c=((o=Math.imul(l,K))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(m,q)|0,o=Math.imul(m,K);var vt=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(l,V)|0))<<13)|0;c=((o=o+Math.imul(l,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(g,q)|0,o=Math.imul(g,K),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,H)|0;var gt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(l,$)|0))<<13)|0;c=((o=o+Math.imul(l,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,H)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,W)|0;var bt=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(l,Z)|0))<<13)|0;c=((o=o+Math.imul(l,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,K))+Math.imul(E,q)|0,o=Math.imul(E,K),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,W)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,Q)|0;var wt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,J)|0))<<13)|0;c=((o=o+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,K))+Math.imul(x,q)|0,o=Math.imul(x,K),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,H)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,Q)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,Q)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((o=o+Math.imul(l,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,K))+Math.imul(I,q)|0,o=Math.imul(I,K),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,H)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var kt=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(l,ot)|0))<<13)|0;c=((o=o+Math.imul(l,at)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,K))+Math.imul(N,q)|0,o=Math.imul(N,K),n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,H)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((o=o+Math.imul(l,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,K))+Math.imul(O,q)|0,o=Math.imul(O,K),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,Q)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,J)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Et=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((o=o+Math.imul(l,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul(U,q)|0,o=Math.imul(U,K),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(v,ut)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,lt)|0;var Mt=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((o=o+Math.imul(l,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(U,V)|0,o=Math.imul(U,H),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,Q)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ct)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,lt)|0)+Math.imul(g,ht)|0,o=o+Math.imul(g,lt)|0;var At=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,W))+Math.imul(U,$)|0,o=Math.imul(U,W),n=n+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,lt)|0;var xt=(c+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((o=o+Math.imul(g,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,Z),i=(i=Math.imul(D,Q))+Math.imul(U,Z)|0,o=Math.imul(U,Q),n=n+Math.imul(L,J)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,lt)|0)+Math.imul(E,ht)|0,o=o+Math.imul(E,lt)|0;var Bt=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,tt))+Math.imul(U,J)|0,o=Math.imul(U,tt),n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(P,ot)|0,i=(i=i+Math.imul(P,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ct)|0,n=n+Math.imul(A,ht)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,lt)|0;var Ct=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;c=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,lt)|0;var It=(c+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,mt)|0)+Math.imul(x,pt)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,lt)|0;var Tt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(U,ut)|0,o=Math.imul(U,ct),n=n+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,lt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,lt))+Math.imul(U,ht)|0,o=Math.imul(U,lt);var Nt=(c+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Rt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(U,pt)|0))<<13)|0;return c=((o=Math.imul(U,mt))+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,u[0]=yt,u[1]=vt,u[2]=gt,u[3]=bt,u[4]=wt,u[5]=_t,u[6]=kt,u[7]=St,u[8]=Et,u[9]=Mt,u[10]=At,u[11]=xt,u[12]=Bt,u[13]=Ct,u[14]=It,u[15]=Tt,u[16]=Pt,u[17]=Nt,u[18]=Rt,0!==c&&(u[19]=c,r.length++),r};function d(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(l=h),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?l(this,t,e):r<63?h(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;s=67108863&(l=l+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},p.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},p.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var h=u,l=c,d=0;d<a;d++){var p=r[f+d],m=n[f+d],y=r[f+d+a],v=n[f+d+a],g=h*y-l*v;v=h*v+l*y,y=g,r[f+d]=p+y,n[f+d]=m+v,r[f+d+a]=p-y,n[f+d+a]=m-v,d!==s&&(g=u*h-c*l,l=u*l+c*h,h=g)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},p.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},p.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,f,h,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),d(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-o|h>>>o,f=h&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=n.clone()._ishlnsubmul(o,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[o.length+h])+(0|n.words[o.length+h-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(o,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(o,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=l)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),h=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(f),a.isub(h)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(s),a.isub(u)):(n.isub(e),s.isub(o),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,l=1;0==(n.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(o=0===e.cmpn(1)?a:s).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(v,y),v.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(g,y),n(b,y),n(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new g;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,o),l=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();r(y<p);var v=this.pow(h,new i(1).iushln(p-y-1));l=l.redMul(v),h=v.redSqr(),d=d.redMul(h),p=y}return l},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;o!==r[0]&&(o=this.sqr(o)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===f)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,X)}),SM=et(function(t){!function(e){"object"==typeof process&&process.versions&&process.versions.node&&(e=X);for(var r=!e.JS_SHA3_TEST&&t.exports,n="0123456789abcdef".split(""),i=[0,8,16,24],o=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],a=[224,256,384,512],s=["hex","buffer","arrayBuffer","array"],u=function(t,e,r){return function(n){return new v(t,e,t).update(n)[r]()}},c=function(t,e,r){return function(n,i){return new v(t,e,i).update(n)[r]()}},f=function(t,e){var r=u(t,e,"hex");r.create=function(){return new v(t,e,t)},r.update=function(t){return r.create().update(t)};for(var n=0;n<s.length;++n){var i=s[n];r[i]=u(t,e,i)}return r},h=[{name:"keccak",padding:[1,256,65536,16777216],bits:a,createMethod:f},{name:"sha3",padding:[6,1536,393216,100663296],bits:a,createMethod:f},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(t,e){var r=c(t,e,"hex");r.create=function(r){return new v(t,e,r)},r.update=function(t,e){return r.create(e).update(t)};for(var n=0;n<s.length;++n){var i=s[n];r[i]=c(t,e,i)}return r}}],l={},d=0;d<h.length;++d)for(var p=h[d],m=p.bits,y=0;y<m.length;++y)l[p.name+"_"+m[y]]=p.createMethod(m[y],p.padding);function v(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}v.prototype.update=function(t){var r="string"!=typeof t;r&&t.constructor==e.ArrayBuffer&&(t=new Uint8Array(t));for(var n,o,a=t.length,s=this.blocks,u=this.byteCount,c=this.blockCount,f=0,h=this.s;f<a;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<c+1;++n)s[n]=0;if(r)for(n=this.start;f<a&&n<u;++f)s[n>>2]|=t[f]<<i[3&n++];else for(n=this.start;f<a&&n<u;++f)(o=t.charCodeAt(f))<128?s[n>>2]|=o<<i[3&n++]:o<2048?(s[n>>2]|=(192|o>>6)<<i[3&n++],s[n>>2]|=(128|63&o)<<i[3&n++]):o<55296||o>=57344?(s[n>>2]|=(224|o>>12)<<i[3&n++],s[n>>2]|=(128|o>>6&63)<<i[3&n++],s[n>>2]|=(128|63&o)<<i[3&n++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++f)),s[n>>2]|=(240|o>>18)<<i[3&n++],s[n>>2]|=(128|o>>12&63)<<i[3&n++],s[n>>2]|=(128|o>>6&63)<<i[3&n++],s[n>>2]|=(128|63&o)<<i[3&n++]);if(this.lastByteIndex=n,n>=u){for(this.start=n-u,this.block=s[c],n=0;n<c;++n)h[n]^=s[n];g(h),this.reset=!0}else this.start=n}return this},v.prototype.finalize=function(){var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex==this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];g(n)},v.prototype.toString=v.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,u="";s<i;){for(a=0;a<e&&s<i;++a,++s)t=r[a],u+=n[t>>4&15]+n[15&t]+n[t>>12&15]+n[t>>8&15]+n[t>>20&15]+n[t>>16&15]+n[t>>28&15]+n[t>>24&15];s%e==0&&(g(r),a=0)}return o&&(t=r[a],o>0&&(u+=n[t>>4&15]+n[15&t]),o>1&&(u+=n[t>>12&15]+n[t>>8&15]),o>2&&(u+=n[t>>20&15]+n[t>>16&15])),u},v.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(t);a<n;){for(o=0;o<e&&a<n;++o,++a)u[a]=r[o];a%e==0&&g(r)}return i&&(u[o]=r[o],t=t.slice(0,s)),t},v.prototype.buffer=v.prototype.arrayBuffer,v.prototype.digest=v.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,u=[];s<i;){for(a=0;a<r&&s<i;++a,++s)t=s<<2,e=n[a],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;s%r==0&&g(n)}return o&&(t=s<<2,e=n[a],o>0&&(u[t]=255&e),o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u};var g=function(t){var e,r,n,i,a,s,u,c,f,h,l,d,p,m,y,v,g,b,w,_,k,S,E,M,A,x,B,C,I,T,P,N,R,L,O,j,D,U,F,q,K,z,V,H,G,$,W,Y,Z,Q,X,J,tt,et,rt,nt,it,ot,at,st,ut,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],a=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],u=t[3]^t[13]^t[23]^t[33]^t[43],c=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|u>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(u<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(c<<1|f>>>31),r=a^(f<<1|c>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(h<<1|l>>>31),r=u^(l<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=c^(d<<1|p>>>31),r=f^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|a>>>31),r=l^(a<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],y=t[1],$=t[11]<<4|t[10]>>>28,W=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,I=t[21]<<3|t[20]>>>29,st=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,z=t[40]<<18|t[41]>>>14,V=t[41]<<18|t[40]>>>14,L=t[2]<<1|t[3]>>>31,O=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,g=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,T=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,j=t[14]<<6|t[15]>>>26,D=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Q=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,N=t[45]<<29|t[44]>>>3,R=t[44]<<29|t[45]>>>3,M=t[6]<<28|t[7]>>>4,A=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,U=t[26]<<25|t[27]>>>7,F=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,k=t[37]<<21|t[36]>>>11,J=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,H=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,B=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,at=t[28]<<7|t[29]>>>25,q=t[38]<<8|t[39]>>>24,K=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,E=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=y^~g&w,t[10]=M^~x&C,t[11]=A^~B&I,t[20]=L^~j&U,t[21]=O^~D&F,t[30]=H^~$&Y,t[31]=G^~W&Z,t[40]=et^~nt&ot,t[41]=rt^~it&at,t[2]=v^~b&_,t[3]=g^~w&k,t[12]=x^~C&T,t[13]=B^~I&P,t[22]=j^~U&q,t[23]=D^~F&K,t[32]=$^~Y&Q,t[33]=W^~Z&X,t[42]=nt^~ot&st,t[43]=it^~at&ut,t[4]=b^~_&S,t[5]=w^~k&E,t[14]=C^~T&N,t[15]=I^~P&R,t[24]=U^~q&z,t[25]=F^~K&V,t[34]=Y^~Q&J,t[35]=Z^~X&tt,t[44]=ot^~st&ct,t[45]=at^~ut&ft,t[6]=_^~S&m,t[7]=k^~E&y,t[16]=T^~N&M,t[17]=P^~R&A,t[26]=q^~z&L,t[27]=K^~V&O,t[36]=Q^~J&H,t[37]=X^~tt&G,t[46]=st^~ct&et,t[47]=ut^~ft&rt,t[8]=S^~m&v,t[9]=E^~y&g,t[18]=N^~M&x,t[19]=R^~A&B,t[28]=z^~L&j,t[29]=V^~O&D,t[38]=J^~H&$,t[39]=tt^~G&W,t[48]=ct^~et&nt,t[49]=ft^~rt&it,t[0]^=o[n],t[1]^=o[n+1]};if(r)t.exports=l;else if(e)for(var b in l)e[b]=l[b]}(X)}).keccak_256;function EM(t){for(var e=t,r=e[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e}function MM(t){var e=t.toString(16);return e.length%2&&(e="0"+e),EM(new Buffer(e,"hex"))}function AM(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function xM(t,e){var r=t;if(!Buffer.isBuffer(r)){if(!AM(r)){var n=new Error(e?"[ethjs-abi] invalid "+e:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw n.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",n.value=r,n}(r=r.substring(2)).length%2&&(r="0"+r),r=new Buffer(r,"hex")}return r}function BM(t,e){return{encode:function(r){var n=r;return"object"==typeof n&&n.toString&&(n.toTwos||n.dividedToIntegerBy)&&(n=n.toString(10).split(".")[0]),"string"!=typeof n&&"number"!=typeof n||(n=String(n).split(".")[0]),n=(n=ut(n)).toTwos(8*t).maskn(8*t),e&&(n=n.fromTwos(8*t).toTwos(256)),n.toArrayLike(Buffer,"be",32)},decode:function(r,n){var i=32-t,o=new kM(r.slice(n+i,n+32));return o=e?o.fromTwos(8*t):o.maskn(8*t),{consumed:32,value:new kM(o.toString(10))}}}}var CM=BM(32,!1),IM={encode:function(t){return CM.encode(t?1:0)},decode:function(t,e){var r=CM.decode(t,e);return{consumed:r.consumed,value:!r.value.isZero()}}};function TM(t){return{encode:function(t){var e=t;if(32===(e=xM(e)).length)return e;var r=new Buffer(32);return r.fill(0),e.copy(r),r},decode:function(e,r){if(e.length<r+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+t);return{consumed:32,value:"0x"+e.slice(r,r+t).toString("hex")}}}}var PM={encode:function(t){var e=t,r=new Buffer(32);if(!AM(e,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return e=xM(e),r.fill(0),e.copy(r,12),r},decode:function(t,e){if(0===t.length)return{consumed:32,value:"0x"};if(t.length<e+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+t.length);return{consumed:32,value:"0x"+t.slice(e+12,e+32).toString("hex")}}};function NM(t){var e=parseInt(32*Math.ceil(t.length/32)),r=new Buffer(e-t.length);return r.fill(0),Buffer.concat([CM.encode(t.length),t,r])}function RM(t,e){if(t.length<e+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+t.length+" should be less than "+(e+32));var r=CM.decode(t,e).value;if(r=r.toNumber(),t.length<e+32+r)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+t.length+" should be less than "+(e+32+r));return{consumed:parseInt(32+32*Math.ceil(r/32),10),value:t.slice(e+32,e+32+r)}}var LM={encode:function(t){return NM(xM(t))},decode:function(t,e){var r=RM(t,e);return r.value="0x"+r.value.toString("hex"),r},dynamic:!0},OM={encode:function(t){return NM(new Buffer(t,"utf8"))},decode:function(t,e){var r=RM(t,e);return r.value=r.value.toString("utf8"),r},dynamic:!0};function jM(t,e){return{encode:function(r){var n=new Buffer(0),i=e;if(!Array.isArray(r))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===i&&(i=r.length,n=CM.encode(i)),i!==r.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+i+" does not equal "+r.length);return r.forEach(function(e){n=Buffer.concat([n,t.encode(e)])}),n},decode:function(r,n){var i,o=e,a=n,s=0;-1===o&&(o=(i=CM.decode(r,a)).value.toNumber(),s+=i.consumed,a+=i.consumed);for(var u=[],c=0;c<o;c++){var f=t.decode(r,a);s+=f.consumed,a+=f.consumed,u.push(f.value)}return{consumed:s,value:u}},dynamic:-1===e}}var DM=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);var UM={BN:kM,bnToBuffer:MM,isHexString:AM,hexOrBuffer:xM,hexlify:function(t){return"number"==typeof t?"0x"+MM(new kM(t)).toString("hex"):t.mod||t.modulo?"0x"+MM(t).toString("hex"):"0x"+xM(t).toString("hex")},stripZeros:EM,keccak256:SM,getKeys:function(t,e,r){var n=[];if(!Array.isArray(t))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(t));for(var i=0;i<t.length;i++){var o=t[i][e];if(r&&!o)o="";else if("string"!=typeof o)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");n.push(o)}return n},numberToBN:ut,coderNumber:BM,uint256Coder:CM,coderBoolean:IM,coderFixedBytes:TM,coderAddress:PM,coderDynamicBytes:LM,coderString:OM,coderArray:jM,paramTypePart:DM,getParamCoder:function(t){for(var e=t,r=null,n="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(e)+" is either invalid or unsupported by ethjs-abi.";e;){var i=e.match(DM);if(!i)throw new Error(n);e=e.substring(i[0].length);var o=i[2]||i[4]||i[5];switch(o){case"int":case"uint":if(r)throw new Error(n);var a=parseInt(i[3]||256);if(0===a||a>256||a%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+e+", invalid "+o+"<N> width: "+e);r=BM(a/8,"int"===o);break;case"bool":if(r)throw new Error(n);r=IM;break;case"string":if(r)throw new Error(n);r=OM;break;case"bytes":if(r)throw new Error(n);if(i[3]){var s=parseInt(i[3]);if(0===s||s>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+e+", size "+s+" should be 0 or greater than 32");r=TM(s)}else r=LM;break;case"address":if(r)throw new Error(n);r=PM;break;case"[]":if(!r||r.dynamic)throw new Error(n);r=jM(r,-1);break;default:if(!r||r.dynamic)throw new Error(n);r=jM(r,parseInt(i[6]))}}if(!r)throw new Error(n);return r}},FM=UM.uint256Coder,qM=UM.getParamCoder;function KM(t,e){if(t.length!==e.length)throw new Error("[ethjs-abi] while encoding params, types/values mismatch, types length "+t.length+" should be "+e.length);var r=[];function n(t){return parseInt(32*Math.ceil(t/32))}t.forEach(function(t,n){var i=qM(t);r.push({dynamic:i.dynamic,value:i.encode(e[n])})});var i=0,o=0;r.forEach(function(t){t.dynamic?(i+=32,o+=n(t.value.length)):i+=n(t.value.length)});var a=0,s=i,u=new Buffer(i+o);return r.forEach(function(t,e){t.dynamic?(FM.encode(s).copy(u,a),a+=32,t.value.copy(u,s),s+=n(t.value.length)):(t.value.copy(u,a),a+=n(t.value.length))}),"0x"+u.toString("hex")}function zM(t,e,r){arguments.length<3&&(r=e,e=t,t=[]),r=UM.hexOrBuffer(r);var n=new function(){},i=0;return e.forEach(function(e,o){var a=qM(e);if(a.dynamic){var s=FM.decode(r,i),u=a.decode(r,s.value.toNumber());i+=s.consumed}else{u=a.decode(r,i);i+=u.consumed}n[o]=u.value,t[o]&&(n[t[o]]=u.value)}),n}function VM(t,e){var r=t.name+"("+UM.getKeys(t.inputs,"type").join(",")+")";return""+("0x"+new Buffer(UM.keccak256(r),"hex").slice(0,4).toString("hex"))+KM(UM.getKeys(t.inputs,"type"),e).substring(2)}var HM={encodeParams:KM,decodeParams:zM,encodeMethod:VM,decodeMethod:function(t,e){return zM(UM.getKeys(t.outputs,"name",!0),UM.getKeys(t.outputs,"type"),UM.hexOrBuffer(e))},encodeEvent:function(t,e){return VM(t,e)},decodeEvent:function(t,e){return zM(UM.getKeys(t.inputs,"name",!0),UM.getKeys(t.inputs,"type"),UM.hexOrBuffer(e))}},GM={getBlockByNumber:function(t,e,r){var n=[t,!0];e.sendAsync({jsonrpc:"2.0",method:"eth_getBlockByNumber",params:n,id:Date.now()},r)},getBlockByHash:function(t,e,r){var n=[t,!0];e.sendAsync({jsonrpc:"2.0",method:"eth_getBlockByHash",params:n,id:Date.now()},r)},parse:function(t){var e={};if(0!=t.indexOf("blockchain://"))return e;var r=(t=t.replace("blockchain://","")).split("/block/");return e.genesis_hash="0x"+r[0],e.block_hash="0x"+r[1],e},asURI:function(t,e){var r,n=this;n.getBlockByNumber("0x0",t,function(i,o){if(i)return e(i);r=o.result,n.getBlockByNumber("latest",t,function(t,n){if(t)return e(t);latest=n.result;var i="blockchain://"+r.hash.replace("0x","")+"/block/"+latest.hash.replace("0x","");e(null,i)})})},matches:function(t,e,r){var n=this,i=(t=n.parse(t)).genesis_hash,o=t.block_hash;n.getBlockByNumber("0x0",e,function(t,a){return t?r(t):a.result.hash!=i?r(null,!1):void n.getBlockByHash(o,e,function(t,e){var n=e.result;if(t||null==n)return r(null,!1);r(null,!0)})})}},$M={messageId:0,toPayload:function(t,e){return t||console.error("jsonrpc method should be specified!"),$M.messageId++,{jsonrpc:"2.0",id:$M.messageId,method:t,params:e||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!!t&&!t.error&&"2.0"===t.jsonrpc&&"number"==typeof t.id&&void 0!==t.result}},toBatchPayload:function(t){return t.map(function(t){return $M.toPayload(t.method,t.params)})}},WM=$M,YM=et(function(t){!function(e){var r,n,o,a=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,s=Math.ceil,u=Math.floor,c=" not a boolean or binary digit",f="rounding mode",h="number type has more than 15 significant digits",l="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",d=1e14,p=14,m=9007199254740991,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,g=1e9;function b(t){var e=0|t;return t>0||t===e?e:e-1}function w(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=p-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function _(t,e){var r,n,i=t.c,o=e.c,a=t.s,s=e.s,u=t.e,c=e.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(s=(u=i.length)<(c=o.length)?u:c,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return u==c?0:u>c^r?1:-1}function k(t,e,r){return(t=x(t))>=e&&t<=r}function S(t){return"[object Array]"==Object.prototype.toString.call(t)}function E(t,e,r){for(var n,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;o[i]*=e);for(o[n=0]+=l.indexOf(t.charAt(a++));n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function M(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function A(t,e){var r,n;if(e<0){for(n="0.";++e;n+="0");t=n+t}else if(++e>(r=t.length)){for(n="0",e-=r;--e;n+="0");t+=n}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}function x(t){return(t=parseFloat(t))<0?s(t):u(t)}if(r=function t(e){var r,i,B,C,I,T,P,N=0,R=W.prototype,L=new W(1),O=20,j=4,D=-7,U=21,F=-1e7,q=1e7,K=!0,z=X,V=!1,H=1,G=100,$={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function W(t,e){var r,n,i,s,u,c,f=this;if(!(f instanceof W))return K&&tt(26,"constructor call without new",t),new W(t,e);if(null!=e&&z(e,2,64,N,"base")){if(c=t+"",10==(e|=0))return et(f=new W(t instanceof W?t:c),O+f.e+1,j);if((s="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(r="["+l.slice(0,e)+"]+")+"(?:\\."+r+")?$",e<37?"i":"").test(c))return o(f,c,s,e);s?(f.s=1/t<0?(c=c.slice(1),-1):1,K&&c.replace(/^0\.0*|\./,"").length>15&&tt(N,h,t),s=!1):f.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1,c=Y(c,10,e,f.s)}else{if(t instanceof W)return f.s=t.s,f.e=t.e,f.c=(t=t.c)?t.slice():t,void(N=0);if((s="number"==typeof t)&&0*t==0){if(f.s=1/t<0?(t=-t,-1):1,t===~~t){for(n=0,i=t;i>=10;i/=10,n++);return f.e=n,f.c=[t],void(N=0)}c=t+""}else{if(!a.test(c=t+""))return o(f,c,s);f.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1}}for((n=c.indexOf("."))>-1&&(c=c.replace(".","")),(i=c.search(/e/i))>0?(n<0&&(n=i),n+=+c.slice(i+1),c=c.substring(0,i)):n<0&&(n=c.length),i=0;48===c.charCodeAt(i);i++);for(u=c.length;48===c.charCodeAt(--u););if(c=c.slice(i,u+1))if(u=c.length,s&&K&&u>15&&tt(N,h,f.s*t),(n=n-i-1)>q)f.c=f.e=null;else if(n<F)f.c=[f.e=0];else{if(f.e=n,f.c=[],i=(n+1)%p,n<0&&(i+=p),i<u){for(i&&f.c.push(+c.slice(0,i)),u-=p;i<u;)f.c.push(+c.slice(i,i+=p));c=c.slice(i),i=p-c.length}else i-=u;for(;i--;c+="0");f.c.push(+c)}else f.c=[f.e=0];N=0}function Y(t,e,n,i){var o,a,s,u,c,f,h,d=t.indexOf("."),p=O,m=j;for(n<37&&(t=t.toLowerCase()),d>=0&&(s=G,G=0,t=t.replace(".",""),c=(h=new W(n)).pow(t.length-d),G=s,h.c=E(A(w(c.c),c.e),10,e),h.e=h.c.length),a=s=(f=E(t,n,e)).length;0==f[--s];f.pop());if(!f[0])return"0";if(d<0?--a:(c.c=f,c.e=a,c.s=i,f=(c=r(c,h,p,m,e)).c,u=c.r,a=c.e),d=f[o=a+p+1],s=e/2,u=u||o<0||null!=f[o+1],u=m<4?(null!=d||u)&&(0==m||m==(c.s<0?3:2)):d>s||d==s&&(4==m||u||6==m&&1&f[o-1]||m==(c.s<0?8:7)),o<1||!f[0])t=u?A("1",-p):"0";else{if(f.length=o,u)for(--e;++f[--o]>e;)f[o]=0,o||(++a,f.unshift(1));for(s=f.length;!f[--s];);for(d=0,t="";d<=s;t+=l.charAt(f[d++]));t=A(t,a)}return t}function Z(t,e,r,n){var i,o,a,s,u;if(r=null!=r&&z(r,0,8,n,f)?0|r:j,!t.c)return t.toString();if(i=t.c[0],a=t.e,null==e)u=w(t.c),u=19==n||24==n&&a<=D?M(u,a):A(u,a);else if(o=(t=et(new W(t),e,r)).e,s=(u=w(t.c)).length,19==n||24==n&&(e<=o||o<=D)){for(;s<e;u+="0",s++);u=M(u,o)}else if(e-=a,u=A(u,o),o+1>s){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-s)>0)for(o+1==s&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function Q(t,e){var r,n,i=0;for(S(t[0])&&(t=t[0]),r=new W(t[0]);++i<t.length;){if(!(n=new W(t[i])).s){r=n;break}e.call(r,n)&&(r=n)}return r}function X(t,e,r,n,i){return(t<e||t>r||t!=x(t))&&tt(n,(i||"decimal places")+(t<e||t>r?" out of range":" not an integer"),t),!0}function J(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*p-1)>q?t.c=t.e=null:r<F?t.c=[t.e=0]:(t.e=r,t.c=e),t}function tt(t,e,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+r);throw n.name="BigNumber Error",N=0,n}function et(t,e,r,n){var i,o,a,c,f,h,l,m=t.c,v=y;if(m){t:{for(i=1,c=m[0];c>=10;c/=10,i++);if((o=e-i)<0)o+=p,a=e,l=(f=m[h=0])/v[i-a-1]%10|0;else if((h=s((o+1)/p))>=m.length){if(!n)break t;for(;m.length<=h;m.push(0));f=l=0,i=1,a=(o%=p)-p+1}else{for(f=c=m[h],i=1;c>=10;c/=10,i++);l=(a=(o%=p)-p+i)<0?0:f/v[i-a-1]%10|0}if(n=n||e<0||null!=m[h+1]||(a<0?f:f%v[i-a-1]),n=r<4?(l||n)&&(0==r||r==(t.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(o>0?a>0?f/v[i-a]:0:m[h-1])%10&1||r==(t.s<0?8:7)),e<1||!m[0])return m.length=0,n?(e-=t.e+1,m[0]=v[e%p],t.e=-e||0):m[0]=t.e=0,t;if(0==o?(m.length=h,c=1,h--):(m.length=h+1,c=v[p-o],m[h]=a>0?u(f/v[i-a]%v[a])*c:0),n)for(;;){if(0==h){for(o=1,a=m[0];a>=10;a/=10,o++);for(a=m[0]+=c,c=1;a>=10;a/=10,c++);o!=c&&(t.e++,m[0]==d&&(m[0]=1));break}if(m[h]+=c,m[h]!=d)break;m[h--]=0,c=1}for(o=m.length;0===m[--o];m.pop());}t.e>q?t.c=t.e=null:t.e<F&&(t.c=[t.e=0])}return t}return W.another=t,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=function(){var t,e,r=0,i={},o=arguments,a=o[0],s=a&&"object"==typeof a?function(){if(a.hasOwnProperty(e))return null!=(t=a[e])}:function(){if(o.length>r)return null!=(t=o[r++])};return s(e="DECIMAL_PLACES")&&z(t,0,g,2,e)&&(O=0|t),i[e]=O,s(e="ROUNDING_MODE")&&z(t,0,8,2,e)&&(j=0|t),i[e]=j,s(e="EXPONENTIAL_AT")&&(S(t)?z(t[0],-g,0,2,e)&&z(t[1],0,g,2,e)&&(D=0|t[0],U=0|t[1]):z(t,-g,g,2,e)&&(D=-(U=0|(t<0?-t:t)))),i[e]=[D,U],s(e="RANGE")&&(S(t)?z(t[0],-g,-1,2,e)&&z(t[1],1,g,2,e)&&(F=0|t[0],q=0|t[1]):z(t,-g,g,2,e)&&(0|t?F=-(q=0|(t<0?-t:t)):K&&tt(2,e+" cannot be zero",t))),i[e]=[F,q],s(e="ERRORS")&&(t===!!t||1===t||0===t?(N=0,z=(K=!!t)?X:k):K&&tt(2,e+c,t)),i[e]=K,s(e="CRYPTO")&&(t===!!t||1===t||0===t?(V=!(!t||!n||"object"!=typeof n),t&&!V&&K&&tt(2,"crypto unavailable",n)):K&&tt(2,e+c,t)),i[e]=V,s(e="MODULO_MODE")&&z(t,0,9,2,e)&&(H=0|t),i[e]=H,s(e="POW_PRECISION")&&z(t,0,g,2,e)&&(G=0|t),i[e]=G,s(e="FORMAT")&&("object"==typeof t?$=t:K&&tt(2,e+" not an object",t)),i[e]=$,i},W.max=function(){return Q(arguments,R.lt)},W.min=function(){return Q(arguments,R.gt)},W.random=(i=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,o,a,c,f=0,h=[],l=new W(L);if(t=null!=t&&z(t,0,g,14)?0|t:O,a=s(t/p),V)if(n&&n.getRandomValues){for(e=n.getRandomValues(new Uint32Array(a*=2));f<a;)(c=131072*e[f]+(e[f+1]>>>11))>=9e15?(r=n.getRandomValues(new Uint32Array(2)),e[f]=r[0],e[f+1]=r[1]):(h.push(c%1e14),f+=2);f=a/2}else if(n&&n.randomBytes){for(e=n.randomBytes(a*=7);f<a;)(c=281474976710656*(31&e[f])+1099511627776*e[f+1]+4294967296*e[f+2]+16777216*e[f+3]+(e[f+4]<<16)+(e[f+5]<<8)+e[f+6])>=9e15?n.randomBytes(7).copy(e,f):(h.push(c%1e14),f+=7);f=a/7}else K&&tt(14,"crypto unavailable",n);if(!f)for(;f<a;)(c=i())<9e15&&(h[f++]=c%1e14);for(a=h[--f],t%=p,a&&t&&(c=y[p-t],h[f]=u(a/c)*c);0===h[f];h.pop(),f--);if(f<0)h=[o=0];else{for(o=-1;0===h[0];h.shift(),o-=p);for(f=1,c=h[0];c>=10;c/=10,f++);f<p&&(o-=p-f)}return l.e=o,l.c=h,l}),r=function(){function t(t,e,r){var n,i,o,a,s=0,u=t.length,c=e%v,f=e/v|0;for(t=t.slice();u--;)s=((i=c*(o=t[u]%v)+(n=f*o+(a=t[u]/v|0)*c)%v*v+s)/r|0)+(n/v|0)+f*a,t[u]=i%r;return s&&t.unshift(s),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.shift());}return function(n,i,o,a,s){var c,f,h,l,m,y,v,g,w,_,k,S,E,M,A,x,B,C=n.s==i.s?1:-1,I=n.c,T=i.c;if(!(I&&I[0]&&T&&T[0]))return new W(n.s&&i.s&&(I?!T||I[0]!=T[0]:T)?I&&0==I[0]||!T?0*C:C/0:NaN);for(w=(g=new W(C)).c=[],C=o+(f=n.e-i.e)+1,s||(s=d,f=b(n.e/p)-b(i.e/p),C=C/p|0),h=0;T[h]==(I[h]||0);h++);if(T[h]>(I[h]||0)&&f--,C<0)w.push(1),l=!0;else{for(M=I.length,x=T.length,h=0,C+=2,(m=u(s/(T[0]+1)))>1&&(T=t(T,m,s),I=t(I,m,s),x=T.length,M=I.length),E=x,k=(_=I.slice(0,x)).length;k<x;_[k++]=0);(B=T.slice()).unshift(0),A=T[0],T[1]>=s/2&&A++;do{if(m=0,(c=e(T,_,x,k))<0){if(S=_[0],x!=k&&(S=S*s+(_[1]||0)),(m=u(S/A))>1)for(m>=s&&(m=s-1),v=(y=t(T,m,s)).length,k=_.length;1==e(y,_,v,k);)m--,r(y,x<v?B:T,v,s),v=y.length,c=1;else 0==m&&(c=m=1),v=(y=T.slice()).length;if(v<k&&y.unshift(0),r(_,y,k,s),k=_.length,-1==c)for(;e(T,_,x,k)<1;)m++,r(_,x<k?B:T,k,s),k=_.length}else 0===c&&(m++,_=[0]);w[h++]=m,_[0]?_[k++]=I[E]||0:(_=[I[E]],k=1)}while((E++<M||null!=_[0])&&C--);l=null!=_[0],w[0]||w.shift()}if(s==d){for(h=1,C=w[0];C>=10;C/=10,h++);et(g,o+(g.e=h+f*p-1)+1,a,l)}else g.e=f,g.r=+l;return g}}(),B=/^(-?)0([xbo])/i,C=/^([^.]+)\.$/,I=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,P=/^\s*\+|^\s+|\s+$/g,o=function(t,e,r,n){var i,o=r?e:e.replace(P,"");if(T.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(B,function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e}),n&&(i=n,o=o.replace(C,"$1").replace(I,"0.$1")),e!=o))return new W(o,i);K&&tt(N,"not a"+(n?" base "+n:"")+" number",e),t.s=null}t.c=t.e=null,N=0},R.absoluteValue=R.abs=function(){var t=new W(this);return t.s<0&&(t.s=1),t},R.ceil=function(){return et(new W(this),this.e+1,2)},R.comparedTo=R.cmp=function(t,e){return N=1,_(this,new W(t,e))},R.decimalPlaces=R.dp=function(){var t,e,r=this.c;if(!r)return null;if(t=((e=r.length-1)-b(this.e/p))*p,e=r[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},R.dividedBy=R.div=function(t,e){return N=3,r(this,new W(t,e),O,j)},R.dividedToIntegerBy=R.divToInt=function(t,e){return N=4,r(this,new W(t,e),0,1)},R.equals=R.eq=function(t,e){return N=5,0===_(this,new W(t,e))},R.floor=function(){return et(new W(this),this.e+1,3)},R.greaterThan=R.gt=function(t,e){return N=6,_(this,new W(t,e))>0},R.greaterThanOrEqualTo=R.gte=function(t,e){return N=7,1===(e=_(this,new W(t,e)))||0===e},R.isFinite=function(){return!!this.c},R.isInteger=R.isInt=function(){return!!this.c&&b(this.e/p)>this.c.length-2},R.isNaN=function(){return!this.s},R.isNegative=R.isNeg=function(){return this.s<0},R.isZero=function(){return!!this.c&&0==this.c[0]},R.lessThan=R.lt=function(t,e){return N=8,_(this,new W(t,e))<0},R.lessThanOrEqualTo=R.lte=function(t,e){return N=9,-1===(e=_(this,new W(t,e)))||0===e},R.minus=R.sub=function(t,e){var r,n,i,o,a=this,s=a.s;if(N=10,e=(t=new W(t,e)).s,!s||!e)return new W(NaN);if(s!=e)return t.s=-e,a.plus(t);var u=a.e/p,c=t.e/p,f=a.c,h=t.c;if(!u||!c){if(!f||!h)return f?(t.s=-e,t):new W(h?a:NaN);if(!f[0]||!h[0])return h[0]?(t.s=-e,t):new W(f[0]?a:3==j?-0:0)}if(u=b(u),c=b(c),f=f.slice(),s=u-c){for((o=s<0)?(s=-s,i=f):(c=u,i=h),i.reverse(),e=s;e--;i.push(0));i.reverse()}else for(n=(o=(s=f.length)<(e=h.length))?s:e,s=e=0;e<n;e++)if(f[e]!=h[e]){o=f[e]<h[e];break}if(o&&(i=f,f=h,h=i,t.s=-t.s),(e=(n=h.length)-(r=f.length))>0)for(;e--;f[r++]=0);for(e=d-1;n>s;){if(f[--n]<h[n]){for(r=n;r&&!f[--r];f[r]=e);--f[r],f[n]+=d}f[n]-=h[n]}for(;0==f[0];f.shift(),--c);return f[0]?J(t,f,c):(t.s=3==j?-1:1,t.c=[t.e=0],t)},R.modulo=R.mod=function(t,e){var n,i,o=this;return N=11,t=new W(t,e),!o.c||!t.s||t.c&&!t.c[0]?new W(NaN):!t.c||o.c&&!o.c[0]?new W(o):(9==H?(i=t.s,t.s=1,n=r(o,t,0,3),t.s=i,n.s*=i):n=r(o,t,0,H),o.minus(n.times(t)))},R.negated=R.neg=function(){var t=new W(this);return t.s=-t.s||null,t},R.plus=R.add=function(t,e){var r,n=this,i=n.s;if(N=12,e=(t=new W(t,e)).s,!i||!e)return new W(NaN);if(i!=e)return t.s=-e,n.minus(t);var o=n.e/p,a=t.e/p,s=n.c,u=t.c;if(!o||!a){if(!s||!u)return new W(i/0);if(!s[0]||!u[0])return u[0]?t:new W(s[0]?n:0*i)}if(o=b(o),a=b(a),s=s.slice(),i=o-a){for(i>0?(a=o,r=u):(i=-i,r=s),r.reverse();i--;r.push(0));r.reverse()}for((i=s.length)-(e=u.length)<0&&(r=u,u=s,s=r,e=i),i=0;e;)i=(s[--e]=s[e]+u[e]+i)/d|0,s[e]%=d;return i&&(s.unshift(i),++a),J(t,s,a)},R.precision=R.sd=function(t){var e,r,n=this,i=n.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(K&&tt(13,"argument"+c,t),t!=!!t&&(t=null)),!i)return null;if(e=(r=i.length-1)*p+1,r=i[r]){for(;r%10==0;r/=10,e--);for(r=i[0];r>=10;r/=10,e++);}return t&&n.e+1>e&&(e=n.e+1),e},R.round=function(t,e){var r=new W(this);return(null==t||z(t,0,g,15))&&et(r,~~t+this.e+1,null!=e&&z(e,0,8,15,f)?0|e:j),r},R.shift=function(t){var e=this;return z(t,-m,m,16,"argument")?e.times("1e"+x(t)):new W(e.c&&e.c[0]&&(t<-m||t>m)?e.s*(t<0?0:1/0):e)},R.squareRoot=R.sqrt=function(){var t,e,n,i,o,a=this,s=a.c,u=a.s,c=a.e,f=O+4,h=new W("0.5");if(1!==u||!s||!s[0])return new W(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(u=Math.sqrt(+a))||u==1/0?(((e=w(s)).length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=b((c+1)/2)-(c<0||c%2),n=new W(e=u==1/0?"1e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new W(u+""),n.c[0])for((u=(c=n.e)+f)<3&&(u=0);;)if(o=n,n=h.times(o.plus(r(a,o,f,1))),w(o.c).slice(0,u)===(e=w(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(et(n,n.e+O+2,1),t=!n.times(n).eq(a));break}if(!i&&(et(o,o.e+O+2,0),o.times(o).eq(a))){n=o;break}f+=4,u+=4,i=1}return et(n,n.e+O+1,j,t)},R.times=R.mul=function(t,e){var r,n,i,o,a,s,u,c,f,h,l,m,y,g,w,_=this,k=_.c,S=(N=17,t=new W(t,e)).c;if(!(k&&S&&k[0]&&S[0]))return!_.s||!t.s||k&&!k[0]&&!S||S&&!S[0]&&!k?t.c=t.e=t.s=null:(t.s*=_.s,k&&S?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=b(_.e/p)+b(t.e/p),t.s*=_.s,(u=k.length)<(h=S.length)&&(y=k,k=S,S=y,i=u,u=h,h=i),i=u+h,y=[];i--;y.push(0));for(g=d,w=v,i=h;--i>=0;){for(r=0,l=S[i]%w,m=S[i]/w|0,o=i+(a=u);o>i;)r=((c=l*(c=k[--a]%w)+(s=m*c+(f=k[a]/w|0)*l)%w*w+y[o]+r)/g|0)+(s/w|0)+m*f,y[o--]=c%g;y[o]=r}return r?++n:y.shift(),J(t,y,n)},R.toDigits=function(t,e){var r=new W(this);return t=null!=t&&z(t,1,g,18,"precision")?0|t:null,e=null!=e&&z(e,0,8,18,f)?0|e:j,t?et(r,t,e):r},R.toExponential=function(t,e){return Z(this,null!=t&&z(t,0,g,19)?1+~~t:null,e,19)},R.toFixed=function(t,e){return Z(this,null!=t&&z(t,0,g,20)?~~t+this.e+1:null,e,20)},R.toFormat=function(t,e){var r=Z(this,null!=t&&z(t,0,g,21)?~~t+this.e+1:null,e,21);if(this.c){var n,i=r.split("."),o=+$.groupSize,a=+$.secondaryGroupSize,s=$.groupSeparator,u=i[0],c=i[1],f=this.s<0,h=f?u.slice(1):u,l=h.length;if(a&&(n=o,o=a,a=n,l-=n),o>0&&l>0){for(n=l%o||o,u=h.substr(0,n);n<l;n+=o)u+=s+h.substr(n,o);a>0&&(u+=s+h.slice(n)),f&&(u="-"+u)}r=c?u+$.decimalSeparator+((a=+$.fractionGroupSize)?c.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+$.fractionGroupSeparator):c):u}return r},R.toFraction=function(t){var e,n,i,o,a,s,u,c,f,h=K,l=this,d=l.c,m=new W(L),v=n=new W(L),g=u=new W(L);if(null!=t&&(K=!1,s=new W(t),K=h,(h=s.isInt())&&!s.lt(L)||(K&&tt(22,"max denominator "+(h?"out of range":"not an integer"),t),t=!h&&s.c&&et(s,s.e+1,1).gte(L)?s:null)),!d)return l.toString();for(f=w(d),o=m.e=f.length-l.e-1,m.c[0]=y[(a=o%p)<0?p+a:a],t=!t||s.cmp(m)>0?o>0?m:v:s,a=q,q=1/0,s=new W(f),u.c[0]=0;c=r(s,m,0,1),1!=(i=n.plus(c.times(g))).cmp(t);)n=g,g=i,v=u.plus(c.times(i=v)),u=i,m=s.minus(c.times(i=m)),s=i;return i=r(t.minus(n),g,0,1),u=u.plus(i.times(v)),n=n.plus(i.times(g)),u.s=v.s=l.s,e=r(v,g,o*=2,j).minus(l).abs().cmp(r(u,n,o,j).minus(l).abs())<1?[v.toString(),g.toString()]:[u.toString(),n.toString()],q=a,e},R.toNumber=function(){var t=this;return+t||(t.s?0*t.s:NaN)},R.toPower=R.pow=function(t){var e,r,n=u(t<0?-t:+t),i=this;if(!z(t,-m,m,23,"exponent")&&(!isFinite(t)||n>m&&(t/=0)||parseFloat(t)!=t&&!(t=NaN)))return new W(Math.pow(+i,t));for(e=G?s(G/p+2):0,r=new W(L);;){if(n%2){if(!(r=r.times(i)).c)break;e&&r.c.length>e&&(r.c.length=e)}if(!(n=u(n/2)))break;i=i.times(i),e&&i.c&&i.c.length>e&&(i.c.length=e)}return t<0&&(r=L.div(r)),e?et(r,G,j):r},R.toPrecision=function(t,e){return Z(this,null!=t&&z(t,1,g,24,"precision")?0|t:null,e,24)},R.toString=function(t){var e,r=this,n=r.s,i=r.e;return null===i?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=w(r.c),e=null!=t&&z(t,2,64,25,"base")?Y(A(e,i),0|t,10,n):i<=D||i>=U?M(e,i):A(e,i),n<0&&r.c[0]&&(e="-"+e)),e},R.truncated=R.trunc=function(){return et(new W(this),this.e+1,1)},R.valueOf=R.toJSON=function(){return this.toString()},null!=e&&W.config(e),W}(),t.exports){if(t.exports=r,!n)try{n=i}catch(t){}}else e.BigNumber=r}(X)}),ZM=et(function(t,e){var r;t.exports=(r=r||function(t,e){var r=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var o=0;o<i;o+=4)e[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],i=function(e){var e=e,r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;o<e;o+=4){var s=i(4294967296*(r||t.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,e)}}),s=n.enc={},u=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(r,e/2)}},c=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(r,e)}},f=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,s=4*o,u=i/s,c=(u=e?t.ceil(u):t.max((0|u)-this._minBufferSize,0))*o,f=t.min(4*c,i);if(c){for(var h=0;h<c;h+=o)this._doProcessBlock(n,h);var l=n.splice(0,c);r.sigBytes-=f}return new a.init(l,f)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),l=(i.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new l.HMAC.init(t,r).finalize(e)}}}),n.algo={});return n}(Math),r)}),QM=(et(function(t,e){var r,n,i,o,a,s;t.exports=(i=(n=r=ZM).lib,o=i.Base,a=i.WordArray,(s=n.x64={}).Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),s.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=void 0!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return a.create(r,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}}),r)}),et(function(t,e){var r;t.exports=(r=ZM,function(){if("function"==typeof ArrayBuffer){var t=r.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=t[i]<<24-i%4*8;e.call(this,n,r)}else e.apply(this,arguments)}).prototype=t}}(),r.lib.WordArray)}),et(function(t,e){var r;t.exports=(r=ZM,function(){var t=r,e=t.lib.WordArray,n=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(n,2*r)}},n.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o+=2){var a=i(e[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(t){for(var r=t.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(t.charCodeAt(o)<<16-o%2*16);return e.create(n,2*r)}}}(),r.enc.Utf16)}),et(function(t,e){var r,n,i;t.exports=(i=(n=r=ZM).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return function(t,e,r){for(var n=[],o=0,a=0;a<e;a++)if(a%4){var s=r[t.charCodeAt(a-1)]<<a%4*2,u=r[t.charCodeAt(a)]>>>6-a%4*2;n[o>>>2]|=(s|u)<<24-o%4*8,o++}return i.create(n,o)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)}),et(function(t,e){var r;t.exports=(r=ZM,function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],u=t[e+1],d=t[e+2],p=t[e+3],m=t[e+4],y=t[e+5],v=t[e+6],g=t[e+7],b=t[e+8],w=t[e+9],_=t[e+10],k=t[e+11],S=t[e+12],E=t[e+13],M=t[e+14],A=t[e+15],x=o[0],B=o[1],C=o[2],I=o[3];B=l(B=l(B=l(B=l(B=h(B=h(B=h(B=h(B=f(B=f(B=f(B=f(B=c(B=c(B=c(B=c(B,C=c(C,I=c(I,x=c(x,B,C,I,a,7,s[0]),B,C,u,12,s[1]),x,B,d,17,s[2]),I,x,p,22,s[3]),C=c(C,I=c(I,x=c(x,B,C,I,m,7,s[4]),B,C,y,12,s[5]),x,B,v,17,s[6]),I,x,g,22,s[7]),C=c(C,I=c(I,x=c(x,B,C,I,b,7,s[8]),B,C,w,12,s[9]),x,B,_,17,s[10]),I,x,k,22,s[11]),C=c(C,I=c(I,x=c(x,B,C,I,S,7,s[12]),B,C,E,12,s[13]),x,B,M,17,s[14]),I,x,A,22,s[15]),C=f(C,I=f(I,x=f(x,B,C,I,u,5,s[16]),B,C,v,9,s[17]),x,B,k,14,s[18]),I,x,a,20,s[19]),C=f(C,I=f(I,x=f(x,B,C,I,y,5,s[20]),B,C,_,9,s[21]),x,B,A,14,s[22]),I,x,m,20,s[23]),C=f(C,I=f(I,x=f(x,B,C,I,w,5,s[24]),B,C,M,9,s[25]),x,B,p,14,s[26]),I,x,b,20,s[27]),C=f(C,I=f(I,x=f(x,B,C,I,E,5,s[28]),B,C,d,9,s[29]),x,B,g,14,s[30]),I,x,S,20,s[31]),C=h(C,I=h(I,x=h(x,B,C,I,y,4,s[32]),B,C,b,11,s[33]),x,B,k,16,s[34]),I,x,M,23,s[35]),C=h(C,I=h(I,x=h(x,B,C,I,u,4,s[36]),B,C,m,11,s[37]),x,B,g,16,s[38]),I,x,_,23,s[39]),C=h(C,I=h(I,x=h(x,B,C,I,E,4,s[40]),B,C,a,11,s[41]),x,B,p,16,s[42]),I,x,v,23,s[43]),C=h(C,I=h(I,x=h(x,B,C,I,w,4,s[44]),B,C,S,11,s[45]),x,B,A,16,s[46]),I,x,d,23,s[47]),C=l(C,I=l(I,x=l(x,B,C,I,a,6,s[48]),B,C,g,10,s[49]),x,B,M,15,s[50]),I,x,y,21,s[51]),C=l(C,I=l(I,x=l(x,B,C,I,S,6,s[52]),B,C,p,10,s[53]),x,B,_,15,s[54]),I,x,u,21,s[55]),C=l(C,I=l(I,x=l(x,B,C,I,b,6,s[56]),B,C,A,10,s[57]),x,B,v,15,s[58]),I,x,E,21,s[59]),C=l(C,I=l(I,x=l(x,B,C,I,m,6,s[60]),B,C,k,10,s[61]),x,B,d,15,s[62]),I,x,w,21,s[63]),o[0]=o[0]+x|0,o[1]=o[1]+B|0,o[2]=o[2]+C|0,o[3]=o[3]+I|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,u=s.words,c=0;c<4;c++){var f=u[c];u[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,r,n,i,o,a){var s=t+(e&r|~e&n)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,r,n,i,o,a){var s=t+(e&n|r&~n)+i+a;return(s<<o|s>>>32-o)+e}function h(t,e,r,n,i,o,a){var s=t+(e^r^n)+i+a;return(s<<o|s>>>32-o)+e}function l(t,e,r,n,i,o,a){var s=t+(r^(e|~n))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(u),e.HmacMD5=o._createHmacHelper(u)}(Math),r.MD5)}),et(function(t,e){var r,n,i,o,a,s,u;t.exports=(i=(n=r=ZM).lib,o=i.WordArray,a=i.Hasher,s=[],u=n.algo.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],u=r[4],c=0;c<80;c++){if(c<16)s[c]=0|t[e+c];else{var f=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=f<<1|f>>>31}var h=(n<<5|n>>>27)+u+s[c];h+=c<20?1518500249+(i&o|~i&a):c<40?1859775393+(i^o^a):c<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=a._createHelper(u),n.HmacSHA1=a._createHmacHelper(u),r.SHA1)}),et(function(t,e){var r;t.exports=(r=ZM,function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=r(t.pow(n,.5))),u[i]=r(t.pow(n,1/3)),i++),n++}();var c=[],f=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],f=r[5],h=r[6],l=r[7],d=0;d<64;d++){if(d<16)c[d]=0|t[e+d];else{var p=c[d-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,y=c[d-2],v=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[d]=m+c[d-7]+v+c[d-16]}var g=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=l+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&f^~s&h)+u[d]+c[d];l=h,h=f,f=s,s=a+w|0,a=o,o=i,i=n,n=w+(b+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+f|0,r[6]=r[6]+h|0,r[7]=r[7]+l|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=o._createHelper(f),e.HmacSHA256=o._createHmacHelper(f)}(Math),r.SHA256)}),et(function(t,e){var r,n,i,o,a,s;t.exports=(i=(n=r=ZM).lib.WordArray,o=n.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=a._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=a._createHelper(s),n.HmacSHA224=a._createHmacHelper(s),r.SHA224)}),et(function(t,e){var r;t.exports=(r=ZM,function(){var t=r,e=t.lib.Hasher,n=t.x64,i=n.Word,o=n.WordArray,a=t.algo;function s(){return i.create.apply(i,arguments)}var u=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var t=0;t<80;t++)c[t]=s()}();var f=a.SHA512=e.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],f=r[5],h=r[6],l=r[7],d=n.high,p=n.low,m=i.high,y=i.low,v=o.high,g=o.low,b=a.high,w=a.low,_=s.high,k=s.low,S=f.high,E=f.low,M=h.high,A=h.low,x=l.high,B=l.low,C=d,I=p,T=m,P=y,N=v,R=g,L=b,O=w,j=_,D=k,U=S,F=E,q=M,K=A,z=x,V=B,H=0;H<80;H++){var G=c[H];if(H<16)var $=G.high=0|t[e+2*H],W=G.low=0|t[e+2*H+1];else{var Y=c[H-15],Z=Y.high,Q=Y.low,X=(Z>>>1|Q<<31)^(Z>>>8|Q<<24)^Z>>>7,J=(Q>>>1|Z<<31)^(Q>>>8|Z<<24)^(Q>>>7|Z<<25),tt=c[H-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,it=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),ot=c[H-7],at=ot.high,st=ot.low,ut=c[H-16],ct=ut.high,ft=ut.low;$=($=($=X+at+((W=J+st)>>>0<J>>>0?1:0))+nt+((W+=it)>>>0<it>>>0?1:0))+ct+((W+=ft)>>>0<ft>>>0?1:0),G.high=$,G.low=W}var ht,lt=j&U^~j&q,dt=D&F^~D&K,pt=C&T^C&N^T&N,mt=I&P^I&R^P&R,yt=(C>>>28|I<<4)^(C<<30|I>>>2)^(C<<25|I>>>7),vt=(I>>>28|C<<4)^(I<<30|C>>>2)^(I<<25|C>>>7),gt=(j>>>14|D<<18)^(j>>>18|D<<14)^(j<<23|D>>>9),bt=(D>>>14|j<<18)^(D>>>18|j<<14)^(D<<23|j>>>9),wt=u[H],_t=wt.high,kt=wt.low,St=z+gt+((ht=V+bt)>>>0<V>>>0?1:0),Et=vt+mt;z=q,V=K,q=U,K=F,U=j,F=D,j=L+(St=(St=(St=St+lt+((ht+=dt)>>>0<dt>>>0?1:0))+_t+((ht+=kt)>>>0<kt>>>0?1:0))+$+((ht+=W)>>>0<W>>>0?1:0))+((D=O+ht|0)>>>0<O>>>0?1:0)|0,L=N,O=R,N=T,R=P,T=C,P=I,C=St+(yt+pt+(Et>>>0<vt>>>0?1:0))+((I=ht+Et|0)>>>0<ht>>>0?1:0)|0}p=n.low=p+I,n.high=d+C+(p>>>0<I>>>0?1:0),y=i.low=y+P,i.high=m+T+(y>>>0<P>>>0?1:0),g=o.low=g+R,o.high=v+N+(g>>>0<R>>>0?1:0),w=a.low=w+O,a.high=b+L+(w>>>0<O>>>0?1:0),k=s.low=k+D,s.high=_+j+(k>>>0<D>>>0?1:0),E=f.low=E+F,f.high=S+U+(E>>>0<F>>>0?1:0),A=h.low=A+K,h.high=M+q+(A>>>0<K>>>0?1:0),B=l.low=B+V,l.high=x+z+(B>>>0<V>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(f),t.HmacSHA512=e._createHmacHelper(f)}(),r.SHA512)}),et(function(t,e){var r,n,i,o,a,s,u,c;t.exports=(i=(n=r=ZM).x64,o=i.Word,a=i.WordArray,s=n.algo,u=s.SHA512,c=s.SHA384=u.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var t=u._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=u._createHelper(c),n.HmacSHA384=u._createHmacHelper(c),r.SHA384)}),et(function(t,e){var r;t.exports=(r=ZM,function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.x64.Word,s=e.algo,u=[],c=[],f=[];!function(){for(var t=1,e=0,r=0;r<24;r++){u[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)c[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,h=0,l=0;l<7;l++){if(1&i){var d=(1<<l)-1;d<32?h^=1<<d:s^=1<<d-32}128&i?i=i<<1^113:i<<=1}f[o]=a.create(s,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=a.create()}();var l=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=t[e+2*i],a=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(B=r[i]).high^=a,B.low^=o}for(var s=0;s<24;s++){for(var l=0;l<5;l++){for(var d=0,p=0,m=0;m<5;m++)d^=(B=r[l+5*m]).high,p^=B.low;var y=h[l];y.high=d,y.low=p}for(l=0;l<5;l++){var v=h[(l+4)%5],g=h[(l+1)%5],b=g.high,w=g.low;for(d=v.high^(b<<1|w>>>31),p=v.low^(w<<1|b>>>31),m=0;m<5;m++)(B=r[l+5*m]).high^=d,B.low^=p}for(var _=1;_<25;_++){var k=(B=r[_]).high,S=B.low,E=u[_];E<32?(d=k<<E|S>>>32-E,p=S<<E|k>>>32-E):(d=S<<E-32|k>>>64-E,p=k<<E-32|S>>>64-E);var M=h[c[_]];M.high=d,M.low=p}var A=h[0],x=r[0];for(A.high=x.high,A.low=x.low,l=0;l<5;l++)for(m=0;m<5;m++){var B=r[_=l+5*m],C=h[_],I=h[(l+1)%5+5*m],T=h[(l+2)%5+5*m];B.high=C.high^~I.high&T.high,B.low=C.low^~I.low&T.low}B=r[0];var P=f[s];B.high^=P.high,B.low^=P.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,u=s/8,c=[],f=0;f<u;f++){var h=a[f],l=h.high,d=h.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),c.push(d),c.push(l)}return new i.init(c,s)},clone:function(){for(var t=o.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=o._createHelper(l),e.HmacSHA3=o._createHmacHelper(l)}(Math),r.SHA3)})),XM=(et(function(t,e){var r;t.exports=(r=ZM,function(t){var e=r,n=e.lib,i=n.WordArray,o=n.Hasher,a=e.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),l=i.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,d,w,_,k,S,E,M,A,x,B=this._hash.words,C=h.words,I=l.words,T=s.words,P=u.words,N=c.words,R=f.words;for(k=o=B[0],S=a=B[1],E=d=B[2],M=w=B[3],A=_=B[4],r=0;r<80;r+=1)x=o+t[e+T[r]]|0,x+=r<16?p(a,d,w)+C[0]:r<32?m(a,d,w)+C[1]:r<48?y(a,d,w)+C[2]:r<64?v(a,d,w)+C[3]:g(a,d,w)+C[4],x=(x=b(x|=0,N[r]))+_|0,o=_,_=w,w=b(d,10),d=a,a=x,x=k+t[e+P[r]]|0,x+=r<16?g(S,E,M)+I[0]:r<32?v(S,E,M)+I[1]:r<48?y(S,E,M)+I[2]:r<64?m(S,E,M)+I[3]:p(S,E,M)+I[4],x=(x=b(x|=0,R[r]))+A|0,k=A,A=M,M=b(E,10),E=S,S=x;x=B[1]+d+M|0,B[1]=B[2]+w+A|0,B[2]=B[3]+_+k|0,B[3]=B[4]+o+S|0,B[4]=B[0]+a+E|0,B[0]=x},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,r){return t^e^r}function m(t,e,r){return t&e|~t&r}function y(t,e,r){return(t|~e)^r}function v(t,e,r){return t&r|e&~r}function g(t,e,r){return t^(e|~r)}function b(t,e){return t<<e|t>>>32-e}e.RIPEMD160=o._createHelper(d),e.HmacRIPEMD160=o._createHmacHelper(d)}(Math),r.RIPEMD160)}),et(function(t,e){var r,n,i,o,a,s;t.exports=(n=(r=ZM).lib,i=n.Base,o=r.enc,a=o.Utf8,s=r.algo,void(s.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=a.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),s=i.words,u=o.words,c=0;c<r;c++)s[c]^=1549556828,u[c]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);e.reset();var n=e.finalize(this._oKey.clone().concat(r));return n}})))}),et(function(t,e){var r,n,i,o,a,s,u,c,f;t.exports=(i=(n=r=ZM).lib,o=i.Base,a=i.WordArray,s=n.algo,u=s.SHA1,c=s.HMAC,f=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=c.create(r.hasher,t),i=a.create(),o=a.create([1]),s=i.words,u=o.words,f=r.keySize,h=r.iterations;s.length<f;){var l=n.update(e).finalize(o);n.reset();for(var d=l.words,p=d.length,m=l,y=1;y<h;y++){m=n.finalize(m),n.reset();for(var v=m.words,g=0;g<p;g++)d[g]^=v[g]}i.concat(l),u[0]++}return i.sigBytes=4*f,i}}),n.PBKDF2=function(t,e,r){return f.create(r).compute(t,e)},r.PBKDF2)}),et(function(t,e){var r,n,i,o,a,s,u,c;t.exports=(i=(n=r=ZM).lib,o=i.Base,a=i.WordArray,s=n.algo,u=s.MD5,c=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),i=a.create(),o=i.words,s=r.keySize,u=r.iterations;o.length<s;){c&&n.update(c);var c=n.update(t).finalize(e);n.reset();for(var f=1;f<u;f++)c=n.finalize(c),n.reset();i.concat(c)}return i.sigBytes=4*s,i}}),n.EvpKDF=function(t,e,r){return c.create(r).compute(t,e)},r.EvpKDF)}),et(function(t,e){var r;t.exports=void((r=ZM).lib.Cipher||function(t){var e=r,n=e.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=e.enc,u=(s.Utf8,s.Base64),c=e.algo,f=c.EvpKDF,h=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){t&&this._append(t);var e=this._doFinalize();return e},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?S:w}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),l=(n.StreamCipher=h.extend({_doFinalize:function(){var t=this._process(!0);return t},blockSize:1}),e.mode={}),d=n.BlockCipherMode=i.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=l.CBC=function(){var e=d.extend();function r(e,r,n){var i=this._iv;if(i){var o=i;this._iv=t}else var o=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;r.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),r.call(this,t,e,i),this._prevBlock=o}}),e}(),m=e.pad={},y=m.Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(i);var u=o.create(a,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},v=(n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:y}),reset:function(){h.reset.call(this);var t=this.cfg,e=t.iv,r=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{var n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{var e=this._process(!0);t.unpad(e)}return e},blockSize:4}),n.CipherParams=i.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=e.format={},b=g.OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;if(r)var n=o.create([1398893684,1701076831]).concat(r).concat(e);else var n=e;return n.toString(u)},parse:function(t){var e=u.parse(t),r=e.words;if(1398893684==r[0]&&1701076831==r[1]){var n=o.create(r.slice(2,4));r.splice(0,4),e.sigBytes-=16}return v.create({ciphertext:e,salt:n})}},w=n.SerializableCipher=i.extend({cfg:i.extend({format:b}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),a=i.cfg;return v.create({ciphertext:o,key:r,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=t.createDecryptor(r,n).finalize(e.ciphertext);return i},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),_=e.kdf={},k=_.OpenSSL={execute:function(t,e,r,n){n||(n=o.random(8));var i=f.create({keySize:e+r}).compute(t,n),a=o.create(i.words.slice(e),4*r);return i.sigBytes=4*e,v.create({key:i,iv:a,salt:n})}},S=n.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:k}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var o=w.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);n.iv=i.iv;var o=w.decrypt.call(this,t,e,i.key,n);return o}})}())}),et(function(t,e){var r;t.exports=((r=ZM).mode.CFB=function(){var t=r.lib.BlockCipherMode.extend();function e(t,e,r,n){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;n.encryptBlock(o,0);for(var a=0;a<r;a++)t[e+a]^=o[a]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i,n),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);e.call(this,t,r,i,n),this._prevBlock=o}}),t}(),r.mode.CFB)}),et(function(t,e){var r,n,i;t.exports=((r=ZM).mode.CTR=(n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);r.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++)t[e+s]^=a[s]}}),n.Decryptor=i,n),r.mode.CTR)}),et(function(t,e){var r;t.exports=((r=ZM).mode.CTRGladman=function(){var t=r.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}else t+=1<<24;return t}var n=t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(a);var s=a.slice(0);n.encryptBlock(s,0);for(var u=0;u<i;u++)t[r+u]^=s[u]}});return t.Decryptor=n,t}(),r.mode.CTRGladman)}),et(function(t,e){var r,n,i;t.exports=((r=ZM).mode.OFB=(n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var a=0;a<n;a++)t[e+a]^=o[a]}}),n.Decryptor=i,n),r.mode.OFB)}),et(function(t,e){var r,n;t.exports=((r=ZM).mode.ECB=((n=r.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),r.mode.ECB)}),et(function(t,e){var r;t.exports=((r=ZM).pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,i=n-r%n,o=r+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Ansix923)}),et(function(t,e){var r;t.exports=((r=ZM).pad.Iso10126={pad:function(t,e){var n=4*e,i=n-t.sigBytes%n;t.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},r.pad.Iso10126)}),et(function(t,e){var r;t.exports=((r=ZM).pad.Iso97971={pad:function(t,e){t.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(t,e)},unpad:function(t){r.pad.ZeroPadding.unpad(t),t.sigBytes--}},r.pad.Iso97971)}),et(function(t,e){var r;t.exports=((r=ZM).pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}},r.pad.ZeroPadding)}),et(function(t,e){var r;t.exports=((r=ZM).pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)}),et(function(t,e){var r,n,i,o;t.exports=(i=(n=r=ZM).lib.CipherParams,o=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(o)},parse:function(t){var e=o.parse(t);return i.create({ciphertext:e})}},r.format.Hex)}),et(function(t,e){var r;t.exports=(r=ZM,function(){var t=r,e=t.lib.BlockCipher,n=t.algo,i=[],o=[],a=[],s=[],u=[],c=[],f=[],h=[],l=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,o[p]=r;var m=t[r],y=t[m],v=t[y],g=257*t[p]^16843008*p;a[r]=g<<24|g>>>8,s[r]=g<<16|g>>>16,u[r]=g<<8|g>>>24,c[r]=g,g=16843009*v^65537*y^257*m^16843008*r,f[p]=g<<24|g>>>8,h[p]=g<<16|g>>>16,l[p]=g<<8|g>>>24,d[p]=g,r?(r=m^t[t[t[v^m]]],n^=t[t[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++)if(a<r)o[a]=e[a];else{var s=o[a-1];a%r?r>6&&a%r==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=p[a/r|0]<<24),o[a]=o[a-r]^s}for(var u=this._invKeySchedule=[],c=0;c<n;c++)a=n-c,s=c%4?o[a]:o[a-4],u[c]=c<4||a<=4?s:f[i[s>>>24]]^h[i[s>>>16&255]]^l[i[s>>>8&255]]^d[i[255&s]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,u,c,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,f,h,l,d,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,a,s){for(var u=this._nRounds,c=t[e]^r[0],f=t[e+1]^r[1],h=t[e+2]^r[2],l=t[e+3]^r[3],d=4,p=1;p<u;p++){var m=n[c>>>24]^i[f>>>16&255]^o[h>>>8&255]^a[255&l]^r[d++],y=n[f>>>24]^i[h>>>16&255]^o[l>>>8&255]^a[255&c]^r[d++],v=n[h>>>24]^i[l>>>16&255]^o[c>>>8&255]^a[255&f]^r[d++],g=n[l>>>24]^i[c>>>16&255]^o[f>>>8&255]^a[255&h]^r[d++];c=m,f=y,h=v,l=g}m=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^r[d++],y=(s[f>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&c])^r[d++],v=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^r[d++],g=(s[l>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&h])^r[d++],t[e]=m,t[e+1]=y,t[e+2]=v,t[e+3]=g},keySize:8});t.AES=e._createHelper(m)}(),r.AES)}),et(function(t,e){var r;t.exports=(r=ZM,function(){var t=r,e=t.lib,n=e.WordArray,i=e.BlockCipher,o=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=a[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],f=u[o];for(r=0;r<24;r++)c[r/6|0]|=e[(s[r]-1+f)%28]<<31-r%6,c[4+(r/6|0)]|=e[28+(s[r+24]-1+f)%28]<<31-r%6;for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],l.call(this,4,252645135),l.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),l.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,a=this._rBlock,s=0,u=0;u<8;u++)s|=c[u][((a^i[u])&f[u])>>>0];this._lBlock=a,this._rBlock=o^s}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,l.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function d(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=i._createHelper(h);var p=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(n.create(t.slice(0,2))),this._des2=h.createEncryptor(n.create(t.slice(2,4))),this._des3=h.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),r.TripleDES)}),et(function(t,e){var r;t.exports=(r=ZM,function(){var t=r,e=t.lib.StreamCipher,n=t.algo,i=n.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var a=i%r,s=e[a>>>2]>>>24-a%4*8&255;o=(o+n[i]+s)%256;var u=n[i];n[i]=n[o],n[o]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var t=this._S,e=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[r],t[r]=o,n|=t[(t[e]+t[r])%256]<<24-8*i}return this._i=e,this._j=r,n}t.RC4=e._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)o.call(this)}});t.RC4Drop=e._createHelper(a)}(),r.RC4)}),et(function(t,e){var r;t.exports=(r=ZM,function(){var t=r,e=t.lib.StreamCipher,n=[],i=[],o=[],a=t.algo.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)s.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var o=e.words,a=o[0],u=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),h=c>>>16|4294901760&f,l=f<<16|65535&c;for(i[0]^=c,i[1]^=h,i[2]^=f,i[3]^=l,i[4]^=c,i[5]^=h,i[6]^=f,i[7]^=l,r=0;r<4;r++)s.call(this)}},_doProcessBlock:function(t,e){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],a=65535&n,s=n>>>16,u=((a*a>>>17)+a*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=u^c}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=e._createHelper(a)}(),r.Rabbit)}),et(function(t,e){var r;t.exports=(r=ZM,function(){var t=r,e=t.lib.StreamCipher,n=[],i=[],o=[],a=t.algo.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)s.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var o=e.words,a=o[0],u=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),f=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),h=c>>>16|4294901760&f,l=f<<16|65535&c;for(n[0]^=c,n[1]^=h,n[2]^=f,n[3]^=l,n[4]^=c,n[5]^=h,n[6]^=f,n[7]^=l,i=0;i<4;i++)s.call(this)}},_doProcessBlock:function(t,e){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var t=this._X,e=this._C,r=0;r<8;r++)i[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<i[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<i[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<i[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<i[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<i[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<i[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<i[6]>>>0?1:0)|0,this._b=e[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],a=65535&n,s=n>>>16,u=((a*a>>>17)+a*s>>>15)+s*s,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=u^c}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=e._createHelper(a)}(),r.RabbitLegacy)}),et(function(t,e){t.exports=ZM})),JM=function(t,e){return e&&"hex"===e.encoding&&(t.length>2&&"0x"===t.substr(0,2)&&(t=t.substr(2)),t=XM.enc.Hex.parse(t)),QM(t,{outputLength:256}).toString()},tA={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"},eA=function(t,e,r){return new Array(e-t.length+1).join(r||"0")+t},rA=function(t,e){t=yt.encode(t);for(var r="",n=0;n<t.length;n++){var i=t.charCodeAt(n);if(0===i){if(!e)break;r+="00"}else{var o=i.toString(16);r+=o.length<2?"0"+o:o}}return"0x"+r},nA=function(t){var e=aA(t),r=e.toString(16);return e.lessThan(0)?"-0x"+r.substr(1):"0x"+r},iA=function(t){if(hA(t))return nA(+t);if(cA(t))return nA(t);if("object"==typeof t)return rA(JSON.stringify(t));if(fA(t)){if(0===t.indexOf("-0x"))return nA(t);if(0===t.indexOf("0x"))return t;if(!isFinite(t))return rA(t,1)}return nA(t)},oA=function(t){t=t?t.toLowerCase():"ether";var e=tA[t];if(void 0===e)throw new Error("This unit doesn't exists, please use the one of the following units"+JSON.stringify(tA,null,2));return new YM(e,10)},aA=function(t){return cA(t=t||0)?t:!fA(t)||0!==t.indexOf("0x")&&0!==t.indexOf("-0x")?new YM(t.toString(10),10):new YM(t.replace("0x",""),16)},sA=function(t){return/^0x[0-9a-f]{40}$/i.test(t)},uA=function(t){t=t.replace("0x","");for(var e=JM(t.toLowerCase()),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},cA=function(t){return t instanceof YM||t&&t.constructor&&"BigNumber"===t.constructor.name},fA=function(t){return"string"==typeof t||t&&t.constructor&&"String"===t.constructor.name},hA=function(t){return"boolean"==typeof t},lA={padLeft:eA,padRight:function(t,e,r){return t+new Array(e-t.length+1).join(r||"0")},toHex:iA,toDecimal:function(t){return aA(t).toNumber()},fromDecimal:nA,toUtf8:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);if(0===i)break;e+=String.fromCharCode(i)}return yt.decode(e)},toAscii:function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},fromUtf8:rA,fromAscii:function(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},transformToFullName:function(t){if(-1!==t.name.indexOf("("))return t.name;var e=t.inputs.map(function(t){return t.type}).join();return t.name+"("+e+")"},extractDisplayName:function(t){var e=t.indexOf("("),r=t.indexOf(")");return-1!==e&&-1!==r?t.substr(0,e):t},extractTypeName:function(t){var e=t.indexOf("("),r=t.indexOf(")");return-1!==e&&-1!==r?t.substr(e+1,r-e-1).replace(" ",""):""},toWei:function(t,e){var r=aA(t).times(oA(e));return cA(t)?r:r.toString(10)},fromWei:function(t,e){var r=aA(t).dividedBy(oA(e));return cA(t)?r:r.toString(10)},toBigNumber:aA,toTwosComplement:function(t){var e=aA(t).round();return e.lessThan(0)?new YM("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16).plus(e).plus(1):e},toAddress:function(t){return sA(t)?t:/^[0-9a-f]{40}$/.test(t)?"0x"+t:"0x"+eA(iA(t).substr(2),40)},isBigNumber:cA,isStrictAddress:sA,isAddress:function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x)?[0-9a-f]{40}$/.test(t)&&!/^(0x)?[0-9A-F]{40}$/.test(t))||uA(t))},isChecksumAddress:uA,toChecksumAddress:function(t){if(void 0===t)return"";t=t.toLowerCase().replace("0x","");for(var e=JM(t),r="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},isFunction:function(t){return"function"==typeof t},isString:fA,isObject:function(t){return null!==t&&!Array.isArray(t)&&"object"==typeof t},isBoolean:hA,isArray:function(t){return Array.isArray(t)},isJson:function(t){try{return!!JSON.parse(t)}catch(t){return!1}},isBloom:function(t){return!(!/^(0x)?[0-9a-f]{512}$/i.test(t)||!/^(0x)?[0-9a-f]{512}$/.test(t)&&!/^(0x)?[0-9A-F]{512}$/.test(t))},isTopic:function(t){return!(!/^(0x)?[0-9a-f]{64}$/i.test(t)||!/^(0x)?[0-9a-f]{64}$/.test(t)&&!/^(0x)?[0-9A-F]{64}$/.test(t))}},dA={ETH_PADDING:32,ETH_SIGNATURE_LENGTH:4,ETH_UNITS:["wei","kwei","Mwei","Gwei","szabo","finney","femtoether","picoether","nanoether","microether","milliether","nano","micro","milli","ether","grand","Mether","Gether","Tether","Pether","Eether","Zether","Yether","Nether","Dether","Vether","Uether"],ETH_BIGNUMBER_ROUNDING_MODE:{ROUNDING_MODE:YM.ROUND_DOWN},ETH_POLLING_TIMEOUT:500,defaultBlock:"latest",defaultAccount:void 0},pA=function(){return new Error("Invalid number of arguments to Solidity function")},mA=function(){return new Error("Invalid number of input parameters to RPC method")},yA=function(t){return new Error("CONNECTION ERROR: Couldn't connect to node "+t+".")},vA=function(){return new Error("Provider not set or invalid")},gA=function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},bA=function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")},wA=function(t){this.provider=t,this.polls={},this.timeout=null};wA.prototype.send=function(t){if(!this.provider)return console.error(vA()),null;var e=WM.toPayload(t.method,t.params),r=this.provider.send(e);if(!WM.isValidResponse(r))throw gA(r);return r.result},wA.prototype.sendAsync=function(t,e){if(!this.provider)return e(vA());var r=WM.toPayload(t.method,t.params);this.provider.sendAsync(r,function(t,r){return t?e(t):WM.isValidResponse(r)?void e(null,r.result):e(gA(r))})},wA.prototype.sendBatch=function(t,e){if(!this.provider)return e(vA());var r=WM.toBatchPayload(t);this.provider.sendAsync(r,function(t,r){return t?e(t):lA.isArray(r)?void e(t,r):e(gA(r))})},wA.prototype.setProvider=function(t){this.provider=t},wA.prototype.startPolling=function(t,e,r,n){this.polls[e]={data:t,id:e,callback:r,uninstall:n},this.timeout||this.poll()},wA.prototype.stopPolling=function(t){delete this.polls[t],0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},wA.prototype.reset=function(t){for(var e in this.polls)t&&-1!==e.indexOf("syncPoll_")||(this.polls[e].uninstall(),delete this.polls[e]);0===Object.keys(this.polls).length&&this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},wA.prototype.poll=function(){if(this.timeout=setTimeout(this.poll.bind(this),dA.ETH_POLLING_TIMEOUT),0!==Object.keys(this.polls).length)if(this.provider){var t=[],e=[];for(var r in this.polls)t.push(this.polls[r].data),e.push(r);if(0!==t.length){var n=WM.toBatchPayload(t),i={};n.forEach(function(t,r){i[t.id]=e[r]});var o=this;this.provider.sendAsync(n,function(t,e){if(!t){if(!lA.isArray(e))throw gA(e);e.map(function(t){var e=i[t.id];return!!o.polls[e]&&(t.callback=o.polls[e].callback,t)}).filter(function(t){return!!t}).filter(function(t){var e=WM.isValidResponse(t);return e||t.callback(gA(t)),e}).forEach(function(t){t.callback(null,t.result)})}})}}else console.error(vA())};var _A=wA,kA=function(t,e){for(var r=t;r.length<2*e;)r="0"+r;return r},SA=function(t){var e="A".charCodeAt(0),r="Z".charCodeAt(0);return(t=(t=t.toUpperCase()).substr(4)+t.substr(0,4)).split("").map(function(t){var n=t.charCodeAt(0);return n>=e&&n<=r?n-e+10:t}).join("")},EA=function(t){for(var e,r=t;r.length>2;)e=r.slice(0,9),r=parseInt(e,10)%97+r.slice(e.length);return parseInt(r,10)%97},MA=function(t){this._iban=t};MA.fromAddress=function(t){var e=new YM(t,16).toString(36),r=kA(e,15);return MA.fromBban(r.toUpperCase())},MA.fromBban=function(t){var e=("0"+(98-EA(SA("XE00"+t)))).slice(-2);return new MA("XE"+e+t)},MA.createIndirect=function(t){return MA.fromBban("ETH"+t.institution+t.identifier)},MA.isValid=function(t){return new MA(t).isValid()},MA.prototype.isValid=function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===EA(SA(this._iban))},MA.prototype.isDirect=function(){return 34===this._iban.length||35===this._iban.length},MA.prototype.isIndirect=function(){return 20===this._iban.length},MA.prototype.checksum=function(){return this._iban.substr(2,2)},MA.prototype.institution=function(){return this.isIndirect()?this._iban.substr(7,4):""},MA.prototype.client=function(){return this.isIndirect()?this._iban.substr(11):""},MA.prototype.address=function(){if(this.isDirect()){var t=this._iban.substr(4),e=new YM(t,36);return kA(e.toString(16),20)}return""},MA.prototype.toString=function(){return this._iban};var AA=MA,xA=function(t){if(void 0!==t)return function(t){return"latest"===t||"pending"===t||"earliest"===t}(t)?t:lA.toHex(t)},BA=function(t){return null!==t.blockNumber&&(t.blockNumber=lA.toDecimal(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=lA.toDecimal(t.transactionIndex)),t.nonce=lA.toDecimal(t.nonce),t.gas=lA.toDecimal(t.gas),t.gasPrice=lA.toBigNumber(t.gasPrice),t.value=lA.toBigNumber(t.value),t},CA=function(t){return t.blockNumber&&(t.blockNumber=lA.toDecimal(t.blockNumber)),t.transactionIndex&&(t.transactionIndex=lA.toDecimal(t.transactionIndex)),t.logIndex&&(t.logIndex=lA.toDecimal(t.logIndex)),t},IA=function(t){var e=new AA(t);if(e.isValid()&&e.isDirect())return"0x"+e.address();if(lA.isStrictAddress(t))return t;if(lA.isAddress(t))return"0x"+t;throw new Error("invalid address")},TA={inputDefaultBlockNumberFormatter:function(t){return void 0===t?dA.defaultBlock:xA(t)},inputBlockNumberFormatter:xA,inputCallFormatter:function(t){return t.from=t.from||dA.defaultAccount,t.from&&(t.from=IA(t.from)),t.to&&(t.to=IA(t.to)),["gasPrice","gas","value","nonce"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=lA.fromDecimal(t[e])}),t},inputTransactionFormatter:function(t){return t.from=t.from||dA.defaultAccount,t.from=IA(t.from),t.to&&(t.to=IA(t.to)),["gasPrice","gas","value","nonce"].filter(function(e){return void 0!==t[e]}).forEach(function(e){t[e]=lA.fromDecimal(t[e])}),t},inputAddressFormatter:IA,inputPostFormatter:function(t){return t.ttl=lA.fromDecimal(t.ttl),t.workToProve=lA.fromDecimal(t.workToProve),t.priority=lA.fromDecimal(t.priority),lA.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map(function(t){return 0===t.indexOf("0x")?t:lA.fromUtf8(t)}),t},outputBigNumberFormatter:function(t){return lA.toBigNumber(t)},outputTransactionFormatter:BA,outputTransactionReceiptFormatter:function(t){return null!==t.blockNumber&&(t.blockNumber=lA.toDecimal(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=lA.toDecimal(t.transactionIndex)),t.cumulativeGasUsed=lA.toDecimal(t.cumulativeGasUsed),t.gasUsed=lA.toDecimal(t.gasUsed),lA.isArray(t.logs)&&(t.logs=t.logs.map(function(t){return CA(t)})),t},outputBlockFormatter:function(t){return t.gasLimit=lA.toDecimal(t.gasLimit),t.gasUsed=lA.toDecimal(t.gasUsed),t.size=lA.toDecimal(t.size),t.timestamp=lA.toDecimal(t.timestamp),null!==t.number&&(t.number=lA.toDecimal(t.number)),t.difficulty=lA.toBigNumber(t.difficulty),t.totalDifficulty=lA.toBigNumber(t.totalDifficulty),lA.isArray(t.transactions)&&t.transactions.forEach(function(t){if(!lA.isString(t))return BA(t)}),t},outputLogFormatter:CA,outputPostFormatter:function(t){return t.expiry=lA.toDecimal(t.expiry),t.sent=lA.toDecimal(t.sent),t.ttl=lA.toDecimal(t.ttl),t.workProved=lA.toDecimal(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map(function(t){return lA.toAscii(t)}),t},outputSyncingFormatter:function(t){return t?(t.startingBlock=lA.toDecimal(t.startingBlock),t.currentBlock=lA.toDecimal(t.currentBlock),t.highestBlock=lA.toDecimal(t.highestBlock),t.knownStates&&(t.knownStates=lA.toDecimal(t.knownStates),t.pulledStates=lA.toDecimal(t.pulledStates)),t):t}},PA=function(t){this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.requestManager=null};PA.prototype.setRequestManager=function(t){this.requestManager=t},PA.prototype.getCall=function(t){return lA.isFunction(this.call)?this.call(t):this.call},PA.prototype.extractCallback=function(t){if(lA.isFunction(t[t.length-1]))return t.pop()},PA.prototype.validateArgs=function(t){if(t.length!==this.params)throw mA()},PA.prototype.formatInput=function(t){return this.inputFormatter?this.inputFormatter.map(function(e,r){return e?e(t[r]):t[r]}):t},PA.prototype.formatOutput=function(t){return this.outputFormatter&&t?this.outputFormatter(t):t},PA.prototype.toPayload=function(t){var e=this.getCall(t),r=this.extractCallback(t),n=this.formatInput(t);return this.validateArgs(n),{method:e,params:n,callback:r}},PA.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},PA.prototype.buildCall=function(){var t=this,e=function(){var e=t.toPayload(Array.prototype.slice.call(arguments));return e.callback?t.requestManager.sendAsync(e,function(r,n){e.callback(r,t.formatOutput(n))}):t.formatOutput(t.requestManager.send(e))};return e.request=this.request.bind(this),e},PA.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t};var NA=PA,RA=function(t){this.name=t.name,this.getter=t.getter,this.setter=t.setter,this.outputFormatter=t.outputFormatter,this.inputFormatter=t.inputFormatter,this.requestManager=null};RA.prototype.setRequestManager=function(t){this.requestManager=t},RA.prototype.formatInput=function(t){return this.inputFormatter?this.inputFormatter(t):t},RA.prototype.formatOutput=function(t){return this.outputFormatter&&null!==t&&void 0!==t?this.outputFormatter(t):t},RA.prototype.extractCallback=function(t){if(lA.isFunction(t[t.length-1]))return t.pop()},RA.prototype.attachToObject=function(t){var e={get:this.buildGet(),enumerable:!0},r=this.name.split("."),n=r[0];r.length>1&&(t[r[0]]=t[r[0]]||{},t=t[r[0]],n=r[1]),Object.defineProperty(t,n,e),t[LA(n)]=this.buildAsyncGet()};var LA=function(t){return"get"+t.charAt(0).toUpperCase()+t.slice(1)};RA.prototype.buildGet=function(){var t=this;return function(){return t.formatOutput(t.requestManager.send({method:t.getter}))}},RA.prototype.buildAsyncGet=function(){var t=this,e=function(e){t.requestManager.sendAsync({method:t.getter},function(r,n){e(r,t.formatOutput(n))})};return e.request=this.request.bind(this),e},RA.prototype.request=function(){var t={method:this.getter,params:[],callback:this.extractCallback(Array.prototype.slice.call(arguments))};return t.format=this.formatOutput.bind(this),t};var OA=RA,jA=function(t,e){this.value=t||"",this.offset=e};jA.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},jA.prototype.withOffset=function(t){return new jA(this.value,t)},jA.prototype.combine=function(t){return new jA(this.value+t.value)},jA.prototype.isDynamic=function(){return void 0!==this.offset},jA.prototype.offsetAsBytes=function(){return this.isDynamic()?lA.padLeft(lA.toTwosComplement(this.offset).toString(16),64):""},jA.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},jA.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},jA.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},jA.encodeList=function(t){var e=32*t.length,r=t.map(function(t){if(!t.isDynamic())return t;var r=e;return e+=t.dynamicPartLength(),t.withOffset(r)});return r.reduce(function(t,e){return t+e.dynamicPart()},r.reduce(function(t,e){return t+e.staticPart()},""))};var DA=jA,UA=function(t){YM.config(dA.ETH_BIGNUMBER_ROUNDING_MODE);var e=lA.padLeft(lA.toTwosComplement(t).toString(16),64);return new DA(e)},FA=function(t){var e=t.staticPart()||"0";return function(t){return"1"===new YM(t.substr(0,1),16).toString(2).substr(0,1)}(e)?new YM(e,16).minus(new YM("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16)).minus(1):new YM(e,16)},qA=function(t){var e=t.staticPart()||"0";return new YM(e,16)},KA=UA,zA=function(t){var e=lA.toHex(t).substr(2),r=Math.floor((e.length+63)/64);return e=lA.padRight(e,64*r),new DA(e)},VA=function(t){var e=lA.toHex(t).substr(2),r=e.length/2,n=Math.floor((e.length+63)/64);return e=lA.padRight(e,64*n),new DA(UA(r).value+e)},HA=function(t){var e=lA.fromUtf8(t).substr(2),r=e.length/2,n=Math.floor((e.length+63)/64);return e=lA.padRight(e,64*n),new DA(UA(r).value+e)},GA=function(t){return new DA("000000000000000000000000000000000000000000000000000000000000000"+(t?"1":"0"))},$A=function(t){return UA(new YM(t).times(new YM(2).pow(128)))},WA=FA,YA=qA,ZA=function(t){return FA(t).dividedBy(new YM(2).pow(128))},QA=function(t){return qA(t).dividedBy(new YM(2).pow(128))},XA=function(t){return"0000000000000000000000000000000000000000000000000000000000000001"===t.staticPart()},JA=function(t,e){var r=e.match(/^bytes([0-9]*)/),n=parseInt(r[1]);return"0x"+t.staticPart().slice(0,2*n)},tx=function(t){var e=2*new YM(t.dynamicPart().slice(0,64),16).toNumber();return"0x"+t.dynamicPart().substr(64,e)},ex=function(t){var e=2*new YM(t.dynamicPart().slice(0,64),16).toNumber();return lA.toUtf8(t.dynamicPart().substr(64,e))},rx=function(t){var e=t.staticPart();return"0x"+e.slice(e.length-40,e.length)},nx=function(t){this._inputFormatter=t.inputFormatter,this._outputFormatter=t.outputFormatter};nx.prototype.isType=function(t){throw"this method should be overrwritten for type "+t},nx.prototype.staticPartLength=function(t){return(this.nestedTypes(t)||["[1]"]).map(function(t){return parseInt(t.slice(1,-1),10)||1}).reduce(function(t,e){return t*e},32)},nx.prototype.isDynamicArray=function(t){var e=this.nestedTypes(t);return!!e&&!e[e.length-1].match(/[0-9]{1,}/g)},nx.prototype.isStaticArray=function(t){var e=this.nestedTypes(t);return!!e&&!!e[e.length-1].match(/[0-9]{1,}/g)},nx.prototype.staticArrayLength=function(t){var e=this.nestedTypes(t);return e?parseInt(e[e.length-1].match(/[0-9]{1,}/g)||1):1},nx.prototype.nestedName=function(t){var e=this.nestedTypes(t);return e?t.substr(0,t.length-e[e.length-1].length):t},nx.prototype.isDynamicType=function(){return!1},nx.prototype.nestedTypes=function(t){return t.match(/(\[[0-9]*\])/g)},nx.prototype.encode=function(t,e){var r,n,i,o=this;return this.isDynamicArray(e)?(r=t.length,n=o.nestedName(e),(i=[]).push(KA(r).encode()),t.forEach(function(t){i.push(o.encode(t,n))}),i):this.isStaticArray(e)?function(){for(var r=o.staticArrayLength(e),n=o.nestedName(e),i=[],a=0;a<r;a++)i.push(o.encode(t[a],n));return i}():this._inputFormatter(t,e).encode()},nx.prototype.decode=function(t,e,r){var n=this;if(this.isDynamicArray(r))return function(){for(var i=parseInt("0x"+t.substr(2*e,64)),o=parseInt("0x"+t.substr(2*i,64)),a=i+32,s=n.nestedName(r),u=n.staticPartLength(s),c=32*Math.floor((u+31)/32),f=[],h=0;h<o*c;h+=c)f.push(n.decode(t,a+h,s));return f}();if(this.isStaticArray(r))return function(){for(var i=n.staticArrayLength(r),o=e,a=n.nestedName(r),s=n.staticPartLength(a),u=32*Math.floor((s+31)/32),c=[],f=0;f<i*u;f+=u)c.push(n.decode(t,o+f,a));return c}();if(this.isDynamicType(r))return function(){var i=parseInt("0x"+t.substr(2*e,64)),o=parseInt("0x"+t.substr(2*i,64)),a=Math.floor((o+31)/32),s=new DA(t.substr(2*i,64*(1+a)),0);return n._outputFormatter(s,r)}();var i=this.staticPartLength(r),o=new DA(t.substr(2*e,2*i));return this._outputFormatter(o,r)};var ix=nx,ox=function(){this._inputFormatter=KA,this._outputFormatter=rx};(ox.prototype=new ix({})).constructor=ox,ox.prototype.isType=function(t){return!!t.match(/address(\[([0-9]*)\])?/)};var ax=ox,sx=function(){this._inputFormatter=GA,this._outputFormatter=XA};(sx.prototype=new ix({})).constructor=sx,sx.prototype.isType=function(t){return!!t.match(/^bool(\[([0-9]*)\])*$/)};var ux=sx,cx=function(){this._inputFormatter=KA,this._outputFormatter=WA};(cx.prototype=new ix({})).constructor=cx,cx.prototype.isType=function(t){return!!t.match(/^int([0-9]*)?(\[([0-9]*)\])*$/)};var fx=cx,hx=function(){this._inputFormatter=KA,this._outputFormatter=YA};(hx.prototype=new ix({})).constructor=hx,hx.prototype.isType=function(t){return!!t.match(/^uint([0-9]*)?(\[([0-9]*)\])*$/)};var lx=hx,dx=function(){this._inputFormatter=VA,this._outputFormatter=tx};(dx.prototype=new ix({})).constructor=dx,dx.prototype.isType=function(t){return!!t.match(/^bytes(\[([0-9]*)\])*$/)},dx.prototype.isDynamicType=function(){return!0};var px=dx,mx=function(){this._inputFormatter=HA,this._outputFormatter=ex};(mx.prototype=new ix({})).constructor=mx,mx.prototype.isType=function(t){return!!t.match(/^string(\[([0-9]*)\])*$/)},mx.prototype.isDynamicType=function(){return!0};var yx=mx,vx=function(){this._inputFormatter=$A,this._outputFormatter=ZA};(vx.prototype=new ix({})).constructor=vx,vx.prototype.isType=function(t){return!!t.match(/real([0-9]*)?(\[([0-9]*)\])?/)};var gx=vx,bx=function(){this._inputFormatter=$A,this._outputFormatter=QA};(bx.prototype=new ix({})).constructor=bx,bx.prototype.isType=function(t){return!!t.match(/^ureal([0-9]*)?(\[([0-9]*)\])*$/)};var wx=bx,_x=function(){this._inputFormatter=zA,this._outputFormatter=JA};(_x.prototype=new ix({})).constructor=_x,_x.prototype.isType=function(t){return!!t.match(/^bytes([0-9]{1,})(\[([0-9]*)\])*$/)};var kx=_x,Sx=function(t,e){return t.isDynamicType(e)||t.isDynamicArray(e)},Ex=function(t){this._types=t};Ex.prototype._requireType=function(t){var e=this._types.filter(function(e){return e.isType(t)})[0];if(!e)throw Error("invalid solidity type!: "+t);return e},Ex.prototype.encodeParam=function(t,e){return this.encodeParams([t],[e])},Ex.prototype.encodeParams=function(t,e){var r=this.getSolidityTypes(t),n=r.map(function(r,n){return r.encode(e[n],t[n])}),i=r.reduce(function(e,n,i){var o=n.staticPartLength(t[i]),a=32*Math.floor((o+31)/32);return e+(Sx(r[i],t[i])?32:a)},0);return this.encodeMultiWithOffset(t,r,n,i)},Ex.prototype.encodeMultiWithOffset=function(t,e,r,n){var i="",o=this;return t.forEach(function(a,s){if(Sx(e[s],t[s])){i+=KA(n).encode();var u=o.encodeWithOffset(t[s],e[s],r[s],n);n+=u.length/2}else i+=o.encodeWithOffset(t[s],e[s],r[s],n)}),t.forEach(function(a,s){if(Sx(e[s],t[s])){var u=o.encodeWithOffset(t[s],e[s],r[s],n);n+=u.length/2,i+=u}}),i},Ex.prototype.encodeWithOffset=function(t,e,r,n){var i=1,o=2,a=3,s=e.isDynamicArray(t)?i:e.isStaticArray(t)?o:a;if(s!==a){var u=e.nestedName(t),c=e.staticPartLength(u),f=s===i?r[0]:"";if(e.isDynamicArray(u))for(var h=s===i?2:0,l=0;l<r.length;l++)s===i?h+=+r[l-1][0]||0:s===o&&(h+=+(r[l-1]||[])[0]||0),f+=KA(n+l*c+32*h).encode();for(var d=s===i?r.length-1:r.length,p=0;p<d;p++){var m=f/2;s===i?f+=this.encodeWithOffset(u,e,r[p+1],n+m):s===o&&(f+=this.encodeWithOffset(u,e,r[p],n+m))}return f}return r},Ex.prototype.decodeParam=function(t,e){return this.decodeParams([t],e)[0]},Ex.prototype.decodeParams=function(t,e){var r=this.getSolidityTypes(t),n=this.getOffsets(t,r);return r.map(function(r,i){return r.decode(e,n[i],t[i],i)})},Ex.prototype.getOffsets=function(t,e){for(var r=e.map(function(e,r){return e.staticPartLength(t[r])}),n=1;n<r.length;n++)r[n]+=r[n-1];return r.map(function(r,n){return r-e[n].staticPartLength(t[n])})},Ex.prototype.getSolidityTypes=function(t){var e=this;return t.map(function(t){return e._requireType(t)})};var Mx=new Ex([new ax,new ux,new fx,new lx,new px,new kx,new yx,new gx,new wx]),Ax=function(t){return null===t||void 0===t?null:0===(t=String(t)).indexOf("0x")?t:lA.fromUtf8(t)},xx=function(t,e){lA.isString(t.options)||t.get(function(t,r){t&&e(t),lA.isArray(r)&&r.forEach(function(t){e(null,t)})})},Bx=function(t){t.requestManager.startPolling({method:t.implementation.poll.call,params:[t.filterId]},t.filterId,function(e,r){if(e)return t.callbacks.forEach(function(t){t(e)});lA.isArray(r)&&r.forEach(function(e){e=t.formatter?t.formatter(e):e,t.callbacks.forEach(function(t){t(null,e)})})},t.stopWatching.bind(t))},Cx=function(t,e,r,n,i,o,a){var s=this,u={};return n.forEach(function(t){t.setRequestManager(r),t.attachToObject(u)}),this.requestManager=r,this.options=function(t,e){if(lA.isString(t))return t;switch(t=t||{},e){case"eth":return t.topics=t.topics||[],t.topics=t.topics.map(function(t){return lA.isArray(t)?t.map(Ax):Ax(t)}),{topics:t.topics,from:t.from,to:t.to,address:t.address,fromBlock:TA.inputBlockNumberFormatter(t.fromBlock),toBlock:TA.inputBlockNumberFormatter(t.toBlock)};case"shh":return t}}(t,e),this.implementation=u,this.filterId=null,this.callbacks=[],this.getLogsCallbacks=[],this.pollFilters=[],this.formatter=i,this.implementation.newFilter(this.options,function(t,e){if(t)s.callbacks.forEach(function(e){e(t)}),"function"==typeof a&&a(t);else if(s.filterId=e,s.getLogsCallbacks.forEach(function(t){s.get(t)}),s.getLogsCallbacks=[],s.callbacks.forEach(function(t){xx(s,t)}),s.callbacks.length>0&&Bx(s),"function"==typeof o)return s.watch(o)}),this};Cx.prototype.watch=function(t){return this.callbacks.push(t),this.filterId&&(xx(this,t),Bx(this)),this},Cx.prototype.stopWatching=function(t){if(this.requestManager.stopPolling(this.filterId),this.callbacks=[],!t)return this.implementation.uninstallFilter(this.filterId);this.implementation.uninstallFilter(this.filterId,t)},Cx.prototype.get=function(t){var e=this;if(!lA.isFunction(t)){if(null===this.filterId)throw new Error("Filter ID Error: filter().get() can't be chained synchronous, please provide a callback for the get() method.");return this.implementation.getLogs(this.filterId).map(function(t){return e.formatter?e.formatter(t):t})}return null===this.filterId?this.getLogsCallbacks.push(t):this.implementation.getLogs(this.filterId,function(r,n){r?t(r):t(null,n.map(function(t){return e.formatter?e.formatter(t):t}))}),this};var Ix=Cx,Tx=function(){return[new NA({name:"newFilter",call:function(t){switch(t[0]){case"latest":return t.shift(),this.params=0,"eth_newBlockFilter";case"pending":return t.shift(),this.params=0,"eth_newPendingTransactionFilter";default:return"eth_newFilter"}},params:1}),new NA({name:"uninstallFilter",call:"eth_uninstallFilter",params:1}),new NA({name:"getLogs",call:"eth_getFilterLogs",params:1}),new NA({name:"poll",call:"eth_getFilterChanges",params:1})]},Px=function(){return[new NA({name:"newFilter",call:"shh_newMessageFilter",params:1}),new NA({name:"uninstallFilter",call:"shh_deleteMessageFilter",params:1}),new NA({name:"getLogs",call:"shh_getFilterMessages",params:1}),new NA({name:"poll",call:"shh_getFilterMessages",params:1})]},Nx=function(t,e,r){this._requestManager=t,this._params=e.inputs,this._name=lA.transformToFullName(e),this._address=r,this._anonymous=e.anonymous};Nx.prototype.types=function(t){return this._params.filter(function(e){return e.indexed===t}).map(function(t){return t.type})},Nx.prototype.displayName=function(){return lA.extractDisplayName(this._name)},Nx.prototype.typeName=function(){return lA.extractTypeName(this._name)},Nx.prototype.signature=function(){return JM(this._name)},Nx.prototype.encode=function(t,e){t=t||{},e=e||{};var r={};["fromBlock","toBlock"].filter(function(t){return void 0!==e[t]}).forEach(function(t){r[t]=TA.inputBlockNumberFormatter(e[t])}),r.topics=[],r.address=this._address,this._anonymous||r.topics.push("0x"+this.signature());var n=this._params.filter(function(t){return!0===t.indexed}).map(function(e){var r=t[e.name];return void 0===r||null===r?null:lA.isArray(r)?r.map(function(t){return"0x"+Mx.encodeParam(e.type,t)}):"0x"+Mx.encodeParam(e.type,r)});return r.topics=r.topics.concat(n),r},Nx.prototype.decode=function(t){t.data=t.data||"",t.topics=t.topics||[];var e=(this._anonymous?t.topics:t.topics.slice(1)).map(function(t){return t.slice(2)}).join(""),r=Mx.decodeParams(this.types(!0),e),n=t.data.slice(2),i=Mx.decodeParams(this.types(!1),n),o=TA.outputLogFormatter(t);return o.event=this.displayName(),o.address=t.address,o.args=this._params.reduce(function(t,e){return t[e.name]=e.indexed?r.shift():i.shift(),t},{}),delete o.data,delete o.topics,o},Nx.prototype.execute=function(t,e,r){lA.isFunction(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],2===arguments.length&&(e=null),1===arguments.length&&(e=null,t={}));var n=this.encode(t,e),i=this.decode.bind(this);return new Ix(n,"eth",this._requestManager,Tx(),i,r)},Nx.prototype.attachToContract=function(t){var e=this.execute.bind(this),r=this.displayName();t[r]||(t[r]=e),t[r][this.typeName()]=this.execute.bind(this,t)};var Rx=Nx,Lx=function(t,e,r){this._eth=t,this._inputTypes=e.inputs.map(function(t){return t.type}),this._outputTypes=e.outputs.map(function(t){return t.type}),this._constant=e.constant,this._payable=e.payable,this._name=lA.transformToFullName(e),this._address=r};Lx.prototype.extractCallback=function(t){if(lA.isFunction(t[t.length-1]))return t.pop()},Lx.prototype.extractDefaultBlock=function(t){if(t.length>this._inputTypes.length&&!lA.isObject(t[t.length-1]))return TA.inputDefaultBlockNumberFormatter(t.pop())},Lx.prototype.validateArgs=function(t){if(t.filter(function(t){return!(!0===lA.isObject(t)&&!1===lA.isArray(t)&&!1===lA.isBigNumber(t))}).length!==this._inputTypes.length)throw pA()},Lx.prototype.toPayload=function(t){var e={};return t.length>this._inputTypes.length&&lA.isObject(t[t.length-1])&&(e=t[t.length-1]),this.validateArgs(t),e.to=this._address,e.data="0x"+this.signature()+Mx.encodeParams(this._inputTypes,t),e},Lx.prototype.signature=function(){return JM(this._name).slice(0,8)},Lx.prototype.unpackOutput=function(t){if(t){t=t.length>=2?t.slice(2):t;var e=Mx.decodeParams(this._outputTypes,t);return 1===e.length?e[0]:e}},Lx.prototype.call=function(){var t=Array.prototype.slice.call(arguments).filter(function(t){return void 0!==t}),e=this.extractCallback(t),r=this.extractDefaultBlock(t),n=this.toPayload(t);if(!e){var i=this._eth.call(n,r);return this.unpackOutput(i)}var o=this;this._eth.call(n,r,function(t,r){if(t)return e(t,null);var n=null;try{n=o.unpackOutput(r)}catch(e){t=e}e(t,n)})},Lx.prototype.sendTransaction=function(){var t=Array.prototype.slice.call(arguments).filter(function(t){return void 0!==t}),e=this.extractCallback(t),r=this.toPayload(t);if(r.value>0&&!this._payable)throw new Error("Cannot send value to non-payable function");if(!e)return this._eth.sendTransaction(r);this._eth.sendTransaction(r,e)},Lx.prototype.estimateGas=function(){var t=Array.prototype.slice.call(arguments),e=this.extractCallback(t),r=this.toPayload(t);if(!e)return this._eth.estimateGas(r);this._eth.estimateGas(r,e)},Lx.prototype.getData=function(){var t=Array.prototype.slice.call(arguments);return this.toPayload(t).data},Lx.prototype.displayName=function(){return lA.extractDisplayName(this._name)},Lx.prototype.typeName=function(){return lA.extractTypeName(this._name)},Lx.prototype.request=function(){var t=Array.prototype.slice.call(arguments),e=this.extractCallback(t),r=this.toPayload(t),n=this.unpackOutput.bind(this);return{method:this._constant?"eth_call":"eth_sendTransaction",callback:e,params:[r],format:n}},Lx.prototype.execute=function(){return!this._constant?this.sendTransaction.apply(this,Array.prototype.slice.call(arguments)):this.call.apply(this,Array.prototype.slice.call(arguments))},Lx.prototype.attachToContract=function(t){var e=this.execute.bind(this);e.request=this.request.bind(this),e.call=this.call.bind(this),e.sendTransaction=this.sendTransaction.bind(this),e.estimateGas=this.estimateGas.bind(this),e.getData=this.getData.bind(this);var r=this.displayName();t[r]||(t[r]=e),t[r][this.typeName()]=e};var Ox=Lx,jx=function(t,e,r){this._requestManager=t,this._json=e,this._address=r};jx.prototype.encode=function(t){t=t||{};var e={};return["fromBlock","toBlock"].filter(function(e){return void 0!==t[e]}).forEach(function(r){e[r]=TA.inputBlockNumberFormatter(t[r])}),e.address=this._address,e},jx.prototype.decode=function(t){t.data=t.data||"";var e=lA.isArray(t.topics)&&lA.isString(t.topics[0])?t.topics[0].slice(2):"",r=this._json.filter(function(t){return e===JM(lA.transformToFullName(t))})[0];return r?new Rx(this._requestManager,r,this._address).decode(t):TA.outputLogFormatter(t)},jx.prototype.execute=function(t,e){lA.isFunction(arguments[arguments.length-1])&&(e=arguments[arguments.length-1],1===arguments.length&&(t=null));var r=this.encode(t),n=this.decode.bind(this);return new Ix(r,"eth",this._requestManager,Tx(),n,e)},jx.prototype.attachToContract=function(t){var e=this.execute.bind(this);t.allEvents=e};var Dx=jx,Ux=function(t,e){return t.filter(function(t){return"constructor"===t.type&&t.inputs.length===e.length}).map(function(t){return t.inputs.map(function(t){return t.type})}).map(function(t){return Mx.encodeParams(t,e)})[0]||""},Fx=function(t){t.abi.filter(function(t){return"function"===t.type}).map(function(e){return new Ox(t._eth,e,t.address)}).forEach(function(e){e.attachToContract(t)})},qx=function(t){var e=t.abi.filter(function(t){return"event"===t.type});new Dx(t._eth._requestManager,e,t.address).attachToContract(t),e.map(function(e){return new Rx(t._eth._requestManager,e,t.address)}).forEach(function(e){e.attachToContract(t)})},Kx=function(t,e){var r=0,n=!1,i=t._eth.filter("latest",function(o){if(!o&&!n)if(++r>50){if(i.stopWatching(function(){}),n=!0,!e)throw new Error("Contract transaction couldn't be found after 50 blocks");e(new Error("Contract transaction couldn't be found after 50 blocks"))}else t._eth.getTransactionReceipt(t.transactionHash,function(r,o){o&&o.blockHash&&!n&&t._eth.getCode(o.contractAddress,function(r,a){if(!n&&a)if(i.stopWatching(function(){}),n=!0,a.length>3)t.address=o.contractAddress,Fx(t),qx(t),e&&e(null,t);else{if(!e)throw new Error("The contract code couldn't be stored, please check your gas amount.");e(new Error("The contract code couldn't be stored, please check your gas amount."))}})})})},zx=function(t,e){this.eth=t,this.abi=e,this.new=function(){var t,r=new Vx(this.eth,this.abi),n={},i=Array.prototype.slice.call(arguments);lA.isFunction(i[i.length-1])&&(t=i.pop());var o=i[i.length-1];if((lA.isObject(o)&&!lA.isArray(o)&&(n=i.pop()),n.value>0)&&!(e.filter(function(t){return"constructor"===t.type&&t.inputs.length===i.length})[0]||{}).payable)throw new Error("Cannot send value to non-payable constructor");var a=Ux(this.abi,i);if(n.data+=a,t)this.eth.sendTransaction(n,function(e,n){e?t(e):(r.transactionHash=n,t(null,r),Kx(r,t))});else{var s=this.eth.sendTransaction(n);r.transactionHash=s,Kx(r)}return r},this.new.getData=this.getData.bind(this)};zx.prototype.at=function(t,e){var r=new Vx(this.eth,this.abi,t);return Fx(r),qx(r),e&&e(null,r),r},zx.prototype.getData=function(){var t={},e=Array.prototype.slice.call(arguments),r=e[e.length-1];lA.isObject(r)&&!lA.isArray(r)&&(t=e.pop());var n=Ux(this.abi,e);return t.data+=n,t.data};var Vx=function(t,e,r){this._eth=t,this.transactionHash=null,this.address=r,this.abi=e},Hx=zx,Gx=1,$x=function(t,e){var r;return this.requestManager=t,this.pollId="syncPoll_"+Gx++,this.callbacks=[],this.addCallback(e),this.lastSyncState=!1,(r=this).requestManager.startPolling({method:"eth_syncing",params:[]},r.pollId,function(t,e){if(t)return r.callbacks.forEach(function(e){e(t)});lA.isObject(e)&&e.startingBlock&&(e=TA.outputSyncingFormatter(e)),r.callbacks.forEach(function(t){r.lastSyncState!==e&&(!r.lastSyncState&&lA.isObject(e)&&t(null,!0),setTimeout(function(){t(null,e)},0),r.lastSyncState=e)})},r.stopWatching.bind(r)),this};$x.prototype.addCallback=function(t){return t&&this.callbacks.push(t),this},$x.prototype.stopWatching=function(){this.requestManager.stopPolling(this.pollId),this.callbacks=[]};var Wx=$x,Yx=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}],Zx=Object.freeze({default:Yx}),Qx=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}],Xx=Object.freeze({default:Qx}),Jx={global:{abi:Zx&&Yx||Zx,address:"0xc6d9d2cd449a754c494264e1809c50e34d64562b"},icap:{abi:Xx&&Qx||Xx,address:"0xa1a111bc074c9cfa781f0c38e63bd51c91b8af00"}},tB=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],payable:!0,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}],eB=Object.freeze({default:tB}),rB=eB&&tB||eB,nB=function(t,e,r,n,i){return t.sendTransaction({address:r,from:e,value:n},i)},iB=function(t,e,r,n,i,o){var a=rB;return t.contract(a).at(r).deposit(i,{from:e,value:n},o)},oB=function(t,e,r,n,i){var o=new AA(r);if(!o.isValid())throw new Error("invalid iban address");if(o.isDirect())return nB(t,e,o.address(),n,i);if(!i){var a=t.icapNamereg().addr(o.institution());return iB(t,e,a,n,o.client())}t.icapNamereg().addr(o.institution(),function(r,a){return iB(t,e,a,n,o.client(),i)})},aB=function(t){return lA.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockByHash":"eth_getBlockByNumber"},sB=function(t){return lA.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getTransactionByBlockHashAndIndex":"eth_getTransactionByBlockNumberAndIndex"},uB=function(t){return lA.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleByBlockHashAndIndex":"eth_getUncleByBlockNumberAndIndex"},cB=function(t){return lA.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getBlockTransactionCountByHash":"eth_getBlockTransactionCountByNumber"},fB=function(t){return lA.isString(t[0])&&0===t[0].indexOf("0x")?"eth_getUncleCountByBlockHash":"eth_getUncleCountByBlockNumber"};function hB(t){this._requestManager=t._requestManager;var e=this;lB().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),dB().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),this.iban=AA,this.sendIBANTransaction=oB.bind(null,this)}Object.defineProperty(hB.prototype,"defaultBlock",{get:function(){return dA.defaultBlock},set:function(t){return dA.defaultBlock=t,t}}),Object.defineProperty(hB.prototype,"defaultAccount",{get:function(){return dA.defaultAccount},set:function(t){return dA.defaultAccount=t,t}});var lB=function(){var t=new NA({name:"getBalance",call:"eth_getBalance",params:2,inputFormatter:[TA.inputAddressFormatter,TA.inputDefaultBlockNumberFormatter],outputFormatter:TA.outputBigNumberFormatter}),e=new NA({name:"getStorageAt",call:"eth_getStorageAt",params:3,inputFormatter:[null,lA.toHex,TA.inputDefaultBlockNumberFormatter]}),r=new NA({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[TA.inputAddressFormatter,TA.inputDefaultBlockNumberFormatter]}),n=new NA({name:"getBlock",call:aB,params:2,inputFormatter:[TA.inputBlockNumberFormatter,function(t){return!!t}],outputFormatter:TA.outputBlockFormatter}),i=new NA({name:"getUncle",call:uB,params:2,inputFormatter:[TA.inputBlockNumberFormatter,lA.toHex],outputFormatter:TA.outputBlockFormatter}),o=new NA({name:"getCompilers",call:"eth_getCompilers",params:0}),a=new NA({name:"getBlockTransactionCount",call:cB,params:1,inputFormatter:[TA.inputBlockNumberFormatter],outputFormatter:lA.toDecimal}),s=new NA({name:"getBlockUncleCount",call:fB,params:1,inputFormatter:[TA.inputBlockNumberFormatter],outputFormatter:lA.toDecimal}),u=new NA({name:"getTransaction",call:"eth_getTransactionByHash",params:1,outputFormatter:TA.outputTransactionFormatter}),c=new NA({name:"getTransactionFromBlock",call:sB,params:2,inputFormatter:[TA.inputBlockNumberFormatter,lA.toHex],outputFormatter:TA.outputTransactionFormatter}),f=new NA({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,outputFormatter:TA.outputTransactionReceiptFormatter}),h=new NA({name:"getTransactionCount",call:"eth_getTransactionCount",params:2,inputFormatter:[null,TA.inputDefaultBlockNumberFormatter],outputFormatter:lA.toDecimal}),l=new NA({name:"sendRawTransaction",call:"eth_sendRawTransaction",params:1,inputFormatter:[null]}),d=new NA({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[TA.inputTransactionFormatter]}),p=new NA({name:"signTransaction",call:"eth_signTransaction",params:1,inputFormatter:[TA.inputTransactionFormatter]}),m=new NA({name:"sign",call:"eth_sign",params:2,inputFormatter:[TA.inputAddressFormatter,null]});return[t,e,r,n,i,o,a,s,u,c,f,h,new NA({name:"call",call:"eth_call",params:2,inputFormatter:[TA.inputCallFormatter,TA.inputDefaultBlockNumberFormatter]}),new NA({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[TA.inputCallFormatter],outputFormatter:lA.toDecimal}),l,p,d,m,new NA({name:"compile.solidity",call:"eth_compileSolidity",params:1}),new NA({name:"compile.lll",call:"eth_compileLLL",params:1}),new NA({name:"compile.serpent",call:"eth_compileSerpent",params:1}),new NA({name:"submitWork",call:"eth_submitWork",params:3}),new NA({name:"getWork",call:"eth_getWork",params:0})]},dB=function(){return[new OA({name:"coinbase",getter:"eth_coinbase"}),new OA({name:"mining",getter:"eth_mining"}),new OA({name:"hashrate",getter:"eth_hashrate",outputFormatter:lA.toDecimal}),new OA({name:"syncing",getter:"eth_syncing",outputFormatter:TA.outputSyncingFormatter}),new OA({name:"gasPrice",getter:"eth_gasPrice",outputFormatter:TA.outputBigNumberFormatter}),new OA({name:"accounts",getter:"eth_accounts"}),new OA({name:"blockNumber",getter:"eth_blockNumber",outputFormatter:lA.toDecimal}),new OA({name:"protocolVersion",getter:"eth_protocolVersion"})]};hB.prototype.contract=function(t){return new Hx(this,t)},hB.prototype.filter=function(t,e,r){return new Ix(t,"eth",this._requestManager,Tx(),TA.outputLogFormatter,e,r)},hB.prototype.namereg=function(){return this.contract(Jx.global.abi).at(Jx.global.address)},hB.prototype.icapNamereg=function(){return this.contract(Jx.icap.abi).at(Jx.icap.address)},hB.prototype.isSyncing=function(t){return new Wx(this._requestManager,t)};var pB=hB,mB=function(){return[new NA({name:"putString",call:"db_putString",params:3}),new NA({name:"getString",call:"db_getString",params:2}),new NA({name:"putHex",call:"db_putHex",params:3}),new NA({name:"getHex",call:"db_getHex",params:2})]},yB=function(t){this._requestManager=t._requestManager;var e=this;mB().forEach(function(r){r.attachToObject(e),r.setRequestManager(t._requestManager)})},vB=function(t){this._requestManager=t._requestManager;var e=this;gB().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})};vB.prototype.newMessageFilter=function(t,e,r){return new Ix(t,"shh",this._requestManager,Px(),null,e,r)};var gB=function(){return[new NA({name:"version",call:"shh_version",params:0}),new NA({name:"info",call:"shh_info",params:0}),new NA({name:"setMaxMessageSize",call:"shh_setMaxMessageSize",params:1}),new NA({name:"setMinPoW",call:"shh_setMinPoW",params:1}),new NA({name:"markTrustedPeer",call:"shh_markTrustedPeer",params:1}),new NA({name:"newKeyPair",call:"shh_newKeyPair",params:0}),new NA({name:"addPrivateKey",call:"shh_addPrivateKey",params:1}),new NA({name:"deleteKeyPair",call:"shh_deleteKeyPair",params:1}),new NA({name:"hasKeyPair",call:"shh_hasKeyPair",params:1}),new NA({name:"getPublicKey",call:"shh_getPublicKey",params:1}),new NA({name:"getPrivateKey",call:"shh_getPrivateKey",params:1}),new NA({name:"newSymKey",call:"shh_newSymKey",params:0}),new NA({name:"addSymKey",call:"shh_addSymKey",params:1}),new NA({name:"generateSymKeyFromPassword",call:"shh_generateSymKeyFromPassword",params:1}),new NA({name:"hasSymKey",call:"shh_hasSymKey",params:1}),new NA({name:"getSymKey",call:"shh_getSymKey",params:1}),new NA({name:"deleteSymKey",call:"shh_deleteSymKey",params:1}),new NA({name:"post",call:"shh_post",params:1,inputFormatter:[null]})]},bB=vB,wB=function(){return[new OA({name:"listening",getter:"net_listening"}),new OA({name:"peerCount",getter:"net_peerCount",outputFormatter:lA.toDecimal})]},_B=function(t){this._requestManager=t._requestManager;var e=this;wB().forEach(function(r){r.attachToObject(e),r.setRequestManager(t._requestManager)})};var kB=function(){var t=new NA({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null]}),e=new NA({name:"importRawKey",call:"personal_importRawKey",params:2}),r=new NA({name:"sign",call:"personal_sign",params:3,inputFormatter:[null,TA.inputAddressFormatter,null]}),n=new NA({name:"ecRecover",call:"personal_ecRecover",params:2});return[t,e,new NA({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[TA.inputAddressFormatter,null,null]}),n,r,new NA({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[TA.inputTransactionFormatter,null]}),new NA({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[TA.inputAddressFormatter]})]},SB=function(){return[new OA({name:"listAccounts",getter:"personal_listAccounts"})]},EB=function(t){this._requestManager=t._requestManager;var e=this;kB().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),SB().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})};var MB=function(){return[new NA({name:"blockNetworkRead",call:"bzz_blockNetworkRead",params:1,inputFormatter:[null]}),new NA({name:"syncEnabled",call:"bzz_syncEnabled",params:1,inputFormatter:[null]}),new NA({name:"swapEnabled",call:"bzz_swapEnabled",params:1,inputFormatter:[null]}),new NA({name:"download",call:"bzz_download",params:2,inputFormatter:[null,null]}),new NA({name:"upload",call:"bzz_upload",params:2,inputFormatter:[null,null]}),new NA({name:"retrieve",call:"bzz_retrieve",params:1,inputFormatter:[null]}),new NA({name:"store",call:"bzz_store",params:2,inputFormatter:[null,null]}),new NA({name:"get",call:"bzz_get",params:1,inputFormatter:[null]}),new NA({name:"put",call:"bzz_put",params:2,inputFormatter:[null,null]}),new NA({name:"modify",call:"bzz_modify",params:4,inputFormatter:[null,null,null,null]})]},AB=function(){return[new OA({name:"hive",getter:"bzz_hive"}),new OA({name:"info",getter:"bzz_info"})]},xB=function(t){this._requestManager=t._requestManager;var e=this;MB().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)}),AB().forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})},BB=function(){this.defaultBlock="latest",this.defaultAccount=void 0},CB={version:"0.20.6"},IB=Object.freeze({version:"0.20.6",default:CB}),TB=function(t){var e=function(e){var r;e.property?(t[e.property]||(t[e.property]={}),r=t[e.property]):r=t,e.methods&&e.methods.forEach(function(e){e.attachToObject(r),e.setRequestManager(t._requestManager)}),e.properties&&e.properties.forEach(function(e){e.attachToObject(r),e.setRequestManager(t._requestManager)})};return e.formatters=TA,e.utils=lA,e.Method=NA,e.Property=OA,e},PB=function(t){this.requestManager=t._requestManager,this.requests=[]};PB.prototype.add=function(t){this.requests.push(t)},PB.prototype.execute=function(){var t=this.requests;this.requestManager.sendBatch(t,function(e,r){r=r||[],t.map(function(t,e){return r[e]||{}}).forEach(function(e,r){if(t[r].callback){if(!WM.isValidResponse(e))return t[r].callback(gA(e));t[r].callback(null,t[r].format?t[r].format(e.result):e.result)}})})};var NB=PB,RB=et(function(t,e){"undefined"==typeof XMLHttpRequest?e.XMLHttpRequest={}:e.XMLHttpRequest=XMLHttpRequest});RB.XMLHttpRequest;"undefined"!=typeof window&&window.XMLHttpRequest?XMLHttpRequest=window.XMLHttpRequest:XMLHttpRequest=RB.XMLHttpRequest;var LB=function(t,e,r,n,i){this.host=t||"http://localhost:8545",this.timeout=e||0,this.user=r,this.password=n,this.headers=i};LB.prototype.prepareRequest=function(t){var e;if(t?(e=new qe).timeout=this.timeout:e=new XMLHttpRequest,e.open("POST",this.host,t),this.user&&this.password){var r="Basic "+new Buffer(this.user+":"+this.password).toString("base64");e.setRequestHeader("Authorization",r)}return e.setRequestHeader("Content-Type","application/json"),this.headers&&this.headers.forEach(function(t){e.setRequestHeader(t.name,t.value)}),e},LB.prototype.send=function(t){var e=this.prepareRequest(!1);try{e.send(JSON.stringify(t))}catch(t){throw yA(this.host)}var r=e.responseText;try{r=JSON.parse(r)}catch(t){throw gA(e.responseText)}return r},LB.prototype.sendAsync=function(t,e){var r=this.prepareRequest(!0);r.onreadystatechange=function(){if(4===r.readyState&&1!==r.timeout){var t=r.responseText,n=null;try{t=JSON.parse(t)}catch(t){n=gA(r.responseText)}e(n,t)}},r.ontimeout=function(){e(bA(this.timeout))};try{r.send(JSON.stringify(t))}catch(t){e(yA(this.host))}},LB.prototype.isConnected=function(){try{return this.send({id:9999999999,jsonrpc:"2.0",method:"net_listening",params:[]}),!0}catch(t){return!1}};var OB=LB,jB=function(t,e){var r=this;this.responseCallbacks={},this.path=t,this.connection=e.connect({path:this.path}),this.connection.on("error",function(t){console.error("IPC Connection Error",t),r._timeout()}),this.connection.on("end",function(){r._timeout()}),this.connection.on("data",function(t){r._parseResponse(t.toString()).forEach(function(t){var e=null;lA.isArray(t)?t.forEach(function(t){r.responseCallbacks[t.id]&&(e=t.id)}):e=t.id,r.responseCallbacks[e]&&(r.responseCallbacks[e](null,t),delete r.responseCallbacks[e])})})};jB.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(r){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout(function(){throw e._timeout(),gA(t)},15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)}),r},jB.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n},jB.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](yA("on IPC")),delete this.responseCallbacks[t])},jB.prototype.isConnected=function(){return this.connection.writable||this.connection.connect({path:this.path}),!!this.connection.writable},jB.prototype.send=function(t){if(this.connection.writeSync){var e;this.connection.writable||this.connection.connect({path:this.path});var r=this.connection.writeSync(JSON.stringify(t));try{e=JSON.parse(r)}catch(t){throw gA(r)}return e}throw new Error('You tried to send "'+t.method+'" synchronously. Synchronous requests are not supported by the IPC provider.')},jB.prototype.sendAsync=function(t,e){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(t)),this._addResponseCallback(t,e)};var DB=jB,UB=IB&&CB||IB;function FB(t){this._requestManager=new _A(t),this.currentProvider=t,this.eth=new pB(this),this.db=new yB(this),this.shh=new bB(this),this.net=new _B(this),this.personal=new EB(this),this.bzz=new xB(this),this.settings=new BB,this.version={api:UB.version},this.providers={HttpProvider:OB,IpcProvider:DB},this._extend=TB(this),this._extend({properties:qB()})}FB.providers={HttpProvider:OB,IpcProvider:DB},FB.prototype.setProvider=function(t){this._requestManager.setProvider(t),this.currentProvider=t},FB.prototype.reset=function(t){this._requestManager.reset(t),this.settings=new BB},FB.prototype.BigNumber=YM,FB.prototype.toHex=lA.toHex,FB.prototype.toAscii=lA.toAscii,FB.prototype.toUtf8=lA.toUtf8,FB.prototype.fromAscii=lA.fromAscii,FB.prototype.fromUtf8=lA.fromUtf8,FB.prototype.toDecimal=lA.toDecimal,FB.prototype.fromDecimal=lA.fromDecimal,FB.prototype.toBigNumber=lA.toBigNumber,FB.prototype.toWei=lA.toWei,FB.prototype.fromWei=lA.fromWei,FB.prototype.isAddress=lA.isAddress,FB.prototype.isChecksumAddress=lA.isChecksumAddress,FB.prototype.toChecksumAddress=lA.toChecksumAddress,FB.prototype.isIBAN=lA.isIBAN,FB.prototype.padLeft=lA.padLeft,FB.prototype.padRight=lA.padRight,FB.prototype.sha3=function(t,e){return"0x"+JM(t,e)},FB.prototype.fromICAP=function(t){return new AA(t).address()};var qB=function(){return[new OA({name:"version.node",getter:"web3_clientVersion"}),new OA({name:"version.network",getter:"net_version",inputFormatter:lA.toDecimal}),new OA({name:"version.ethereum",getter:"eth_protocolVersion",inputFormatter:lA.toDecimal}),new OA({name:"version.whisper",getter:"shh_version",inputFormatter:lA.toDecimal})]};FB.prototype.isConnected=function(){return this.currentProvider&&this.currentProvider.isConnected()},FB.prototype.createBatch=function(){return new NB(this)};var KB=FB;"undefined"!=typeof window&&void 0===window.Web3&&(window.Web3=KB);var zB=KB;var VB=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),Object.setPrototypeOf(e,t),e};function HB(t){HB.super_.call(this),this.message=t,this.stack=new Error(t).stack,this.name=this.constructor.name}(0,s.inherits)(HB,VB(Error)),HB.prototype.formatForMocha=function(){this.message=this.message.replace(/\n/g,"\n     ")};var GB=HB;(0,s.inherits)(WB,GB);var $B=9e4;function WB(t,e,r){var n,i=parseInt(t.gas)||$B;n=r.gasUsed===i?"Transaction: "+e+" exited with an error (status 0) after consuming all gas.\nPlease check that the transaction:\n    - satisfies all conditions set by Solidity `assert` statements.\n    - has enough gas to execute the full transaction.\n    - does not trigger an invalid opcode by other means (ex: accessing an array out of bounds).":"Transaction: "+e+" exited with an error (status 0).\nPlease check that the transaction:\n    - satisfies all conditions set by Solidity `require` statements.\n    - does not trigger a Solidity `revert` statement.\n",WB.super_.call(this,n),this.tx=e,this.receipt=r}var YB=WB,ZB=et(function(t){var e=zB;"object"==typeof e&&0==Object.keys(e).length&&(e=X.Web3);!function(t){function r(t){this.provider=t}r.prototype.send=function(){return this.provider.send.apply(this.provider,arguments)},r.prototype.sendAsync=function(){return this.provider.sendAsync.apply(this.provider,arguments)};var n=(new e).toBigNumber(0).constructor,i={is_object:function(t){return"object"==typeof t&&!Array.isArray(t)},is_big_number:function(t){if("object"!=typeof t)return!1;try{return new n(t),!0}catch(t){return!1}},decodeLogs:function(t,e,r){return r.map(function(e){var r=t.events[e.topics[0]];if(null==r)return null;var n=i.merge({},e);function o(t,e){return{inputs:t.inputs.filter(function(t){return t.indexed===e}),name:t.name,type:t.type,anonymous:t.anonymous}}var a="0x"+(r.anonymous?n.topics:n.topics.slice(1)).map(function(t){return t.slice(2)}).join(""),s=HM.decodeEvent(o(r,!0),a),u=n.data,c=HM.decodeEvent(o(r,!1),u);return n.event=r.name,n.args=r.inputs.reduce(function(t,e){var r=s[e.name];return void 0===r&&(r=c[e.name]),t[e.name]=r,t},{}),Object.keys(n.args).forEach(function(e){var r=n.args[e];r.constructor.isBN&&(n.args[e]=t.web3.toBigNumber("0x"+r.toString(16)))}),delete n.data,delete n.topics,n}).filter(function(t){return null!=t})},promisifyFunction:function(t,e){return function(){var r=this,n=Array.prototype.slice.call(arguments),o={},a=n[n.length-1];return i.is_object(a)&&!i.is_big_number(a)&&(o=n.pop()),o=i.merge(e.class_defaults,o),e.detectNetwork().then(function(){return new Promise(function(e,i){n.push(o,function(t,r){null!=t?i(t):e(r)}),t.apply(r.contract,n)})})}},synchronizeFunction:function(t,e,r){var n=this;return function(){var o=Array.prototype.slice.call(arguments),a={},s=o[o.length-1];return i.is_object(s)&&!i.is_big_number(s)&&(a=o.pop()),a=i.merge(r.class_defaults,a),r.detectNetwork().then(function(){return new Promise(function(s,u){o.push(a,function(t,n){if(null==t){var o;o=0===r.synchronization_timeout||void 0!==r.synchronization_timeout?r.synchronization_timeout:24e4;var c=(new Date).getTime(),f=function(){r.web3.eth.getTransactionReceipt(n,function(t,h){if(t&&!t.toString().includes("unknown transaction"))return u(t);if(null!=h){if(0==parseInt(h.status,16)){var l=new YB(a,n,h);return u(l)}return s({tx:n,receipt:h,logs:i.decodeLogs(r,e,h.logs)})}if(o>0&&(new Date).getTime()-c>o)return u(new Error("Transaction "+n+" wasn't processed in "+o/1e3+" seconds!"));setTimeout(f,1e3)})};f()}else u(t)}),t.apply(n,o)})})}},merge:function(){for(var t={},e=Array.prototype.slice.call(arguments),r=0;r<e.length;r++)for(var n=e[r],i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a];t[a]=s}return t},parallel:function(t,e){if(e=e||function(){},!t.length)return e(null,[]);var r=0,n=new Array(t.length);t.forEach(function(i,o){i(function(i,a){i?(e(i),e=function(){}):(r++,n[o]=a,r>=t.length&&e(null,n))})})},bootstrap:function(t){return Object.keys(t._static_methods).forEach(function(e){t[e]=t._static_methods[e].bind(t)}),Object.keys(t._properties).forEach(function(e){t.addProp(e,t._properties[e])}),t},linkBytecode:function(t,e){return Object.keys(e).forEach(function(r){var n=e[r],i=new RegExp("__"+r+"_+","g");t=t.replace(i,n.replace("0x",""))}),t}};function o(t){var e=this,r=this.constructor;if(this.abi=r.abi,"string"==typeof t){var n=t;t=r.web3.eth.contract(this.abi).at(n)}this.contract=t;for(var o=0;o<this.abi.length;o++){var a=this.abi[o];"function"==a.type&&(1==a.constant?this[a.name]=i.promisifyFunction(t[a.name],r):this[a.name]=i.synchronizeFunction(t[a.name],this,r),this[a.name].call=i.promisifyFunction(t[a.name].call,r),this[a.name].sendTransaction=i.promisifyFunction(t[a.name].sendTransaction,r),this[a.name].request=t[a.name].request,this[a.name].estimateGas=i.promisifyFunction(t[a.name].estimateGas,r)),"event"==a.type&&(this[a.name]=t[a.name])}this.sendTransaction=i.synchronizeFunction(function(t,n){"function"==typeof t&&(n=t,t={}),t.to=e.address,r.web3.eth.sendTransaction.apply(r.web3.eth,[t,n])},this,r),this.send=function(t){return e.sendTransaction({value:t})},this.allEvents=t.allEvents,this.address=t.address,this.transactionHash=t.transactionHash}o._static_methods={setProvider:function(t){if(!t)throw new Error("Invalid provider passed to setProvider(); provider is "+t);var e=new r(t);this.web3.setProvider(e),this.currentProvider=t},new:function(){var t=this;if(null==this.currentProvider)throw new Error(this.contractName+" error: Please call setProvider() first before calling new().");var e=Array.prototype.slice.call(arguments);if(!this.bytecode)throw new Error(this._json.contractName+" error: contract binary not set. Can't deploy new instance.");return t.detectNetwork().then(function(e){var r=t.binary.match(/__[^_]+_+/g);if(null!=r)throw r=r.map(function(t){return t.replace(/_/g,"")}).sort().filter(function(t,e,r){return e+1>=r.length||t!=r[e+1]}).join(", "),new Error(t.contractName+" contains unresolved libraries. You must deploy and link the following libraries before you can deploy a new version of "+t._json.contractName+": "+r)}).then(function(){return new Promise(function(r,n){var o=t.web3.eth.contract(t.abi),a={},s=e[e.length-1];i.is_object(s)&&!i.is_big_number(s)&&(a=e.pop());var u=t.abi.filter(function(t){return"constructor"===t.type});if(u.length&&u[0].inputs.length!==e.length)throw new Error(t.contractName+" contract constructor expected "+u[0].inputs.length+" arguments, received "+e.length);null==(a=i.merge(t.class_defaults,a)).data&&(a.data=t.binary);e.push(a,function(e,i){null==e?null==e&&null!=i&&null!=i.address&&r(new t(i)):n(e)}),o.new.apply(o,e)})})},at:function(t){var e=this;if(null==t||"string"!=typeof t||42!=t.length)throw new Error("Invalid address passed to "+this._json.contractName+".at(): "+t);var r=new this(t);return r.then=function(r){return e.detectNetwork().then(function(r){var n=new e(t);return new Promise(function(r,i){e.web3.eth.getCode(t,function(o,a){return o?i(o):a&&""!==a.replace("0x","").replace(/0/g,"")?void r(n):i(new Error("Cannot create instance of "+e.contractName+"; no code at address "+t))})})}).then(r)},r},deployed:function(){var t=this;return t.detectNetwork().then(function(){if(null==t._json.networks[t.network_id])throw new Error(t.contractName+" has not been deployed to detected network (network/artifact mismatch)");if(!t.isDeployed())throw new Error(t.contractName+" has not been deployed to detected network ("+t.network_id+")");return new t(t.address)})},defaults:function(t){null==this.class_defaults&&(this.class_defaults={}),null==t&&(t={});var e=this;return Object.keys(t).forEach(function(r){var n=t[r];e.class_defaults[r]=n}),this.class_defaults},hasNetwork:function(t){return null!=this._json.networks[t+""]},isDeployed:function(){return null!=this.network_id&&(null!=this._json.networks[this.network_id]&&!!this.network.address)},detectNetwork:function(){var t=this;return new Promise(function(e,r){if(t.network_id&&null!=t.networks[t.network_id])return e(t.network_id);t.web3.version.getNetwork(function(n,o){if(n)return r(n);var a=o.toString();if(t.hasNetwork(a))return t.setNetwork(a),e();var s=Object.keys(t._json.networks).filter(function(t){return 0==t.indexOf("blockchain://")}),u=s.map(function(e){return GM.matches.bind(GM,e,t.web3.currentProvider)});i.parallel(u,function(n,i){if(n)return r(n);for(var o=0;o<i.length;o++)if(i[o])return t.setNetwork(s[o]),e();t.setNetwork(a),e()})})})},setNetwork:function(t){t&&(this.network_id=t+"")},resetAddress:function(){delete this.network.address},link:function(t,e){var r=this;if("function"==typeof t){var n=t;if(0==n.isDeployed())throw new Error("Cannot link contract without an address.");return this.link(n.contractName,n.address),void Object.keys(n.events).forEach(function(t){r.network.events[t]=n.events[t]})}if("object"!=typeof t)null==this._json.networks[this.network_id]&&(this._json.networks[this.network_id]={events:{},links:{}}),this.network.links[t]=e;else{var i=t;Object.keys(i).forEach(function(t){var e=i[t];r.link(t,e)})}},clone:function(t){t=t||{};var r,n=function(){return this.constructor=n,o.apply(this,arguments)};return n.prototype=Object.create(this.prototype),"object"!=typeof t&&(r=t,t=this._json),t=i.merge({},this._json||{},t),n._static_methods=this._static_methods,n._properties=this._properties,n._property_values={},n._json=t,i.bootstrap(n),n.web3=new e,n.class_defaults=n.prototype.defaults||{},r&&n.setNetwork(r),Object.keys(t).forEach(function(e){0==e.indexOf("x-")&&(n[e]=t[e])}),n},addProp:function(t,e){var r=this,n={enumerable:!1,configurable:!1,get:function(){return null!=e.get?e.get.call(r):r._property_values[t]||e.call(r)},set:function(n){if(null==e.set)throw new Error(t+" property is immutable");e.set.call(r,n)}};Object.defineProperty(this,t,n)},toJSON:function(){return this._json}},o._properties={contract_name:{get:function(){return this.contractName},set:function(t){this.contractName=t}},contractName:{get:function(){return this._json.contractName||"Contract"},set:function(t){this._json.contractName=t}},abi:{get:function(){return this._json.abi},set:function(t){this._json.abi=t}},network:function(){var t=this.network_id;if(null==t)throw new Error(this.contractName+" has no network id set, cannot lookup artifact data. Either set the network manually using "+this.contractName+".setNetwork(), run "+this.contractName+".detectNetwork(), or use new(), at() or deployed() as a thenable which will detect the network automatically.");if(null==this._json.networks[t])throw new Error(this.contractName+" has no network configuration for its current network id ("+t+").");var e=this._json.networks[t];return null==e.links&&(e.links={}),null==e.events&&(e.events={}),e},networks:function(){return this._json.networks},address:{get:function(){var t=this.network.address;if(null==t)throw new Error("Cannot find deployed address: "+this.contractName+" not deployed or address not set.");return t},set:function(t){if(null==t)throw new Error("Cannot set deployed address; malformed value: "+t);var e=this.network_id;if(null==e)throw new Error(this.contractName+" has no network id set, cannot lookup artifact data. Either set the network manually using "+this.contractName+".setNetwork(), run "+this.contractName+".detectNetwork(), or use new(), at() or deployed() as a thenable which will detect the network automatically.");null==this._json.networks[e]&&(this._json.networks[e]={events:{},links:{}}),this.network.address=t}},transactionHash:{get:function(){var t=this.network.transactionHash;if(null===t)throw new Error("Could not find transaction hash for "+this.contractName);return t},set:function(t){if(null===t)throw new Error("Could not set `"+t+"` as the transaction hash for "+this.contractName);this.network.transactionHash=t}},links:function(){if(!this.network_id)throw new Error(this.contractName+" has no network id set, cannot lookup artifact data. Either set the network manually using "+this.contractName+".setNetwork(), run "+this.contractName+".detectNetwork(), or use new(), at() or deployed() as a thenable which will detect the network automatically.");return null==this._json.networks[this.network_id]?{}:this.network.links||{}},events:function(){var t,r=new e;return t=null==this._json.networks[this.network_id]?{}:this.network.events||{},this.abi.forEach(function(e){if("event"==e.type){var n=e.name+"(";e.inputs.forEach(function(t,r){n+=t.type,r<e.inputs.length-1&&(n+=",")}),n+=")";var i=r.sha3(n);t[i]=e}}),t},binary:function(){return i.linkBytecode(this.bytecode,this.links)},deployedBinary:function(){return i.linkBytecode(this.deployedBytecode,this.links)},unlinked_binary:{get:function(){return this.bytecode},set:function(t){this.bytecode=t}},bytecode:{get:function(){return this._json.bytecode},set:function(t){this._json.bytecode=t}},deployedBytecode:{get:function(){var t=this._json.deployedBytecode;return 0!=t.indexOf("0x")&&(t="0x"+t),t},set:function(t){var e=t;0!=t.indexOf("0x")&&(e="0x"+e),this._json.deployedBytecode=e}},sourceMap:{get:function(){return this._json.sourceMap},set:function(t){this._json.sourceMap=t}},deployedSourceMap:{get:function(){return this._json.deployedSourceMap},set:function(t){this._json.deployedSourceMap=t}},source:{get:function(){return this._json.source},set:function(t){this._json.source=t}},sourcePath:{get:function(){return this._json.sourcePath},set:function(t){this._json.sourcePath=t}},legacyAST:{get:function(){return this._json.legacyAST},set:function(t){this._json.legacyAST=t}},ast:{get:function(){return this._json.ast},set:function(t){this._json.ast=t}},compiler:{get:function(){return this._json.compiler},set:function(t){this._json.compiler=t}},schema_version:function(){return this.schemaVersion},schemaVersion:function(){return this._json.schemaVersion},updated_at:function(){return this.updatedAt},updatedAt:function(){try{return this.network.updatedAt||this._json.updatedAt}catch(t){return this._json.updatedAt}}},i.bootstrap(o),t.exports=o}(t||{})}),QB=function(t){var e=_M.normalize(t||{});return ZB.clone(e)},XB=QB;"undefined"!=typeof window&&(window.TruffleContract=QB);var JB=function(t,e,r){var n;if(!t)return 0;if(r=r||t,t instanceof Array){for(n=0;n<t.length;n++)if(!1===e.call(r,t[n],n,t))return 0}else for(n in t)if(t.hasOwnProperty(n)&&!1===e.call(r,t[n],n,t))return 0;return 1};var tC=function(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])t[r]=arguments[e][r];return t};var eC=function(t){var e,r={},n=/\+/g,i=/([^&=]+)=?([^&]*)/g,o=function(t){return decodeURIComponent(t.replace(n," "))},a=t.split("?")[1];for(;e=i.exec(a);)r[o(e[1])]=o(e[2]);return r};var rC=function(t){var e=[];return JB(t,function(t,r){"string"!=typeof t&&(t=JSON.stringify(t)),e.push(r+"="+encodeURIComponent(t))}),e.join("&")};var nC=et(function(t){function e(t){if(t)return function(t){for(var r in e.prototype)t[r]=e.prototype[r];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((r=n[i])===e||r.fn===e){n.splice(i,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r)for(var n=0,i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),iC=et(function(t){(function(e){var r=e.Keen||void 0,n=JB,i=tC,o=eC,a=rC,s=nC;function u(t){if(this instanceof u==!1)return new u(t);this.configure(t),u.debug&&this.on("error",u.log),this.emit("ready"),u.emit("client",this)}function c(t){return void 0!==t}r&&void 0===r.resources&&(u.legacyVersion=r),s(u),s(u.prototype),i(u,{debug:!1,enabled:!0,loaded:!1,version:"__VERSION__"}),u.helpers=u.helpers||{},u.resources=u.resources||{},i(u.resources,{base:"{protocol}://{host}",version:"{protocol}://{host}/3.0",projects:"{protocol}://{host}/3.0/projects",projectId:"{protocol}://{host}/3.0/projects/{projectId}",events:"{protocol}://{host}/3.0/projects/{projectId}/events",queries:"{protocol}://{host}/3.0/projects/{projectId}/queries"}),u.utils=u.utils||{},i(u.utils,{each:n,extend:i,parseParams:o,serialize:a}),u.extendLibrary=function(t,e){var o=r||e;return c(o)&&c(o.resources)&&(n(o,function(e,r){"object"==typeof e?(t[r]=t[r]||{},i(t[r],e)):t[r]=t[r]||e}),i(t.prototype,o.prototype)),t},u.log=function(t){u.debug&&"object"==typeof console&&console.log("[Keen]",t)},u.noConflict=function(){return void 0!==e.Keen&&(e.Keen=u.legacyVersion||r),u},u.ready=function(t){u.loaded?t():u.once("ready",t)},u.prototype.configure=function(t){var e=t||{};return this.config=this.config||{projectId:void 0,writeKey:void 0,host:"api.keen.io",protocol:"https",requestType:"jsonp",resources:i({},u.resources)},"undefined"!=typeof window&&window.navigator.userAgent.indexOf("MSIE")>-1&&(e.protocol=document.location.protocol.replace(":","")),e.host&&e.host.replace(/.*?:\/\//g,""),i(this.config,e),this},u.prototype.masterKey=function(t){return arguments.length?(this.config.masterKey=t?String(t):null,this):this.config.masterKey},u.prototype.projectId=function(t){return arguments.length?(this.config.projectId=t?String(t):null,this):this.config.projectId},u.prototype.resources=function(t){if(!arguments.length)return this.config.resources;var e=this;return"object"==typeof t&&n(t,function(t,r){e.config.resources[r]=t||null}),e},u.prototype.url=function(t){var e,r=Array.prototype.slice.call(arguments,1),i=this.config.resources.base||"{protocol}://{host}";return e=t&&"string"==typeof t?this.config.resources[t]?this.config.resources[t]:i+t:i,n(this.config,function(t,r){"object"!=typeof t&&(e=e.replace("{"+r+"}",t))}),n(r,function(t,r){"string"==typeof t?e+="/"+t:"object"==typeof t&&(e+="?",n(t,function(t,r){e+=r+"="+t+"&"}),e=e.slice(0,-1))}),e},function(t){if(u.loaded||"undefined"==typeof document)return void t();null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),document.readyState="complete"},!1),document.readyState="loading");!function t(e){/in/.test(document.readyState)?setTimeout(function(){t(e)},9):e()}(t)}(function(){u.loaded=!0,u.emit("ready")}),t.exports=u}).call(X,"undefined"!=typeof window?window:void 0!==X?X:"undefined"!=typeof self?self:{})}),oC=JB,aC=tC,sC=uC;function uC(){var t=this;return this instanceof uC==!1?new uC:(t.capacity=0,t.interval=0,t.config={capacity:5e3,interval:15},t.events={},setInterval(function(){t.interval++,function(){(this.capacity>0&&this.interval>=this.config.interval||this.capacity>=this.config.capacity)&&(this.emit("flush"),this.interval=0)}.call(t)},1e3),t)}nC(uC.prototype),iC.helpers=iC.helpers||{},iC.on("client",function(t){t.extensions={events:[],collections:{}},t.queue=sC(),t.queue.on("flush",function(){t.recordDeferredEvents()})}),iC.prototype.writeKey=function(t){return arguments.length?(this.config.writeKey=t?String(t):null,this):this.config.writeKey},iC.prototype.setGlobalProperties=function(t){if(iC.log("This method has been deprecated. Check out #extendEvents: https://github.com/keen/keen-tracking.js#extend-events"),t&&"function"==typeof t)return this.config.globalProperties=t,this;this.emit("error","Invalid value for global properties: "+t)};var cC=iC,fC=function(t){function e(t){if(t)return this instanceof e==!1?new e(t):(this.selector=t,this)}return t.domListeners=t.domListeners||{},e.prototype.on=function(e,r){var n;return 2!==arguments.length||"string"!=typeof e||"function"!=typeof r?this:(void 0===t.domListeners[e]&&(!function(t,e){document.addEventListener?document.addEventListener(t,e,!1):document.attachEvent("on"+t,e)}(e,(n=e,function(e){var r,i;r=e||window.event,i=r.target||r.srcElement,"undefined"!==t.domListeners[n]&&oC(t.domListeners[n],function(t,e){!function(t,e){for(var r=(t.parentNode||document).querySelectorAll(e)||[],n=r.length;n--;)if(r[n]==t)return!0;return!1}(i,e)?"window"===e&&oC(t,function(t,e){t(r)}):oC(t,function(t,e){"click"===n&&"A"===i.nodeName?function(t,e,r){var n,i;if(void 0!==e.getAttribute?n=e.getAttribute("target"):e.target&&(n=e.target),"boolean"==typeof(i=r(t))&&!1===i||t.defaultPrevented||!1===t.returnValue)return t.preventDefault&&t.preventDefault(),t.returnValue=!1,!1;"_blank"===n||"blank"===n||t.metaKey||(t.preventDefault&&t.preventDefault(),t.returnValue=!1,setTimeout(function(){window.location=e.href},500))}(r,i,t):"submit"===n&&"FORM"===i.nodeName?function(t,e,r){var n=r(t);if("boolean"==typeof n&&!1===n||t.defaultPrevented||!1===t.returnValue)return t.preventDefault&&t.preventDefault(),t.returnValue=!1,!1;t.preventDefault&&t.preventDefault(),t.returnValue=!1,setTimeout(function(){e.submit()},500)}(r,i,t):t(r)})})})),t.domListeners[e]={}),t.domListeners[e][this.selector]=t.domListeners[e][this.selector]||[],t.domListeners[e][this.selector].push(r),this)},e.prototype.once=function(t,e){var r=this;function n(){return r.off(t,n),e.apply(r,arguments)}return n.fn=e,r.on(t,n),r},e.prototype.off=function(e,r){var n=this,i=[];if(2===arguments.length)oC(t.domListeners[e][n.selector],function(t,e){t!==r&&t.fn!==r&&i.push(t)}),t.domListeners[e][n.selector]=i;else if(1===arguments.length)try{delete t.domListeners[e][n.selector]}catch(r){t.domListeners[e][n.selector]=[]}else oC(t.domListeners,function(e,r){try{delete t.domListeners[r][n.selector]}catch(e){t.domListeners[r][n.selector]=function(){}}});return n},e};var hC={map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,r,n,i,o,a,s,u="",c=0,f=this.map;for(t=this.utf8.encode(t);c<t.length;)e=t.charCodeAt(c++),r=t.charCodeAt(c++),n=t.charCodeAt(c++),i=e>>2,o=(3&e)<<4|r>>4,a=isNaN(r)?64:(15&r)<<2|n>>6,s=isNaN(r)||isNaN(n)?64:63&n,u=u+f.charAt(i)+f.charAt(o)+f.charAt(a)+f.charAt(s);return u},decode:function(t){var e,r,n,i,o,a,s="",u=0,c=this.map,f=String.fromCharCode;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)e=c.indexOf(t.charAt(u++)),o=(15&(r=c.indexOf(t.charAt(u++))))<<4|(n=c.indexOf(t.charAt(u++)))>>2,a=(3&n)<<6|(i=c.indexOf(t.charAt(u++))),s=s+(f(e<<2|r>>4)+(64!=n?f(o):""))+(64!=i?f(a):"");return this.utf8.decode(s)},utf8:{encode:function(t){for(var e,r="",n=0,i=String.fromCharCode;n<t.length;)r+=(e=t.charCodeAt(n++))<128?i(e):e>127&&e<2048?i(e>>6|192)+i(63&e|128):i(e>>12|224)+i(e>>6&63|128)+i(63&e|128);return r},decode:function(t){for(var e,r="",n=0,i=String.fromCharCode;n<t.length;)r+=(e=t.charCodeAt(n))<128?[i(e),n++][0]:e>191&&e<224?[i((31&e)<<6|63&t.charCodeAt(n+1)),n+=2][0]:[i((15&e)<<12|(63&t.charCodeAt(n+1))<<6|63&(c3=t.charCodeAt(n+2))),n+=3][0];return r}}},lC=function t(e){for(var r=1;r<arguments.length;r++)if(e instanceof Array&&arguments[r]instanceof Array)for(var n=0;n<arguments[r].length;n++)e.indexOf(arguments[r][n])<0&&e.push(arguments[r][n]);else for(var i in arguments[r])void 0!==e[i]&&"object"==typeof arguments[r][i]&&null!==arguments[r][i]?t(e[i],dC(arguments[r][i])):void 0!==arguments[r][i]&&(e[i]=dC(arguments[r][i]));return e};function dC(t){return JSON.parse(JSON.stringify(t))}var pC={extendEvent:function(t,e){if(2!==arguments.length||"string"!=typeof t||"object"!=typeof e&&"function"!=typeof e)return void mC.call(this,"Incorrect arguments provided to #extendEvent method");return this.extensions.collections[t]=this.extensions.collections[t]||[],this.extensions.collections[t].push(e),this.emit("extendEvent",t,e),this},extendEvents:function(t){if(1!==arguments.length||"object"!=typeof t&&"function"!=typeof t)return void mC.call(this,"Incorrect arguments provided to #extendEvents method");return this.extensions.events.push(t),this.emit("extendEvents",t),this},getExtendedEventBody:function(t,e){e&&e.length>0&&oC(e,function(e,r){var n="function"==typeof e?e():e;lC(t,n)});return t}};function mC(t){var e="Event(s) not extended: "+t;this.emit("error",e)}var yC={recordEvent:vC,recordEvents:gC,addEvent:function(){this.emit("error","This method has been deprecated. Check out #recordEvent: https://github.com/keen/keen-tracking.js#record-a-single-event"),vC.apply(this,arguments)},addEvents:function(){this.emit("error","This method has been deprecated. Check out #recordEvents: https://github.com/keen/keen-tracking.js#record-multiple-events"),gC.apply(this,arguments)}};function vC(t,e,r,n){var i,o,a,s,u,c,f;if(i=this.url("events",encodeURIComponent(t)),o={},a=r,f="boolean"!=typeof n||n,bC.call(this,a)){if(t&&"string"==typeof t){if(this.config.globalProperties&&(o=this.config.globalProperties(t)),aC(o,e),c={},pC.getExtendedEventBody(c,this.extensions.events),pC.getExtendedEventBody(c,this.extensions.collections[t]),pC.getExtendedEventBody(c,[o]),this.emit("recordEvent",t,c),!cC.enabled)return wC.call(this,"Keen.enabled is set to false.",a),!1;if(u=(s=this.url("events",encodeURIComponent(t),{api_key:this.writeKey(),data:encodeURIComponent(hC.encode(JSON.stringify(c))),modified:(new Date).getTime()})).length<function(){if("undefined"!=typeof window&&(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0))return 2e3;return 16e3}(),f)switch(this.config.requestType){case"xhr":kC.call(this,"POST",i,c,a);break;case"beacon":u?function(t,e){var r=this,n=e,i=document.createElement("img");e=null,i.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();n&&n.call(r)},i.onerror=function(){n&&n.call(r,"An error occurred!",null)},i.src=t+"&c=clv1"}.call(this,s,a):_C.call(this,i,c,"Beacon URL length exceeds current browser limit, and XHR is not supported.",a);break;default:u?function(t,e){var r=this,n=e,i=(new Date).getTime(),o=document.createElement("script"),a=document.getElementsByTagName("head")[0],s="keenJSONPCallback",u=!1;e=null,s+=i;for(;s in window;)s+="a";function c(){n&&n.call(r,"An error occurred!",null)}function f(){window[s]=void 0;try{delete window[s]}catch(t){}a.removeChild(o)}window[s]=function(t){!0!==u&&(u=!0,n&&n.call(r,null,t),f())},o.src=t+"&jsonp="+s,a.appendChild(o),o.onreadystatechange=function(){!1===u&&"loaded"===this.readyState&&(u=!0,c(),f())},o.onerror=function(){!1===u&&(u=!0,c(),f())}}.call(this,s,a):_C.call(this,i,c,"JSONp URL length exceeds current browser limit, and XHR is not supported.",a)}else u&&function(t){var e=SC();e&&(e.open("GET",t,!1),e.send(null))}(s);return r=a=null,this}wC.call(this,"Collection name must be a string.",a)}}function gC(t,e){var r,n,i,o=this;if(r=this.url("events"),n=e,e=null,bC.call(this,n))if("object"!=typeof t||t instanceof Array)wC.call(this,"First argument must be an object",n);else{if(!(arguments.length>2))return this.config.globalProperties&&oC(t,function(e,r){oC(e,function(e,n){var i=o.config.globalProperties(r);t[r][n]=aC(i,e)})}),i={},oC(t,function(t,e){i[e]=i[e]||[],oC(t,function(t,r){var n={};pC.getExtendedEventBody(n,o.extensions.events),pC.getExtendedEventBody(n,o.extensions.collections[e]),pC.getExtendedEventBody(n,[t]),i[e].push(n)})}),this.emit("recordEvents",i),cC.enabled?(SC()&&kC.call(this,"POST",r,i,n),e=n=null,this):(wC.call(this,"Keen.enabled is set to false.",n),!1);wC.call(this,"Incorrect arguments provided to #recordEvents method",n)}}function bC(t){var e=t;return t=null,this.projectId()?!!this.writeKey()||(wC.call(this,"Keen.Client is missing a writeKey property.",e),!1):(wC.call(this,"Keen.Client is missing a projectId property.",e),!1)}function wC(t,e){var r="Event(s) not recorded: "+t;this.emit("error",r),e&&(e.call(this,r,null),e=null)}function _C(t,e,r,n){SC()?kC.call(this,"POST",t,e,n):wC.call(this,r)}function kC(t,e,r,n){var i,o=this,a=SC(),s=n;n=null,a.onreadystatechange=function(){var t;if(4==a.readyState)if(a.status>=200&&a.status<300){try{t=JSON.parse(a.responseText)}catch(t){cC.emit("error","Could not parse HTTP response: "+a.responseText),s&&s.call(o,a,null)}s&&t&&s.call(o,null,t)}else cC.emit("error","HTTP request failed."),s&&s.call(o,a,null)},a.open(t,e,!0),a.setRequestHeader("Authorization",o.writeKey()),a.setRequestHeader("Content-Type","application/json"),r&&(i=JSON.stringify(r)),"GET"===t.toUpperCase()&&a.send(),"POST"===t.toUpperCase()&&a.send(i)}function SC(){var t="undefined"==typeof window?this:window;if(t.XMLHttpRequest&&("file:"!=t.location.protocol||!t.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}var EC={deferEvent:function(t,e){if(2!==arguments.length||"string"!=typeof t)return void MC.call(this,"Incorrect arguments provided to #deferEvent method");return this.queue.events[t]=this.queue.events[t]||[],this.queue.events[t].push(e),this.queue.capacity++,this.emit("deferEvent",t,e),this},deferEvents:function(t){var e=this;if(1!==arguments.length||"object"!=typeof t)return void MC.call(this,"Incorrect arguments provided to #deferEvents method");return oC(t,function(t,r){e.queue.events[r]=e.queue.events[r]||[],e.queue.events[r]=e.queue.events[r].concat(t),e.queue.capacity=e.queue.capacity+t.length}),e.emit("deferEvents",t),e},queueCapacity:function(t){return arguments.length?(this.queue.config.capacity=t?Number(t):0,this):this.queue.config.capacity},queueInterval:function(t){return arguments.length?(this.queue.config.interval=t?Number(t):0,this):this.queue.config.interval},recordDeferredEvents:function(){var t,e=this;e.queue.capacity>0&&(t=JSON.parse(JSON.stringify(e.queue)),e.queue=sC(),e.queue.options=t.options,e.emit("recordDeferredEvents",t.events),e.recordEvents(t.events,function(r,n){r?e.recordEvents(t.events):t=void 0}));return e}};function MC(t){var e="Event(s) not deferred: "+t;this.emit("error",e)}var AC=function(){var t,e;if("undefined"==typeof window||!window.screen)return{};t=["height","width","colorDepth","pixelDepth","availHeight","availWidth"],e={};for(var r=0;r<t.length;r++)e[t[r]]=window.screen[t[r]]?window.screen[t[r]]:null;return e.orientation={angle:window.screen.orientation?window.screen.orientation.angle:0,type:window.innerWidth>window.innerHeight?"landscape":"portrait"},e};var xC=function(){var t,e,r;return"undefined"==typeof document?{}:(t=document.body,e=document.documentElement,r={height:"innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,width:"innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth,scrollHeight:Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)||null},window.screen&&(r.ratio={height:window.screen.availHeight?parseFloat((window.innerHeight/window.screen.availHeight).toFixed(2)):null,width:window.screen.availWidth?parseFloat((window.innerWidth/window.screen.availWidth).toFixed(2)):null}),r)};var BC=function(){return{cookies:void 0!==navigator.cookieEnabled&&navigator.cookieEnabled,codeName:navigator.appCodeName,language:navigator.language,name:navigator.appName,online:navigator.onLine,platform:navigator.platform,useragent:navigator.userAgent,version:navigator.appVersion,screen:AC(),window:xC()}};var CC=function(t){var e=t||new Date;return{hour_of_day:e.getHours(),day_of_week:parseInt(1+e.getDay()),day_of_month:e.getDate(),month:parseInt(1+e.getMonth()),year:e.getFullYear()}};var IC=function(t){if(!t.nodeName)return"";for(var e=[];null!=t.parentNode;){for(var r=0,n=0,i=0;i<t.parentNode.childNodes.length;i++){var o=t.parentNode.childNodes[i];o.nodeName==t.nodeName&&(o===t&&(n=r),r++)}t.hasAttribute("id")&&""!=t.id?e.unshift(t.nodeName.toLowerCase()+"#"+t.id):r>1?e.unshift(t.nodeName.toLowerCase()+":eq("+n+")"):e.unshift(t.nodeName.toLowerCase()),t=t.parentNode}return e.slice(1).join(" > ")};var TC=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},PC=et(function(t,e){var r;r=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}return function e(r){function n(e,i,o){var a;if(arguments.length>1){if("number"==typeof(o=t({path:"/"},n.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}try{a=JSON.stringify(i),/^[\{\[]/.test(a)&&(i=a)}catch(t){}return i=r.write?r.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",i,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}e||(a={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var h=u[f].split("="),l=h[0].replace(c,decodeURIComponent),d=h.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{if(d=r.read?r.read(d,l):r(d,l)||d.replace(c,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(t){}if(e===l){a=d;break}e||(a[l]=d)}catch(t){}}return a}return n.get=n.set=n,n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,r){n(e,"",t(r,{expires:-1}))},n.withConverter=e,n}(function(){})},t.exports=r()}),NC=RC;function RC(t){if(arguments.length)return this instanceof RC==!1?new RC(t):(this.config={key:t,options:{expires:365}},this.data=this.get(),this)}RC.prototype.get=function(t){var e={};return PC.get(this.config.key)&&(e=PC.getJSON(this.config.key)),t&&"object"==typeof e&&null!==typeof e?void 0!==e[t]?e[t]:null:e},RC.prototype.set=function(t,e){return arguments.length&&this.enabled()?("string"==typeof t&&2===arguments.length?this.data[t]=e||null:"object"==typeof t&&1===arguments.length&&aC(this.data,t),PC.set(this.config.key,this.data,this.config.options),this):this},RC.prototype.expire=function(t){return t?PC.set(this.config.key,this.data,aC(this.config.options,{expires:t})):(PC.remove(this.config.key),this.data={}),this},RC.prototype.options=function(t){return arguments.length?(this.config.options="object"==typeof t?t:{},this):this.config.options},RC.prototype.enabled=function(){return navigator.cookieEnabled};var LC=OC;function OC(t){return this instanceof OC==!1?new OC(t):(this.count=t||0,this)}OC.prototype.start=function(){var t=this;return this.pause(),this.interval=setInterval(function(){t.count++},1e3),this},OC.prototype.pause=function(){return clearInterval(this.interval),this},OC.prototype.value=function(){return this.count},OC.prototype.clear=function(){return this.count=0,this};var jC=et(function(t){(function(e){var r=cC,n=oC,i=aC,o=fC(r);i(r.prototype,yC),i(r.prototype,EC),i(r.prototype,{extendEvent:pC.extendEvent,extendEvents:pC.extendEvents}),r.prototype.trackExternalLink=function(t,e,r,n,i){this.emit("error","This method has been deprecated. Check out DOM listeners: https://github.com/keen/keen-tracking.js#listeners");var o,a=t,s=a.currentTarget?a.currentTarget:a.srcElement||a.target,u=n||500,c=!1,f="";void 0!==s.getAttribute?f=s.getAttribute("target"):s.target&&(f=s.target);"_blank"!=f&&"blank"!=f||a.metaKey||(window.open("about:blank").document.location=s.href);"A"===s.nodeName?o=function(){c||a.metaKey||"_blank"===f||"blank"===f||(c=!0,window.location=s.href)}:"FORM"===s.nodeName?o=function(){c||(c=!0,s.submit())}:this.trigger("error","#trackExternalLink method not attached to an <a> or <form> DOM element");i&&(o=function(){c||(c=!0,i())});if(this.recordEvent(e,r,o),setTimeout(o,u),!a.metaKey)return!1},i(r.helpers,{getBrowserProfile:BC,getDatetimeIndex:CC,getDomNodePath:IC,getScreenProfile:AC,getUniqueId:TC,getWindowProfile:xC}),i(r.utils,{cookie:NC,deepExtend:lC,listener:o,timer:LC}),r.listenTo=function(t){n(t,function(t,e){var r=e.split(" "),n=r[0],i=r.slice(1,r.length).join(" ");return o(i).on(n,t)})},Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,r=Number(arguments[1])||0;for((r=r<0?Math.ceil(r):Math.floor(r))<0&&(r+=e);r<e;r++)if(r in this&&this[r]===t)return r;return-1}),t.exports&&(t.exports=r),e.Keen=r.extendLibrary(r)}).call(X,"undefined"!=typeof window?window:void 0!==X?X:"undefined"!=typeof self?self:{})}),DC=et(function(t,e){var r=200,n="Expected a function",i="__lodash_hash_undefined__",o=1,a=2,s=1/0,u=9007199254740991,c="[object Arguments]",f="[object Array]",h="[object Boolean]",l="[object Date]",d="[object Error]",p="[object Function]",m="[object GeneratorFunction]",y="[object Map]",v="[object Number]",g="[object Object]",b="[object RegExp]",w="[object Set]",_="[object String]",k="[object Symbol]",S="[object ArrayBuffer]",E="[object DataView]",M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,x=/^\./,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,I=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[c]=P[f]=P[S]=P[h]=P[E]=P[l]=P[d]=P[p]=P[y]=P[v]=P[g]=P[b]=P[w]=P[_]=P["[object WeakMap]"]=!1;var N="object"==typeof X&&X&&X.Object===Object&&X,R="object"==typeof self&&self&&self.Object===Object&&self,L=N||R||Function("return this")(),O=e&&!e.nodeType&&e,j=O&&t&&!t.nodeType&&t,D=j&&j.exports===O&&N.process,U=function(){try{return D&&D.binding("util")}catch(t){}}(),F=U&&U.isTypedArray;function q(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function K(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function H(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var G,$,W,Y=Array.prototype,Z=Function.prototype,Q=Object.prototype,J=L["__core-js_shared__"],tt=(G=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",et=Z.toString,rt=Q.hasOwnProperty,nt=Q.toString,it=RegExp("^"+et.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=L.Symbol,at=L.Uint8Array,st=Q.propertyIsEnumerable,ut=Y.splice,ct=($=Object.keys,W=Object,function(t){return $(W(t))}),ft=Ht(L,"DataView"),ht=Ht(L,"Map"),lt=Ht(L,"Promise"),dt=Ht(L,"Set"),pt=Ht(L,"WeakMap"),mt=Ht(Object,"create"),yt=Jt(ft),vt=Jt(ht),gt=Jt(lt),bt=Jt(dt),wt=Jt(pt),_t=ot?ot.prototype:void 0,kt=_t?_t.valueOf:void 0,St=_t?_t.toString:void 0;function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=t?t.length:0;for(this.__data__=new At;++e<r;)this.add(t[e])}function Bt(t){this.__data__=new Mt(t)}function Ct(t,e){var r=ne(t)||re(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!rt.call(t,o)||i&&("length"==o||$t(o,n))||r.push(o);return r}function It(t,e){for(var r=t.length;r--;)if(ee(t[r][0],e))return r;return-1}Et.prototype.clear=function(){this.__data__=mt?mt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===i?void 0:r}return rt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:rt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?i:e,this},Mt.prototype.clear=function(){this.__data__=[]},Mt.prototype.delete=function(t){var e=this.__data__,r=It(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},Mt.prototype.get=function(t){var e=this.__data__,r=It(e,t);return r<0?void 0:e[r][1]},Mt.prototype.has=function(t){return It(this.__data__,t)>-1},Mt.prototype.set=function(t,e){var r=this.__data__,n=It(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Et,map:new(ht||Mt),string:new Et}},At.prototype.delete=function(t){return Vt(this,t).delete(t)},At.prototype.get=function(t){return Vt(this,t).get(t)},At.prototype.has=function(t){return Vt(this,t).has(t)},At.prototype.set=function(t,e){return Vt(this,t).set(t,e),this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,i),this},xt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.clear=function(){this.__data__=new Mt},Bt.prototype.delete=function(t){return this.__data__.delete(t)},Bt.prototype.get=function(t){return this.__data__.get(t)},Bt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Mt){var i=n.__data__;if(!ht||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new At(i)}return n.set(t,e),this};var Tt,Pt,Nt=(Tt=function(t,e){return t&&Rt(t,e,he)},function(t,e){if(null==t)return t;if(!ie(t))return Tt(t,e);for(var r=t.length,n=Pt?r:-1,i=Object(t);(Pt?n--:++n<r)&&!1!==e(i[n],n,i););return t}),Rt=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}();function Lt(t,e){for(var r=0,n=(e=Wt(e,t)?[e]:Kt(e)).length;null!=t&&r<n;)t=t[Xt(e[r++])];return r&&r==n?t:void 0}function Ot(t,e){return null!=t&&e in Object(t)}function jt(t,e,r,n,i){return t===e||(null==t||null==e||!se(t)&&!ue(e)?t!=t&&e!=e:function(t,e,r,n,i,s){var u=ne(t),p=ne(e),m=f,M=f;u||(m=(m=Gt(t))==c?g:m);p||(M=(M=Gt(e))==c?g:M);var A=m==g&&!z(t),x=M==g&&!z(e),B=m==M;if(B&&!A)return s||(s=new Bt),u||fe(t)?zt(t,e,r,n,i,s):function(t,e,r,n,i,s,u){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!n(new at(t),new at(e)));case h:case l:case v:return ee(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case _:return t==e+"";case y:var c=V;case w:var f=s&a;if(c||(c=H),t.size!=e.size&&!f)return!1;var p=u.get(t);if(p)return p==e;s|=o,u.set(t,e);var m=zt(c(t),c(e),n,i,s,u);return u.delete(t),m;case k:if(kt)return kt.call(t)==kt.call(e)}return!1}(t,e,m,r,n,i,s);if(!(i&a)){var C=A&&rt.call(t,"__wrapped__"),I=x&&rt.call(e,"__wrapped__");if(C||I){var T=C?t.value():t,P=I?e.value():e;return s||(s=new Bt),r(T,P,n,i,s)}}if(!B)return!1;return s||(s=new Bt),function(t,e,r,n,i,o){var s=i&a,u=he(t),c=u.length,f=he(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:rt.call(e,l)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var m=s;++h<c;){l=u[h];var y=t[l],v=e[l];if(n)var g=s?n(v,y,l,e,t,o):n(y,v,l,t,e,o);if(!(void 0===g?y===v||r(y,v,n,i,o):g)){p=!1;break}m||(m="constructor"==l)}if(p&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return o.delete(t),o.delete(e),p}(t,e,r,n,i,s)}(t,e,jt,r,n,i))}function Dt(t){return!(!se(t)||tt&&tt in t)&&(oe(t)||z(t)?it:I).test(Jt(t))}function Ut(t){return"function"==typeof t?t:null==t?le:"object"==typeof t?ne(t)?function(t,e){if(Wt(t)&&Yt(e))return Zt(Xt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Lt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Wt(e,t)?[e]:Kt(e)).length;for(;++i<o;){var a=Xt(e[i]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;return!!(o=t?t.length:0)&&ae(o)&&$t(a,o)&&(ne(t)||re(t))}(t,e,Ot)}(r,t):jt(e,n,void 0,o|a)}}(t[0],t[1]):function(t){var e=function(t){var e=he(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Yt(i)]}return e}(t);if(1==e.length&&e[0][2])return Zt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,s=i,u=!n;if(null==t)return!s;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<s;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var d=new Bt;if(n)var p=n(h,l,f,t,e,d);if(!(void 0===p?jt(l,h,n,o|a,d):p))return!1}}return!0}(r,t,e)}}(t):Wt(e=t)?(r=Xt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Lt(e,t)}}(e);var e,r}function Ft(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||Q,e!==n)return ct(t);var e,r,n,i=[];for(var o in Object(t))rt.call(t,o)&&"constructor"!=o&&i.push(o);return i}function qt(t,e){var r=-1,n=ie(t)?Array(t.length):[];return Nt(t,function(t,i,o){n[++r]=e(t,i,o)}),n}function Kt(t){return ne(t)?t:Qt(t)}function zt(t,e,r,n,i,s){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var l=-1,d=!0,p=i&o?new xt:void 0;for(s.set(t,e),s.set(e,t);++l<c;){var m=t[l],y=e[l];if(n)var v=u?n(y,m,l,e,t,s):n(m,y,l,t,e,s);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!K(e,function(t,e){if(!p.has(e)&&(m===t||r(m,t,n,i,s)))return p.add(e)})){d=!1;break}}else if(m!==y&&!r(m,y,n,i,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Vt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ht(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Dt(r)?r:void 0}var Gt=function(t){return nt.call(t)};function $t(t,e){return!!(e=null==e?u:e)&&("number"==typeof t||T.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t,e){if(ne(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ce(t))||(A.test(t)||!M.test(t)||null!=e&&t in Object(e))}function Yt(t){return t==t&&!se(t)}function Zt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ft&&Gt(new ft(new ArrayBuffer(1)))!=E||ht&&Gt(new ht)!=y||lt&&"[object Promise]"!=Gt(lt.resolve())||dt&&Gt(new dt)!=w||pt&&"[object WeakMap]"!=Gt(new pt))&&(Gt=function(t){var e=nt.call(t),r=e==g?t.constructor:void 0,n=r?Jt(r):void 0;if(n)switch(n){case yt:return E;case vt:return y;case gt:return"[object Promise]";case bt:return w;case wt:return"[object WeakMap]"}return e});var Qt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ce(t))return St?St.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}(e);var r=[];return x.test(t)&&r.push(""),t.replace(B,function(t,e,n,i){r.push(n?i.replace(C,"$1"):e||t)}),r});function Xt(t){if("string"==typeof t||ce(t))return t;var e=t+"";return"0"==e&&1/t==-s?"-0":e}function Jt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(te.Cache||At),r}function ee(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return ue(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!st.call(t,"callee")||nt.call(t)==c)}te.Cache=At;var ne=Array.isArray;function ie(t){return null!=t&&ae(t.length)&&!oe(t)}function oe(t){var e=se(t)?nt.call(t):"";return e==p||e==m}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function se(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ue(t){return!!t&&"object"==typeof t}function ce(t){return"symbol"==typeof t||ue(t)&&nt.call(t)==k}var fe=F?function(t){return function(e){return t(e)}}(F):function(t){return ue(t)&&ae(t.length)&&!!P[nt.call(t)]};function he(t){return ie(t)?Ct(t):Ft(t)}function le(t){return t}t.exports=function(t,e){return(ne(t)?q:qt)(t,Ut(e))}}),UC=et(function(t,e){var r=200,n="Expected a function",i="__lodash_hash_undefined__",o=1,a=2,s=1/0,u=9007199254740991,c="[object Arguments]",f="[object Array]",h="[object Boolean]",l="[object Date]",d="[object Error]",p="[object Function]",m="[object GeneratorFunction]",y="[object Map]",v="[object Number]",g="[object Object]",b="[object RegExp]",w="[object Set]",_="[object String]",k="[object Symbol]",S="[object ArrayBuffer]",E="[object DataView]",M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,x=/^\./,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,I=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[c]=P[f]=P[S]=P[h]=P[E]=P[l]=P[d]=P[p]=P[y]=P[v]=P[g]=P[b]=P[w]=P[_]=P["[object WeakMap]"]=!1;var N="object"==typeof X&&X&&X.Object===Object&&X,R="object"==typeof self&&self&&self.Object===Object&&self,L=N||R||Function("return this")(),O=e&&!e.nodeType&&e,j=O&&t&&!t.nodeType&&t,D=j&&j.exports===O&&N.process,U=function(){try{return D&&D.binding("util")}catch(t){}}(),F=U&&U.isTypedArray;function q(t,e){for(var r=-1,n=t?t.length:0,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function K(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function H(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var G,$,W,Y=Array.prototype,Z=Function.prototype,Q=Object.prototype,J=L["__core-js_shared__"],tt=(G=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",et=Z.toString,rt=Q.hasOwnProperty,nt=Q.toString,it=RegExp("^"+et.call(rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=L.Symbol,at=L.Uint8Array,st=Q.propertyIsEnumerable,ut=Y.splice,ct=($=Object.keys,W=Object,function(t){return $(W(t))}),ft=Ht(L,"DataView"),ht=Ht(L,"Map"),lt=Ht(L,"Promise"),dt=Ht(L,"Set"),pt=Ht(L,"WeakMap"),mt=Ht(Object,"create"),yt=Jt(ft),vt=Jt(ht),gt=Jt(lt),bt=Jt(dt),wt=Jt(pt),_t=ot?ot.prototype:void 0,kt=_t?_t.valueOf:void 0,St=_t?_t.toString:void 0;function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Mt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=t?t.length:0;for(this.__data__=new At;++e<r;)this.add(t[e])}function Bt(t){this.__data__=new Mt(t)}function Ct(t,e){var r=ne(t)||re(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!rt.call(t,o)||i&&("length"==o||$t(o,n))||r.push(o);return r}function It(t,e){for(var r=t.length;r--;)if(ee(t[r][0],e))return r;return-1}Et.prototype.clear=function(){this.__data__=mt?mt(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===i?void 0:r}return rt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:rt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?i:e,this},Mt.prototype.clear=function(){this.__data__=[]},Mt.prototype.delete=function(t){var e=this.__data__,r=It(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},Mt.prototype.get=function(t){var e=this.__data__,r=It(e,t);return r<0?void 0:e[r][1]},Mt.prototype.has=function(t){return It(this.__data__,t)>-1},Mt.prototype.set=function(t,e){var r=this.__data__,n=It(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},At.prototype.clear=function(){this.__data__={hash:new Et,map:new(ht||Mt),string:new Et}},At.prototype.delete=function(t){return Vt(this,t).delete(t)},At.prototype.get=function(t){return Vt(this,t).get(t)},At.prototype.has=function(t){return Vt(this,t).has(t)},At.prototype.set=function(t,e){return Vt(this,t).set(t,e),this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,i),this},xt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.clear=function(){this.__data__=new Mt},Bt.prototype.delete=function(t){return this.__data__.delete(t)},Bt.prototype.get=function(t){return this.__data__.get(t)},Bt.prototype.has=function(t){return this.__data__.has(t)},Bt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Mt){var i=n.__data__;if(!ht||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new At(i)}return n.set(t,e),this};var Tt,Pt,Nt=(Tt=function(t,e){return t&&Lt(t,e,he)},function(t,e){if(null==t)return t;if(!ie(t))return Tt(t,e);for(var r=t.length,n=Pt?r:-1,i=Object(t);(Pt?n--:++n<r)&&!1!==e(i[n],n,i););return t});function Rt(t,e){var r=[];return Nt(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}var Lt=function(t){return function(e,r,n){for(var i=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}();function Ot(t,e){for(var r=0,n=(e=Wt(e,t)?[e]:Kt(e)).length;null!=t&&r<n;)t=t[Xt(e[r++])];return r&&r==n?t:void 0}function jt(t,e){return null!=t&&e in Object(t)}function Dt(t,e,r,n,i){return t===e||(null==t||null==e||!se(t)&&!ue(e)?t!=t&&e!=e:function(t,e,r,n,i,s){var u=ne(t),p=ne(e),m=f,M=f;u||(m=(m=Gt(t))==c?g:m);p||(M=(M=Gt(e))==c?g:M);var A=m==g&&!z(t),x=M==g&&!z(e),B=m==M;if(B&&!A)return s||(s=new Bt),u||fe(t)?zt(t,e,r,n,i,s):function(t,e,r,n,i,s,u){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!n(new at(t),new at(e)));case h:case l:case v:return ee(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case _:return t==e+"";case y:var c=V;case w:var f=s&a;if(c||(c=H),t.size!=e.size&&!f)return!1;var p=u.get(t);if(p)return p==e;s|=o,u.set(t,e);var m=zt(c(t),c(e),n,i,s,u);return u.delete(t),m;case k:if(kt)return kt.call(t)==kt.call(e)}return!1}(t,e,m,r,n,i,s);if(!(i&a)){var C=A&&rt.call(t,"__wrapped__"),I=x&&rt.call(e,"__wrapped__");if(C||I){var T=C?t.value():t,P=I?e.value():e;return s||(s=new Bt),r(T,P,n,i,s)}}if(!B)return!1;return s||(s=new Bt),function(t,e,r,n,i,o){var s=i&a,u=he(t),c=u.length,f=he(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:rt.call(e,l)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var m=s;++h<c;){l=u[h];var y=t[l],v=e[l];if(n)var g=s?n(v,y,l,e,t,o):n(y,v,l,t,e,o);if(!(void 0===g?y===v||r(y,v,n,i,o):g)){p=!1;break}m||(m="constructor"==l)}if(p&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return o.delete(t),o.delete(e),p}(t,e,r,n,i,s)}(t,e,Dt,r,n,i))}function Ut(t){return!(!se(t)||tt&&tt in t)&&(oe(t)||z(t)?it:I).test(Jt(t))}function Ft(t){return"function"==typeof t?t:null==t?le:"object"==typeof t?ne(t)?function(t,e){if(Wt(t)&&Yt(e))return Zt(Xt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Ot(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=Wt(e,t)?[e]:Kt(e)).length;for(;++i<o;){var a=Xt(e[i]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;return!!(o=t?t.length:0)&&ae(o)&&$t(a,o)&&(ne(t)||re(t))}(t,e,jt)}(r,t):Dt(e,n,void 0,o|a)}}(t[0],t[1]):function(t){var e=function(t){var e=he(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Yt(i)]}return e}(t);if(1==e.length&&e[0][2])return Zt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,s=i,u=!n;if(null==t)return!s;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<s;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var d=new Bt;if(n)var p=n(h,l,f,t,e,d);if(!(void 0===p?Dt(l,h,n,o|a,d):p))return!1}}return!0}(r,t,e)}}(t):Wt(e=t)?(r=Xt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Ot(e,t)}}(e);var e,r}function qt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||Q,e!==n)return ct(t);var e,r,n,i=[];for(var o in Object(t))rt.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Kt(t){return ne(t)?t:Qt(t)}function zt(t,e,r,n,i,s){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var l=-1,d=!0,p=i&o?new xt:void 0;for(s.set(t,e),s.set(e,t);++l<c;){var m=t[l],y=e[l];if(n)var v=u?n(y,m,l,e,t,s):n(m,y,l,t,e,s);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!K(e,function(t,e){if(!p.has(e)&&(m===t||r(m,t,n,i,s)))return p.add(e)})){d=!1;break}}else if(m!==y&&!r(m,y,n,i,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Vt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Ht(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ut(r)?r:void 0}var Gt=function(t){return nt.call(t)};function $t(t,e){return!!(e=null==e?u:e)&&("number"==typeof t||T.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t,e){if(ne(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ce(t))||(A.test(t)||!M.test(t)||null!=e&&t in Object(e))}function Yt(t){return t==t&&!se(t)}function Zt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ft&&Gt(new ft(new ArrayBuffer(1)))!=E||ht&&Gt(new ht)!=y||lt&&"[object Promise]"!=Gt(lt.resolve())||dt&&Gt(new dt)!=w||pt&&"[object WeakMap]"!=Gt(new pt))&&(Gt=function(t){var e=nt.call(t),r=e==g?t.constructor:void 0,n=r?Jt(r):void 0;if(n)switch(n){case yt:return E;case vt:return y;case gt:return"[object Promise]";case bt:return w;case wt:return"[object WeakMap]"}return e});var Qt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ce(t))return St?St.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}(e);var r=[];return x.test(t)&&r.push(""),t.replace(B,function(t,e,n,i){r.push(n?i.replace(C,"$1"):e||t)}),r});function Xt(t){if("string"==typeof t||ce(t))return t;var e=t+"";return"0"==e&&1/t==-s?"-0":e}function Jt(t){if(null!=t){try{return et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(te.Cache||At),r}function ee(t,e){return t===e||t!=t&&e!=e}function re(t){return function(t){return ue(t)&&ie(t)}(t)&&rt.call(t,"callee")&&(!st.call(t,"callee")||nt.call(t)==c)}te.Cache=At;var ne=Array.isArray;function ie(t){return null!=t&&ae(t.length)&&!oe(t)}function oe(t){var e=se(t)?nt.call(t):"";return e==p||e==m}function ae(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function se(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ue(t){return!!t&&"object"==typeof t}function ce(t){return"symbol"==typeof t||ue(t)&&nt.call(t)==k}var fe=F?function(t){return function(e){return t(e)}}(F):function(t){return ue(t)&&ae(t.length)&&!!P[nt.call(t)]};function he(t){return ie(t)?Ct(t):qt(t)}function le(t){return t}t.exports=function(t,e){return(ne(t)?q:Rt)(t,Ft(e))}}),FC=et(function(e,r){var n=r,i=t.Buffer;n.toBuffer=function(t,e,r){var n;if(r=~~r,this.isV4Format(t))n=e||new i(r+4),t.split(/\./g).map(function(t){n[r++]=255&parseInt(t,10)});else if(this.isV6Format(t)){var o,a=t.split(":",8);for(o=0;o<a.length;o++){var s;this.isV4Format(a[o])&&(s=this.toBuffer(a[o]),a[o]=s.slice(0,2).toString("hex")),s&&++o<8&&a.splice(o,0,s.slice(2,4).toString("hex"))}if(""===a[0])for(;a.length<8;)a.unshift("0");else if(""===a[a.length-1])for(;a.length<8;)a.push("0");else if(a.length<8){for(o=0;o<a.length&&""!==a[o];o++);var u=[o,1];for(o=9-a.length;o>0;o--)u.push("0");a.splice.apply(a,u)}for(n=e||new i(r+16),o=0;o<a.length;o++){var c=parseInt(a[o],16);n[r++]=c>>8&255,n[r++]=255&c}}if(!n)throw Error("Invalid ip address: "+t);return n},n.toString=function(t,e,r){e=~~e;var n=[];if(4===(r=r||t.length-e)){for(var i=0;i<r;i++)n.push(t[e+i]);n=n.join(".")}else if(16===r){for(i=0;i<r;i+=2)n.push(t.readUInt16BE(e+i).toString(16));n=(n=(n=n.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return n};var o=/^(\d{1,3}\.){3,3}\d{1,3}$/,a=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function s(t){return t?t.toLowerCase():"ipv4"}n.isV4Format=function(t){return o.test(t)},n.isV6Format=function(t){return a.test(t)},n.fromPrefixLen=function(t,e){var r=4;"ipv6"===(e=t>32?"ipv6":s(e))&&(r=16);for(var o=new i(r),a=0,u=o.length;a<u;++a){var c=8;t<8&&(c=t),t-=c,o[a]=255&~(255>>c)}return n.toString(o)},n.mask=function(t,e){t=n.toBuffer(t),e=n.toBuffer(e);var r=new i(Math.max(t.length,e.length)),o=0;if(t.length===e.length)for(o=0;o<t.length;o++)r[o]=t[o]&e[o];else if(4===e.length)for(o=0;o<e.length;o++)r[o]=t[t.length-4+o]&e[o];else{for(o=0;o<r.length-6;o++)r[o]=0;for(r[10]=255,r[11]=255,o=0;o<t.length;o++)r[o+12]=t[o]&e[o+12];o+=12}for(;o<r.length;o++)r[o]=0;return n.toString(r)},n.cidr=function(t){var e=t.split("/"),r=e[0];if(2!==e.length)throw new Error("invalid CIDR subnet: "+r);var i=n.fromPrefixLen(parseInt(e[1],10));return n.mask(r,i)},n.subnet=function(t,e){for(var r=n.toLong(n.mask(t,e)),i=n.toBuffer(e),o=0,a=0;a<i.length;a++)if(255===i[a])o+=8;else for(var s=255&i[a];s;)s=s<<1&255,o++;var u=Math.pow(2,32-o);return{networkAddress:n.fromLong(r),firstAddress:u<=2?n.fromLong(r):n.fromLong(r+1),lastAddress:u<=2?n.fromLong(r+u-1):n.fromLong(r+u-2),broadcastAddress:n.fromLong(r+u-1),subnetMask:e,subnetMaskLength:o,numHosts:u<=2?u:u-2,length:u,contains:function(t){return r===n.toLong(n.mask(t,e))}}},n.cidrSubnet=function(t){var e=t.split("/"),r=e[0];if(2!==e.length)throw new Error("invalid CIDR subnet: "+r);var i=n.fromPrefixLen(parseInt(e[1],10));return n.subnet(r,i)},n.not=function(t){for(var e=n.toBuffer(t),r=0;r<e.length;r++)e[r]=255^e[r];return n.toString(e)},n.or=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;++r)t[r]|=e[r];return n.toString(t)}var i=t,o=e;e.length>t.length&&(i=e,o=t);var a=i.length-o.length;for(r=a;r<i.length;++r)i[r]|=o[r-a];return n.toString(i)},n.isEqual=function(t,e){if(t=n.toBuffer(t),e=n.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(4===e.length){var i=e;e=t,t=i}for(r=0;r<10;r++)if(0!==e[r])return!1;var o=e.readUInt16BE(10);if(0!==o&&65535!==o)return!1;for(r=0;r<4;r++)if(t[r]!==e[r+12])return!1;return!0},n.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.isPublic=function(t){return!n.isPrivate(t)},n.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)},n.loopback=function(t){if("ipv4"!==(t=s(t))&&"ipv6"!==t)throw new Error("family must be ipv4 or ipv6");return"ipv4"===t?"127.0.0.1":"fe80::1"},n.address=function(t,e){var r,i=c.networkInterfaces();if(e=s(e),t&&"private"!==t&&"public"!==t){var o=i[t].filter(function(t){return t.family.toLowerCase()===e});if(0===o.length)return;return o[0].address}return(r=Object.keys(i).map(function(r){var o=i[r].filter(function(r){return r.family=r.family.toLowerCase(),r.family===e&&!n.isLoopback(r.address)&&(!t||("public"===t?n.isPrivate(r.address):n.isPublic(r.address)))});return o.length?o[0].address:void 0}).filter(Boolean)).length?r[0]:n.loopback(e)},n.toLong=function(t){var e=0;return t.split(".").forEach(function(t){e<<=8,e+=parseInt(t)}),e>>>0},n.fromLong=function(t){return(t>>>24)+"."+(t>>16&255)+"."+(t>>8&255)+"."+(255&t)}});function qC(t){if("number"==typeof t){if(qC.codes[t])return qC.codes[t];throw new Error("no protocol with code: "+t)}if("string"==typeof t||t instanceof String){if(qC.names[t])return qC.names[t];throw new Error("no protocol with name: "+t)}throw new Error("invalid protocol id type: "+t)}function KC(t,e,r,n){return{code:t,size:e,name:r,resolvable:Boolean(n)}}qC.lengthPrefixedVarSize=-1,qC.V=-1,qC.table=[[4,32,"ip4"],[6,16,"tcp"],[17,16,"udp"],[33,16,"dccp"],[41,128,"ip6"],[53,-1,"dnsaddr","resolvable"],[54,-1,"dns4","resolvable"],[55,-1,"dns6","resolvable"],[132,16,"sctp"],[302,0,"utp"],[421,qC.lengthPrefixedVarSize,"ipfs"],[480,0,"http"],[443,0,"https"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[290,0,"p2p-circuit"]],qC.names={},qC.codes={},DC(qC.table,function(t){const e=KC.apply(null,t);qC.codes[e.code]=e,qC.names[e.name]=e}),qC.object=KC;var zC=qC,VC=Ya.Buffer,HC=function(t){for(var e={},r=t.length,n=t.charAt(0),i=0;i<t.length;i++){var o=t.charAt(i);if(void 0!==e[o])throw new TypeError(o+" is ambiguous");e[o]=i}function a(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return VC.allocUnsafe(0);for(var i=[0],o=0;o<t.length;o++){var a=e[t[o]];if(void 0===a)return;for(var s=0,u=a;s<i.length;++s)u+=i[s]*r,i[s]=255&u,u>>=8;for(;u>0;)i.push(255&u),u>>=8}for(var c=0;t[c]===n&&c<t.length-1;++c)i.push(0);return VC.from(i.reverse())}return{encode:function(e){if(0===e.length)return"";for(var i=[0],o=0;o<e.length;++o){for(var a=0,s=e[o];a<i.length;++a)s+=i[a]<<8,i[a]=s%r,s=s/r|0;for(;s>0;)i.push(s%r),s=s/r|0}for(var u="",c=0;0===e[c]&&c<e.length-1;++c)u+=n;for(var f=i.length-1;f>=0;--f)u+=t[i[f]];return u},decodeUnsafe:a,decode:function(t){var e=a(t);if(e)return e;throw new Error("Non-base"+r+" character")}}},GC=HC("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),$C=function t(e,r,n){r=r||[];n=n||0;var i=n;for(;e>=ZC;)r[n++]=255&e|WC,e/=128;for(;e&YC;)r[n++]=255&e|WC,e>>>=7;r[n]=0|e;t.bytes=n-i+1;return r},WC=128,YC=-128,ZC=Math.pow(2,31);var QC=function t(e,r){var n,i=0,r=r||0,o=0,a=r,s=e.length;do{if(a>=s)throw t.bytes=0,new RangeError("Could not decode varint");n=e[a++],i+=o<28?(n&JC)<<o:(n&JC)*Math.pow(2,o),o+=7}while(n>=XC);t.bytes=a-r;return i},XC=128,JC=127;var tI=Math.pow(2,7),eI=Math.pow(2,14),rI=Math.pow(2,21),nI=Math.pow(2,28),iI=Math.pow(2,35),oI=Math.pow(2,42),aI=Math.pow(2,49),sI=Math.pow(2,56),uI=Math.pow(2,63),cI={encode:$C,decode:QC,encodingLength:function(t){return t<tI?1:t<eI?2:t<rI?3:t<nI?4:t<iI?5:t<oI?6:t<aI?7:t<sI?8:t<uI?9:10}},fI=hI;function hI(t,e){return e instanceof Buffer?hI.toString(t,e):hI.toBuffer(t,e)}hI.toString=function(t,e){switch((t=zC(t)).code){case 4:case 41:return FC.toString(e);case 6:case 17:case 33:case 132:return function(t){return t.readUInt16BE(0)}(e);case 53:case 54:case 55:return function(t){const e=cI.decode(t);if((t=t.slice(cI.decode.bytes)).length!==e)throw new Error("inconsistent lengths");return t.toString()}(e);case 421:return function(t){const e=cI.decode(t),r=t.slice(cI.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return GC.encode(r)}(e);default:return e.toString("hex")}},hI.toBuffer=function(t,e){switch((t=zC(t)).code){case 4:case 41:return FC.toBuffer(e);case 6:case 17:case 33:case 132:return function(t){const e=Buffer.alloc(2);return e.writeUInt16BE(t,0),e}(parseInt(e,10));case 53:case 54:case 55:return function(t){const e=Buffer.from(t),r=Buffer.from(cI.encode(e.length));return Buffer.concat([r,e])}(e);case 421:return function(t){const e=Buffer.from(GC.decode(t)),r=Buffer.from(cI.encode(e.length));return Buffer.concat([r,e])}(e);default:return Buffer.from(e,"hex")}};var lI={stringToStringTuples:dI,stringTuplesToString:pI,tuplesToStringTuples:yI,stringTuplesToTuples:mI,bufferToTuples:bI,tuplesToBuffer:vI,bufferToString:function(t){return pI(yI(bI(t)))},stringToBuffer:wI,fromString:function(t){return wI(t)},fromBuffer:_I,validateBuffer:kI,isValidBuffer:function(t){return void 0===kI(t)},cleanPath:SI,ParseError:EI,protoFromTuple:MI,sizeForAddr:gI};function dI(t){const e=[],r=t.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n];if(0!==zC(i).size){if(++n>=r.length)throw EI("invalid address: "+t);e.push([i,r[n]])}else e.push([i])}return e}function pI(t){const e=[];return DC(t,function(t){const r=MI(t);e.push(r.name),t.length>1&&e.push(t[1])}),"/"+e.join("/")}function mI(t){return DC(t,function(t){Array.isArray(t)||(t=[t]);const e=MI(t);return t.length>1?[e.code,fI.toBuffer(e.code,t[1])]:[e.code]})}function yI(t){return DC(t,function(t){const e=MI(t);return t.length>1?[e.code,fI.toString(e.code,t[1])]:[e.code]})}function vI(t){return _I(Buffer.concat(DC(t,function(t){const e=MI(t);let r=Buffer.from(cI.encode(e.code));return t.length>1&&(r=Buffer.concat([r,t[1]])),r})))}function gI(t,e){if(t.size>0)return t.size/8;if(0===t.size)return 0;return cI.decode(e)+cI.decode.bytes}function bI(t){const e=[];let r=0;for(;r<t.length;){const n=cI.decode(t,r),i=cI.decode.bytes,o=gI(zC(n),t.slice(r+i));if(0===o){e.push([n]),r+=i;continue}const a=t.slice(r+i,r+i+o);if((r+=o+i)>t.length)throw EI("Invalid address buffer: "+t.toString("hex"));e.push([n,a])}return e}function wI(t){return vI(mI(dI(t=SI(t))))}function _I(t){const e=kI(t);if(e)throw e;return Buffer.from(t)}function kI(t){try{bI(t)}catch(t){return t}}function SI(t){return"/"+UC(t.trim().split("/")).join("/")}function EI(t){return new Error("Error parsing address: "+t)}function MI(t){return zC(t[0])}var AI=et(function(t,e){const r=new Error("Sorry, Not Implemented Yet.");function n(t){if(!(this instanceof n))return new n(t);if((t=t||"")instanceof Buffer)this.buffer=lI.fromBuffer(t);else if("string"==typeof t||t instanceof String)this.buffer=lI.fromString(t);else{if(!(t.buffer&&t.protos&&t.protoCodes))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.buffer=lI.fromBuffer(t.buffer)}}t.exports=n,n.prototype.toString=function(){return lI.bufferToString(this.buffer)},n.prototype.toOptions=function(){const t={},e=this.toString().split("/");return t.family="ip4"===e[1]?"ipv4":"ipv6",t.host=e[2],t.transport=e[3],t.port=e[4],t},n.prototype.inspect=function(){return"<Multiaddr "+this.buffer.toString("hex")+" - "+lI.bufferToString(this.buffer)+">"},n.prototype.protos=function(){return DC(this.protoCodes(),function(t){return im(zC(t))})},n.prototype.protoCodes=function(){const t=[],e=this.buffer;let r=0;for(;r<e.length;){const n=cI.decode(e,r),i=cI.decode.bytes,o=zC(n);r+=lI.sizeForAddr(o,e.slice(r+i))+i,t.push(n)}return t},n.prototype.protoNames=function(){return DC(this.protos(),function(t){return t.name})},n.prototype.tuples=function(){return lI.bufferToTuples(this.buffer)},n.prototype.stringTuples=function(){const t=lI.bufferToTuples(this.buffer);return lI.tuplesToStringTuples(t)},n.prototype.encapsulate=function(t){return t=n(t),n(this.toString()+t.toString())},n.prototype.decapsulate=function(t){t=t.toString();const e=this.toString(),r=e.lastIndexOf(t);if(r<0)throw new Error("Address "+this+" does not contain subaddress: "+t);return n(e.slice(0,r))},n.prototype.getPeerId=function(){let t=null;try{t=this.stringTuples().filter(t=>{if(t[0]===zC.names.ipfs.code)return!0})[0][1],GC.decode(t)}catch(e){t=null}return t},n.prototype.equals=function(t){return this.buffer.equals(t.buffer)},n.prototype.nodeAddress=function(){if(!this.isThinWaistAddress())throw new Error('Multiaddr must be "thin waist" address for nodeAddress.');const t=this.protoCodes(),e=this.toString().split("/").slice(1);return{family:41===t[0]?"IPv6":"IPv4",address:e[1],port:e[3]}},n.fromNodeAddress=function(t,e){if(!t)throw new Error("requires node address object");if(!e)throw new Error("requires transport protocol");return n("/"+["IPv6"===t.family?"ip6":"ip4",t.address,e,t.port].join("/"))},n.prototype.isThinWaistAddress=function(t){const e=(t||this).protos();return 2===e.length&&((4===e[0].code||41===e[0].code)&&(6===e[1].code||17===e[1].code))},n.prototype.fromStupidString=function(t){throw r},n.protocols=zC,n.isMultiaddr=function(t){return t.constructor&&t.constructor.name?"Multiaddr"===t.constructor.name:Boolean(t.fromStupidString&&t.protos)},n.isName=function(t){return!!n.isMultiaddr(t)&&t.protos().some(t=>t.resolvable)},n.resolve=function(t,e){return n.isMultiaddr(t)&&n.isName(t)?e(new Error("not implemented yet")):e(new Error("not a valid name"))}}),xI=et(function(t,e){var r=function(t,e){return function(){var r=Array.prototype.slice.call(arguments),n=r.length-1,i=r&&r.length>0?r[n]:null;return("function"==typeof i?i:null)?t.apply(e,r):new Promise(function(n,i){r.push(function(t,e){if(t)return i(t);n(e)}),t.apply(e,r)})}};t.exports=function(t,e){e=e||{};var n=Object.prototype.toString.call(t);if("[object Object]"===n||"[object Array]"===n){var i=e.replace?t:{};for(var o in t)t.hasOwnProperty(o)&&(i[o]=r(t[o]));return i}return r(t,e.context||t)}}),BI=et(function(t){!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,r,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,a=arguments.length;switch(a){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(a-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick(function(){t.apply(null,i)})}}}:t.exports=process}),CI=(BI.nextTick,{}.toString),II=Array.isArray||function(t){return"[object Array]"==CI.call(t)},TI=a.EventEmitter;function PI(t){return Object.prototype.toString.call(t)}var NI={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===PI(t)},isBoolean:function(t){return"boolean"==typeof t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t},isNumber:function(t){return"number"==typeof t},isString:function(t){return"string"==typeof t},isSymbol:function(t){return"symbol"==typeof t},isUndefined:function(t){return void 0===t},isRegExp:function(t){return"[object RegExp]"===PI(t)},isObject:function(t){return"object"==typeof t&&null!==t},isDate:function(t){return"[object Date]"===PI(t)},isError:function(t){return"[object Error]"===PI(t)||t instanceof Error},isFunction:function(t){return"function"==typeof t},isPrimitive:function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},isBuffer:Buffer.isBuffer},RI=et(function(t){var e=Ya.Buffer;t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;for(var r,n,i,o=e.allocUnsafe(t>>>0),a=this.head,s=0;a;)r=a.data,n=o,i=s,r.copy(n,i),s+=a.data.length,a=a.next;return o},t}(),cn&&cn.inspect&&cn.inspect.custom&&(t.exports.prototype[cn.inspect.custom]=function(){var t=cn.inspect({length:this.length});return this.constructor.name+" "+t})});function LI(t,e){t.emit("error",e)}var OI=function(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||BI.nextTick(LI,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(BI.nextTick(LI,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},jI=function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},DI=function(t,e){if(UI("noDeprecation"))return t;var r=!1;return function(){if(!r){if(UI("throwDeprecation"))throw new Error(e);UI("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}};function UI(t){try{if(!X.localStorage)return!1}catch(t){return!1}var e=X.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}var FI=ZI;function qI(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}var KI,zI=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:BI.nextTick;ZI.WritableState=YI,NI.inherits=ti;var VI,HI={deprecate:DI},GI=Ya.Buffer,$I=X.Uint8Array||function(){};function WI(){}function YI(t,e){KI=KI||iT,t=t||{};var r=e instanceof KI;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(BI.nextTick(i,n),BI.nextTick(rT,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),rT(t,e))}(t,r,n,e,i);else{var o=tT(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||JI(t,r),n?zI(XI,t,r,o,i):XI(t,r,o,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new qI(this)}function ZI(t){if(KI=KI||iT,!(VI.call(ZI,this)||this instanceof KI))return new ZI(t);this._writableState=new YI(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),TI.call(this)}function QI(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function XI(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),rT(t,e)}function JI(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,QI(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new qI(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,f=r.callback;if(QI(t,e,!1,e.objectMode?1:u.length,u,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function tT(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function eT(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),rT(t,e)})}function rT(t,e){var r=tT(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,BI.nextTick(eT,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}NI.inherits(ZI,TI),YI.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(YI.prototype,"buffer",{get:HI.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(VI=Function.prototype[Symbol.hasInstance],Object.defineProperty(ZI,Symbol.hasInstance,{value:function(t){return!!VI.call(this,t)||this===ZI&&(t&&t._writableState instanceof YI)}})):VI=function(t){return t instanceof this},ZI.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},ZI.prototype.write=function(t,e,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=t,GI.isBuffer(n)||n instanceof $I);return a&&!GI.isBuffer(t)&&(t=function(t){return GI.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=WI),i.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),BI.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),BI.nextTick(n,o),i=!1),i}(this,i,t,r))&&(i.pendingcb++,o=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=GI.from(e,r));return e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else QI(t,e,!1,s,n,i,o);return u}(this,i,a,t,e,r)),o},ZI.prototype.cork=function(){this._writableState.corked++},ZI.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||JI(this,t))},ZI.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},ZI.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},ZI.prototype._writev=null,ZI.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,rT(t,e),r&&(e.finished?BI.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(ZI.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),ZI.prototype.destroy=OI,ZI.prototype._undestroy=jI,ZI.prototype._destroy=function(t,e){this.end(),e(t)};var nT=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},iT=uT;NI.inherits=ti,NI.inherits(uT,MT);for(var oT=nT(FI.prototype),aT=0;aT<oT.length;aT++){var sT=oT[aT];uT.prototype[sT]||(uT.prototype[sT]=FI.prototype[sT])}function uT(t){if(!(this instanceof uT))return new uT(t);MT.call(this,t),FI.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",cT)}function cT(){this.allowHalfOpen||this._writableState.ended||BI.nextTick(fT,this)}function fT(t){t.end()}Object.defineProperty(uT.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),uT.prototype._destroy=function(t,e){this.push(null),this.end(),BI.nextTick(e,t)};var hT=Ya.Buffer,lT=hT.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var dT=pT;function pT(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(hT.isEncoding===lT||!lT(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=vT,this.end=gT,e=4;break;case"utf8":this.fillLast=yT,e=4;break;case"base64":this.text=bT,this.end=wT,e=3;break;default:return this.write=_T,void(this.end=kT)}this.lastNeed=0,this.lastTotal=0,this.lastChar=hT.allocUnsafe(e)}function mT(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function yT(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(r);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(r+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(r+2)}}(this,t,e);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function vT(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function gT(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function bT(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function wT(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function _T(t){return t.toString(this.encoding)}function kT(t){return t&&t.length?this.write(t):""}pT.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},pT.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e},pT.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=mT(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r)return 0;if((i=mT(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r)return 0;if((i=mT(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},pT.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};var ST,ET={StringDecoder:dT},MT=NT;NT.ReadableState=PT;a.EventEmitter;var AT=function(t,e){return t.listeners(e).length},xT=Ya.Buffer,BT=X.Uint8Array||function(){};NI.inherits=ti;var CT,IT=void 0;IT=cn&&cn.debuglog?cn.debuglog("stream"):function(){},NI.inherits(NT,TI);var TT=["error","close","destroy","pause","resume"];function PT(t,e){ST=ST||iT,t=t||{};var r=e instanceof ST;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(i||0===i)?i:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new RI,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(CT||(CT=ET.StringDecoder),this.decoder=new CT(t.encoding),this.encoding=t.encoding)}function NT(t){if(ST=ST||iT,!(this instanceof NT))return new NT(t);this._readableState=new PT(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),TI.call(this)}function RT(t,e,r,n,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,DT(t)}(t,a)):(i||(o=function(t,e){var r;n=e,xT.isBuffer(n)||n instanceof BT||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===xT.prototype||(e=function(t){return xT.from(t)}(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):LT(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?LT(t,a,e,!1):FT(t,a)):LT(t,a,e,!1))):n||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function LT(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&DT(t)),FT(t,e)}Object.defineProperty(NT.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),NT.prototype.destroy=OI,NT.prototype._undestroy=jI,NT.prototype._destroy=function(t,e){this.push(null),e(t)},NT.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=xT.from(t,e),e=""),r=!0),RT(this,t,e,!1,r)},NT.prototype.unshift=function(t){return RT(this,t,null,!0,!1)},NT.prototype.isPaused=function(){return!1===this._readableState.flowing},NT.prototype.setEncoding=function(t){return CT||(CT=ET.StringDecoder),this._readableState.decoder=new CT(t),this._readableState.encoding=t,this};var OT=8388608;function jT(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=OT?t=OT:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function DT(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(IT("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?BI.nextTick(UT,t):UT(t))}function UT(t){IT("emit readable"),t.emit("readable"),VT(t)}function FT(t,e){e.readingMore||(e.readingMore=!0,BI.nextTick(qT,t,e))}function qT(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(IT("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function KT(t){IT("readable nexttick read 0"),t.read(0)}function zT(t,e){e.reading||(IT("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),VT(t),e.flowing&&!e.reading&&t.read(0)}function VT(t){var e=t._readableState;for(IT("flow",e.flowing);e.flowing&&null!==t.read(););}function HT(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=xT.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function GT(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,BI.nextTick($T,e,t))}function $T(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function WT(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}NT.prototype.read=function(t){IT("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return IT("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?GT(this):DT(this),null;if(0===(t=jT(t,e))&&e.ended)return 0===e.length&&GT(this),null;var n,i=e.needReadable;return IT("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&IT("length less than watermark",i=!0),e.ended||e.reading?IT("reading or ended",i=!1):i&&(IT("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=jT(r,e))),null===(n=t>0?HT(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&GT(this)),null!==n&&this.emit("data",n),n},NT.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},NT.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,IT("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||!1!==e.end)&&t!==process.stdout&&t!==process.stderr?a:p;function o(e,i){IT("onunpipe"),e===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,IT("cleanup"),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("drain",s),t.removeListener("error",h),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),u=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||s())}function a(){IT("onend"),t.end()}n.endEmitted?BI.nextTick(i):r.once("end",i),t.on("unpipe",o);var s=function(t){return function(){var e=t._readableState;IT("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&AT(t,"data")&&(e.flowing=!0,VT(t))}}(r);t.on("drain",s);var u=!1;var c=!1;function f(e){IT("ondata"),c=!1,!1!==t.write(e)||c||((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==WT(n.pipes,t))&&!u&&(IT("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function h(e){IT("onerror",e),p(),t.removeListener("error",h),0===AT(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",d),p()}function d(){IT("onfinish"),t.removeListener("close",l),p()}function p(){IT("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?II(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",h),t.once("close",l),t.once("finish",d),t.emit("pipe",r),n.flowing||(IT("pipe resume"),r.resume()),t},NT.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=WT(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},NT.prototype.on=function(t,e){var r=TI.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&DT(this):BI.nextTick(KT,this))}return r},NT.prototype.addListener=NT.prototype.on,NT.prototype.resume=function(){var t=this._readableState;return t.flowing||(IT("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,BI.nextTick(zT,t,e))}(this,t)),this},NT.prototype.pause=function(){return IT("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(IT("pause"),this._readableState.flowing=!1,this.emit("pause")),this},NT.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(IT("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(IT("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<TT.length;o++)t.on(TT[o],this.emit.bind(this,TT[o]));return this._read=function(e){IT("wrapped _read",e),n&&(n=!1,t.resume())},this},NT._fromList=HT;var YT=ZT;function ZT(t){if(!(this instanceof ZT))return new ZT(t);iT.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",QT)}function QT(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){XT(t,e,r)}):XT(this,null,null)}function XT(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}NI.inherits=ti,NI.inherits(ZT,iT),ZT.prototype.push=function(t,e){return this._transformState.needTransform=!1,iT.prototype.push.call(this,t,e)},ZT.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},ZT.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},ZT.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},ZT.prototype._destroy=function(t,e){var r=this;iT.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})};var JT=tP;function tP(t){if(!(this instanceof tP))return new tP(t);YT.call(this,t)}NI.inherits=ti,NI.inherits(tP,YT),tP.prototype._transform=function(t,e,r){r(null,t)};var eP=et(function(t,e){(e=t.exports=MT).Stream=e,e.Readable=e,e.Writable=FI,e.Duplex=iT,e.Transform=YT,e.PassThrough=JT}),rP=(eP.Stream,eP.Readable,eP.Writable,eP.Duplex,eP.Transform,eP.PassThrough,Object.prototype.toString),nP="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;var iP=function(t,e,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return n=t,"ArrayBuffer"===rP.call(n).slice(8,-1)?function(t,e,r){e>>>=0;var n=t.byteLength-e;if(n<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=n;else if((r>>>=0)>n)throw new RangeError("'length' is out of bounds");return nP?Buffer.from(t.slice(e,e+r)):new Buffer(new Uint8Array(t.slice(e,e+r)))}(t,e,r):"string"==typeof t?function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return nP?Buffer.from(t,e):new Buffer(t,e)}(t,e):nP?Buffer.from(t):new Buffer(t);var n},oP=et(function(t,e){var r,n,i,o=void 0,a=1e5,s=(r=Object.prototype.toString,n=Object.prototype.hasOwnProperty,{Class:function(t){return r.call(t).replace(/^\[object *|\]$/g,"")},HasProperty:function(t,e){return e in t},HasOwnProperty:function(t,e){return n.call(t,e)},IsCallable:function(t){return"function"==typeof t},ToInt32:function(t){return t>>0},ToUint32:function(t){return t>>>0}}),u=Math.LN2,c=Math.abs,f=Math.floor,h=Math.log,l=Math.min,d=Math.pow,p=Math.round;function m(t){if(y&&i){var e,r=y(t);for(e=0;e<r.length;e+=1)i(t,r[e],{value:t[r[e]],writable:!1,enumerable:!1,configurable:!1})}}i=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()?Object.defineProperty:function(t,e,r){if(!t===Object(t))throw new TypeError("Object.defineProperty called on non-object");return s.HasProperty(r,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(t,e,r.get),s.HasProperty(r,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(t,e,r.set),s.HasProperty(r,"value")&&(t[e]=r.value),t};var y=Object.getOwnPropertyNames||function(t){if(t!==Object(t))throw new TypeError("Object.getOwnPropertyNames called on non-object");var e,r=[];for(e in t)s.HasOwnProperty(t,e)&&r.push(e);return r};function v(t,e){var r=32-e;return t<<r>>r}function g(t,e){var r=32-e;return t<<r>>>r}function b(t){return[255&t]}function w(t){return v(t[0],8)}function _(t){return[255&t]}function k(t){return g(t[0],8)}function S(t){return[(t=p(Number(t)))<0?0:t>255?255:255&t]}function E(t){return[t>>8&255,255&t]}function M(t){return v(t[0]<<8|t[1],16)}function A(t){return[t>>8&255,255&t]}function x(t){return g(t[0]<<8|t[1],16)}function B(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function C(t){return v(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function I(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]}function T(t){return g(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}function P(t,e,r){var n,i,o,a,s,p,m,y=(1<<e-1)-1;function v(t){var e=f(t),r=t-e;return r<.5?e:r>.5?e+1:e%2?e+1:e}for(t!=t?(i=(1<<e)-1,o=d(2,r-1),n=0):t===1/0||t===-1/0?(i=(1<<e)-1,o=0,n=t<0?1:0):0===t?(i=0,o=0,n=1/t==-1/0?1:0):(n=t<0,(t=c(t))>=d(2,1-y)?(i=l(f(h(t)/u),1023),(o=v(t/d(2,i)*d(2,r)))/d(2,r)>=2&&(i+=1,o=1),i>y?(i=(1<<e)-1,o=0):(i+=y,o-=d(2,r))):(i=0,o=v(t/d(2,1-y-r)))),s=[],a=r;a;a-=1)s.push(o%2?1:0),o=f(o/2);for(a=e;a;a-=1)s.push(i%2?1:0),i=f(i/2);for(s.push(n?1:0),s.reverse(),p=s.join(""),m=[];p.length;)m.push(parseInt(p.substring(0,8),2)),p=p.substring(8);return m}function N(t,e,r){var n,i,o,a,s,u,c,f,h=[];for(n=t.length;n;n-=1)for(o=t[n-1],i=8;i;i-=1)h.push(o%2?1:0),o>>=1;return h.reverse(),a=h.join(""),s=(1<<e-1)-1,u=parseInt(a.substring(0,1),2)?-1:1,c=parseInt(a.substring(1,1+e),2),f=parseInt(a.substring(1+e),2),c===(1<<e)-1?0!==f?NaN:u*(1/0):c>0?u*d(2,c-s)*(1+f/d(2,r)):0!==f?u*d(2,-(s-1))*(f/d(2,r)):u<0?-0:0}function R(t){return N(t,11,52)}function L(t){return P(t,11,52)}function O(t){return N(t,8,23)}function j(t){return P(t,8,23)}!function(){var t=function(t){if((t=s.ToInt32(t))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var e;for(this.byteLength=t,this._bytes=[],this._bytes.length=t,e=0;e<this.byteLength;e+=1)this._bytes[e]=0;m(this)};e.ArrayBuffer=e.ArrayBuffer||t;var r=function(){};function n(e,n,u){var c;return(c=function(e,r,n){var o,u,f,h;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===c)for(o=arguments[0],this.length=o.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,f=0;f<this.length;f+=1)this._setter(f,o._getter(f));else if("object"!=typeof arguments[0]||(arguments[0]instanceof t||"ArrayBuffer"===s.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof t||"ArrayBuffer"===s.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=e,this.byteOffset=s.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=s.ToUint32(n),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(u=arguments[0],this.length=s.ToUint32(u.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,f=0;f<this.length;f+=1)h=u[f],this._setter(f,Number(h));else{if(this.length=s.ToInt32(arguments[0]),n<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0}this.constructor=c,m(this),function(t){if(i){if(t.length>a)throw new RangeError("Array too large for polyfill");var e;for(e=0;e<t.length;e+=1)r(e)}function r(e){i(t,e,{get:function(){return t._getter(e)},set:function(r){t._setter(e,r)},enumerable:!0,configurable:!1})}}(this)}).prototype=new r,c.prototype.BYTES_PER_ELEMENT=e,c.prototype._pack=n,c.prototype._unpack=u,c.BYTES_PER_ELEMENT=e,c.prototype._getter=function(t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((t=s.ToUint32(t))>=this.length)return o;var e,r,n=[];for(e=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;e<this.BYTES_PER_ELEMENT;e+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)},c.prototype.get=c.prototype._getter,c.prototype._setter=function(t,e){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((t=s.ToUint32(t))>=this.length)return o;var r,n,i=this._pack(e);for(r=0,n=this.byteOffset+t*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=i[r]},c.prototype.set=function(t,e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var r,n,i,o,a,u,c,f,h,l;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(i=s.ToUint32(arguments[1]))+r.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(f=this.byteOffset+i*this.BYTES_PER_ELEMENT,h=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(l=[],a=0,u=r.byteOffset;a<h;a+=1,u+=1)l[a]=r.buffer._bytes[u];for(a=0,c=f;a<h;a+=1,c+=1)this.buffer._bytes[c]=l[a]}else for(a=0,u=r.byteOffset,c=f;a<h;a+=1,u+=1,c+=1)this.buffer._bytes[c]=r.buffer._bytes[u]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(n=arguments[0],o=s.ToUint32(n.length),(i=s.ToUint32(arguments[1]))+o>this.length)throw new RangeError("Offset plus length of array is out of range");for(a=0;a<o;a+=1)u=n[a],this._setter(i+a,Number(u))}},c.prototype.subarray=function(t,e){function r(t,e,r){return t<e?e:t>r?r:t}t=s.ToInt32(t),e=s.ToInt32(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=r(t,0,this.length);var n=(e=r(e,0,this.length))-t;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,n)},c}var u=n(1,b,w),c=n(1,_,k),f=n(1,S,k),h=n(2,E,M),l=n(2,A,x),d=n(4,B,C),p=n(4,I,T),y=n(4,j,O),v=n(8,L,R);e.Int8Array=e.Int8Array||u,e.Uint8Array=e.Uint8Array||c,e.Uint8ClampedArray=e.Uint8ClampedArray||f,e.Int16Array=e.Int16Array||h,e.Uint16Array=e.Uint16Array||l,e.Int32Array=e.Int32Array||d,e.Uint32Array=e.Uint32Array||p,e.Float32Array=e.Float32Array||y,e.Float64Array=e.Float64Array||v}(),function(){function t(t,e){return s.IsCallable(t.get)?t.get(e):t[e]}var r,n=(r=new e.Uint16Array([4660]),18===t(new e.Uint8Array(r.buffer),0)),i=function(t,r,n){if(0===arguments.length)t=new e.ArrayBuffer(0);else if(!(t instanceof e.ArrayBuffer||"ArrayBuffer"===s.Class(t)))throw new TypeError("TypeError");if(this.buffer=t||new e.ArrayBuffer(0),this.byteOffset=s.ToUint32(r),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=s.ToUint32(n),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");m(this)};function o(r){return function(i,o){if((i=s.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");i+=this.byteOffset;var a,u=new e.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT),c=[];for(a=0;a<r.BYTES_PER_ELEMENT;a+=1)c.push(t(u,a));return Boolean(o)===Boolean(n)&&c.reverse(),t(new r(new e.Uint8Array(c).buffer),0)}}function a(r){return function(i,o,a){if((i=s.ToUint32(i))+r.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var u,c=new r([o]),f=new e.Uint8Array(c.buffer),h=[];for(u=0;u<r.BYTES_PER_ELEMENT;u+=1)h.push(t(f,u));Boolean(a)===Boolean(n)&&h.reverse(),new e.Uint8Array(this.buffer,i,r.BYTES_PER_ELEMENT).set(h)}}i.prototype.getUint8=o(e.Uint8Array),i.prototype.getInt8=o(e.Int8Array),i.prototype.getUint16=o(e.Uint16Array),i.prototype.getInt16=o(e.Int16Array),i.prototype.getUint32=o(e.Uint32Array),i.prototype.getInt32=o(e.Int32Array),i.prototype.getFloat32=o(e.Float32Array),i.prototype.getFloat64=o(e.Float64Array),i.prototype.setUint8=a(e.Uint8Array),i.prototype.setInt8=a(e.Int8Array),i.prototype.setUint16=a(e.Uint16Array),i.prototype.setInt16=a(e.Int16Array),i.prototype.setUint32=a(e.Uint32Array),i.prototype.setInt32=a(e.Int32Array),i.prototype.setFloat32=a(e.Float32Array),i.prototype.setFloat64=a(e.Float64Array),e.DataView=e.DataView||i}()}),aP=(oP.ArrayBuffer,oP.Int8Array,oP.Uint8Array,oP.Uint8ClampedArray,oP.Int16Array,oP.Uint16Array,oP.Int32Array,oP.Uint32Array,oP.Float32Array,oP.Float64Array,oP.DataView,eP.Writable);if("undefined"==typeof Uint8Array)var sP=oP.Uint8Array;else sP=Uint8Array;function uP(t,e){if(!(this instanceof uP))return new uP(t,e);"function"==typeof t&&(e=t,t={}),t||(t={});var r=t.encoding,n=!1;r?"u8"!==(r=String(r).toLowerCase())&&"uint8"!==r||(r="uint8array"):n=!0,aP.call(this,{objectMode:!0}),this.encoding=r,this.shouldInferEncoding=n,e&&this.on("finish",function(){e(this.getBody())}),this.body=[]}var cP=uP;function fP(t){return"string"==typeof t||(e=t,/Array\]$/.test(Object.prototype.toString.call(e)))||t&&"function"==typeof t.subarray;var e}ti(uP,aP),uP.prototype._write=function(t,e,r){this.body.push(t),r()},uP.prototype.inferEncoding=function(t){var e=void 0===t?this.body[0]:t;return Buffer.isBuffer(e)?"buffer":"undefined"!=typeof Uint8Array&&e instanceof Uint8Array?"uint8array":Array.isArray(e)?"array":"string"==typeof e?"string":"[object Object]"===Object.prototype.toString.call(e)?"object":"buffer"},uP.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(t){for(var e=[],r=0;r<t.length;r++)e.push.apply(e,t[r]);return e}(this.body):"string"===this.encoding?function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];"string"==typeof n?e.push(n):Buffer.isBuffer(n)?e.push(n):fP(n)?e.push(iP(n)):e.push(iP(String(n)))}e=Buffer.isBuffer(t[0])?(e=Buffer.concat(e)).toString("utf8"):e.join("");return e}(this.body):"buffer"===this.encoding?function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];Buffer.isBuffer(n)?e.push(n):fP(n)?e.push(iP(n)):e.push(iP(String(n)))}return Buffer.concat(e)}(this.body):"uint8array"===this.encoding?function(t){for(var e=0,r=0;r<t.length;r++)"string"==typeof t[r]&&(t[r]=iP(t[r])),e+=t[r].length;for(var n=new sP(e),r=0,i=0;r<t.length;r++)for(var o=t[r],a=0;a<o.length;a++)n[i++]=o[a];return n}(this.body):this.body):[]};var hP=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");Object.keys(e).forEach(function(t){n[t]=e[t]});return n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach(function(t){n[t]=i[t]}),n}};var lP=hP(pP),dP=hP(mP);function pP(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function mP(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}pP.proto=pP(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return pP(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return mP(this)},configurable:!0})}),lP.strict=dP;var yP=et(function(t){var e=t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.pipe};e.writable=function(t){return e(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState},e.readable=function(t){return e(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState},e.duplex=function(t){return e.writable(t)&&e.readable(t)},e.transform=function(t){return e.duplex(t)&&"function"==typeof t._transform&&"object"==typeof t._transformState}});const vP=eP.Transform;var gP=class extends vP{constructor(t){super(Object.assign({},t||{},{objectMode:!0}))}_transform(t,e,r){if(!t.Hash)return r();r(null,{path:t.Name,hash:t.Hash,size:parseInt(t.Size,10)})}},bP=et(function(t){t.exports=!1;try{t.exports="[object process]"===Object.prototype.toString.call(X.process)}catch(t){}}),wP=function(t,e,r){var n=[];return Array.isArray(t)?(t.forEach(function(t,i,o){var a=e.call(r,t,i,o);Array.isArray(a)?n.push.apply(n,a):null!=a&&n.push(a)}),n):n},_P=et(function(t,e){t.exports=function(t,e){let r=[].concat(t);return wP(r,t=>{if("string"==typeof t){if(!bP)throw new Error("Can only add file paths in node");return function(t,e){const r=f,n=cn,i=cn,o=null==t.followSymlinks||t.followSymlinks;e=r.resolve(e);const a=n.statSync(e);if(a.isDirectory()&&!t.recursive)throw new Error("Can only add directories using --recursive");if(a.isDirectory()&&t.recursive){const a=(e=e.split(r.sep).join("/"))+(e.endsWith("/")?"":"/");let s=a.split("/");s=s[s.length-2]+"/";const u=new i.sync.GlobSync("**/*",{cwd:e,follow:o,dot:t.hidden,ignore:t.ignore});return u.found.map(t=>{const e=a+t;return!0===u.symlinks[e]?{path:s+t,symlink:!0,dir:!1,content:n.readlinkSync(e)}:"FILE"===u.cache[e]?{path:s+t,symlink:!1,dir:!1,content:n.createReadStream(e)}:"DIR"===u.cache[e]||u.cache[e]instanceof Array?{path:s+t,symlink:!1,dir:!0}:void 0}).filter(Boolean)}return{path:r.basename(e),content:n.createReadStream(e)}}(e,t)}return t.path&&!t.content?(t.dir=!0,t):t.content||t.dir?t:{path:"",symlink:!1,dir:!1,content:t}})}});const kP=e.Transform,SP="--",EP="\r\n",MP=Buffer.from(EP);var AP=class extends kP{constructor(t){super(Object.assign({},t,{objectMode:!0,highWaterMark:1})),this._boundary=this._generateBoundary(),this._files=[],this._draining=!1}_flush(){this.push(Buffer.from(SP+this._boundary+SP+EP)),this.push(null)}_generateBoundary(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(10*Math.random()).toString(16);return t}_transform(t,e,r){if(Buffer.isBuffer(t))return this.push(t),r();this._files.push(t),this._maybeDrain(r)}_maybeDrain(t){if(this._draining)this.once("drained all files",t);else if(this._files.length){this._draining=!0;const e=this._files.shift();this._pushFile(e,e=>{this._draining=!1,e?this.emit("error",e):this._maybeDrain(t)})}else this.emit("drained all files"),t()}_pushFile(t,e){const r=this._leading(t.headers||{});this.push(r);let n=t.content||Buffer.alloc(0);if(Buffer.isBuffer(n))return this.push(n),this.push(MP),e();n.once("error",this.emit.bind(this,"error")),n.once("end",()=>{this.push(MP),e()}),n.on("data",t=>{!this.push(t)&&bP&&(n.pause(),this.once("drain",()=>n.resume()))})}_leading(t){var e=[SP+this._boundary];Object.keys(t).forEach(r=>{e.push(r+": "+t[r])}),e.push(""),e.push("");const r=e.join(EP);return Buffer.from(r)}};const xP=e.Duplex;var BP=(t,e)=>r=>{let n,i=!1,o=!1;r=r?Object.assign({},r,r.qs):{};const a=new AP,s=new xP({objectMode:!0});s._read=(t=>{}),s._write=((t,e,n)=>{const s=lP(n);try{const n=_P(t,r).map(t=>Object.assign({headers:function(t){const e={"Content-Disposition":`file; filename="${t.path?encodeURIComponent(t.path):""}"`};return t.content?t.symlink?e["Content-Type"]="application/symlink":e["Content-Type"]="application/octet-stream":e["Content-Type"]="application/x-directory",e}(t)},t));o=!0,A_(n,(t,r)=>a.write(t,e,r),t=>{if(o=!1,t)return s(t);i&&a.end(),s()})}catch(t){s(t)}}),s.once("finish",()=>{i||(i=!0,o||a.end())});const u=r.qs||{};u["cid-version"]=CP(r,"cid-version","cidVersion"),u["raw-leaves"]=CP(r,"raw-leaves","rawLeaves"),u["only-hash"]=CP(r,"only-hash","onlyHash"),u.hash=CP(r,"hash","hashAlg");const c={path:e,qs:u,args:r.args,multipart:!0,multipartBoundary:a._boundary,stream:!0,recursive:!0,progress:r.progress};return a.on("error",t=>{s.emit("error",t)}),(n=t(c,(t,e)=>{if(t)return s.emit("error",t);if(!e)return s.push(null);if(!yP(e))return s.push(e),void s.push(null);if(e.on("error",t=>s.emit("error",t)),r.converter){e.on("data",t=>{t.Bytes&&r.progress&&r.progress(t.Bytes)});const t=new(0,r.converter);t.once("end",()=>s.push(null)),t.on("data",t=>s.push(t)),e.pipe(t)}else e.on("data",t=>{t.Bytes&&r.progress&&r.progress(t.Bytes),s.push(t)}),e.once("end",()=>s.push(null))})).on("drain",()=>a.emit("drain")),a.pipe(n),s};function CP(t,e,r){return e in t?t[e]:r in t?t[r]:void 0}const IP=t.Buffer;var TP=t=>{const e=BP(t,"add");return xI((t,r,n)=>{"function"==typeof r&&(n=r,r=null);const i=lP(n);if(r||(r={}),r.converter=gP,!(Buffer.isBuffer(t)||yP.readable(t)||Array.isArray(t)||IP.isBuffer(t)||"object"==typeof t))return i(new Error("first arg must be a buffer, readable stream, an object or array of objects"));const o=[].concat(t),a=e({qs:r}),s=cP(t=>i(null,t));a.once("error",i),a.pipe(s),o.forEach(t=>a.write(t)),a.end()})},PP=t=>e=>((e=e||{}).converter=gP,BP(t,"add")(e)),NP=function t(e){var r=arguments.length;if("function"==typeof e&&1===e.length){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(e){if(null==n)throw new TypeError("partial sink should only be called once!");var i=n;switch(n=null,r){case 1:return t(e,i[0]);case 2:return t(e,i[0],i[1]);case 3:return t(e,i[0],i[1],i[2]);case 4:return t(e,i[0],i[1],i[2],i[3]);default:return i.unshift(e),t.apply(null,i)}}}var o=e;o&&"function"==typeof o.source&&(o=o.source);for(i=1;i<r;i++){var a=arguments[i];"function"==typeof a?o=a(o):a&&"object"==typeof a&&(a.sink(o),o=a.source)}return o},RP=et(function(t){t.exports=function(t){!function e(){var r=!0,n=!1;do{n=!0,r=!1,t.call(this,function(){n?r=!0:e()}),n=!1}while(r)}()}}),LP=et(function(t,e){function r(t,e){function r(){i(),e()}function n(t){i(),e(t)}function i(){t.removeListener("close",r),t.removeListener("error",n)}t.on("close",r),t.on("error",n)}function r(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function n(t,e,n){var i,o,a=!1;function s(){o||(o=!0,n&&n(!0===i?null:i))}function u(){a||(a=!0,f(),i?s():t(i=!0,s))}function c(e){f(),i||t(i=e,s)}function f(){e.on("finish",u),e.removeListener("close",u),e.removeListener("error",c)}e.on("close",u),e.on("finish",u),e.on("error",c),process.nextTick(function(){RP(function(n){t(null,function(t,o){if(i=i||t,!0===t)return e._isStdio?s():e.end();if(i=i||t)return r(e),s();e._isStdio?e.write(o,function(){n()}):!1===e.write(o)?e.once("drain",n):n()})})})}function i(t){var e,n=[],i=[],o=!1;function a(){for(;(n.length||e)&&i.length;)i.shift()(n.length?null:e,n.shift());!n.length&&o&&(o=!1,t.resume())}return t.on("data",function(e){n.push(e),a(),n.length&&t.pause&&(o=!0,t.pause())}),t.on("end",function(){e=!0,a()}),t.on("close",function(){e=!0,a()}),t.on("error",function(t){e=t,a()}),function(n,o){if(!o)throw new Error("*must* provide cb");if(n){function s(){for(;i.length;)i.shift()(n);o(n)}if(e)return s();t.once("close",s),r(t)}else i.push(o),a()}}var o=i,a=function(t,e){return function(r){return n(r,t,e)}},s=function(t){return i(t)};(e=t.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return n(r,t,e),i(t)}:a(t,e):s(t)}).sink=a,e.source=s,e.read=o,e.read1=i,e.read2=function(t){var e,r=!1,n=!1;function i(){var r=t.read();if(null!==r&&e){var n=e;e=null,n(null,r)}}return t.on("readable",function(){n=!0,e&&i()}).on("end",function(){r=!0,e&&e(r)}).on("error",function(t){r=t,e&&e(r)}),function(t,o){e=o,r?o(r):n&&i()}},e.duplex=function(t,e){return{source:s(t),sink:a(t,e)}},e.transform=function(t){return function(e){var r=s(t);return a(t)(e),r}}}),OP=(LP.sink,LP.source,LP.read,LP.read1,LP.read2,LP.duplex,LP.transform,t=>e=>((e=e||{}).converter=gP,LP(BP(t,"add")({qs:e})))),jP={names:Object.freeze({sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),codes:Object.freeze({17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46000:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),defaultLengths:Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46000:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},DP=et(function(t,e){function r(t){e.decode(t)}e.names=jP.names,e.codes=jP.codes,e.defaultLengths=jP.defaultLengths,e.toHexString=function(t){if(!Buffer.isBuffer(t))throw new Error("must be passed a buffer");return t.toString("hex")},e.fromHexString=function(t){return Buffer.from(t,"hex")},e.toB58String=function(t){if(!Buffer.isBuffer(t))throw new Error("must be passed a buffer");return GC.encode(t)},e.fromB58String=function(t){let e=t;return Buffer.isBuffer(t)&&(e=t.toString()),Buffer.from(GC.decode(e))},e.decode=function(t){if(!Buffer.isBuffer(t))throw new Error("multihash must be a Buffer");if(t.length<3)throw new Error("multihash too short. must be > 3 bytes.");let r=cI.decode(t);if(!e.isValidCode(r))throw new Error(`multihash unknown function code: 0x${r.toString(16)}`);t=t.slice(cI.decode.bytes);let n=cI.decode(t);if(n<1)throw new Error(`multihash invalid length: 0x${n.toString(16)}`);if((t=t.slice(cI.decode.bytes)).length!==n)throw new Error(`multihash length inconsistent: 0x${t.toString("hex")}`);return{code:r,name:jP.codes[r],length:n,digest:t}},e.encode=function(t,r,n){if(!t||!r)throw new Error("multihash encode requires at least two args: digest, code");const i=e.coerceCode(r);if(!Buffer.isBuffer(t))throw new Error("digest should be a Buffer");if(null==n&&(n=t.length),n&&t.length!==n)throw new Error("digest length should be equal to specified length.");return Buffer.concat([Buffer.from(cI.encode(i)),Buffer.from(cI.encode(n)),t])},e.coerceCode=function(t){let r=t;if("string"==typeof t){if(!jP.names[t])throw new Error(`Unrecognized hash function named: ${t}`);r=jP.names[t]}if("number"!=typeof r)throw new Error(`Hash function code should be a number. Got: ${r}`);if(!jP.codes[r]&&!e.isAppCode(r))throw new Error(`Unrecognized function code: ${r}`);return r},e.isAppCode=function(t){return t>0&&t<16},e.isValidCode=function(t){return!!e.isAppCode(t)||!!jP.codes[t]},e.validate=r,e.prefix=function(t){return r(t),t.slice(0,2)}});DP.names,DP.codes,DP.defaultLengths,DP.toHexString,DP.fromHexString,DP.toB58String,DP.fromB58String,DP.decode,DP.encode,DP.coerceCode,DP.isAppCode,DP.isValidCode,DP.validate,DP.prefix;var UP=class{constructor(t,e,r,n){this.name=t,this.code=e,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(t){return this.engine.encode(t)}decode(t){return this.engine.decode(t)}isImplemented(){return this.engine}};function FP(t,e){let r=t.byteLength,n=new Uint8Array(t),i=e.indexOf("=")===e.length-1;i&&(e=e.substring(0,e.length-2));let o=0,a=0,s="";for(let t=0;t<r;t++)for(a=a<<8|n[t],o+=8;o>=5;)s+=e[a>>>o-5&31],o-=5;if(o>0&&(s+=e[a<<5-o&31]),i)for(;s.length%8!=0;)s+="=";return s}var qP=function(t){return{encode:e=>FP("string"==typeof e?Buffer.from(e):e,t),decode(e){for(let r of e)if(t.indexOf(r)<0)throw new Error("invalid base32 character");return function(t,e){let r=(t=t.replace(new RegExp("=","g"),"")).length,n=0,i=0,o=0,a=new Uint8Array(5*r/8|0);for(let s=0;s<r;s++)i=i<<5|e.indexOf(t[s]),(n+=5)>=8&&(a[o++]=i>>>n-8&255,n-=8);return a.buffer}(e,t)}}},KP=function(t){const e=t.indexOf("=")>-1,r=t.indexOf("-")>-1&&t.indexOf("_")>-1;return{encode(t){let n="";n="string"==typeof t?Buffer.from(t).toString("base64"):t.toString("base64"),r&&(n=(n=n.replace("+","-")).replace("/","_"));const i=n.indexOf("=");return i>0&&!e&&(n=n.substring(0,i)),n},decode(e){r&&(e=(e=e.replace("+","-")).replace("/","_"));for(let r of e)if(t.indexOf(r)<0)throw new Error("invalid base64 character");return Buffer.from(e,"base64")}}};const zP=[["base1","1","","1"],["base2","0",HC,"01"],["base8","7",HC,"01234567"],["base10","9",HC,"0123456789"],["base16","f",function(t){return{encode:t=>"string"==typeof t?Buffer.from(t).toString("hex"):t.toString("hex"),decode(e){for(let r of e)if(t.indexOf(r)<0)throw new Error("invalid base16 character");return Buffer.from(e,"hex")}}},"0123456789abcdef"],["base32","b",qP,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",qP,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",qP,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",qP,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",qP,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",HC,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",HC,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",KP,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",KP,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",KP,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",KP,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],VP=zP.reduce((t,e)=>(t[e[0]]=new UP(e[0],e[1],e[2],e[3]),t),{}),HP=zP.reduce((t,e)=>(t[e[1]]=VP[e[0]],t),{});var GP={names:VP,codes:HP},$P=et(function(t,e){(e=t.exports=n).encode=function(t,e){const r=i(t);return n(r.name,Buffer.from(r.encode(e)))},e.decode=function(t){Buffer.isBuffer(t)&&(t=t.toString());const e=t.substring(0,1);"string"==typeof(t=t.substring(1,t.length))&&(t=Buffer.from(t));const r=i(e);return r.name,Buffer.from(r.decode(t.toString()))},e.isEncoded=function(t){Buffer.isBuffer(t)&&(t=t.toString());const e=t.substring(0,1);try{const t=i(e);return t.name}catch(t){return!1}};const r=new Error("Unsupported encoding");function n(t,e){if(!e)throw new Error("requires an encoded buffer");const r=i(t),n=Buffer.from(r.code);return function(t,e){i(t).decode(e.toString())}(r.name,e),Buffer.concat([n,e])}function i(t){let e;if(GP.names[t])e=GP.names[t];else{if(!GP.codes[t])throw r;e=GP.codes[t]}if(!e.isImplemented())throw new Error("Base "+t+" is not implemented yet");return e}}),WP=($P.encode,$P.decode,$P.isEncoded,et(function(t,e){(e=t.exports).raw=Buffer.from("55","hex"),e.base1=Buffer.from("01","hex"),e.base2=Buffer.from("00","hex"),e.base8=Buffer.from("07","hex"),e.base10=Buffer.from("09","hex"),e.cbor=Buffer.from("51","hex"),e.protobuf=Buffer.from("50","hex"),e.rlp=Buffer.from("60","hex"),e.bencode=Buffer.from("63","hex"),e.multicodec=Buffer.from("30","hex"),e.multihash=Buffer.from("31","hex"),e.multiaddr=Buffer.from("32","hex"),e.multibase=Buffer.from("33","hex"),e.md4=Buffer.from("d4","hex"),e.md5=Buffer.from("d5","hex"),e.sha1=Buffer.from("11","hex"),e["sha2-256"]=Buffer.from("12","hex"),e["sha2-512"]=Buffer.from("13","hex"),e["dbl-sha2-256"]=Buffer.from("56","hex"),e["sha3-224"]=Buffer.from("17","hex"),e["sha3-256"]=Buffer.from("16","hex"),e["sha3-384"]=Buffer.from("15","hex"),e["sha3-512"]=Buffer.from("14","hex"),e["shake-128"]=Buffer.from("18","hex"),e["shake-256"]=Buffer.from("19","hex"),e["keccak-224"]=Buffer.from("1a","hex"),e["keccak-256"]=Buffer.from("1b","hex"),e["keccak-384"]=Buffer.from("1c","hex"),e["keccak-512"]=Buffer.from("1d","hex"),e.murmur3=Buffer.from("22","hex"),e["blake2b-8"]=Buffer.from("b201","hex"),e["blake2b-16"]=Buffer.from("b202","hex"),e["blake2b-24"]=Buffer.from("b203","hex"),e["blake2b-32"]=Buffer.from("b204","hex"),e["blake2b-40"]=Buffer.from("b205","hex"),e["blake2b-48"]=Buffer.from("b206","hex"),e["blake2b-56"]=Buffer.from("b207","hex"),e["blake2b-64"]=Buffer.from("b208","hex"),e["blake2b-72"]=Buffer.from("b209","hex"),e["blake2b-80"]=Buffer.from("b20a","hex"),e["blake2b-88"]=Buffer.from("b20b","hex"),e["blake2b-96"]=Buffer.from("b20c","hex"),e["blake2b-104"]=Buffer.from("b20d","hex"),e["blake2b-112"]=Buffer.from("b20e","hex"),e["blake2b-120"]=Buffer.from("b20f","hex"),e["blake2b-128"]=Buffer.from("b210","hex"),e["blake2b-136"]=Buffer.from("b211","hex"),e["blake2b-144"]=Buffer.from("b212","hex"),e["blake2b-152"]=Buffer.from("b213","hex"),e["blake2b-160"]=Buffer.from("b214","hex"),e["blake2b-168"]=Buffer.from("b215","hex"),e["blake2b-176"]=Buffer.from("b216","hex"),e["blake2b-184"]=Buffer.from("b217","hex"),e["blake2b-192"]=Buffer.from("b218","hex"),e["blake2b-200"]=Buffer.from("b219","hex"),e["blake2b-208"]=Buffer.from("b21a","hex"),e["blake2b-216"]=Buffer.from("b21b","hex"),e["blake2b-224"]=Buffer.from("b21c","hex"),e["blake2b-232"]=Buffer.from("b21d","hex"),e["blake2b-240"]=Buffer.from("b21e","hex"),e["blake2b-248"]=Buffer.from("b21f","hex"),e["blake2b-256"]=Buffer.from("b220","hex"),e["blake2b-264"]=Buffer.from("b221","hex"),e["blake2b-272"]=Buffer.from("b222","hex"),e["blake2b-280"]=Buffer.from("b223","hex"),e["blake2b-288"]=Buffer.from("b224","hex"),e["blake2b-296"]=Buffer.from("b225","hex"),e["blake2b-304"]=Buffer.from("b226","hex"),e["blake2b-312"]=Buffer.from("b227","hex"),e["blake2b-320"]=Buffer.from("b228","hex"),e["blake2b-328"]=Buffer.from("b229","hex"),e["blake2b-336"]=Buffer.from("b22a","hex"),e["blake2b-344"]=Buffer.from("b22b","hex"),e["blake2b-352"]=Buffer.from("b22c","hex"),e["blake2b-360"]=Buffer.from("b22d","hex"),e["blake2b-368"]=Buffer.from("b22e","hex"),e["blake2b-376"]=Buffer.from("b22f","hex"),e["blake2b-384"]=Buffer.from("b230","hex"),e["blake2b-392"]=Buffer.from("b231","hex"),e["blake2b-400"]=Buffer.from("b232","hex"),e["blake2b-408"]=Buffer.from("b233","hex"),e["blake2b-416"]=Buffer.from("b234","hex"),e["blake2b-424"]=Buffer.from("b235","hex"),e["blake2b-432"]=Buffer.from("b236","hex"),e["blake2b-440"]=Buffer.from("b237","hex"),e["blake2b-448"]=Buffer.from("b238","hex"),e["blake2b-456"]=Buffer.from("b239","hex"),e["blake2b-464"]=Buffer.from("b23a","hex"),e["blake2b-472"]=Buffer.from("b23b","hex"),e["blake2b-480"]=Buffer.from("b23c","hex"),e["blake2b-488"]=Buffer.from("b23d","hex"),e["blake2b-496"]=Buffer.from("b23e","hex"),e["blake2b-504"]=Buffer.from("b23f","hex"),e["blake2b-512"]=Buffer.from("b240","hex"),e["blake2s-8"]=Buffer.from("b241","hex"),e["blake2s-16"]=Buffer.from("b242","hex"),e["blake2s-24"]=Buffer.from("b243","hex"),e["blake2s-32"]=Buffer.from("b244","hex"),e["blake2s-40"]=Buffer.from("b245","hex"),e["blake2s-48"]=Buffer.from("b246","hex"),e["blake2s-56"]=Buffer.from("b247","hex"),e["blake2s-64"]=Buffer.from("b248","hex"),e["blake2s-72"]=Buffer.from("b249","hex"),e["blake2s-80"]=Buffer.from("b24a","hex"),e["blake2s-88"]=Buffer.from("b24b","hex"),e["blake2s-96"]=Buffer.from("b24c","hex"),e["blake2s-104"]=Buffer.from("b24d","hex"),e["blake2s-112"]=Buffer.from("b24e","hex"),e["blake2s-120"]=Buffer.from("b24f","hex"),e["blake2s-128"]=Buffer.from("b250","hex"),e["blake2s-136"]=Buffer.from("b251","hex"),e["blake2s-144"]=Buffer.from("b252","hex"),e["blake2s-152"]=Buffer.from("b253","hex"),e["blake2s-160"]=Buffer.from("b254","hex"),e["blake2s-168"]=Buffer.from("b255","hex"),e["blake2s-176"]=Buffer.from("b256","hex"),e["blake2s-184"]=Buffer.from("b257","hex"),e["blake2s-192"]=Buffer.from("b258","hex"),e["blake2s-200"]=Buffer.from("b259","hex"),e["blake2s-208"]=Buffer.from("b25a","hex"),e["blake2s-216"]=Buffer.from("b25b","hex"),e["blake2s-224"]=Buffer.from("b25c","hex"),e["blake2s-232"]=Buffer.from("b25d","hex"),e["blake2s-240"]=Buffer.from("b25e","hex"),e["blake2s-248"]=Buffer.from("b25f","hex"),e["blake2s-256"]=Buffer.from("b260","hex"),e["skein256-8"]=Buffer.from("b301","hex"),e["skein256-16"]=Buffer.from("b302","hex"),e["skein256-24"]=Buffer.from("b303","hex"),e["skein256-32"]=Buffer.from("b304","hex"),e["skein256-40"]=Buffer.from("b305","hex"),e["skein256-48"]=Buffer.from("b306","hex"),e["skein256-56"]=Buffer.from("b307","hex"),e["skein256-64"]=Buffer.from("b308","hex"),e["skein256-72"]=Buffer.from("b309","hex"),e["skein256-80"]=Buffer.from("b30a","hex"),e["skein256-88"]=Buffer.from("b30b","hex"),e["skein256-96"]=Buffer.from("b30c","hex"),e["skein256-104"]=Buffer.from("b30d","hex"),e["skein256-112"]=Buffer.from("b30e","hex"),e["skein256-120"]=Buffer.from("b30f","hex"),e["skein256-128"]=Buffer.from("b310","hex"),e["skein256-136"]=Buffer.from("b311","hex"),e["skein256-144"]=Buffer.from("b312","hex"),e["skein256-152"]=Buffer.from("b313","hex"),e["skein256-160"]=Buffer.from("b314","hex"),e["skein256-168"]=Buffer.from("b315","hex"),e["skein256-176"]=Buffer.from("b316","hex"),e["skein256-184"]=Buffer.from("b317","hex"),e["skein256-192"]=Buffer.from("b318","hex"),e["skein256-200"]=Buffer.from("b319","hex"),e["skein256-208"]=Buffer.from("b31a","hex"),e["skein256-216"]=Buffer.from("b31b","hex"),e["skein256-224"]=Buffer.from("b31c","hex"),e["skein256-232"]=Buffer.from("b31d","hex"),e["skein256-240"]=Buffer.from("b31e","hex"),e["skein256-248"]=Buffer.from("b31f","hex"),e["skein256-256"]=Buffer.from("b320","hex"),e["skein512-8"]=Buffer.from("b321","hex"),e["skein512-16"]=Buffer.from("b322","hex"),e["skein512-24"]=Buffer.from("b323","hex"),e["skein512-32"]=Buffer.from("b324","hex"),e["skein512-40"]=Buffer.from("b325","hex"),e["skein512-48"]=Buffer.from("b326","hex"),e["skein512-56"]=Buffer.from("b327","hex"),e["skein512-64"]=Buffer.from("b328","hex"),e["skein512-72"]=Buffer.from("b329","hex"),e["skein512-80"]=Buffer.from("b32a","hex"),e["skein512-88"]=Buffer.from("b32b","hex"),e["skein512-96"]=Buffer.from("b32c","hex"),e["skein512-104"]=Buffer.from("b32d","hex"),e["skein512-112"]=Buffer.from("b32e","hex"),e["skein512-120"]=Buffer.from("b32f","hex"),e["skein512-128"]=Buffer.from("b330","hex"),e["skein512-136"]=Buffer.from("b331","hex"),e["skein512-144"]=Buffer.from("b332","hex"),e["skein512-152"]=Buffer.from("b333","hex"),e["skein512-160"]=Buffer.from("b334","hex"),e["skein512-168"]=Buffer.from("b335","hex"),e["skein512-176"]=Buffer.from("b336","hex"),e["skein512-184"]=Buffer.from("b337","hex"),e["skein512-192"]=Buffer.from("b338","hex"),e["skein512-200"]=Buffer.from("b339","hex"),e["skein512-208"]=Buffer.from("b33a","hex"),e["skein512-216"]=Buffer.from("b33b","hex"),e["skein512-224"]=Buffer.from("b33c","hex"),e["skein512-232"]=Buffer.from("b33d","hex"),e["skein512-240"]=Buffer.from("b33e","hex"),e["skein512-248"]=Buffer.from("b33f","hex"),e["skein512-256"]=Buffer.from("b340","hex"),e["skein512-264"]=Buffer.from("b341","hex"),e["skein512-272"]=Buffer.from("b342","hex"),e["skein512-280"]=Buffer.from("b343","hex"),e["skein512-288"]=Buffer.from("b344","hex"),e["skein512-296"]=Buffer.from("b345","hex"),e["skein512-304"]=Buffer.from("b346","hex"),e["skein512-312"]=Buffer.from("b347","hex"),e["skein512-320"]=Buffer.from("b348","hex"),e["skein512-328"]=Buffer.from("b349","hex"),e["skein512-336"]=Buffer.from("b34a","hex"),e["skein512-344"]=Buffer.from("b34b","hex"),e["skein512-352"]=Buffer.from("b34c","hex"),e["skein512-360"]=Buffer.from("b34d","hex"),e["skein512-368"]=Buffer.from("b34e","hex"),e["skein512-376"]=Buffer.from("b34f","hex"),e["skein512-384"]=Buffer.from("b350","hex"),e["skein512-392"]=Buffer.from("b351","hex"),e["skein512-400"]=Buffer.from("b352","hex"),e["skein512-408"]=Buffer.from("b353","hex"),e["skein512-416"]=Buffer.from("b354","hex"),e["skein512-424"]=Buffer.from("b355","hex"),e["skein512-432"]=Buffer.from("b356","hex"),e["skein512-440"]=Buffer.from("b357","hex"),e["skein512-448"]=Buffer.from("b358","hex"),e["skein512-456"]=Buffer.from("b359","hex"),e["skein512-464"]=Buffer.from("b35a","hex"),e["skein512-472"]=Buffer.from("b35b","hex"),e["skein512-480"]=Buffer.from("b35c","hex"),e["skein512-488"]=Buffer.from("b35d","hex"),e["skein512-496"]=Buffer.from("b35e","hex"),e["skein512-504"]=Buffer.from("b35f","hex"),e["skein512-512"]=Buffer.from("b360","hex"),e["skein1024-8"]=Buffer.from("b361","hex"),e["skein1024-16"]=Buffer.from("b362","hex"),e["skein1024-24"]=Buffer.from("b363","hex"),e["skein1024-32"]=Buffer.from("b364","hex"),e["skein1024-40"]=Buffer.from("b365","hex"),e["skein1024-48"]=Buffer.from("b366","hex"),e["skein1024-56"]=Buffer.from("b367","hex"),e["skein1024-64"]=Buffer.from("b368","hex"),e["skein1024-72"]=Buffer.from("b369","hex"),e["skein1024-80"]=Buffer.from("b36a","hex"),e["skein1024-88"]=Buffer.from("b36b","hex"),e["skein1024-96"]=Buffer.from("b36c","hex"),e["skein1024-104"]=Buffer.from("b36d","hex"),e["skein1024-112"]=Buffer.from("b36e","hex"),e["skein1024-120"]=Buffer.from("b36f","hex"),e["skein1024-128"]=Buffer.from("b370","hex"),e["skein1024-136"]=Buffer.from("b371","hex"),e["skein1024-144"]=Buffer.from("b372","hex"),e["skein1024-152"]=Buffer.from("b373","hex"),e["skein1024-160"]=Buffer.from("b374","hex"),e["skein1024-168"]=Buffer.from("b375","hex"),e["skein1024-176"]=Buffer.from("b376","hex"),e["skein1024-184"]=Buffer.from("b377","hex"),e["skein1024-192"]=Buffer.from("b378","hex"),e["skein1024-200"]=Buffer.from("b379","hex"),e["skein1024-208"]=Buffer.from("b37a","hex"),e["skein1024-216"]=Buffer.from("b37b","hex"),e["skein1024-224"]=Buffer.from("b37c","hex"),e["skein1024-232"]=Buffer.from("b37d","hex"),e["skein1024-240"]=Buffer.from("b37e","hex"),e["skein1024-248"]=Buffer.from("b37f","hex"),e["skein1024-256"]=Buffer.from("b380","hex"),e["skein1024-264"]=Buffer.from("b381","hex"),e["skein1024-272"]=Buffer.from("b382","hex"),e["skein1024-280"]=Buffer.from("b383","hex"),e["skein1024-288"]=Buffer.from("b384","hex"),e["skein1024-296"]=Buffer.from("b385","hex"),e["skein1024-304"]=Buffer.from("b386","hex"),e["skein1024-312"]=Buffer.from("b387","hex"),e["skein1024-320"]=Buffer.from("b388","hex"),e["skein1024-328"]=Buffer.from("b389","hex"),e["skein1024-336"]=Buffer.from("b38a","hex"),e["skein1024-344"]=Buffer.from("b38b","hex"),e["skein1024-352"]=Buffer.from("b38c","hex"),e["skein1024-360"]=Buffer.from("b38d","hex"),e["skein1024-368"]=Buffer.from("b38e","hex"),e["skein1024-376"]=Buffer.from("b38f","hex"),e["skein1024-384"]=Buffer.from("b390","hex"),e["skein1024-392"]=Buffer.from("b391","hex"),e["skein1024-400"]=Buffer.from("b392","hex"),e["skein1024-408"]=Buffer.from("b393","hex"),e["skein1024-416"]=Buffer.from("b394","hex"),e["skein1024-424"]=Buffer.from("b395","hex"),e["skein1024-432"]=Buffer.from("b396","hex"),e["skein1024-440"]=Buffer.from("b397","hex"),e["skein1024-448"]=Buffer.from("b398","hex"),e["skein1024-456"]=Buffer.from("b399","hex"),e["skein1024-464"]=Buffer.from("b39a","hex"),e["skein1024-472"]=Buffer.from("b39b","hex"),e["skein1024-480"]=Buffer.from("b39c","hex"),e["skein1024-488"]=Buffer.from("b39d","hex"),e["skein1024-496"]=Buffer.from("b39e","hex"),e["skein1024-504"]=Buffer.from("b39f","hex"),e["skein1024-512"]=Buffer.from("b3a0","hex"),e["skein1024-520"]=Buffer.from("b3a1","hex"),e["skein1024-528"]=Buffer.from("b3a2","hex"),e["skein1024-536"]=Buffer.from("b3a3","hex"),e["skein1024-544"]=Buffer.from("b3a4","hex"),e["skein1024-552"]=Buffer.from("b3a5","hex"),e["skein1024-560"]=Buffer.from("b3a6","hex"),e["skein1024-568"]=Buffer.from("b3a7","hex"),e["skein1024-576"]=Buffer.from("b3a8","hex"),e["skein1024-584"]=Buffer.from("b3a9","hex"),e["skein1024-592"]=Buffer.from("b3aa","hex"),e["skein1024-600"]=Buffer.from("b3ab","hex"),e["skein1024-608"]=Buffer.from("b3ac","hex"),e["skein1024-616"]=Buffer.from("b3ad","hex"),e["skein1024-624"]=Buffer.from("b3ae","hex"),e["skein1024-632"]=Buffer.from("b3af","hex"),e["skein1024-640"]=Buffer.from("b3b0","hex"),e["skein1024-648"]=Buffer.from("b3b1","hex"),e["skein1024-656"]=Buffer.from("b3b2","hex"),e["skein1024-664"]=Buffer.from("b3b3","hex"),e["skein1024-672"]=Buffer.from("b3b4","hex"),e["skein1024-680"]=Buffer.from("b3b5","hex"),e["skein1024-688"]=Buffer.from("b3b6","hex"),e["skein1024-696"]=Buffer.from("b3b7","hex"),e["skein1024-704"]=Buffer.from("b3b8","hex"),e["skein1024-712"]=Buffer.from("b3b9","hex"),e["skein1024-720"]=Buffer.from("b3ba","hex"),e["skein1024-728"]=Buffer.from("b3bb","hex"),e["skein1024-736"]=Buffer.from("b3bc","hex"),e["skein1024-744"]=Buffer.from("b3bd","hex"),e["skein1024-752"]=Buffer.from("b3be","hex"),e["skein1024-760"]=Buffer.from("b3bf","hex"),e["skein1024-768"]=Buffer.from("b3c0","hex"),e["skein1024-776"]=Buffer.from("b3c1","hex"),e["skein1024-784"]=Buffer.from("b3c2","hex"),e["skein1024-792"]=Buffer.from("b3c3","hex"),e["skein1024-800"]=Buffer.from("b3c4","hex"),e["skein1024-808"]=Buffer.from("b3c5","hex"),e["skein1024-816"]=Buffer.from("b3c6","hex"),e["skein1024-824"]=Buffer.from("b3c7","hex"),e["skein1024-832"]=Buffer.from("b3c8","hex"),e["skein1024-840"]=Buffer.from("b3c9","hex"),e["skein1024-848"]=Buffer.from("b3ca","hex"),e["skein1024-856"]=Buffer.from("b3cb","hex"),e["skein1024-864"]=Buffer.from("b3cc","hex"),e["skein1024-872"]=Buffer.from("b3cd","hex"),e["skein1024-880"]=Buffer.from("b3ce","hex"),e["skein1024-888"]=Buffer.from("b3cf","hex"),e["skein1024-896"]=Buffer.from("b3d0","hex"),e["skein1024-904"]=Buffer.from("b3d1","hex"),e["skein1024-912"]=Buffer.from("b3d2","hex"),e["skein1024-920"]=Buffer.from("b3d3","hex"),e["skein1024-928"]=Buffer.from("b3d4","hex"),e["skein1024-936"]=Buffer.from("b3d5","hex"),e["skein1024-944"]=Buffer.from("b3d6","hex"),e["skein1024-952"]=Buffer.from("b3d7","hex"),e["skein1024-960"]=Buffer.from("b3d8","hex"),e["skein1024-968"]=Buffer.from("b3d9","hex"),e["skein1024-976"]=Buffer.from("b3da","hex"),e["skein1024-984"]=Buffer.from("b3db","hex"),e["skein1024-992"]=Buffer.from("b3dc","hex"),e["skein1024-1000"]=Buffer.from("b3dd","hex"),e["skein1024-1008"]=Buffer.from("b3de","hex"),e["skein1024-1016"]=Buffer.from("b3df","hex"),e["skein1024-1024"]=Buffer.from("b3e0","hex"),e.ip4=Buffer.from("04","hex"),e.ip6=Buffer.from("29","hex"),e.tcp=Buffer.from("06","hex"),e.udp=Buffer.from("0111","hex"),e.dccp=Buffer.from("21","hex"),e.sctp=Buffer.from("84","hex"),e.udt=Buffer.from("012d","hex"),e.utp=Buffer.from("012e","hex"),e.ipfs=Buffer.from("01a5","hex"),e.http=Buffer.from("01e0","hex"),e.https=Buffer.from("01bb","hex"),e.quic=Buffer.from("01cc","hex"),e.ws=Buffer.from("01dd","hex"),e.onion=Buffer.from("01bc","hex"),e["p2p-circuit"]=Buffer.from("0122","hex"),e["git-raw"]=Buffer.from("78","hex"),e["dag-pb"]=Buffer.from("70","hex"),e["dag-cbor"]=Buffer.from("71","hex"),e["git-raw"]=Buffer.from("78","hex"),e["eth-block"]=Buffer.from("90","hex"),e["eth-block-list"]=Buffer.from("91","hex"),e["eth-tx-trie"]=Buffer.from("92","hex"),e["eth-tx"]=Buffer.from("93","hex"),e["eth-tx-receipt-trie"]=Buffer.from("94","hex"),e["eth-tx-receipt"]=Buffer.from("95","hex"),e["eth-state-trie"]=Buffer.from("96","hex"),e["eth-account-snapshot"]=Buffer.from("97","hex"),e["eth-storage-trie"]=Buffer.from("98","hex"),e["bitcoin-block"]=Buffer.from("b0","hex"),e["bitcoin-tx"]=Buffer.from("b1","hex"),e["zcash-block"]=Buffer.from("c0","hex"),e["zcash-tx"]=Buffer.from("c1","hex"),e["stellar-block"]=Buffer.from("d0","hex"),e["stellar-tx"]=Buffer.from("d1","hex"),e["torrent-info"]=Buffer.from("7b","hex"),e["torrent-file"]=Buffer.from("7c","hex"),e["ed25519-pub"]=Buffer.from("ed","hex")})),YP={numberToBuffer:QP,bufferToNumber:ZP,varintBufferEncode:function(t){return Buffer.from(cI.encode(ZP(t)))},varintBufferDecode:function(t){return QP(cI.decode(t))}};function ZP(t){return parseInt(t.toString("hex"),16)}function QP(t){let e=t.toString(16);return e.length%2==1&&(e="0"+e),Buffer.from(e,"hex")}const XP=YP.varintBufferEncode,JP={};var tN=JP;for(let t in WP){let e=WP[t];JP[t]=XP(e)}const eN={};var rN=eN;for(let t in WP){eN[WP[t].toString("hex")]=t}var nN=et(function(t,e){(e=t.exports).addPrefix=((t,e)=>{let r;if(Buffer.isBuffer(t))r=YP.varintBufferEncode(t);else{if(!tN[t])throw new Error("multicodec not recognized");r=tN[t]}return Buffer.concat([r,e])}),e.rmPrefix=(t=>(cI.decode(t),t.slice(cI.decode.bytes))),e.getCodec=(t=>{const e=YP.varintBufferDecode(t);return rN[e.toString("hex")]})}),iN=(nN.addPrefix,nN.rmPrefix,nN.getCodec,{checkCIDComponents:function(t){if(null==t)return"null values are not valid CIDs";if(0!==t.version&&1!==t.version)return"Invalid version, must be a number equal to 1 or 0";if("string"!=typeof t.codec)return"codec must be string";if(!Buffer.isBuffer(t.multihash))return"multihash must be a Buffer";try{DP.validate(t.multihash)}catch(t){let e=t.message;return e||(e="Multihash validation failed"),e}}});const oN=DP;class aN{constructor(t,e,r){if(aN.isCID(t)){let e=t;return this.version=e.version,this.codec=e.codec,void(this.multihash=Buffer.from(e.multihash))}if("string"==typeof t)if($P.isEncoded(t)){const n=$P.decode(t);t=parseInt(n.slice(0,1).toString("hex"),16),e=nN.getCodec(n.slice(1)),r=nN.rmPrefix(n.slice(1))}else e="dag-pb",r=DP.fromB58String(t),t=0;else if(Buffer.isBuffer(t)){const n=t.slice(0,1),i=parseInt(n.toString("hex"),16);if(0===i||1===i){const n=t;t=i,e=nN.getCodec(n.slice(1)),r=nN.rmPrefix(n.slice(1))}else e="dag-pb",r=t,t=0}this.codec=e,this.version=t,this.multihash=r,aN.validateCID(this)}get buffer(){switch(this.version){case 0:return this.multihash;case 1:return Buffer.concat([Buffer.from("01","hex"),Buffer.from(tN[this.codec]),this.multihash]);default:throw new Error("unsupported version")}}get prefix(){return Buffer.concat([Buffer.from(`0${this.version}`,"hex"),tN[this.codec],oN.prefix(this.multihash)])}toV0(){if("dag-pb"!==this.codec)throw new Error("Cannot convert a non dag-pb CID to CIDv0");return new aN(0,this.codec,this.multihash)}toV1(){return new aN(1,this.codec,this.multihash)}toBaseEncodedString(t){switch(t=t||"base58btc",this.version){case 0:if("base58btc"!==t)throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");return DP.toB58String(this.multihash);case 1:return $P.encode(t,this.buffer).toString();default:throw new Error("Unsupported version")}}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(t){return this.codec===t.codec&&this.version===t.version&&this.multihash.equals(t.multihash)}static isCID(t){return!iN.checkCIDComponents(t)}static validateCID(t){let e=iN.checkCIDComponents(t);if(e)throw new Error(e)}}aN.codecs=WP;var sN=aN,uN=function(t){if(Buffer.isBuffer(t)&&(t=GC.encode(t)),"string"!=typeof t)throw new Error("unexpected cid type: "+typeof t);return sN.validateCID(new sN(t.split("/")[0])),t};const cN=/^https?:\/\/[^/]+\/(ip(f|n)s)\/((\w+).*)/,fN=/^\/(ip(f|n)s)\/((\w+).*)/;function hN(t){try{return sN.isCID(new sN(t))}catch(t){return!1}}function lN(t,e){const r=pN(t);if(!r)return!1;const n=r.match(e);return!!n&&("ipfs"===n[1]&&hN(n[4]))}function dN(t,e){const r=pN(t);if(!r)return!1;const n=r.match(e);return!!n&&"ipns"===n[1]}function pN(t){return Buffer.isBuffer(t)?GC.encode(t):"string"==typeof t&&t}var mN={multihash:function(t){const e=pN(t);try{const t=new Buffer(GC.decode(e));return DP.decode(t),!0}catch(t){return!1}},cid:hN,ipfsUrl:t=>lN(t,cN),ipnsUrl:t=>dN(t,cN),url:t=>lN(t,cN)||dN(t,cN),urlPattern:cN,ipfsPath:t=>lN(t,fN),ipnsPath:t=>dN(t,fN),path:t=>lN(t,fN)||dN(t,fN),pathPattern:fN,urlOrPath:t=>lN(t,cN)||dN(t,cN)||lN(t,fN)||dN(t,fN)},yN=iT,vN=Ya.Buffer;function gN(t){if(!(this instanceof gN))return new gN(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else this.append(t);yN.call(this)}s.inherits(gN,yN),gN.prototype._offset=function(t){var e,r=0,n=0;if(0===t)return[0,0];for(;n<this._bufs.length;n++){if(t<(e=r+this._bufs[n].length)||n==this._bufs.length-1)return[n,t-r];r=e}},gN.prototype.append=function(t){var e=0;if(vN.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof gN)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(vN.from(t)));return this},gN.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},gN.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},gN.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},gN.prototype.end=function(t){yN.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},gN.prototype.get=function(t){return this.slice(t,t+1)[0]},gN.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},gN.prototype.copy=function(t,e,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return t||vN.alloc(0);if(n<=0)return t||vN.alloc(0);var i,o,a=!!t,s=this._offset(r),u=n-r,c=u,f=a&&e||0,h=s[1];if(0===r&&n==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:vN.concat(this._bufs,this.length);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(t,f),f+=this._bufs[o].length;return t}if(c<=this._bufs[s[0]].length-h)return a?this._bufs[s[0]].copy(t,e,h,h+c):this._bufs[s[0]].slice(h,h+c);for(a||(t=vN.allocUnsafe(u)),o=s[0];o<this._bufs.length;o++){if(!(c>(i=this._bufs[o].length-h))){this._bufs[o].copy(t,f,h,h+c);break}this._bufs[o].copy(t,f,h),f+=i,c-=i,h&&(h=0)}return t},gN.prototype.shallowSlice=function(t,e){t=t||0,e=e||this.length,t<0&&(t+=this.length),e<0&&(e+=this.length);var r=this._offset(t),n=this._offset(e),i=this._bufs.slice(r[0],n[0]+1);return 0==n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!=r[1]&&(i[0]=i[0].slice(r[1])),new gN(i)},gN.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},gN.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},gN.prototype.duplicate=function(){for(var t=0,e=new gN;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},gN.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in t)!function(e){gN.prototype[e]=function(r){return this.slice(r,r+t[e])[e](0)}}(e)}();var bN=gN,wN=t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={});try{e=uN(e)}catch(t){if(!mN.ipfsPath(e))return n(t)}t({path:"cat",args:e,buffer:r.buffer},(t,e)=>{if(t)return n(t);e.pipe(bN((t,e)=>{if(t)return n(t);n(null,e)}))})}),_N=function(){},kN=function(t,e,r){if("function"==typeof e)return kN(t,null,e);e||(e={}),r=lP(r||_N);var n=t._writableState,i=t._readableState,o=e.readable||!1!==e.readable&&t.readable,a=e.writable||!1!==e.writable&&t.writable,s=function(){t.writable||u()},u=function(){a=!1,o||r.call(t)},c=function(){o=!1,a||r.call(t)},f=function(e){r.call(t,e?new Error("exited with error code: "+e):null)},h=function(e){r.call(t,e)},l=function(){return(!o||i&&i.ended)&&(!a||n&&n.ended)?void 0:r.call(t,new Error("premature close"))},d=function(){t.req.on("finish",u)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(t)?a&&!n&&(t.on("end",s),t.on("close",s)):(t.on("complete",u),t.on("abort",l),t.req?d():t.on("request",d)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",f),t.on("end",c),t.on("finish",u),!1!==e.error&&t.on("error",h),t.on("close",l),function(){t.removeListener("complete",u),t.removeListener("abort",l),t.removeListener("request",d),t.req&&t.req.removeListener("finish",u),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("exit",f),t.removeListener("end",c),t.removeListener("error",h),t.removeListener("close",l)}},SN=kN,EN=function(){},MN=/^v?\.0/.test(process.version),AN=function(t){return"function"==typeof t},xN=function(t,e,r,n){n=lP(n);var i=!1;t.on("close",function(){i=!0}),SN(t,{readable:e,writable:r},function(t){if(t)return n(t);i=!0,n()});var o=!1;return function(e){if(!i&&!o)return o=!0,function(t){return!!MN&&!!cn&&(t instanceof(cn.ReadStream||EN)||t instanceof(cn.WriteStream||EN))&&AN(t.close)}(t)?t.close(EN):function(t){return t.setHeader&&AN(t.abort)}(t)?t.abort():AN(t.destroy)?t.destroy():void n(e||new Error("stream was destroyed"))}},BN=function(t){t()},CN=function(t,e){return t.pipe(e)},IN=function(){var t,e=Array.prototype.slice.call(arguments),r=AN(e[e.length-1]||EN)&&e.pop()||EN;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var n=e.map(function(i,o){var a=o<e.length-1;return xN(i,a,o>0,function(e){t||(t=e),e&&n.forEach(BN),a||(n.forEach(BN),r(t))})});return e.reduce(CN)},TN=t=>(e,r)=>{r=r||{};const n=new eP.PassThrough;try{e=uN(e)}catch(t){if(!mN.ipfsPath(e))return n.destroy(t)}return t({path:"cat",args:e,buffer:r.buffer},(t,e)=>{if(t)return n.destroy(t);IN(e,n)}),n},PN=function(){var t,e,r,n,i=function(i,o){t?t(i,o):i?(n=i,r=o):e=o};return i.resolve=function(i){if(t)throw new Error("already resolved");if(!(t=i))throw new Error("no read cannot resolve!"+t);e&&i(null,e),r&&i(n,r)},i.abort=function(t){i.resolve(function(e,r){r(t||!0)})},i},NN=function(t){var e,r=!1;function n(n){if(!n)throw new Error("must be passed a readable");e=n,r&&t(e)}return n.resolve=n.ready=n.start=function(i){return r=!0,t=i||t,e&&t(e),n},n},RN={source:PN,through:function(){var t,e,r,n,i;function o(o){return i?i(o):(t=o,function(t,i){e?e(t,i):(n=t,r=i)})}return o.resolve=function(o){if(i)throw new Error("already resolved");if(!(i=o))throw new Error("resolve *must* be passed a transform stream");t&&(e=i(t),r&&e(n,r))},o},sink:NN,duplex:function(){var t=PN(),e=NN();return{source:t,sink:e,resolve:function(r){t.resolve(r.source),e.resolve(r.sink)}}}},LN=t=>(e,r)=>{r=r||{};const n=RN.source();try{e=uN(e)}catch(t){if(!mN.ipfsPath(e))return n.end(t)}return t({path:"cat",args:e,buffer:r.buffer},(t,e)=>{if(t)return n.end(t);n.resolve(LP(e))}),n},ON="0".charCodeAt(0),jN=parseInt("7777",8),DN=function(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n},UN=function(t){for(var e=256,r=0;r<148;r++)e+=t[r];for(var n=156;n<512;n++)e+=t[n];return e},FN=function(t,e){return(t=t.toString(8)).length>e?"7777777777777777777".slice(0,e)+" ":"0000000000000000000".slice(0,e-t.length)+t+" "};var qN=function(t,e,r){if(128&(t=t.slice(e,e+r))[e=0])return function(t){var e;if(128===t[0])e=!0;else{if(255!==t[0])return null;e=!1}for(var r=!1,n=[],i=t.length-1;i>0;i--){var o=t[i];e?n.push(o):r&&0===o?n.push(0):r?(r=!1,n.push(256-o)):n.push(255-o)}var a=0,s=n.length;for(i=0;i<s;i++)a+=n[i]*Math.pow(256,i);return e?a:-1*a}(t);for(;e<t.length&&32===t[e];)e++;for(var n=(i=DN(t,32,e,t.length),o=t.length,a=t.length,"number"!=typeof i?a:(i=~~i)>=o?o:i>=0?i:(i+=o)>=0?i:0);e<n&&0===t[e];)e++;return n===e?0:parseInt(t.slice(e,n).toString(),8);var i,o,a},KN=function(t,e,r){return t.slice(e,DN(t,0,e,e+r)).toString()},zN=function(t){var e=Buffer.byteLength(t),r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t},VN=function(t){return KN(t,0,t.length)},HN=function(t){var e="";t.name&&(e+=zN(" path="+t.name+"\n")),t.linkname&&(e+=zN(" linkpath="+t.linkname+"\n"));var r=t.pax;if(r)for(var n in r)e+=zN(" "+n+"="+r[n]+"\n");return new Buffer(e)},GN=function(t){for(var e={};t.length;){for(var r=0;r<t.length&&32!==t[r];)r++;var n=parseInt(t.slice(0,r).toString(),10);if(!n)return e;var i=t.slice(r+1,n-1).toString(),o=i.indexOf("=");if(-1===o)return e;e[i.slice(0,o)]=i.slice(o+1),t=t.slice(n)}return e},$N=function(t){var e=function(t){var e=new Buffer(t);return e.fill(0),e}(512),r=t.name,n="";if(5===t.typeflag&&"/"!==r[r.length-1]&&(r+="/"),Buffer.byteLength(r)!==r.length)return null;for(;Buffer.byteLength(r)>100;){var i=r.indexOf("/");if(-1===i)return null;n+=n?"/"+r.slice(0,i):r.slice(0,i),r=r.slice(i+1)}return Buffer.byteLength(r)>100||Buffer.byteLength(n)>155?null:t.linkname&&Buffer.byteLength(t.linkname)>100?null:(e.write(r),e.write(FN(t.mode&jN,6),100),e.write(FN(t.uid,6),108),e.write(FN(t.gid,6),116),e.write(FN(t.size,11),124),e.write(FN(t.mtime.getTime()/1e3|0,11),136),e[156]=ON+function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(t.type),t.linkname&&e.write(t.linkname,157),e.write("ustar\x0000",257),t.uname&&e.write(t.uname,265),t.gname&&e.write(t.gname,297),e.write(FN(t.devmajor||0,6),329),e.write(FN(t.devminor||0,6),337),n&&e.write(n,345),e.write(FN(UN(e),6),148),e)},WN=function(t){var e=0===t[156]?0:t[156]-ON,r=KN(t,0,100),n=qN(t,100,8),i=qN(t,108,8),o=qN(t,116,8),a=qN(t,124,12),s=qN(t,136,12),u=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(e),c=0===t[157]?null:KN(t,157,100),f=KN(t,265,32),h=KN(t,297,32),l=qN(t,329,8),d=qN(t,337,8);t[345]&&(r=KN(t,345,155)+"/"+r),0===e&&r&&"/"===r[r.length-1]&&(e=5);var p=UN(t);if(256===p)return null;if(p!==qN(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");return{name:r,mode:n,uid:i,gid:o,size:a,mtime:new Date(1e3*s),type:u,linkname:c,uname:f,gname:h,devmajor:l,devminor:d}},YN=eP.Writable,ZN=eP.PassThrough,QN=function(){},XN=function(t){return(t&=511)&&512-t},JN=function(t,e){this._parent=t,this.offset=e,ZN.call(this)};s.inherits(JN,ZN),JN.prototype.destroy=function(t){this._parent.destroy(t)};var tR=function(t){if(!(this instanceof tR))return new tR(t);YN.call(this,t),this._offset=0,this._buffer=bN(),this._missing=0,this._onparse=QN,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var e=this,r=e._buffer,n=function(){e._continue()},i=function(t){if(e._locked=!1,t)return e.destroy(t);e._stream||n()},o=function(){e._stream=null;var t=XN(e._header.size);t?e._parse(t,a):e._parse(512,h),e._locked||n()},a=function(){e._buffer.consume(XN(e._header.size)),e._parse(512,h),n()},s=function(){var t=e._header.size;e._paxGlobal=GN(r.slice(0,t)),r.consume(t),o()},u=function(){var t=e._header.size;e._pax=GN(r.slice(0,t)),e._paxGlobal&&(e._pax=im(e._paxGlobal,e._pax)),r.consume(t),o()},c=function(){var t=e._header.size;this._gnuLongPath=VN(r.slice(0,t)),r.consume(t),o()},f=function(){var t=e._header.size;this._gnuLongLinkPath=VN(r.slice(0,t)),r.consume(t),o()},h=function(){var t,a=e._offset;try{t=e._header=WN(r.slice(0,512))}catch(t){e.emit("error",t)}return r.consume(512),t?"gnu-long-path"===t.type?(e._parse(t.size,c),void n()):"gnu-long-link-path"===t.type?(e._parse(t.size,f),void n()):"pax-global-header"===t.type?(e._parse(t.size,s),void n()):"pax-header"===t.type?(e._parse(t.size,u),void n()):(e._gnuLongPath&&(t.name=e._gnuLongPath,e._gnuLongPath=null),e._gnuLongLinkPath&&(t.linkname=e._gnuLongLinkPath,e._gnuLongLinkPath=null),e._pax&&(e._header=t=function(t,e){return e.path&&(t.name=e.path),e.linkpath&&(t.linkname=e.linkpath),t.pax=e,t}(t,e._pax),e._pax=null),e._locked=!0,t.size&&"directory"!==t.type?(e._stream=new JN(e,a),e.emit("entry",t,e._stream,i),e._parse(t.size,o),void n()):(e._parse(512,h),void e.emit("entry",t,function(t,e){var r=new JN(t,e);return r.end(),r}(e,a),i))):(e._parse(512,h),void n())};this._parse(512,h)};s.inherits(tR,YN),tR.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.emit("close"))},tR.prototype._parse=function(t,e){this._destroyed||(this._offset+=t,this._missing=t,this._onparse=e)},tR.prototype._continue=function(){if(!this._destroyed){var t=this._cb;this._cb=QN,this._overflow?this._write(this._overflow,void 0,t):t()}},tR.prototype._write=function(t,e,r){if(!this._destroyed){var n=this._stream,i=this._buffer,o=this._missing;if(t.length<o)return this._missing-=t.length,this._overflow=null,n?n.write(t,r):(i.append(t),r());this._cb=r,this._missing=0;var a=null;t.length>o&&(a=t.slice(o),t=t.slice(0,o)),n?n.end(t):i.append(t),this._overflow=a,this._onparse()}};var eR=tR,rR=eP.Readable,nR=eP.Writable,iR=r.StringDecoder,oR=parseInt("755",8),aR=parseInt("644",8),sR=new Buffer(1024);sR.fill(0);var uR=function(){},cR=function(t,e){(e&=511)&&t.push(sR.slice(0,512-e))};var fR=function(t){nR.call(this),this.written=0,this._to=t,this._destroyed=!1};s.inherits(fR,nR),fR.prototype._write=function(t,e,r){if(this.written+=t.length,this._to.push(t))return r();this._to._drain=r},fR.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var hR=function(){nR.call(this),this.linkname="",this._decoder=new iR("utf-8"),this._destroyed=!1};s.inherits(hR,nR),hR.prototype._write=function(t,e,r){this.linkname+=this._decoder.write(t),r()},hR.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var lR=function(){nR.call(this),this._destroyed=!1};s.inherits(lR,nR),lR.prototype._write=function(t,e,r){r(new Error("No body allowed for this entry"))},lR.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var dR=function(t){if(!(this instanceof dR))return new dR(t);rR.call(this,t),this._drain=uR,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};s.inherits(dR,rR),dR.prototype.entry=function(t,e,r){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof e&&(r=e,e=null),r||(r=uR);var n=this;if(t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=function(t){switch(t&h.S_IFMT){case h.S_IFBLK:return"block-device";case h.S_IFCHR:return"character-device";case h.S_IFDIR:return"directory";case h.S_IFIFO:return"fifo";case h.S_IFLNK:return"symlink"}return"file"}(t.mode)),t.mode||(t.mode="directory"===t.type?oR:aR),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"==typeof e&&(e=new Buffer(e)),Buffer.isBuffer(e))return t.size=e.length,this._encode(t),this.push(e),cR(n,t.size),process.nextTick(r),new lR;if("symlink"===t.type&&!t.linkname){var i=new hR;return SN(i,function(e){if(e)return n.destroy(),r(e);t.linkname=i.linkname,n._encode(t),r()}),i}if(this._encode(t),"file"!==t.type&&"contiguous-file"!==t.type)return process.nextTick(r),new lR;var o=new fR(this);return this._stream=o,SN(o,function(e){return n._stream=null,e?(n.destroy(),r(e)):o.written!==t.size?(n.destroy(),r(new Error("size mismatch"))):(cR(n,t.size),n._finalizing&&n.finalize(),void r())}),o}},dR.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(sR),this.push(null))},dR.prototype.destroy=function(t){this._destroyed||(this._destroyed=!0,t&&this.emit("error",t),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},dR.prototype._encode=function(t){if(!t.pax){var e=$N(t);if(e)return void this.push(e)}this._encodePax(t)},dR.prototype._encodePax=function(t){var e=HN({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.length,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push($N(r)),this.push(e),cR(this,e.length),r.size=t.size,r.type=t.type,this.push($N(r))},dR.prototype._read=function(t){var e=this._drain;this._drain=uR,e()};var pR={extract:eR,pack:dR};const mR=eP.Readable;var yR=(t,e)=>{let r=new class extends mR{constructor(t){super(Object.assign(t||{},{objectMode:!0}))}_read(){}},n=pR.extract();n.on("entry",(t,e,n)=>{e.on("end",n),"directory"!==t.type?r.push({path:t.name,content:e}):(r.push({path:t.name}),e.resume())}).on("finish",()=>r.push(null)),IN(t,n),e(null,r)},vR=eP.Transform,gR=s.inherits;function bR(t){vR.call(this,t),this._destroyed=!1}function wR(t,e,r){r(null,t)}function _R(t){return function(e,r,n){return"function"==typeof e&&(n=r,r=e,e={}),"function"!=typeof r&&(r=wR),"function"!=typeof n&&(n=null),t(e,r,n)}}gR(bR,vR),bR.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};var kR=_R(function(t,e,r){var n=new bR(t);return n._transform=e,r&&(n._flush=r),n}),SR=_R(function(t,e,r){function n(e){if(!(this instanceof n))return new n(e);this.options=im(t,e),bR.call(this,this.options)}return gR(n,bR),n.prototype._transform=e,r&&(n.prototype._flush=r),n}),ER=_R(function(t,e,r){var n=new bR(im({objectMode:!0,highWaterMark:16},t));return n._transform=e,r&&(n._flush=r),n});kR.ctor=SR,kR.obj=ER;var MR=t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={});try{e=uN(e)}catch(t){if(!mN.ipfsPath(e))return n(t)}const i={path:"get",args:e,qs:r};t.andTransform(i,yR,(t,e)=>{if(t)return n(t);const r=[];e.pipe(kR.obj((t,e,n)=>{t.content?t.content.pipe(cP(e=>{r.push({path:t.path,content:e})})):r.push(t),n()},()=>n(null,r)))})}),AR=t=>(e,r)=>{r=r||{};const n=new eP.PassThrough({objectMode:!0});try{e=uN(e)}catch(t){if(!mN.ipfsPath(e))return n.destroy(t)}const i={path:"get",args:e,qs:r};return t.andTransform(i,yR,(t,e)=>{if(t)return n.destroy(t);IN(e,n)}),n},xR=function(t,e,r){t(e),r&&r(!0===e?null:e)},BR=function(t,e){if(!t)return function(t,r){return t?xR(r,t,e):r(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(e){return t[e]}));var r=0;return function(n,i){if(n)return xR(i,n,e);r>=t.length?i(!0):i(null,t[r++])}},CR=function(t,e){return function(r,n){if(r)return xR(n,r,e);if(null!=t){var i=t;t=null,n(null,i)}else n(!0)}},IR={keys:function(t){return BR(Object.keys(t))},once:CR,values:BR,count:function(t){var e=0;return t=t||1/0,function(r,n){return r?n&&n(r):e>t?n(!0):void n(null,e++)}},infinite:function(t){return t=t||Math.random,function(e,r){return e?r&&r(e):r(null,t())}},empty:function(){return function(t,e){e(!0)}},error:function(t){return function(e,r){r(t)}}},TR=function(t,e){var r,n;function i(o){if(r=o,n)return i.abort();!function i(){for(var o=!0,a=!1;o;)if(a=!1,r(null,function(s,u){if(a=!0,s=s||n){if(o=!1,e)e(!0===s?null:s);else if(s&&!0!==s)throw s}else t&&!1===t(u)||n?(o=!1,r(n||!0,e||function(){})):o||i()}),!a)return void(o=!1)}()}return i.abort=function(t,e){if("function"==typeof t&&(e=t,t=!0),n=t||!0,r)return r(n,e||function(){})},i},PR=function(t){return t&&("string"==typeof t?function(e){return e[t]}:"object"==typeof t&&"function"==typeof t.exec?function(e){var r=t.exec(e);return r&&r[0]}:t)};function NR(t){return t}var RR=function(t,e,r){r||(r=e,e=null);var n=TR(function(r){e=t(e,r)},function(t){r(t,e)});return 2===arguments.length?function(t){t(null,function(i,o){if(i)return r(!0===i?null:i);e=o,n(t)})}:n},LR={drain:TR,onEnd:function(t){return TR(null,t)},log:function(t){return TR(function(t){console.log(t)},t)},find:function(t,e){var r=!1;return e?t=PR(t)||NR:(e=t,t=NR),TR(function(n){if(t(n))return r=!0,e(null,n),!1},function(t){r||e(!0===t?null:t,null)})},reduce:RR,collect:function(t){return RR(function(t,e){return t.push(e),t},[],t)},concat:function(t){return RR(function(t,e){return t+e},"",t)}};function OR(t){return t}function jR(t){return t}function DR(t){return t}var UR=function(t){return"object"==typeof t&&"function"==typeof t.test?function(e){return t.test(e)}:PR(t)||DR},FR=function(t){return t=UR(t),function(e){return function r(n,i){for(var o,a=!0;a;)a=!1,o=!0,e(n,function(e,n){if(!e&&!t(n))return o?a=!0:r(e,i);i(e,n)}),o=!1}}};function qR(t){return t}var KR=function(t,e){t=PR(t)||qR;var r={};return FR(function(n){var i=t(n);return r[i]?!!e:(r[i]=!0,!e)})},zR={map:function(t){return t?(t=PR(t),function(e){return function(r,n){e(r,function(r,i){try{i=r?null:t(i)}catch(t){return e(t,function(){return n(t)})}n(r,i)})}}):OR},asyncMap:function(t){if(!t)return jR;t=PR(t);var e,r,n=!1;return function(i){return function o(a,s){if(r)return s(r);a?(r=a,i(a,n?function(){n?e=s:s(a)}:s)):i(null,function(i,a){i?s(i):r?s(r):(n=!0,t(a,function(t,i){n=!1,r?(s(r),e(r)):t?o(t,s):s(null,i)}))})}}},filter:FR,filterNot:function(t){return t=UR(t),FR(function(e){return!t(e)})},through:function(t,e){var r=!1;function n(t){!r&&e&&(r=!0,e(!0===t?null:t))}return function(e){return function(r,i){return r&&n(r),e(r,function(e,r){e?n(e):t&&t(r),i(e,r)})}}},take:function(t,e){var r=(e=e||{}).last||!1,n=!1;if("number"==typeof t){r=!0;var i=t;t=function(){return--i}}return function(e){function i(t){e(!0,function(e){r=!1,t(e||!0)})}return function(o,a){n?r?i(a):a(n):(n=o)?e(n,a):e(null,function(e,o){(n=n||e)?a(n):t(o)?a(null,o):(n=!0,r?a(null,o):i(a))})}}},unique:KR,nonUnique:function(t){return KR(t,!0)},flatten:function(){return function(t){var e;return function(r,n){function i(){e(null,function(e,r){!0===e?o():e?t(!0,function(t){n(e)}):n(null,r)})}function o(){e=null,t(null,function(t,r){if(t)return n(t);Array.isArray(r)||r&&"object"==typeof r?r=BR(r):"function"!=typeof r&&(r=CR(r)),e=r,i()})}r?e?e(r,function(e){t(e||r,n)}):t(r,n):e?i():o()}}}},VR=et(function(t,e){for(var r in(e=t.exports=NP).pull=e,IR)e[r]=IR[r];for(var r in zR)e[r]=zR[r];for(var r in LR)e[r]=LR[r]}),HR=(VR.pull,t=>(e,r)=>{r=r||{};const n=RN.source();try{e=uN(e)}catch(t){if(!mN.ipfsPath(e))return n.end(t)}const i={path:"get",args:e,qs:r};return t.andTransform(i,yR,(t,e)=>{if(t)return n.end(t);const r=[];e.pipe(kR.obj((t,e,n)=>{t.content?r.push({path:t.path,content:LP(t.content)}):r.push(t),n()},()=>n.resolve(VR.values(r))))}),n}),GR=[["ipfs-api@18.2.0","/Users/orie/OR13/transmute/packages/transmute-eventstore"]],$R="sha512-tgLC2q3fBtQve4d/SdClx4b3cQ5zihZLeOVTLbKRXc6WWVusKq5CWCzoohQXR4au9xC1UblFBJP3vhRHHqElWw==",WR={},YR={type:"version",registry:!0,raw:"ipfs-api@18.2.0",name:"ipfs-api",escapedName:"ipfs-api",rawSpec:"18.2.0",saveSpec:null,fetchSpec:"18.2.0"},ZR=["/"],QR="https://registry.npmjs.org/ipfs-api/-/ipfs-api-18.2.0.tgz",XR="/Users/orie/OR13/transmute/packages/transmute-eventstore",JR={name:"Matt Bell",email:"mappum@gmail.com"},tL={glob:!1,fs:!1,stream:"readable-stream",http:"stream-http","ipfs-api":!1,ipfs:!1},eL={url:"https://github.com/ipfs/js-ipfs-api/issues"},rL=[{name:"Alan Shaw",email:"alan@tableflip.io"},{name:"Alex Mingoia",email:"talk@alexmingoia.com"},{name:"Antonio Tenorio-Fornés",email:"antoniotenorio@ucm.es"},{name:"Connor Keenan",email:"ckeenan89@gmail.com"},{name:"Danny",email:"dannyid@protonmail.com"},{name:"David Braun",email:"David.Braun@Toptal.com"},{name:"David Dias",email:"daviddias.p@gmail.com"},{name:"Dmitriy Ryajov",email:"dryajov@gmail.com"},{name:"Fil",email:"fil@rezo.net"},{name:"Francisco Baio Dias",email:"xicombd@gmail.com"},{name:"Friedel Ziegelmayer",email:"dignifiedquire@gmail.com"},{name:"Gavin McDermott",email:"gavinmcdermott@gmail.com"},{name:"Greenkeeper",email:"support@greenkeeper.io"},{name:"Haad",email:"haadcode@users.noreply.github.com"},{name:"Harlan T Wood",email:"harlantwood@users.noreply.github.com"},{name:"Harlan T Wood",email:"code@harlantwood.net"},{name:"Henrique Dias",email:"hacdias@gmail.com"},{name:"Holodisc",email:"holodiscent@gmail.com"},{name:"James Halliday",email:"substack@gmail.com"},{name:"Jason Carver",email:"jacarver@linkedin.com"},{name:"Jason Papakostas",email:"vith@users.noreply.github.com"},{name:"Jeff Downie",email:"JeffDownie@users.noreply.github.com"},{name:"Jeromy",email:"why@ipfs.io"},{name:"Jeromy",email:"jeromyj@gmail.com"},{name:"Joe Turgeon",email:"arithmetric@gmail.com"},{name:"Jonathan",email:"jkrone@vt.edu"},{name:"Juan Batiz-Benet",email:"juan@benet.ai"},{name:"Kevin Wang",email:"kevin@fossa.io"},{name:"Kristoffer Ström",email:"kristoffer@rymdkoloni.se"},{name:"Matt Bell",email:"mappum@gmail.com"},{name:"Maxime Lathuilière",email:"k@maxlath.eu"},{name:"Michael Muré",email:"batolettre@gmail.com"},{name:"Mitar",email:"mitar.git@tnode.com"},{name:"Mithgol",email:"getgit@mithgol.ru"},{name:"Nuno Nogueira",email:"nunofmn@gmail.com"},{name:"Pedro Teixeira",email:"i@pgte.me"},{name:"Pete Thomas",email:"pete@xminusone.net"},{name:"Richard Littauer",email:"richard.littauer@gmail.com"},{name:"Richard Schneider",email:"makaretu@gmail.com"},{name:"Stephen Whitmore",email:"stephen.whitmore@gmail.com"},{name:"Tara Vancil",email:"tbvanc@gmail.com"},{name:"Travis Person",email:"travis.person@gmail.com"},{name:"Victor Bjelkholm",email:"victor@typeform.com"},{name:"Volker Mische",email:"volker.mische@gmail.com"},{name:"dmitriy ryajov",email:"dryajov@dmitriys-MacBook-Pro.local"},{name:"elsehow",email:"yes@cosmopol.is"},{name:"ethers",email:"ethereum@outlook.com"},{name:"haad",email:"haad@headbanggames.com"},{name:"kumavis",email:"kumavis@users.noreply.github.com"},{name:"nginnever",email:"ginneversource@gmail.com"},{name:"noah the goodra",email:"peterpan0413@live.com"},{name:"priecint",email:"tp-dev@seznam.cz"},{name:"samuli",email:"samuli@nugg.ad"},{name:"victorbjelkholm",email:"victorbjelkholm@gmail.com"},{name:"Łukasz Magiera",email:"magik6k@users.noreply.github.com"}],nL={async:"^2.6.0","big.js":"^5.0.3",bs58:"^4.0.1",cids:"~0.5.3","concat-stream":"^1.6.1","detect-node":"^2.0.3",flatmap:"0.0.3",glob:"^7.1.2","ipfs-block":"~0.6.1","ipfs-unixfs":"~0.1.14","ipld-dag-pb":"~0.13.1","is-ipfs":"^0.3.2","is-stream":"^1.1.0","lru-cache":"^4.1.2",multiaddr:"^3.0.2",multihashes:"~0.4.13",ndjson:"^1.5.0",once:"^1.4.0","peer-id":"~0.10.6","peer-info":"~0.11.6","promisify-es6":"^1.0.3","pull-defer":"^0.2.2","pull-pushable":"^2.2.0",pump:"^3.0.0",qs:"^6.5.1","readable-stream":"^2.3.5","stream-http":"^2.8.1","stream-to-pull-stream":"^1.7.2",streamifier:"^0.1.1","tar-stream":"^1.5.5"},iL={aegir:"^13.0.6","browser-process-platform":"^0.1.1",chai:"^4.1.2","dirty-chai":"^2.0.1","eslint-plugin-react":"^7.7.0","go-ipfs-dep":"^0.4.13",gulp:"^3.9.1",hapi:"^17.2.3","interface-ipfs-core":"~0.56.5",ipfs:"~0.28.2","ipfsd-ctl":"~0.30.1","pre-commit":"^1.2.2","socket.io":"^2.0.4","socket.io-client":"^2.0.4","stream-equal":"^1.1.1"},oL={node:">=6.0.0",npm:">=3.0.0"},aL="https://github.com/ipfs/js-ipfs-api",sL=["ipfs"],uL={type:"git",url:"git+https://github.com/ipfs/js-ipfs-api.git"},cL={build:"aegir build",coverage:"aegir coverage --timeout 100000","coverage-publish":"aegir coverage --provider coveralls --timeout 100000",lint:"aegir lint",release:"aegir release ","release-major":"aegir release --type major ","release-minor":"aegir release --type minor ",test:"aegir test","test:browser":"aegir test -t browser","test:node":"aegir test -t node","test:webworker":"aegir test -t webworker"},fL={_args:GR,_from:"ipfs-api@18.2.0",_id:"ipfs-api@18.2.0",_inBundle:!1,_integrity:$R,_location:"/ipfs-api",_phantomChildren:WR,_requested:YR,_requiredBy:ZR,_resolved:QR,_spec:"18.2.0",_where:XR,author:JR,browser:tL,bugs:eL,contributors:rL,dependencies:nL,description:"A client library for the IPFS HTTP API",devDependencies:iL,engines:oL,homepage:aL,keywords:sL,license:"MIT",main:"src/index.js",name:"ipfs-api",repository:uL,scripts:cL,version:"18.2.0","pre-commit":["lint","test"]},hL=Object.freeze({_args:GR,_from:"ipfs-api@18.2.0",_id:"ipfs-api@18.2.0",_inBundle:!1,_integrity:$R,_location:"/ipfs-api",_phantomChildren:WR,_requested:YR,_requiredBy:ZR,_resolved:QR,_spec:"18.2.0",_where:XR,author:JR,browser:tL,bugs:eL,contributors:rL,dependencies:nL,description:"A client library for the IPFS HTTP API",devDependencies:iL,engines:oL,homepage:aL,keywords:sL,license:"MIT",main:"src/index.js",name:"ipfs-api",repository:uL,scripts:cL,version:"18.2.0",default:fL}),lL=hL&&fL||hL,dL=et(function(t,e){t.exports=(()=>({"api-path":"/api/v0/","user-agent":`/node-${lL.name}/${lL.version}/`,host:"localhost",port:"5001",protocol:"http"}))}),pL=et(function(t,e){var r=Object.prototype.hasOwnProperty,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},e.merge=function(t,n,i){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(i.plainObjects||i.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var o=t;return Array.isArray(t)&&!Array.isArray(n)&&(o=e.arrayToObject(t,i)),Array.isArray(t)&&Array.isArray(n)?(n.forEach(function(n,o){r.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e.merge(t[o],n,i):t.push(n):t[o]=n}),t):Object.keys(n).reduce(function(t,o){var a=n[o];return r.call(t,o)?t[o]=e.merge(t[o],a,i):t[o]=a,t},o)},e.assign=function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",i=0;i<e.length;++i){var o=e.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=e.charAt(i):o<128?r+=n[o]:o<2048?r+=n[192|o>>6]+n[128|63&o]:o<55296||o>=57344?r+=n[224|o>>12]+n[128|o>>6&63]+n[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(i)),r+=n[240|o>>18]+n[128|o>>12&63]+n[128|o>>6&63]+n[128|63&o])}return r},e.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var u=a[s],c=o[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:o,prop:u}),r.push(c))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],i=0;i<e.length;++i)void 0!==e[i]&&n.push(e[i]);r.obj[r.prop]=n}}return e}(e)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}),mL=(pL.arrayToObject,pL.merge,pL.assign,pL.decode,pL.encode,pL.compact,pL.isRegExp,pL.isBuffer,String.prototype.replace),yL=/%20/g,vL={default:"RFC3986",formatters:{RFC1738:function(t){return mL.call(t,yL,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"},gL={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},bL=Date.prototype.toISOString,wL={delimiter:"&",encode:!0,encoder:pL.encode,encodeValuesOnly:!1,serializeDate:function(t){return bL.call(t)},skipNulls:!1,strictNullHandling:!1},_L=function t(e,r,n,i,o,a,s,u,c,f,h,l){var d=e;if("function"==typeof s)d=s(r,d);else if(d instanceof Date)d=f(d);else if(null===d){if(i)return a&&!l?a(r,wL.encoder):r;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||pL.isBuffer(d))return a?[h(l?r:a(r,wL.encoder))+"="+h(a(d,wL.encoder))]:[h(r)+"="+h(String(d))];var p,m=[];if(void 0===d)return m;if(Array.isArray(s))p=s;else{var y=Object.keys(d);p=u?y.sort(u):y}for(var v=0;v<p.length;++v){var g=p[v];o&&null===d[g]||(m=Array.isArray(d)?m.concat(t(d[g],n(r,g),n,i,o,a,s,u,c,f,h,l)):m.concat(t(d[g],r+(c?"."+g:"["+g+"]"),n,i,o,a,s,u,c,f,h,l)))}return m},kL=Object.prototype.hasOwnProperty,SL={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:pL.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},EL=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),a=o?n.slice(0,o.index):n,s=[];if(a){if(!r.plainObjects&&kL.call(Object.prototype,a)&&!r.allowPrototypes)return;s.push(a)}for(var u=0;null!==(o=i.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&kL.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+n.slice(o.index)+"]"),function(t,e,r){for(var n=e,i=t.length-1;i>=0;--i){var o,a=t[i];if("[]"===a)o=(o=[]).concat(n);else{o=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(s,10);!isNaN(u)&&a!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[])[u]=n:o[s]=n}n=o}return n}(s,e,r)}},ML={formats:vL,parse:function(t,e){var r=e?pL.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||pL.isRegExp(r.delimiter)?r.delimiter:SL.delimiter,r.depth="number"==typeof r.depth?r.depth:SL.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:SL.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:SL.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:SL.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:SL.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:SL.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:SL.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:SL.strictNullHandling,""===t||null===t||void 0===t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){for(var r={},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,o=n.split(e.delimiter,i),a=0;a<o.length;++a){var s,u,c=o[a],f=c.indexOf("]="),h=-1===f?c.indexOf("="):f+1;-1===h?(s=e.decoder(c,SL.decoder),u=e.strictNullHandling?null:""):(s=e.decoder(c.slice(0,h),SL.decoder),u=e.decoder(c.slice(h+1),SL.decoder)),kL.call(r,s)?r[s]=[].concat(r[s]).concat(u):r[s]=u}return r}(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),a=0;a<o.length;++a){var s=o[a],u=EL(s,n[s],r);i=pL.merge(i,u,r)}return pL.compact(i)},stringify:function(t,e){var r=t,n=e?pL.assign({},e):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===n.delimiter?wL.delimiter:n.delimiter,o="boolean"==typeof n.strictNullHandling?n.strictNullHandling:wL.strictNullHandling,a="boolean"==typeof n.skipNulls?n.skipNulls:wL.skipNulls,s="boolean"==typeof n.encode?n.encode:wL.encode,u="function"==typeof n.encoder?n.encoder:wL.encoder,c="function"==typeof n.sort?n.sort:null,f=void 0!==n.allowDots&&n.allowDots,h="function"==typeof n.serializeDate?n.serializeDate:wL.serializeDate,l="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:wL.encodeValuesOnly;if(void 0===n.format)n.format=vL.default;else if(!Object.prototype.hasOwnProperty.call(vL.formatters,n.format))throw new TypeError("Unknown format option provided.");var d,p,m=vL.formatters[n.format];"function"==typeof n.filter?r=(p=n.filter)("",r):Array.isArray(n.filter)&&(d=p=n.filter);var y,v=[];if("object"!=typeof r||null===r)return"";y=n.arrayFormat in gL?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var g=gL[y];d||(d=Object.keys(r)),c&&d.sort(c);for(var b=0;b<d.length;++b){var w=d[b];a&&null===r[w]||(v=v.concat(_L(r[w],w,g,o,a,s?u:null,p,c,f,h,m,l)))}var _=v.join(i),k=!0===n.addQueryPrefix?"?":"";return _.length>0?k+_:""}},AL=r.StringDecoder;function xL(t,e,r){if(this._last+=this._decoder.write(t),this._last.length>this.maxLength)return r(new Error("maximum buffer reached"));var n=this._last.split(this.matcher);this._last=n.pop();for(var i=0;i<n.length;i++)CL(this,this.mapper(n[i]));r()}function BL(t){this._last+=this._decoder.end(),this._last&&CL(this,this.mapper(this._last)),t()}function CL(t,e){void 0!==e&&t.push(e)}function IL(t){return t}var TL=function(t,e,r){switch(t=t||/\r?\n/,e=e||IL,r=r||{},arguments.length){case 1:"function"==typeof t?(e=t,t=/\r?\n/):"object"!=typeof t||t instanceof RegExp||(r=t,t=/\r?\n/);break;case 2:"function"==typeof t?(r=e,e=t,t=/\r?\n/):"object"==typeof e&&(r=e,e=IL)}var n=kR(r,xL,BL);return n._readableState.objectMode=!0,n._readableState.highWaterMark&&!r.highWaterMark&&(n._readableState.highWaterMark=16),n._last="",n._decoder=new AL("utf8"),n.matcher=t,n.mapper=e,n.maxLength=r.maxLength,n},PL=et(function(t,e){function r(t,e){var r=[],n=[];return null==e&&(e=function(t,e){return r[0]===e?"[Circular ~]":"[Circular ~."+n.slice(0,r.indexOf(e)).join(".")+"]"}),function(i,o){if(r.length>0){var a=r.indexOf(this);~a?r.splice(a+1):r.push(this),~a?n.splice(a,1/0,i):n.push(i),~r.indexOf(o)&&(o=e.call(this,i,o))}else r.push(o);return null==t?o:t.call(this,i,o)}}(t.exports=function(t,e,n,i){return JSON.stringify(t,r(e,i),n)}).getSerialize=r}),NL=(PL.getSerialize,et(function(t){var e=c.EOL;function r(t){return(t=t||{}).strict=!1!==t.strict,TL(function(e){try{if(e)return JSON.parse(e)}catch(r){t.strict&&this.emit("error",new Error("Could not parse row "+e.slice(0,50)+"..."))}},t)}t.exports=r,t.exports.serialize=t.exports.stringify=function(t){return kR.obj(t,function(t,r,n){n(null,PL(t)+e)})},t.exports.parse=r}));NL.serialize,NL.stringify,NL.parse;var RL=function(t,e){IN(t,cP(t=>e(null,t)),t=>{t&&e(t)})};var LL=function(t,e){RL(t,(t,r)=>{if(t)return e(t);if(!r||0===r.length)return e();let n;Buffer.isBuffer(r)&&(r=r.toString());try{n=JSON.parse(r)}catch(t){return e(t)}e(null,n)})};const OL=l.request,jL=d.request;var DL=t=>0===t.indexOf("https")?jL:OL,UL=et(function(t,e){const r=pL.encode;function n(t,e){return r=>{const n=Boolean(r.headers["x-stream-output"]),i=Boolean(r.headers["x-chunked-output"]),o=r.headers["content-type"]&&0===r.headers["content-type"].indexOf("application/json");if(r.statusCode>=400||!r.statusCode)return function(t,e){const r=new Error(`Server responded with ${t.statusCode}`);LL(t,(t,n)=>{if(t)return e(t);n&&(r.code=n.Code,r.message=n.Message||n.toString()),e(r)})}(r,e);if(n&&!t)return e(null,r);if(i&&o){const t=NL.parse();return IN(r,t),r.on("end",()=>{let e=r.trailers["x-stream-error"];if(e){try{e=JSON.parse(e)}catch(t){e={Message:e}}t.emit("error",new Error(e.Message))}}),e(null,t)}return o?LL(r,e):RL(r,e)}}t.exports=(t=>{const e=(e,i)=>"object"!=typeof e?i(new Error("no options were passed")):function(t,e,i){i=lP(i),e.qs=e.qs||{},Array.isArray(e.path)&&(e.path=e.path.join("/")),e.args&&!Array.isArray(e.args)&&(e.args=[e.args]),e.args&&(e.qs.arg=e.args),e.progress&&(e.qs.progress=!0),e.qs.r&&(e.qs.recursive=e.qs.r,delete e.qs.r),e.qs["stream-channels"]=!0,e.stream&&(e.buffer=!1),delete e.qs.followSymlinks;const o={};if(bP&&(o["User-Agent"]=t["user-agent"]),e.multipart){if(!e.multipartBoundary)return i(new Error("No multipartBoundary"));o["Content-Type"]=`multipart/form-data; boundary=${e.multipartBoundary}`}const a=ML.stringify(e.qs,{arrayFormat:"repeat",encoder:t=>{if(Buffer.isBuffer(t)){let e="";for(const r of t)if(r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57||45===r||46===r||95===r||126===r)e+=String.fromCharCode(r);else{const t=r.toString(16);e+=`%${1===t.length?`0${t}`:t}`}return e}return r(t)}}),s={hostname:t.host,path:`${t["api-path"]}${e.path}?${a}`,port:t.port,method:"POST",headers:o,protocol:`${t.protocol}:`},u=DL(t.protocol)(s,n(e.buffer,i));return u.on("error",t=>{i(t)}),e.stream||u.end(),u}(t,e,i);return e.andTransform=((t,r,n)=>e(t,(t,e)=>{if(t)return n(t);r(e,n)})),e})}),FL=t=>{const e=dL();if("function"==typeof t)return t;if("object"==typeof t)return UL(t);if("string"==typeof t){const r=AI(t).nodeAddress();return e.host=r.address,e.port=r.port,UL(e)}throw new Error("Argument must be a send function or a config object.")},qL=t=>{const e=FL(t);return xI((t,r,n)=>{"function"==typeof r&&(n=r,r={}),e({path:"ls",args:t,qs:r},(e,r)=>{if(e)return n(e);let i=r.Objects;return i?(i=i[0])?(i=i.Links,Array.isArray(i)?(i=i.map(e=>({name:e.Name,path:t+"/"+e.Name,size:e.Size,hash:e.Hash,type:function(t){switch(t.Type){case 1:case 5:return"dir";case 2:return"file";default:return"unknown"}}(e),depth:e.Depth||1})),void n(null,i)):n(new Error("expected one array in results.Objects[0].Links"))):n(new Error("expected one array in results.Objects")):n(new Error("expected .Objects in results"))})})};var KL=t=>{const e=FL(t);return(t,r,n)=>{"function"==typeof r&&(n=r,r={});const i=new eP.PassThrough({objectMode:!0});return e({path:"ls",args:t,qs:r},(e,r)=>{if(e)return n(e);let o=r.Objects;return o?(o=o[0])?(o=o.Links,Array.isArray(o)?((o=o.map(e=>({depth:1,name:e.Name,path:t+"/"+e.Name,size:e.Size,hash:e.Hash,type:function(t){switch(t.Type){case 1:case 5:return"dir";case 2:return"file";default:return"unknown"}}(e)}))).forEach(t=>i.write(t)),void i.end()):n(new Error("expected one array in results.Objects[0].Links"))):n(new Error("expected one array in results.Objects")):n(new Error("expected .Objects in results"))}),i}};var zL=t=>{const e=FL(t);return(t,r,n)=>{"function"==typeof r&&(n=r,r={});const i=RN.source();return e({path:"ls",args:t,qs:r},(e,r)=>{if(e)return n(e);let o=r.Objects;return o?(o=o[0])?(o=o.Links,Array.isArray(o)?(o=o.map(e=>({depth:1,name:e.Name,path:t+"/"+e.Name,size:e.Size,hash:e.Hash,type:function(t){switch(t.Type){case 1:case 5:return"dir";case 2:return"file";default:return"unknown"}}(e)})),void i.resolve(VR.values(o))):n(new Error("expected one array in results.Objects[0].Links"))):n(new Error("expected one array in results.Objects")):n(new Error("expected .Objects in results"))}),i}};var VL=et(function(t){!function(e){var r,n=20,i=1,o=1e6,a=-7,s=21,u="[big.js] ",c=u+"Invalid ",f=c+"decimal places",h=c+"rounding mode",l={},d=void 0,p=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function m(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=i[o]>=5;else if(2===r)n=i[o]>5||5==i[o]&&(n||o<0||i[o+1]!==d||1&i[o-1]);else if(3===r)n=n||i[o]!==d||o<0;else if(n=!1,0!==r)throw Error(h);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||r>3||r!==~~r)throw Error(h);return t}function y(t,e,r,n){var i,a,s=t.constructor,u=!t.c[0];if(r!==d){if(r!==~~r||r<(3==e)||r>o)throw Error(3==e?c+"precision":f);for(r=n-(t=new s(t)).e,t.c.length>++n&&m(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(a=t.c.join("")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))a=a.charAt(0)+(r>1?"."+a.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(i>0)if(++i>r)for(i-=r;i--;)a+="0";else i<r&&(a=a.slice(0,i)+"."+a.slice(i));else r>1&&(a=a.charAt(0)+"."+a.slice(1));return t.s<0&&(!u||4==e)?"-"+a:a}l.abs=function(){var t=new this.constructor(this);return t.s=1,t},l.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,o=r.s,a=t.s,s=r.e,u=t.e;if(!n[0]||!i[0])return n[0]?o:i[0]?-a:0;if(o!=a)return o;if(e=o<0,s!=u)return s>u^e?1:-1;for(a=(s=n.length)<(u=i.length)?s:u,o=-1;++o<a;)if(n[o]!=i[o])return n[o]>i[o]^e?1:-1;return s==u?0:s>u^e?1:-1},l.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,a=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>o)throw Error(f);if(!i[0])throw Error("[big.js] Division by zero");if(!n[0])return new r(0*a);var u,c,h,l,p,y=i.slice(),v=u=i.length,g=n.length,b=n.slice(0,u),w=b.length,_=t,k=_.c=[],S=0,E=s+(_.e=e.e-t.e)+1;for(_.s=a,a=E<0?0:E,y.unshift(0);w++<u;)b.push(0);do{for(h=0;h<10;h++){if(u!=(w=b.length))l=u>w?1:-1;else for(p=-1,l=0;++p<u;)if(i[p]!=b[p]){l=i[p]>b[p]?1:-1;break}if(!(l<0))break;for(c=w==u?i:y;w;){if(b[--w]<c[w]){for(p=w;p&&!b[--p];)b[p]=9;--b[p],b[w]+=10}b[w]-=c[w]}for(;!b[0];)b.shift()}k[S++]=l?h:++h,b[0]&&l?b[w]=n[v]||0:b=[n[v]]}while((v++<g||b[0]!==d)&&a--);return k[0]||1==S||(k.shift(),_.e--),S>E&&m(_,s,r.RM,b[0]!==d),_},l.eq=function(t){return!this.cmp(t)},l.gt=function(t){return this.cmp(t)>0},l.gte=function(t){return this.cmp(t)>-1},l.lt=function(t){return this.cmp(t)<0},l.lte=function(t){return this.cmp(t)<1},l.minus=l.sub=function(t){var e,r,n,i,o=this,a=o.constructor,s=o.s,u=(t=new a(t)).s;if(s!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,h=t.c,l=t.e;if(!c[0]||!h[0])return h[0]?(t.s=-u,t):new a(c[0]?o:0);if(s=f-l){for((i=s<0)?(s=-s,n=c):(l=f,n=h),n.reverse(),u=s;u--;)n.push(0);n.reverse()}else for(r=((i=c.length<h.length)?c:h).length,s=u=0;u<r;u++)if(c[u]!=h[u]){i=c[u]<h[u];break}if(i&&(n=c,c=h,h=n,t.s=-t.s),(u=(r=h.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;r>s;){if(c[--r]<h[r]){for(e=r;e&&!c[--e];)c[e]=9;--c[e],c[r]+=10}c[r]-=h[r]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--l;return c[0]||(t.s=1,c=[l=0]),t.c=c,t.e=l,t},l.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error("[big.js] Division by zero");return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},l.plus=l.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var a=r.e,s=r.c,u=t.e,c=t.c;if(!s[0]||!c[0])return c[0]?t:new n(s[0]?r:0*i);if(s=s.slice(),i=a-u){for(i>0?(u=a,e=c):(i=-i,e=s),e.reverse();i--;)e.push(0);e.reverse()}for(s.length-c.length<0&&(e=c,c=s,s=e),i=c.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+c[i]+o)/10|0;for(o&&(s.unshift(o),++u),i=s.length;0===s[--i];)s.pop();return t.c=s,t.e=u,t},l.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(c+"exponent");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},l.round=function(t,e){var r=this.constructor;if(t===d)t=0;else if(t!==~~t||t<0||t>o)throw Error(f);return m(new r(this),t,e===d?r.RM:e)},l.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,a=n.e,s=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(u+"No square root");0===(o=Math.sqrt(n.toString()))||o===1/0?((e=n.c.join("")).length+a&1||(e+="0"),(t=new i(Math.sqrt(e).toString())).e=((a+1)/2|0)-(a<0||1&a)):t=new i(o.toString()),a=t.e+(i.DP+=4);do{r=t,t=s.times(r.plus(n.div(r)))}while(r.c.slice(0,a).join("")!==t.c.slice(0,a).join(""));return m(t,i.DP-=4,i.RM)},l.times=l.mul=function(t){var e,r=this,n=r.constructor,i=r.c,o=(t=new n(t)).c,a=i.length,s=o.length,u=r.e,c=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!o[0])return new n(0*t.s);for(t.e=u+c,a<s&&(e=i,i=o,o=e,c=a,a=s,s=c),e=new Array(c=a+s);c--;)e[c]=0;for(u=s;u--;){for(s=0,c=a+u;c>u;)s=e[c]+o[u]*i[c-u-1]+s,e[c--]=s%10,s=s/10|0;e[c]=(e[c]+s)%10}for(s?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},l.toExponential=function(t){return y(this,1,t,t)},l.toFixed=function(t){return y(this,2,t,this.e+t)},l.toPrecision=function(t){return y(this,3,t,t-1)},l.toString=function(){return y(this)},l.valueOf=l.toJSON=function(){return y(this,4)},(r=function t(){function e(r){var n=this;if(!(n instanceof e))return r===d?t():new e(r);r instanceof e?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e="-0";else if(!p.test(e+=""))throw Error(c+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&"0"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(n,r),n.constructor=e}return e.prototype=l,e.DP=n,e.RM=i,e.NE=a,e.PE=s,e.version="5.0.2",e}()).default=r.Big=r,t.exports?t.exports=r:e.Big=r}(X)});const HL=function(t,e){e(null,{provideBufLen:t.ProvideBufLen,wantlist:t.Wantlist||[],peers:t.Peers||[],blocksReceived:new VL(t.BlocksReceived),dataReceived:new VL(t.DataReceived),blocksSent:new VL(t.BlocksSent),dataSent:new VL(t.DataSent),dupBlksReceived:new VL(t.DupBlksReceived),dupDataReceived:new VL(t.DupDataReceived)})};var GL=t=>{const e=FL(t);return{wantlist:(t=>xI(e=>{t({path:"bitswap/wantlist"},e)}))(e),stat:(t=>xI(e=>{t.andTransform({path:"bitswap/stat"},HL,e)}))(e),unwant:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t({path:"bitswap/unwant",args:e,qs:r},n)}))(e)}};var $L=class{constructor(t,e){if(!t||!Buffer.isBuffer(t))throw new Error("first argument  must be a buffer");if(!e||!sN.isCID(e))throw new Error("second argument must be a CID");this._data=t,this._cid=e}get data(){return this._data}set data(t){throw new Error("Tried to change an immutable block")}get cid(){return this._cid}set cid(t){throw new Error("Tried to change an immutable block")}static isBlock(t){return t&&"Block"===t.constructor.name}},WL=(t,e)=>{const r=BP(t,e);return(t,e,n)=>{const i=lP(n),o=r(e),a=cP(t=>i(null,t));o.once("error",i),o.pipe(a),o.write(t),o.end()}},YL=(t,e)=>{const r=WL(t,e);return(t,e,n)=>{r(t,e,(t,e)=>{if(t)return n(t);n(null,e[0])})}},ZL=t=>{const e=FL(t);return{get:(t=>xI((e,r,n)=>{let i;"function"==typeof r&&(n=r,r={});try{if(sN.isCID(e))e=(i=e).toBaseEncodedString();else if(Buffer.isBuffer(e))e=(i=new sN(e)).toBaseEncodedString();else{if("string"!=typeof e)return n(new Error("invalid argument"));i=new sN(e)}}catch(t){return n(t)}const o={path:"block/get",args:e,qs:r};t.andTransform(o,(t,e)=>{Buffer.isBuffer(t)?e(null,new $L(t,i)):RL(t,(t,r)=>{if(t)return e(t);e(null,new $L(r,i))})},n)}))(e),stat:(t=>xI((e,r,n)=>{e&&sN.isCID(e)&&(e=DP.toB58String(e.multihash)),"function"==typeof r&&(n=r,r={});const i={path:"block/stat",args:e,qs:r};t.andTransform(i,(t,e)=>{e(null,{key:t.Key,size:t.Size})},n)}))(e),put:(t=>{const e=YL(t,"block/put");return xI((t,r,n)=>{"function"==typeof r&&(n=r,r={});const i=lP(n);if(Array.isArray(t))return i(new Error("block.put accepts only one block"));"object"==typeof t&&t.data&&(t=t.data),e(t,{},(e,r)=>{if(e)return i(e);i(null,new $L(t,new sN(r.Key)))})})})(e)}},QL=t=>{const e=FL(t);return{add:(t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),e&&"object"==typeof e&&(r=e,e=void 0),t({path:"bootstrap/add",args:e,qs:r},n)}))(e),rm:(t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),e&&"object"==typeof e&&(r=e,e=void 0),t({path:"bootstrap/rm",args:e,qs:r},n)}))(e),list:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t({path:"bootstrap/list",qs:e},r)}))(e)}},XL=t=>{const e=FL(t);return xI(t=>{e({path:"commands"},t)})},JL=function(t,r){t instanceof Buffer||"string"==typeof t?(r=r||{},e.Readable.call(this,{highWaterMark:r.highWaterMark,encoding:r.encoding})):e.Readable.call(this,{objectMode:!0}),this._object=t};s.inherits(JL,e.Readable),JL.prototype._read=function(){this.push(this._object),this._object=null};var tO=function(t,e){return new JL(t,e)},eO=t=>{const e=FL(t);return{get:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e=void 0),e?t({path:"config",args:e,buffer:!0},(t,e)=>{if(t)return r(t);r(null,e.Value)}):t({path:"config/show",buffer:!0},r)}))(e),set:(t=>xI((e,r,n,i)=>("function"==typeof n&&(i=n,n={}),"string"!=typeof e?i(new Error("Invalid key type")):"object"!=typeof r&&"boolean"!=typeof r&&"string"!=typeof r?i(new Error("Invalid value type")):("object"==typeof r&&(r=JSON.stringify(r),n={json:!0}),"boolean"==typeof r&&(r=r.toString(),n={bool:!0}),void t({path:"config",args:[e,r],qs:n,files:void 0,buffer:!0},i)))))(e),replace:(t=>{const e=YL(t,"config/replace");return xI((t,r)=>{"object"==typeof t&&(t=tO(Buffer.from(JSON.stringify(t)))),e(t,{},r)})})(e)}},rO=t=>{const e=FL(t);return{get:(t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),t({path:"dht/get",args:e,qs:r},function(t,e,r){return e?t(e):r?0===r.length?t(new Error("no value returned for key")):(Array.isArray(r)&&(r=r[0]),void(5===r.Type?t(null,r.Extra):t(new Error("key was not found (type 6)")))):t(new Error("empty response"))}.bind(null,n))}))(e),put:(t=>xI((e,r,n,i)=>{"function"!=typeof n||i||(i=n,n={}),"function"==typeof n&&"function"==typeof i&&(i=n,n={}),t({path:"dht/put",args:[e,r],qs:n},i)}))(e),findprovs:(t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),t.andTransform({path:"dht/findprovs",args:e,qs:r},RL,n)}))(e),findpeer:(t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),t.andTransform({path:"dht/findpeer",args:e,qs:r},RL,n)}))(e),provide:(t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),Array.isArray(e)||(e=[e]);try{e=e.map(t=>new sN(t).toBaseEncodedString("base58btc"))}catch(t){return n(t)}t({path:"dht/provide",args:e,qs:r},n)}))(e),query:(t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),t.andTransform({path:"dht/query",args:e,qs:r},RL,n)}))(e)}},nO=t=>{const e=FL(t);return{net:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t({path:"diag/net",qs:e},r)}))(e),sys:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t({path:"diag/sys",qs:e},r)}))(e),cmds:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t({path:"diag/cmds",qs:e},r)}))(e)}},iO=t=>{const e=FL(t);return xI((t,r)=>{"function"==typeof t&&(r=t,t=void 0),e({path:"id",args:t},(t,e)=>{if(t)return r(t);const n={id:e.ID,publicKey:e.PublicKey,addresses:e.Addresses,agentVersion:e.AgentVersion,protocolVersion:e.ProtocolVersion};r(null,n)})})};const oO=function(t,e){e(null,{id:t.Id,name:t.Name})};const aO=function(t,e){e(null,t.Keys.map(t=>({id:t.Id,name:t.Name})))};const sO=function(t,e){e(null,{id:t.Id,was:t.Was,now:t.Now,overwrite:t.Overwrite})};const uO=function(t,e){e(null,{id:t.Keys[0].Id,name:t.Keys[0].Name})};const cO=function(t,e){e(null,{id:t.Id,name:t.Name})};var fO=t=>{const e=FL(t);return{gen:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t.andTransform({path:"key/gen",args:e,qs:r},oO,n)}))(e),list:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t.andTransform({path:"key/list",qs:e},aO,r)}))(e),rename:(t=>xI((e,r,n)=>{t.andTransform({path:"key/rename",args:[e,r]},sO,n)}))(e),rm:(t=>xI((e,r)=>{t.andTransform({path:"key/rm",args:e},uO,r)}))(e),export:(t=>xI((e,r,n)=>{t({path:"key/export",args:e,qs:{password:r}},(t,e)=>{if(t)return n(t);n(null,e.toString())})}))(e),import:(t=>xI((e,r,n,i)=>{t.andTransform({path:"key/import",args:e,qs:{pem:r,password:n}},cO,i)}))(e)}},hO=t=>{const e=FL(t);return{tail:(t=>xI(e=>t({path:"log/tail"},(t,r)=>{if(t)return e(t);const n=NL.parse();IN(r,n),e(null,n)})))(e),ls:(t=>xI(e=>{t({path:"log/ls"},(t,r)=>{if(t)return e(t);e(null,r.Strings)})}))(e),level:(t=>xI((e,r,n,i)=>("function"==typeof n&&(i=n,n={}),"string"!=typeof e?i(new Error("Invalid subsystem type")):"string"!=typeof r?i(new Error("Invalid level type")):void t({path:"log/level",args:[e,r],qs:n,files:void 0,buffer:!0},i))))(e)}},lO=t=>{const e=FL(t);return xI((t,r,n)=>{"function"==typeof t?(n=t,t=null):"function"==typeof r&&(n=r,r=null);const i={};t&&(i.f=t),r&&(i.n=r),e({path:"mount",qs:i},n)})};const dO=function(t,e){e(null,{name:t.Name,value:t.Value})};const pO=function(t,e){e(null,t.Path)};var mO=t=>{const e=FL(t);return{publish:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t.andTransform({path:"name/publish",args:e,qs:r},dO,n)}))(e),resolve:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t.andTransform({path:"name/resolve",args:e,qs:r},pO,n)}))(e)}},yO=et(function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=X:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&t.exports,a=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),u=[4,1024,262144,67108864],c=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],l=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!a||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new I(t,e,t).update(n)[r]()}},y=function(t,e,r){return function(n,i){return new I(t,e,i).update(n)[r]()}},v=function(t,e,r){return function(e,n,i,o){return k["cshake"+t].update(e,n,i,o)[r]()}},g=function(t,e,r){return function(e,n,i,o){return k["kmac"+t].update(e,n,i,o)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var o=d[i];t[o]=e(r,n,o)}return t},w=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new I(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,m,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(t,e){var r=y(t,e,"hex");return r.create=function(r){return new I(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,y,t,e)}},{name:"cshake",padding:u,bits:l,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,o){return i||o?new I(t,e,n).bytepad([i,o],r):k["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,v,t,e)}},{name:"kmac",padding:u,bits:l,createMethod:function(t,e){var r=p[t],n=g(t,0,"hex");return n.create=function(n,i,o){return new T(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,g,t,e)}}],k={},S=[],E=0;E<_.length;++E)for(var M=_[E],A=M.bits,x=0;x<A.length;++x){var B=M.name+"_"+A[x];if(S.push(B),k[B]=M.createMethod(A[x],M.padding),"sha3"!==M.name){var C=M.name+A[x];S.push(C),k[C]=k[B]}}function I(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function T(t,e,r){I.call(this,t,e,r)}I.prototype.update=function(t){if(!this.finalized){var r,n=typeof t;if("string"!==n){if("object"!==n)throw e;if(null===t)throw e;if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw e;r=!0}for(var i,o,s=this.blocks,u=this.byteCount,f=t.length,h=this.blockCount,l=0,d=this.s;l<f;){if(this.reset)for(this.reset=!1,s[0]=this.block,i=1;i<h+1;++i)s[i]=0;if(r)for(i=this.start;l<f&&i<u;++l)s[i>>2]|=t[l]<<c[3&i++];else for(i=this.start;l<f&&i<u;++l)(o=t.charCodeAt(l))<128?s[i>>2]|=o<<c[3&i++]:o<2048?(s[i>>2]|=(192|o>>6)<<c[3&i++],s[i>>2]|=(128|63&o)<<c[3&i++]):o<55296||o>=57344?(s[i>>2]|=(224|o>>12)<<c[3&i++],s[i>>2]|=(128|o>>6&63)<<c[3&i++],s[i>>2]|=(128|63&o)<<c[3&i++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++l)),s[i>>2]|=(240|o>>18)<<c[3&i++],s[i>>2]|=(128|o>>12&63)<<c[3&i++],s[i>>2]|=(128|o>>6&63)<<c[3&i++],s[i>>2]|=(128|63&o)<<c[3&i++]);if(this.lastByteIndex=i,i>=u){for(this.start=i-u,this.block=s[h],i=0;i<h;++i)d[i]^=s[i];P(d),this.reset=!0}else this.start=i}return this}},I.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},I.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw e;if(null===t)throw e;if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw e;r=!0}var i=0,o=t.length;if(r)i=o;else for(var s=0;s<t.length;++s){var u=t.charCodeAt(s);u<128?i+=1:u<2048?i+=2:u<55296||u>=57344?i+=3:(u=65536+((1023&u)<<10|1023&t.charCodeAt(++s)),i+=4)}return i+=this.encode(8*i),this.update(t),i},I.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];P(n)}},I.prototype.toString=I.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,u="";a<n;){for(o=0;o<e&&a<n;++o,++a)t=r[o],u+=s[t>>4&15]+s[15&t]+s[t>>12&15]+s[t>>8&15]+s[t>>20&15]+s[t>>16&15]+s[t>>28&15]+s[t>>24&15];a%e==0&&(P(r),o=0)}return i&&(t=r[o],u+=s[t>>4&15]+s[15&t],i>1&&(u+=s[t>>12&15]+s[t>>8&15]),i>2&&(u+=s[t>>20&15]+s[t>>16&15])),u},I.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(t);a<n;){for(o=0;o<e&&a<n;++o,++a)u[a]=r[o];a%e==0&&P(r)}return i&&(u[o]=r[o],t=t.slice(0,s)),t},I.prototype.buffer=I.prototype.arrayBuffer,I.prototype.digest=I.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,u=[];s<i;){for(a=0;a<r&&s<i;++a,++s)t=s<<2,e=n[a],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;s%r==0&&P(n)}return o&&(t=s<<2,e=n[a],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},T.prototype=new I,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),I.prototype.finalize.call(this)};var P=function(t){var e,r,n,i,o,a,s,u,c,h,l,d,p,m,y,v,g,b,w,_,k,S,E,M,A,x,B,C,I,T,P,N,R,L,O,j,D,U,F,q,K,z,V,H,G,$,W,Y,Z,Q,X,J,tt,et,rt,nt,it,ot,at,st,ut,ct,ft;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],c=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|s>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(s<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(h<<1|l>>>31),r=s^(l<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(d<<1|p>>>31),r=c^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|o>>>31),r=l^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],y=t[1],$=t[11]<<4|t[10]>>>28,W=t[10]<<4|t[11]>>>28,C=t[20]<<3|t[21]>>>29,I=t[21]<<3|t[20]>>>29,st=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,z=t[40]<<18|t[41]>>>14,V=t[41]<<18|t[40]>>>14,L=t[2]<<1|t[3]>>>31,O=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,g=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,Z=t[23]<<10|t[22]>>>22,T=t[33]<<13|t[32]>>>19,P=t[32]<<13|t[33]>>>19,ct=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,j=t[14]<<6|t[15]>>>26,D=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Q=t[34]<<15|t[35]>>>17,X=t[35]<<15|t[34]>>>17,N=t[45]<<29|t[44]>>>3,R=t[44]<<29|t[45]>>>3,M=t[6]<<28|t[7]>>>4,A=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,U=t[26]<<25|t[27]>>>7,F=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,k=t[37]<<21|t[36]>>>11,J=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,H=t[8]<<27|t[9]>>>5,G=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,B=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,at=t[28]<<7|t[29]>>>25,q=t[38]<<8|t[39]>>>24,K=t[39]<<8|t[38]>>>24,S=t[48]<<14|t[49]>>>18,E=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=y^~g&w,t[10]=M^~x&C,t[11]=A^~B&I,t[20]=L^~j&U,t[21]=O^~D&F,t[30]=H^~$&Y,t[31]=G^~W&Z,t[40]=et^~nt&ot,t[41]=rt^~it&at,t[2]=v^~b&_,t[3]=g^~w&k,t[12]=x^~C&T,t[13]=B^~I&P,t[22]=j^~U&q,t[23]=D^~F&K,t[32]=$^~Y&Q,t[33]=W^~Z&X,t[42]=nt^~ot&st,t[43]=it^~at&ut,t[4]=b^~_&S,t[5]=w^~k&E,t[14]=C^~T&N,t[15]=I^~P&R,t[24]=U^~q&z,t[25]=F^~K&V,t[34]=Y^~Q&J,t[35]=Z^~X&tt,t[44]=ot^~st&ct,t[45]=at^~ut&ft,t[6]=_^~S&m,t[7]=k^~E&y,t[16]=T^~N&M,t[17]=P^~R&A,t[26]=q^~z&L,t[27]=K^~V&O,t[36]=Q^~J&H,t[37]=X^~tt&G,t[46]=st^~ct&et,t[47]=ut^~ft&rt,t[8]=S^~m&v,t[9]=E^~y&g,t[18]=N^~M&x,t[19]=R^~A&B,t[28]=z^~L&j,t[29]=V^~O&D,t[38]=J^~H&$,t[39]=tt^~G&W,t[48]=ct^~et&nt,t[49]=ft^~rt&it,t[0]^=f[n],t[1]^=f[n+1]};if(o)t.exports=k;else{for(E=0;E<S.length;++E)n[S[E]]=k[S[E]];0}}()}),vO=et(function(t,e){!function(r,n){var i={version:"3.0.1",x86:{},x64:{}};function o(t,e){return(65535&t)*e+(((t>>>16)*e&65535)<<16)}function a(t,e){return t<<e|t>>>32-e}function s(t){return t=o(t^=t>>>16,2246822507),t=o(t^=t>>>13,3266489909),t^=t>>>16}function u(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]+e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]+e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]+e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]+e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function c(t,e){t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]],e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]];var r=[0,0,0,0];return r[3]+=t[3]*e[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=t[2]*e[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=t[3]*e[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=t[1]*e[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[2]*e[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=t[3]*e[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function f(t,e){return 32===(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function h(t,e){return 0===(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function l(t,e){return[t[0]^e[0],t[1]^e[1]]}function d(t){return t=l(t=c(t=l(t=c(t=l(t,[0,t[0]>>>1]),[4283543511,3981806797]),[0,t[0]>>>1]),[3301882366,444984403]),[0,t[0]>>>1])}i.x86.hash32=function(t,e){t=t||"",e=e||0;for(var r=t.length%4,n=t.length-r,i=e,u=0,c=3432918353,f=461845907,h=0;h<n;h+=4)i=o(i=a(i^=u=o(u=a(u=o(u=255&t.charCodeAt(h)|(255&t.charCodeAt(h+1))<<8|(255&t.charCodeAt(h+2))<<16|(255&t.charCodeAt(h+3))<<24,c),15),f),13),5)+3864292196;switch(u=0,r){case 3:u^=(255&t.charCodeAt(h+2))<<16;case 2:u^=(255&t.charCodeAt(h+1))<<8;case 1:i^=u=o(u=a(u=o(u^=255&t.charCodeAt(h),c),15),f)}return(i=s(i^=t.length))>>>0},i.x86.hash128=function(t,e){t=t||"",e=e||0;for(var r=t.length%16,n=t.length-r,i=e,u=e,c=e,f=e,h=0,l=0,d=0,p=0,m=597399067,y=2869860233,v=951274213,g=2716044179,b=0;b<n;b+=16)h=255&t.charCodeAt(b)|(255&t.charCodeAt(b+1))<<8|(255&t.charCodeAt(b+2))<<16|(255&t.charCodeAt(b+3))<<24,l=255&t.charCodeAt(b+4)|(255&t.charCodeAt(b+5))<<8|(255&t.charCodeAt(b+6))<<16|(255&t.charCodeAt(b+7))<<24,d=255&t.charCodeAt(b+8)|(255&t.charCodeAt(b+9))<<8|(255&t.charCodeAt(b+10))<<16|(255&t.charCodeAt(b+11))<<24,p=255&t.charCodeAt(b+12)|(255&t.charCodeAt(b+13))<<8|(255&t.charCodeAt(b+14))<<16|(255&t.charCodeAt(b+15))<<24,i=a(i^=h=o(h=a(h=o(h,m),15),y),19),i=o(i+=u,5)+1444728091,u=a(u^=l=o(l=a(l=o(l,y),16),v),17),u=o(u+=c,5)+197830471,c=a(c^=d=o(d=a(d=o(d,v),17),g),15),c=o(c+=f,5)+2530024501,f=a(f^=p=o(p=a(p=o(p,g),18),m),13),f=o(f+=i,5)+850148119;switch(h=0,l=0,d=0,p=0,r){case 15:p^=t.charCodeAt(b+14)<<16;case 14:p^=t.charCodeAt(b+13)<<8;case 13:f^=p=o(p=a(p=o(p^=t.charCodeAt(b+12),g),18),m);case 12:d^=t.charCodeAt(b+11)<<24;case 11:d^=t.charCodeAt(b+10)<<16;case 10:d^=t.charCodeAt(b+9)<<8;case 9:c^=d=o(d=a(d=o(d^=t.charCodeAt(b+8),v),17),g);case 8:l^=t.charCodeAt(b+7)<<24;case 7:l^=t.charCodeAt(b+6)<<16;case 6:l^=t.charCodeAt(b+5)<<8;case 5:u^=l=o(l=a(l=o(l^=t.charCodeAt(b+4),y),16),v);case 4:h^=t.charCodeAt(b+3)<<24;case 3:h^=t.charCodeAt(b+2)<<16;case 2:h^=t.charCodeAt(b+1)<<8;case 1:i^=h=o(h=a(h=o(h^=t.charCodeAt(b),m),15),y)}return i^=t.length,i+=u^=t.length,i+=c^=t.length,u+=i+=f^=t.length,c+=i,f+=i,i=s(i),i+=u=s(u),i+=c=s(c),u+=i+=f=s(f),c+=i,f+=i,("00000000"+(i>>>0).toString(16)).slice(-8)+("00000000"+(u>>>0).toString(16)).slice(-8)+("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},i.x64.hash128=function(t,e){t=t||"",e=e||0;for(var r=t.length%16,n=t.length-r,i=[0,e],o=[0,e],a=[0,0],s=[0,0],p=[2277735313,289559509],m=[1291169091,658871167],y=0;y<n;y+=16)a=[255&t.charCodeAt(y+4)|(255&t.charCodeAt(y+5))<<8|(255&t.charCodeAt(y+6))<<16|(255&t.charCodeAt(y+7))<<24,255&t.charCodeAt(y)|(255&t.charCodeAt(y+1))<<8|(255&t.charCodeAt(y+2))<<16|(255&t.charCodeAt(y+3))<<24],s=[255&t.charCodeAt(y+12)|(255&t.charCodeAt(y+13))<<8|(255&t.charCodeAt(y+14))<<16|(255&t.charCodeAt(y+15))<<24,255&t.charCodeAt(y+8)|(255&t.charCodeAt(y+9))<<8|(255&t.charCodeAt(y+10))<<16|(255&t.charCodeAt(y+11))<<24],i=u(c(i=u(i=f(i=l(i,a=c(a=f(a=c(a,p),31),m)),27),o),[0,5]),[0,1390208809]),o=u(c(o=u(o=f(o=l(o,s=c(s=f(s=c(s,m),33),p)),31),i),[0,5]),[0,944331445]);switch(a=[0,0],s=[0,0],r){case 15:s=l(s,h([0,t.charCodeAt(y+14)],48));case 14:s=l(s,h([0,t.charCodeAt(y+13)],40));case 13:s=l(s,h([0,t.charCodeAt(y+12)],32));case 12:s=l(s,h([0,t.charCodeAt(y+11)],24));case 11:s=l(s,h([0,t.charCodeAt(y+10)],16));case 10:s=l(s,h([0,t.charCodeAt(y+9)],8));case 9:o=l(o,s=c(s=f(s=c(s=l(s,[0,t.charCodeAt(y+8)]),m),33),p));case 8:a=l(a,h([0,t.charCodeAt(y+7)],56));case 7:a=l(a,h([0,t.charCodeAt(y+6)],48));case 6:a=l(a,h([0,t.charCodeAt(y+5)],40));case 5:a=l(a,h([0,t.charCodeAt(y+4)],32));case 4:a=l(a,h([0,t.charCodeAt(y+3)],24));case 3:a=l(a,h([0,t.charCodeAt(y+2)],16));case 2:a=l(a,h([0,t.charCodeAt(y+1)],8));case 1:i=l(i,a=c(a=f(a=c(a=l(a,[0,t.charCodeAt(y)]),p),31),m))}return i=l(i,[0,t.length]),o=u(o=l(o,[0,t.length]),i=u(i,o)),i=d(i),o=u(o=d(o),i=u(i,o)),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)},t.exports&&(e=t.exports=i),e.murmurHash3=i}()}),gO=(vO.murmurHash3,vO),bO=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=__)&&r.__esModule?r:{default:r};e.default=n.default,t.exports=e.default});tt(bO);var wO,_O=t=>(function(e,r){const n=(t,e)=>bO(()=>{r(t,e)});let i;try{i=t(e)}catch(t){return void n(t)}n(null,i)}),kO=(t,e)=>r=>{let n=t(r,e);return Buffer.from(n,"hex")},SO=(t,e)=>r=>{const n=Buffer.isBuffer(r)?r.toString():r;return t(n,e)},EO=(t,e)=>r=>{let n=t(r,e);const i=new Array(4);for(let t=0;t<4;t++)i[t]=255&n,n>>=8;return Buffer.from(i)},MO=function(t){return t&&"function"==typeof t.then};wO="function"==typeof setImediate?setImediate:"object"==typeof process&&process&&process.nextTick?process.nextTick:function(t){setTimeout(t,0)};var AO,xO=[],BO=CO;function CO(t){if(!(this instanceof CO))return"function"==typeof t?new CO(t):(r=new CO(function(t){e=t}),{resolver:e,promise:r});var e,r,n,i=!1,o=!1,a=[],s=!1;function u(t){a.length?(s=!0,a.shift()(t||!1)):s=!1}this.then=function(t,e){return new CO(function(r){a.push(function(i){var a=o?t:e;if("function"==typeof a){function s(){var t;try{t=a(n)}catch(t){return r.reject(t),u()}r.fulfill(t),u(!0)}i?s():wO(s)}else o?(r.fulfill(n),u(i)):(r.reject(n),u(i))}),i&&!s&&u()})},function(){function e(t){i||(i=!0,o=!1,n=t,u())}for(var r={fulfill:function t(r){i||(MO(r)?r.then(t,e):(i=o=!0,n=r,u()))},reject:e},a=0;a<xO.length;a++)xO[a](this,r);if("function"==typeof t)try{t(r)}catch(t){r.reject(t)}}()}CO.use=function(t){xO.push(t)},AO="function"==typeof setImmediate?setImmediate:"object"==typeof process&&process&&process.nextTick?process.nextTick:function(t){setTimeout(t,0)};var IO=TO;function TO(t,e){return"function"!=typeof e?t:t.then(function(t){AO(function(){e(null,t)})},function(t){AO(function(){e(t)})})}function PO(t){return TO(this,t)}function NO(t){if(t&&MO(t)){t.nodeify=PO;var e=t.then;return t.then=function(){return NO(e.apply(this,arguments))},t}"function"==typeof t?t.prototype.nodeify=PO:BO.prototype.nodeify=PO}function RO(t){if(!(this instanceof RO))return new RO(t);BO.call(this,t),NO(this)}TO.extend=NO,TO.Promise=RO,RO.prototype=Object.create(BO.prototype),RO.prototype.constructor=RO;const LO=function(){if(self.crypto)return self.crypto.subtle||self.crypto.webkitSubtle;if(self.msCrypto)return self.msCrypto.subtle}();function OO(t){if(!LO)throw new Error("Please use a browser with webcrypto support");return(e,r)=>{const n=LO.digest({name:t},e);if("function"!=typeof n.then)return n.onerror=(()=>{r(new Error(`hashing data using ${t}`))}),void(n.oncomplete=(t=>{r(null,t.target.result)}));IO(n.then(t=>Buffer.from(new Uint8Array(t))),r)}}var jO={sha1:function(t,e){OO("SHA-1")(t,e)},sha2256:function(t,e){OO("SHA-256")(t,e)},sha2512:function(t,e){OO("SHA-512")(t,e)}},DO="Input must be an string, Buffer or Uint8Array";function UO(t){return(4294967296+t).toString(16).substring(1)}var FO={normalizeInput:function(t){var e;if(t instanceof Uint8Array)e=t;else if(t instanceof Buffer)e=new Uint8Array(t);else{if("string"!=typeof t)throw new Error(DO);e=new Uint8Array(Buffer.from(t,"utf8"))}return e},toHex:function(t){return Array.prototype.map.call(t,function(t){return(t<16?"0":"")+t.toString(16)}).join("")},debugPrint:function(t,e,r){for(var n="\n"+t+" = ",i=0;i<e.length;i+=2){if(32===r)n+=UO(e[i]).toUpperCase(),n+=" ",n+=UO(e[i+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);n+=UO(e[i+1]).toUpperCase(),n+=UO(e[i]).toUpperCase()}i%6==4?n+="\n"+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)},testSpeed:function(t,e,r){for(var n=(new Date).getTime(),i=new Uint8Array(e),o=0;o<e;o++)i[o]=o%256;var a=(new Date).getTime();for(console.log("Generated random input in "+(a-n)+"ms"),n=a,o=0;o<r;o++){var s=t(i),u=(new Date).getTime(),c=u-n;n=u,console.log("Hashed in "+c+"ms: "+s.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(c/1e3)*100)/100+" MB PER SECOND")}}};function qO(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function KO(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function zO(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function VO(t,e,r,n,i,o){var a=WO[i],s=WO[i+1],u=WO[o],c=WO[o+1];qO($O,t,e),KO($O,t,a,s);var f=$O[n]^$O[t],h=$O[n+1]^$O[t+1];$O[n]=h,$O[n+1]=f,qO($O,r,n),f=$O[e]^$O[r],h=$O[e+1]^$O[r+1],$O[e]=f>>>24^h<<8,$O[e+1]=h>>>24^f<<8,qO($O,t,e),KO($O,t,u,c),f=$O[n]^$O[t],h=$O[n+1]^$O[t+1],$O[n]=f>>>16^h<<16,$O[n+1]=h>>>16^f<<16,qO($O,r,n),f=$O[e]^$O[r],h=$O[e+1]^$O[r+1],$O[e]=h>>>31^f<<1,$O[e+1]=f>>>31^h<<1}var HO=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),GO=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(t){return 2*t})),$O=new Uint32Array(32),WO=new Uint32Array(32);function YO(t,e){var r=0;for(r=0;r<16;r++)$O[r]=t.h[r],$O[r+16]=HO[r];for($O[24]=$O[24]^t.t,$O[25]=$O[25]^t.t/4294967296,e&&($O[28]=~$O[28],$O[29]=~$O[29]),r=0;r<32;r++)WO[r]=zO(t.b,4*r);for(r=0;r<12;r++)VO(0,8,16,24,GO[16*r+0],GO[16*r+1]),VO(2,10,18,26,GO[16*r+2],GO[16*r+3]),VO(4,12,20,28,GO[16*r+4],GO[16*r+5]),VO(6,14,22,30,GO[16*r+6],GO[16*r+7]),VO(0,10,20,30,GO[16*r+8],GO[16*r+9]),VO(2,12,22,24,GO[16*r+10],GO[16*r+11]),VO(4,14,16,26,GO[16*r+12],GO[16*r+13]),VO(6,8,18,28,GO[16*r+14],GO[16*r+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^$O[r]^$O[r+16]}function ZO(t,e){if(0===t||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t},n=0;n<16;n++)r.h[n]=HO[n];var i=e?e.length:0;return r.h[0]^=16842752^i<<8^t,e&&(QO(r,e),r.c=128),r}function QO(t,e){for(var r=0;r<e.length;r++)128===t.c&&(t.t+=t.c,YO(t,!1),t.c=0),t.b[t.c++]=e[r]}function XO(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;YO(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r);return e}function JO(t,e,r){r=r||64,t=FO.normalizeInput(t);var n=ZO(r,e);return QO(n,t),XO(n)}var tj={blake2b:JO,blake2bHex:function(t,e,r){var n=JO(t,e,r);return FO.toHex(n)},blake2bInit:ZO,blake2bUpdate:QO,blake2bFinal:XO};function ej(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function rj(t,e,r,n,i,o){aj[t]=aj[t]+aj[e]+i,aj[n]=nj(aj[n]^aj[t],16),aj[r]=aj[r]+aj[n],aj[e]=nj(aj[e]^aj[r],12),aj[t]=aj[t]+aj[e]+o,aj[n]=nj(aj[n]^aj[t],8),aj[r]=aj[r]+aj[n],aj[e]=nj(aj[e]^aj[r],7)}function nj(t,e){return t>>>e^t<<32-e}var ij=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oj=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),aj=new Uint32Array(16),sj=new Uint32Array(16);function uj(t,e){var r=0;for(r=0;r<8;r++)aj[r]=t.h[r],aj[r+8]=ij[r];for(aj[12]^=t.t,aj[13]^=t.t/4294967296,e&&(aj[14]=~aj[14]),r=0;r<16;r++)sj[r]=ej(t.b,4*r);for(r=0;r<10;r++)rj(0,4,8,12,sj[oj[16*r+0]],sj[oj[16*r+1]]),rj(1,5,9,13,sj[oj[16*r+2]],sj[oj[16*r+3]]),rj(2,6,10,14,sj[oj[16*r+4]],sj[oj[16*r+5]]),rj(3,7,11,15,sj[oj[16*r+6]],sj[oj[16*r+7]]),rj(0,5,10,15,sj[oj[16*r+8]],sj[oj[16*r+9]]),rj(1,6,11,12,sj[oj[16*r+10]],sj[oj[16*r+11]]),rj(2,7,8,13,sj[oj[16*r+12]],sj[oj[16*r+13]]),rj(3,4,9,14,sj[oj[16*r+14]],sj[oj[16*r+15]]);for(r=0;r<8;r++)t.h[r]^=aj[r]^aj[r+8]}function cj(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");var r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array(ij),b:new Uint32Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(fj(n,e),n.c=64),n}function fj(t,e){for(var r=0;r<e.length;r++)64===t.c&&(t.t+=t.c,uj(t,!1),t.c=0),t.b[t.c++]=e[r]}function hj(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;uj(t,!0);for(var e=new Uint8Array(t.outlen),r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(3&r)&255;return e}function lj(t,e,r){r=r||32,t=FO.normalizeInput(t);var n=cj(r,e);return fj(n,t),hj(n)}var dj={blake2s:lj,blake2sHex:function(t,e,r){var n=lj(t,e,r);return FO.toHex(n)},blake2sInit:cj,blake2sUpdate:fj,blake2sFinal:hj},pj={blake2b:tj.blake2b,blake2bHex:tj.blake2bHex,blake2bInit:tj.blake2bInit,blake2bUpdate:tj.blake2bUpdate,blake2bFinal:tj.blake2bFinal,blake2s:dj.blake2s,blake2sHex:dj.blake2sHex,blake2sInit:dj.blake2sInit,blake2sUpdate:dj.blake2sUpdate,blake2sFinal:dj.blake2sFinal};const mj=_O,yj={init:pj.blake2bInit,update:pj.blake2bUpdate,digest:pj.blake2bFinal},vj={init:pj.blake2sInit,update:pj.blake2sUpdate,digest:pj.blake2sFinal},gj=(t,e)=>mj(r=>{const n=e.init(t,null);return e.update(n,r),Buffer.from(e.digest(n))});const bj=_O,wj=kO,_j=SO,kj=EO;var Sj={sha1:jO.sha1,sha2256:jO.sha2256,sha2512:jO.sha2512,sha3512:bj(wj(yO.sha3_512)),sha3384:bj(wj(yO.sha3_384)),sha3256:bj(wj(yO.sha3_256)),sha3224:bj(wj(yO.sha3_224)),shake128:bj(wj(yO.shake_128,256)),shake256:bj(wj(yO.shake_256,512)),keccak224:bj(wj(yO.keccak_224)),keccak256:bj(wj(yO.keccak_256)),keccak384:bj(wj(yO.keccak_384)),keccak512:bj(wj(yO.keccak_512)),murmur3128:bj(wj(_j(gO.x64.hash128))),murmur332:bj(kj(_j(gO.x86.hash32))),addBlake:t=>{for(let e=0;e<64;e++)t[45569+e]=gj(e+1,yj);for(let e=0;e<32;e++)t[45633+e]=gj(e+1,vj)},dblSha2256:(t,e)=>{jO.sha2256(t,(t,r)=>{t&&e(t),jO.sha2256(Buffer.from(r),e)})}},Ej=Mj;function Mj(t,e,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");Mj.digest(t,e,r,(t,i)=>{if(t)return n(t);n(null,DP.encode(i,e,r))})}Mj.Buffer=Buffer,Mj.multihash=DP,Mj.digest=function(t,e,r,n){if("function"==typeof r&&(n=r,r=void 0),!n)throw new Error("Missing callback");let i,o=n;r&&(o=((t,e)=>{if(t)return n(t);n(null,e.slice(0,r))}));try{i=Mj.createHash(e)}catch(t){return o(t)}i(t,o)},Mj.createHash=function(t){if(t=DP.coerceCode(t),!Mj.functions[t])throw new Error("multihash function "+t+" not yet supported");return Mj.functions[t]},Mj.functions={17:Sj.sha1,18:Sj.sha2256,19:Sj.sha2512,20:Sj.sha3512,21:Sj.sha3384,22:Sj.sha3256,23:Sj.sha3224,24:Sj.shake128,25:Sj.shake256,26:Sj.keccak224,27:Sj.keccak256,28:Sj.keccak384,29:Sj.keccak512,34:Sj.murmur3128,35:Sj.murmur332,86:Sj.dblSha2256},Sj.addBlake(Mj.functions);var Aj=et(function(t){!function(){var e=function(t,e){return r(t.slice(),e)};function r(t,e){"function"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var r=t.length;if(r<=1)return t;for(var i=new Array(r),o=1;o<r;o*=2){n(t,e,o,i);var a=t;t=i,i=a}return t}e.inplace=function(t,e){var i=r(t,e);return i!==t&&n(i,null,t.length,t),t};var n=function(t,e,r,n){var i,o,a,s,u,c=t.length,f=0,h=2*r;for(i=0;i<c;i+=h)for(a=(o=i+r)+r,o>c&&(o=c),a>c&&(a=c),s=i,u=o;;)if(s<o&&u<a)e(t[s],t[u])<=0?n[f++]=t[s++]:n[f++]=t[u++];else if(s<o)n[f++]=t[s++];else{if(!(u<a))break;n[f++]=t[u++]}};t.exports=e}()}),xj=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],Bj=function(t){for(var e={};t.length;)switch(t[0]){case"[":case",":t.shift();var r=t.shift();if("("===r&&(r=t.shift(),t.shift()),"="!==t[0])throw new Error("Unexpected token in field options: "+t[0]);if(t.shift(),"]"===t[0])throw new Error("Unexpected ] in field option");e[r]=t.shift();break;case"]":return t.shift(),e;default:throw new Error("Unexpected token in field options: "+t[0])}throw new Error("No closing tag for field options")},Cj=function(t){for(var e={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};t.length;)switch(t[0]){case"=":t.shift(),e.tag=Number(t.shift());break;case"map":if(e.type="map",e.map={from:null,to:null},t.shift(),"<"!==t[0])throw new Error("Unexpected token in map type: "+t[0]);if(t.shift(),e.map.from=t.shift(),","!==t[0])throw new Error("Unexpected token in map type: "+t[0]);if(t.shift(),e.map.to=t.shift(),">"!==t[0])throw new Error("Unexpected token in map type: "+t[0]);t.shift(),e.name=t.shift();break;case"repeated":case"required":case"optional":var r=t.shift();e.required="required"===r,e.repeated="repeated"===r,e.type=t.shift(),e.name=t.shift();break;case"[":e.options=Bj(t);break;case";":if(null===e.name)throw new Error("Missing field name");if(null===e.type)throw new Error("Missing type in message field: "+e.name);if(-1===e.tag)throw new Error("Missing tag number in message field: "+e.name);return t.shift(),e;default:throw new Error("Unexpected token in message field: "+t[0])}throw new Error("No ; found for message field")},Ij=function(t){for(var e={enums:[],messages:[],fields:[],extends:[],extensions:null};t.length;)switch(t[0]){case"map":case"repeated":case"optional":case"required":e.fields.push(Cj(t));break;case"enum":e.enums.push(jj(t));break;case"message":e.messages.push(Nj(t));break;case"extensions":e.extensions=Pj(t);break;case"oneof":t.shift();var r=t.shift();if("{"!==t[0])throw new Error("Unexpected token in oneof: "+t[0]);for(t.shift();"}"!==t[0];){t.unshift("optional");var n=Cj(t);n.oneof=r,e.fields.push(n)}t.shift();break;case"extend":e.extends.push(Tj(t));break;case";":t.shift();break;case"reserved":case"option":for(t.shift();";"!==t[0];)t.shift();break;default:t.unshift("optional"),e.fields.push(Cj(t))}return e},Tj=function(t){return{name:t[1],message:Nj(t)}},Pj=function(t){t.shift();var e=Number(t.shift());if(isNaN(e))throw new Error("Invalid from in extensions definition");if("to"!==t.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=t.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==t.shift())throw new Error("Missing ; in extensions definition");return{from:e,to:r}},Nj=function(t){t.shift();var e=1,r=[],n={name:t.shift(),enums:[],extends:[],messages:[],fields:[]};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("{"===t[0]?e++:"}"===t[0]&&e--,!e)return t.shift(),r=Ij(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n;r.push(t.shift())}if(e)throw new Error("No closing tag for message")},Rj=function(t){t.shift();var e=t.shift();if(";"!==t[0])throw new Error("Expected ; but found "+t[0]);return t.shift(),e},Lj=function(t){if(t.shift(),"="!==t[0])throw new Error("Expected = but found "+t[0]);t.shift();var e=t.shift();switch(e){case'"proto2"':e=2;break;case'"proto3"':e=3;break;default:throw new Error("Expected protobuf syntax version but found "+e)}if(";"!==t[0])throw new Error("Expected ; but found "+t[0]);return t.shift(),e},Oj=function(t){if(t.length<4)throw new Error("Invalid enum value: "+t.slice(0,3).join(" "));if("="!==t[1])throw new Error("Expected = but found "+t[1]);if(";"!==t[3]&&"["!==t[3])throw new Error("Expected ; or [ but found "+t[1]);var e=t.shift();t.shift();var r={value:null,options:{}};return r.value=Number(t.shift()),"["===t[0]&&(r.options=Bj(t)),t.shift(),{name:e,val:r}},jj=function(t){t.shift();var e={},r={name:t.shift(),values:{},options:{}};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),r;if("option"!==t[0]){var n=Oj(t);r.values[n.name]=n.val}else e=Dj(t),r.options[e.name]=e.value}throw new Error("No closing tag for enum")},Dj=function(t){for(var e=null,r=null,n=function(t){return"true"===t||"false"!==t&&t.replace(/^"+|"+$/gm,"")};t.length;){if(";"===t[0])return t.shift(),{name:e,value:r};switch(t[0]){case"option":t.shift();var i="("===t[0];if(i&&t.shift(),e=t.shift(),i){if(")"!==t[0])throw new Error("Expected ) but found "+t[0]);t.shift()}"."===t[0][0]&&(e+=t.shift());break;case"=":if(t.shift(),null===e)throw new Error("Expected key for option with value: "+t[0]);if(r=n(t.shift()),"optimize_for"===e&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=Uj(t));break;default:throw new Error("Unexpected token in option: "+t[0])}}},Uj=function(t){for(var e=function(t){return"true"===t||"false"!==t&&t.replace(/^"+|"+$/gm,"")},r={};t.length;){if("}"===t[0])return t.shift(),r;var n="("===t[0];n&&t.shift();var i=t.shift();if(n){if(")"!==t[0])throw new Error("Expected ) but found "+t[0]);t.shift()}var o=null;switch(t[0]){case":":if(void 0!==r[i])throw new Error("Duplicate option map key "+i);t.shift(),"{"===(o=e(t.shift()))&&(o=Uj(t)),r[i]=o,";"===t[0]&&t.shift();break;case"{":if(t.shift(),o=Uj(t),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(o);break;default:throw new Error("Unexpected token in option map: "+t[0])}}throw new Error("No closing tag for option map")},Fj=function(t){t.shift();var e=t.shift().replace(/^"+|"+$/gm,"");if(";"!==t[0])throw new Error("Unexpected token: "+t[0]+'. Expected ";"');return t.shift(),e},qj=function(t){t.shift();var e={name:t.shift(),methods:[],options:{}};if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),e;switch(t[0]){case"option":var r=Dj(t);if(void 0!==e.options[r.name])throw new Error("Duplicate option "+r.name);e.options[r.name]=r.value;break;case"rpc":e.methods.push(Kj(t));break;default:throw new Error("Unexpected token in service: "+t[0])}}throw new Error("No closing tag for service")},Kj=function(t){t.shift();var e={name:t.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==t[0])throw new Error("Expected ( but found "+t[0]);if(t.shift(),"stream"===t[0]&&(t.shift(),e.client_streaming=!0),e.input_type=t.shift(),")"!==t[0])throw new Error("Expected ) but found "+t[0]);if(t.shift(),"returns"!==t[0])throw new Error("Expected returns but found "+t[0]);if(t.shift(),"("!==t[0])throw new Error("Expected ( but found "+t[0]);if(t.shift(),"stream"===t[0]&&(t.shift(),e.server_streaming=!0),e.output_type=t.shift(),")"!==t[0])throw new Error("Expected ) but found "+t[0]);if(t.shift(),";"===t[0])return t.shift(),e;if("{"!==t[0])throw new Error("Expected { but found "+t[0]);for(t.shift();t.length;){if("}"===t[0])return t.shift(),";"===t[0]&&t.shift(),e;if("option"!==t[0])throw new Error("Unexpected token in rpc options: "+t[0]);var r=Dj(t);if(void 0!==e.options[r.name])throw new Error("Duplicate option "+r.name);e.options[r.name]=r.value}throw new Error("No closing tag for rpc")},zj=function(t){for(var e,r,n,i=(e=t.toString(),n=function(t){return t.trim()},e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(n).filter(Boolean).map(function(t){var e=t.indexOf("//");return e>-1?t.slice(0,e):t}).map(n).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((r=!1,function(t){return"/*"===t?(r=!0,!1):"*/"===t?(r=!1,!1):!r}))),o=0;o<i.length;o++){var a;if(/^("|')([^'"]*)$/.test(i[o]))for(a=1===i[o].length?o+1:o;a<i.length;a++)if(/^([^'"]*)("|')$/.test(i[a])){i=i.slice(0,o).concat(i.slice(o,a+1).join("")).concat(i.slice(a+1));break}}for(var s={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},u=!0;i.length;){switch(i[0]){case"package":s.package=Rj(i);break;case"syntax":if(!u)throw new Error("Protobuf syntax version should be first thing in file");s.syntax=Lj(i);break;case"message":s.messages.push(Nj(i));break;case"enum":s.enums.push(jj(i));break;case"option":var c=Dj(i);if(s.options[c.name])throw new Error("Duplicate option "+c.name);s.options[c.name]=c.value;break;case"import":s.imports.push(Fj(i));break;case"extend":s.extends.push(Tj(i));break;case"service":s.services||(s.services=[]),s.services.push(qj(i));break;default:throw new Error("Unexpected token: "+i[0])}u=!1}return s.extends.forEach(function(t){s.messages.forEach(function(e){e.name===t.name&&t.message.fields.forEach(function(t){if(!e.extensions||t.tag<e.extensions.from||t.tag>e.extensions.to)throw new Error(e.name+" does not declare "+t.tag+" as an extension number");e.fields.push(t)})})}),s.messages.forEach(function(t){t.fields.forEach(function(e){var r,n,i,o;if(e.options&&"true"===e.options.packed&&-1===xj.indexOf(e.type)){if(-1===e.type.indexOf(".")){if(t.enums&&t.enums.some(function(t){return t.name===e.type}))return}else{if((r=e.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],i=r[1],s.messages.some(function(t){if(t.name===n)return o=t,t}),o&&o.enums&&o.enums.some(function(t){return t.name===i}))return}throw new Error("Fields of type "+e.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),s},Vj=function(t,e){var r=t.repeated?"repeated":t.required?"required":"optional";"map"===t.type&&(r="map<"+t.map.from+","+t.map.to+">"),t.oneof&&(r="");var n=Object.keys(t.options||{}).map(function(e){return e+" = "+t.options[e]}).join(",");return n&&(n=" ["+n+"]"),e.push((r?r+" ":"")+("map"===t.map?"":t.type+" ")+t.name+" = "+t.tag+n+";"),e},Hj=function(t,e){e.push("message "+t.name+" {"),t.enums||(t.enums=[]),t.enums.forEach(function(t){e.push(Gj(t,[]))}),t.messages||(t.messages=[]),t.messages.forEach(function(t){e.push(Hj(t,[]))});var r={};return t.fields||(t.fields=[]),t.fields.forEach(function(t){t.oneof?(r[t.oneof]||(r[t.oneof]=[]),r[t.oneof].push(Vj(t,[]))):e.push(Vj(t,[]))}),Object.keys(r).forEach(function(t){r[t].unshift("oneof "+t+" {"),r[t].push("}"),e.push(r[t])}),e.push("}",""),e},Gj=function(t,e){e.push("enum "+t.name+" {"),t.options||(t.options={});var r=Wj(t.options,[]);return r.length>1&&e.push(r.slice(0,-1)),Object.keys(t.values).map(function(r){var n=$j(t.values[r]);e.push([r+" = "+n+";"])}),e.push("}",""),e},$j=function(t,e){var r=Object.keys(t.options||{}).map(function(e){return e+" = "+t.options[e]}).join(",");return r&&(r=" ["+r+"]"),t.value+r},Wj=function(t,e){var r=Object.keys(t);return r.forEach(function(r){var n=t[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=Yj(n,[])).length&&e.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),e.push("option "+r+" = "+n+";"))}),r.length>0&&e.push(""),e},Yj=function(t,e){return Object.keys(t).forEach(function(r){var n=t[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach(function(t){(t=Yj(t,[])).length&&e.push(r+" {",t,"}")}):(n=Yj(n,[])).length&&e.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),e.push(r+": "+n))}),e},Zj=function(t,e){var r="rpc "+t.name+"(";t.client_streaming&&(r+="stream "),r+=t.input_type+") returns (",t.server_streaming&&(r+="stream "),r+=t.output_type+")",t.options||(t.options={});var n=Wj(t.options,[]);return n.length>1?e.push(r+" {",n.slice(0,-1),"}"):e.push(r+";"),e},Qj=function(t){return function(e){return Array.isArray(e)?e.map(Qj(t+"  ")).join("\n"):t+e}},Xj=zj,Jj=zj,tD=function(t){var e=[];return e.push('syntax = "proto'+t.syntax+'";',""),t.package&&e.push("package "+t.package+";",""),t.options||(t.options={}),Wj(t.options,e),t.enums||(t.enums=[]),t.enums.forEach(function(t){Gj(t,e)}),t.messages||(t.messages=[]),t.messages.forEach(function(t){Hj(t,e)}),t.services&&t.services.forEach(function(t){!function(t,e){e.push("service "+t.name+" {"),t.options||(t.options={}),Wj(t.options,e),t.methods||(t.methods=[]),t.methods.forEach(function(t){e.push(Zj(t,[]))}),e.push("}","")}(t,e)}),e.map(Qj("")).join("\n")};Xj.parse=Jj,Xj.stringify=tD;var eD=function t(e,r,n){e=e>=0?2*e:-2*e-1;var i=cI.encode(e,r,n);return t.bytes=cI.encode.bytes,i},rD=function t(e,r){var n=cI.decode(e,r);return t.bytes=cI.decode.bytes,1&n?(n+1)/-2:n/2},nD=function(t){return cI.encodingLength(t>=0?2*t:-2*t-1)},iD=et(function(t,e){var r,n,i,o=Ya.Buffer,a=function(t,e,r,n){return e.bytes=r.bytes=0,{type:t,encode:e,decode:r,encodingLength:n}};e.make=a,e.bytes=(r=function(t){return o.isBuffer(t)?t.length:o.byteLength(t)},a(2,n=function(t,e,i){var a=i,s=r(t);return cI.encode(s,e,i),i+=cI.encode.bytes,o.isBuffer(t)?t.copy(e,i):e.write(t,i,s),i+=s,n.bytes=i-a,e},i=function(t,e){var r=e,n=cI.decode(t,e);e+=cI.decode.bytes;var o=t.slice(e,e+n);return e+=o.length,i.bytes=e-r,o},function(t){var e=r(t);return cI.encodingLength(e)+e})),e.string=function(){var t=function(e,r,n){var i=n,a=o.byteLength(e);return cI.encode(a,r,n,"utf-8"),n+=cI.encode.bytes,r.write(e,n,a),n+=a,t.bytes=n-i,r},e=function(t,r){var n=r,i=cI.decode(t,r);r+=cI.decode.bytes;var o=t.toString("utf-8",r,r+i);return r+=i,e.bytes=r-n,o};return a(2,t,e,function(t){var e=o.byteLength(t);return cI.encodingLength(e)+e})}(),e.bool=function(){var t=function(e,r,n){return r[n]=e?1:0,t.bytes=1,r},e=function(t,r){var n=t[r]>0;return e.bytes=1,n};return a(0,t,e,function(t){return 1})}(),e.int32=function(){var t=function(e,r){var n=cI.decode(e,r);return t.bytes=cI.decode.bytes,n>2147483647?n-4294967296:n};return a(0,cI.encode,t,function(t){return cI.encodingLength(t<0?t+4294967296:t)})}(),e.int64=function(){var t=function(e,r){var n=cI.decode(e,r);if(n>=Math.pow(2,63)){for(var i=9;255===e[r+i-1];)i--;i=i||9;var a=o.allocUnsafe(i);e.copy(a,0,r,r+i),a[i-1]=127&a[i-1],n=-1*cI.decode(a,0),t.bytes=10}else t.bytes=cI.decode.bytes;return n},e=function(t,r,n){if(t<0){var i=n+9;for(cI.encode(-1*t,r,n),r[n+=cI.encode.bytes-1]=128|r[n];n<i-1;)r[++n]=255;r[i]=1,e.bytes=10}else cI.encode(t,r,n),e.bytes=cI.encode.bytes;return r};return a(0,e,t,function(t){return t<0?10:cI.encodingLength(t)})}(),e.sint32=e.sint64=a(0,eD,rD,nD),e.uint32=e.uint64=e.enum=e.varint=a(0,cI.encode,cI.decode,cI.encodingLength),e.fixed64=e.sfixed64=function(){var t=function(e,r,n){return e.copy(r,n),t.bytes=8,r},e=function(t,r){var n=t.slice(r,r+8);return e.bytes=8,n};return a(1,t,e,function(t){return 8})}(),e.double=function(){var t=function(e,r,n){return r.writeDoubleLE(e,n),t.bytes=8,r},e=function(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n};return a(1,t,e,function(t){return 8})}(),e.fixed32=function(){var t=function(e,r,n){return r.writeUInt32LE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n};return a(5,t,e,function(t){return 4})}(),e.sfixed32=function(){var t=function(e,r,n){return r.writeInt32LE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readInt32LE(r);return e.bytes=4,n};return a(5,t,e,function(t){return 4})}(),e.float=function(){var t=function(e,r,n){return r.writeFloatLE(e,n),t.bytes=4,r},e=function(t,r){var n=t.readFloatLE(r);return e.bytes=4,n};return a(5,t,e,function(t){return 4})}()}),oD=(iD.make,iD.bytes,iD.string,iD.bool,iD.int32,iD.int64,iD.sint32,iD.sint64,iD.uint32,iD.uint64,iD.varint,iD.fixed64,iD.sfixed64,iD.fixed32,iD.sfixed32,function(t){return null!==t&&void 0!==t&&("number"!=typeof t||!isNaN(t))}),aD=oD;var sD=function(t,e,r){switch(t){case 0:return cI.decode(e,r),r+cI.decode.bytes;case 1:return r+8;case 2:var n=cI.decode(e,r);return r+cI.decode.bytes+n;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4;default:throw new Error("Unknown wire type: "+t)}},uD=function(t,e){if(t.map)return{};if(t.repeated)return[];switch(t.type){case"string":return null!=e?e:"";case"bool":return"true"===e;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e||0,10);default:return null}},cD=function(t,e,r){for(var n=[],i={},o=[],a=[],s=0;s<r.length;s++){var u=t.fields[s];i[u.tag]=s;var c=u.options&&u.options.default,f=e(u.type,t.id,!1);a[s]=[c,f&&f.values],t.fields[s].packed=u.repeated&&u.options&&u.options.packed&&"false"!==u.options.packed,u.required&&n.push(u.name),u.oneof&&o.push(u.name)}function h(t,e,r,n,i,a){var s=e.name;if(e.oneof)for(var u=Object.keys(r),c=0;c<u.length;c++)o.indexOf(u[c])>-1&&delete r[u[c]];if(t.message){var f=cI.decode(n,i);i+=cI.decode.bytes;var h=t.decode(n,i,i+f);e.map?(r[s]=r[s]||{},r[s][h.key]=h.value):e.repeated?(r[s]=r[s]||[],r[s].push(h)):r[s]=h}else e.repeated?(r[s]=r[s]||[],r[s].push(t.decode(n,i))):r[s]=t.decode(n,i);return i+=t.decode.bytes}return function e(s,u,c){if(null==u&&(u=0),null==c&&(c=s.length),!(c<=s.length&&u<=s.length))throw new Error("Decoded message is not valid");for(var f,l=u,d={};;){if(c<=u){var p,m,y="",v=0;for(v=0;v<n.length;v++)if(y=n[v],!aD(d[y]))throw new Error("Decoded message is not valid, missing required field: "+y);for(v=0;v<r.length;v++)if(f=t.fields[v],m=a[v][0],p=a[v][1],y=f.name,!aD(d[y])){var g=!1;if(f.oneof)for(var b=Object.keys(d),w=0;w<b.length;w++)if(o.indexOf(b[w])>-1){g=!0;break}g||(p?f.repeated?d[y]=[]:(m=m&&p[m]?p[m].value:p[Object.keys(p)[0]].value,d[y]=parseInt(m||0,10)):d[y]=uD(f,m))}return e.bytes=u-l,d}var _=cI.decode(s,u);u+=cI.decode.bytes;var k=i[_>>3];if(null!=k){var S=r[k];if((f=t.fields[k]).packed){var E=cI.decode(s,u);for(E+=u+=cI.decode.bytes;u<E;)u=h(S,f,d,s,u)}else u=h(S,f,d,s,u)}else u=sD(7&_,s,u)}}},fD=oD;var hD=function(t,e,r,n,i){for(var o=Object.keys(n),a=r.length,s={},u=0;u<a;u++){s[u]={p:cI.encode(t.fields[u].tag<<3|2),h:cI.encode(t.fields[u].tag<<3|r[u].type)};var c=t.fields[u];t.fields[u].packed=c.repeated&&c.options&&c.options.packed&&"false"!==c.options.packed}function f(t,e,r,n,i,o){var a=0;if(!i)for(a=0;a<r.length;a++)t[e++]=r[a];return n.message&&(cI.encode(n.encodingLength(o),t,e),e+=cI.encode.bytes),n.encode(o,t,e),e+n.encode.bytes}return function e(u,c,h){null==h&&(h=0),null==c&&(c=Buffer.allocUnsafe(i(u)));var l=h,d=Object.keys(u),p=0,m=!1;for(p=0;p<o.length;p++){var y=o[p],v=n[p];if(d.indexOf(v)>-1){if(m)throw new Error("only one of the properties defined in oneof "+y+" can be set");m=!0}}for(p=0;p<a;p++){var g=r[p],b=t.fields[p],w=u[b.name],_=0;if(fD(w)){var k,S=s[p].p,E=s[p].h,M=b.packed;if(b.map){var A=Object.keys(w);for(_=0;_<A.length;_++)A[_]={key:A[_],value:w[A[_]]};w=A}if(M){var x=0;for(_=0;_<w.length;_++)fD(w[_])&&(x+=g.encodingLength(w[_]));if(x){for(_=0;_<E.length;_++)c[h++]=S[_];cI.encode(x,c,h),h+=cI.encode.bytes}}if(b.repeated)for(_=0;_<w.length;_++)k=w[_],fD(k)&&(h=f(c,h,E,g,M,k));else h=f(c,h,E,g,M,w)}else if(b.required)throw new Error(b.name+" is required")}return e.bytes=h-l,c}},lD=oD;var dD=function(t,e,r){for(var n=Object.keys(r),i=e.length,o=new Array(i),a=0;a<t.fields.length;a++){o[a]=cI.encodingLength(t.fields[a].tag<<3|e[a].type);var s=t.fields[a];t.fields[a].packed=s.repeated&&s.options&&s.options.packed&&"false"!==s.options.packed}return function(a){var s=0,u=0,c=0;for(u=0;u<n.length;u++){var f=n[u],h=r[f],l=!1;for(c=0;c<h.length;c++)if(lD(a[h[c]])){if(l)throw new Error("only one of the properties defined in oneof "+f+" can be set");l=!0}}for(u=0;u<i;u++){var d,p=e[u],m=t.fields[u],y=a[m.name],v=o[u];if(lD(y)){if(m.map){var g=Object.keys(y);for(c=0;c<g.length;c++)g[c]={key:g[c],value:y[g[c]]};y=g}if(m.packed){var b=0;for(c=0;c<y.length;c++)lD(y[c])&&(b+=d=p.encodingLength(y[c]),p.message&&(b+=cI.encodingLength(d)));b&&(s+=v+b+cI.encodingLength(b))}else if(m.repeated)for(c=0;c<y.length;c++)lD(y[c])&&(s+=v+(d=p.encodingLength(y[c]))+(p.message?cI.encodingLength(d):0));else s+=v+(d=p.encodingLength(y))+(p.message?cI.encodingLength(d):0)}else if(m.required)throw new Error(m.name+" is required")}return s}},pD=function(t,e){var r={},n={},i={},o=function(t,e){t.enums&&t.enums.forEach(function(t){t.id=e+(e?".":"")+t.name,n[t.id]=t,o(t,t.id)}),t.messages&&t.messages.forEach(function(n){n.id=e+(e?".":"")+n.name,r[n.id]=n,n.fields.forEach(function(n){if(n.map){var i="Map_"+n.map.from+"_"+n.map.to,o={name:i,enums:[],messages:[],fields:[{name:"key",type:n.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:n.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:e+(e?".":"")+i};r[o.id]||(r[o.id]=o,t.messages.push(o)),n.type=i,n.repeated=!0}}),o(n,n.id)})};o(t,"");var a=function(t,e){t.messages.forEach(function(r){e[r.name]=s(r.name,t.id)}),t.enums.forEach(function(t){e[t.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach(function(r){e[r]=t[r].value}),e}(t.values)}),e.type=2,e.message=!0,e.name=t.name;var r={};t.fields.forEach(function(t){t.oneof&&(r[t.oneof]||(r[t.oneof]=[]),r[t.oneof].push(t.name))});var n=t.fields.map(function(e){return s(e.type,t.id)}),i=dD(t,n,r),o=hD(t,s,n,r,i),a=cD(t,s,n);return o.bytes=a.bytes=0,e.buffer=!0,e.encode=o,e.decode=a,e.encodingLength=i,e},s=function(t,o,s){if(e&&e[t])return e[t];if(iD[t])return iD[t];var u,c,f=(o?o+"."+t:t).split(".").map(function(e,r,n){return n.slice(0,r).concat(t).join(".")}).reverse().reduce(function(t,e){return t||r[e]||n[e]},null);if(!1===s)return f;if(!f)throw new Error("Could not resolve "+t);return f.values?(u=f,c=Object.keys(u.values||[]).map(function(t){return parseInt(u.values[t].value,10)}),iD.make(0,function t(e,r,n){if(!c.length||-1===c.indexOf(e))throw new Error("Invalid enum value: "+e);return cI.encode(e,r,n),t.bytes=cI.encode.bytes,r},function t(e,r){var n=cI.decode(e,r);if(!c.length||-1===c.indexOf(n))throw new Error("Invalid enum value: "+n);return t.bytes=cI.decode.bytes,n},cI.encodingLength)):i[f.id]||a(f,i[f.id]={})};return(t.enums||[]).concat((t.messages||[]).map(function(t){return s(t.id)}))},mD=function(t,e){if(e||(e={}),!t)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var r="object"!=typeof t||Buffer.isBuffer(t)?Xj.parse(t):t,n=function(){var t=this;pD(r,e.encodings||{}).forEach(function(e){t[e.name]=function(t){if(!t)return null;var e={};return Object.keys(t).forEach(function(r){e[r]=t[r].value}),e}(e.values)||e})};return n.prototype.toString=function(){return Xj.stringify(r)},n.prototype.toJSON=function(){return r},new n};var yD=function(t,e,r,n){n(null,new gD(t,e,r))},vD=et(function(t,e){(e=t.exports).isDagLink=function(t){return t&&t.constructor&&"DAGLink"===t.constructor.name},e.createDagLinkFromB58EncodedHash=function(t){return new gD(t.name?t.name:t.Name,t.size?t.size:t.Size,t.hash||t.Hash||t.multihash)}}),gD=(vD.isDagLink,vD.createDagLinkFromB58EncodedHash,et(function(t,e){(e=t.exports=class{constructor(t,e,r){o(r,"A link requires a multihash to point to"),this._name=t,this._size=e,"string"==typeof r?this._multihash=DP.fromB58String(r):Buffer.isBuffer(r)&&(this._multihash=r)}toString(){return`DAGLink <${DP.toB58String(this.multihash)} - name: "${this.name}", size: ${this.size}>`}toJSON(){return{name:this.name,size:this.size,multihash:DP.toB58String(this._multihash)}}get name(){return this._name}set name(t){throw new Error("Can't set property: 'name' is immutable")}get size(){return this._size}set size(t){throw new Error("Can't set property: 'size' is immutable")}get multihash(){return this._multihash}set multihash(t){throw new Error("Can't set property: 'multihash' is immutable")}}).create=yD,e.util=vD})),bD=(gD.create,gD.util,et(function(t,e){const r=mD("// An IPFS MerkleDAG Link\nmessage PBLink {\n\n  // multihash of the target object\n  optional bytes Hash = 1;\n\n  // utf string name. should be unique per object\n  optional string Name = 2;\n\n  // cumulative size of target object\n  optional uint64 Tsize = 3;\n}\n\n// An IPFS MerkleDAG Node\nmessage PBNode {\n\n  // refs to other objects\n  repeated PBLink Links = 2;\n\n  // opaque user data\n  optional bytes Data = 1;\n}");(e=t.exports).serialize=function(t,e){let n;"DAGNode"!==t.constructor.name&&t.links&&(t.links=t.links.map(t=>gD.util.isDagLink(t)?t:gD.util.createDagLinkFromB58EncodedHash(t)));try{n=r.PBNode.encode(function(t){const e={};return t.data&&t.data.length>0?e.Data=t.data:e.Data=null,t.links&&t.links.length>0?e.Links=t.links.map(t=>({Hash:t.multihash,Name:t.name,Tsize:t.size})):e.Links=null,e}(t))}catch(t){return e(t)}e(null,n)},e.deserialize=function(t,e){const n=r.PBNode.decode(t),i=n.Links.map(t=>new gD(t.Name,t.Tsize,t.Hash)),o=null==n.Data?Buffer.alloc(0):Buffer.from(n.Data);RD.create(o,i,e)},e.cid=function(t,e){if(t.multihash)return e(null,new sN(t.multihash));e(new Error("not valid dagPB node"))}})),wD=(bD.serialize,bD.deserialize,bD.cid,et(function(t,e){(e=t.exports).cloneData=function(t){let e;return t.data&&t.data.length>0?(e=Buffer.alloc(t.data.length),t.data.copy(e)):e=Buffer.alloc(0),e},e.cloneLinks=function(t){return t.links.slice()},e.linkSort=function(t,e){const r=Buffer.from(t.name||""),n=Buffer.from(e.name||"");return r.compare(n)},e.toDAGLink=function(t){return new gD("",t.size,t.multihash)}}));wD.cloneData,wD.cloneLinks,wD.linkSort,wD.toDAGLink;const _D=bD.serialize,kD=wD.linkSort;var SD=function(t,e,r,n){if("function"==typeof t?(n=t,t=void 0):"string"==typeof t&&(t=Buffer.from(t)),"function"==typeof e&&(n=e,e=[]),"function"==typeof r&&(n=r,r=void 0),!Buffer.isBuffer(t))return n(new Error("Passed 'data' is not a buffer or a string!"));r||(r="sha2-256");const i=e.map(t=>gD.util.isDagLink(t)?t:gD.util.createDagLinkFromB58EncodedHash(t)),o=Aj(i,kD);_D({data:t,links:o},(e,i)=>{if(e)return n(e);Ej(i,r,(e,r)=>{if(e)return n(e);const a=new RD(t,o,i,r);n(null,a)})})};const ED=wD.cloneLinks,MD=wD.cloneData;var AD=function(t,e){const r=MD(t),n=ED(t);SD(r,n,e)};const xD=wD.cloneLinks,BD=wD.cloneData,CD=wD.toDAGLink;var ID=function(t,e,r){const n=xD(t),i=BD(t);if(e.constructor&&"DAGLink"===e.constructor.name);else if(e.constructor&&"DAGNode"===e.constructor.name)e=CD(e);else{e.multihash=e.multihash||e.hash;try{e=new gD(e.name,e.size,e.multihash)}catch(t){return r(t)}}n.push(e),SD(i,n,r)};const TD=wD.cloneLinks,PD=wD.cloneData;var ND=function(t,e,r){const n=PD(t);let i=TD(t);if("string"==typeof e)i=i.filter(t=>t.name!==e);else{if(!Buffer.isBuffer(e))return r(new Error("second arg needs to be a name or multihash"),null);i=i.filter(t=>!t.multihash.equals(e))}SD(n,i,r)},RD=et(function(t,e){(e=t.exports=class{constructor(t,e,r,n){o(r,"DAGNode needs its serialized format"),o(n,"DAGNode needs its multihash"),"string"==typeof n&&(n=DP.fromB58String(n)),this._data=t||Buffer.alloc(0),this._links=e||[],this._serialized=r,this._multihash=n,this._size=this.links.reduce((t,e)=>t+e.size,this.serialized.length),this._json={data:this.data,links:this.links.map(t=>t.toJSON()),multihash:DP.toB58String(this.multihash),size:this.size}}toJSON(){return this._json}toString(){return`DAGNode <${DP.toB58String(this.multihash)} - data: "${this.data.toString()}", links: ${this.links.length}, size: ${this.size}>`}get data(){return this._data}set data(t){throw new Error("Can't set property: 'data' is immutable")}get links(){return this._links}set links(t){throw new Error("Can't set property: 'links' is immutable")}get serialized(){return this._serialized}set serialized(t){throw new Error("Can't set property: 'serialized' is immutable")}get size(){return this._size}set size(t){throw new Error("Can't set property: 'size' is immutable")}get multihash(){return this._multihash}set multihash(t){throw new Error("Can't set property: 'multihash' is immutable")}}).create=SD,e.clone=AD,e.addLink=ID,e.rmLink=ND}),LD=(RD.create,RD.clone,RD.addLink,RD.rmLink,et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(e=(0,i.default)(e||n.default),!(0,r.default)(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var u=0;function c(e){var r=(0,s.default)(t[u++]);e.push((0,a.default)(f)),r.apply(null,e)}function f(r){if(r||u===t.length)return e.apply(null,arguments);c((0,o.default)(arguments,1))}c([])};var r=u(Ww),n=u(dw),i=u(pw),o=u(b_),a=u(m_),s=u(S_);function u(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default}));tt(LD);var OD=et(function(t,e){(e=t.exports).multicodec="dag-pb",e.resolve=((t,e,r)=>{LD([e=>bD.deserialize(t,e),(t,n)=>{if(!e)return r(null,{value:t,remainderPath:""});const i=e.split("/");if("Links"===i[0]){let e="";if(!i[1])return n(null,{value:t.links.map(t=>t.toJSON()),remainderPath:""});const r={};t.links.forEach((t,e)=>{const n=t.toJSON();r[e]={hash:n.multihash,name:n.name,size:n.size},r[n.name]=n.multihash});let o=r[i[1]];"Hash"===i[2]?o={"/":o.hash}:"Tsize"===i[2]?o={"/":o.size}:"Name"===i[2]&&(o={"/":o.name}),n(null,{value:o,remainderPath:e=i.slice(3).join("/")})}else"Data"===i[0]?n(null,{value:t.data,remainderPath:""}):n(new Error("path not available"))}],r)}),e.tree=((t,e,r)=>{"function"==typeof e&&(r=e,e={}),e=e||{},bD.deserialize(t,(t,e)=>{if(t)return r(t);const n=[];n.push("Links"),e.links.forEach((t,e)=>{n.push(`Links/${e}/Name`),n.push(`Links/${e}/Tsize`),n.push(`Links/${e}/Hash`)}),n.push("Data"),r(null,n)})}),e.isLink=((t,r,n)=>{e.resolve(t,r,(t,e)=>{if(t)return n(t);if(e.remainderPath.length>0)return n(new Error("path out of scope"));if("object"==typeof e.value&&e.value["/"]){let r;try{r=sN.isCID(new sN(e.value["/"]))}catch(t){r=!1}if(r)return n(null,e.value)}n(null,!1)})})}),jD=(OD.multicodec,OD.resolve,OD.tree,OD.isLink,{DAGNode:RD,DAGLink:gD,resolver:OD,util:bD}),DD=Object.prototype.hasOwnProperty,UD=FD;function FD(t){if(!(this instanceof FD))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof FD||"function"==typeof Map&&t instanceof Map)t.forEach(function(t,e){this.set(e,t)},this);else{if(!Array.isArray(t))throw new TypeError("invalid argument");t.forEach(function(t){this.set(t[0],t[1])},this)}}function qD(t,e){return t===e||t!=t&&e!=e}function KD(t,e){for(var r=0,n="_"+e,i=n;DD.call(t,i);i=n+r++)if(qD(t[i].key,e))return t[i]}FD.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(r){"size"!==r&&t.call(e,this._data[r].value,this._data[r].key)},this)},FD.prototype.has=function(t){return!!KD(this._data,t)},FD.prototype.get=function(t){var e=KD(this._data,t);return e&&e.value},FD.prototype.set=function(t,e){!function(t,e,r){for(var n=0,i="_"+e,o=i;DD.call(t,o);o=i+n++)if(qD(t[o].key,e))return void(t[o].value=r);t.size++,t[o]=new function(t,e,r){this.key=t,this.value=e,this._index=r}(e,r,o)}(this._data,t,e)},FD.prototype.delete=function(t){var e=KD(this._data,t);e&&(delete this._data[e._index],this._data.size--)},FD.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(FD.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0}),FD.prototype.values=FD.prototype.keys=FD.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};var zD=et(function(t){"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?t.exports=UD:t.exports=Map}),VD=HD;function HD(t){var e=this;if(e instanceof HD||(e=new HD),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach(function(t){e.push(t)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}function GD(t,e){t.tail=new WD(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function $D(t,e){t.head=new WD(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function WD(t,e,r,n){if(!(this instanceof WD))return new WD(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}HD.Node=WD,HD.create=HD,HD.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null},HD.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},HD.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},HD.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)GD(this,arguments[t]);return this.length},HD.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)$D(this,arguments[t]);return this.length},HD.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},HD.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},HD.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},HD.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},HD.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},HD.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},HD.prototype.map=function(t,e){e=e||this;for(var r=new HD,n=this.head;null!==n;)r.push(t.call(e,n.value,this)),n=n.next;return r},HD.prototype.mapReverse=function(t,e){e=e||this;for(var r=new HD,n=this.tail;null!==n;)r.push(t.call(e,n.value,this)),n=n.prev;return r},HD.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},HD.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},HD.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},HD.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},HD.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new HD;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;null!==i&&n<t;n++)i=i.next;for(;null!==i&&n<e;n++,i=i.next)r.push(i.value);return r},HD.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new HD;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;null!==i&&n>e;n--)i=i.prev;for(;null!==i&&n>t;n--,i=i.prev)r.push(i.value);return r},HD.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};var YD,ZD=sU,QD=(YD="function"==typeof Symbol?function(t){return Symbol.for(t)}:function(t){return"_"+t})("max"),XD=YD("length"),JD=YD("lengthCalculator"),tU=YD("allowStale"),eU=YD("maxAge"),rU=YD("dispose"),nU=YD("noDisposeOnSet"),iU=YD("lruList"),oU=YD("cache");function aU(){return 1}function sU(t){if(!(this instanceof sU))return new sU(t);"number"==typeof t&&(t={max:t}),t||(t={});var e=this[QD]=t.max;(!e||"number"!=typeof e||e<=0)&&(this[QD]=1/0);var r=t.length||aU;"function"!=typeof r&&(r=aU),this[JD]=r,this[tU]=t.stale||!1,this[eU]=t.maxAge||0,this[rU]=t.dispose,this[nU]=t.noDisposeOnSet||!1,this.reset()}function uU(t,e,r,n){var i=r.value;fU(t,i)&&(lU(t,r),t[tU]||(i=void 0)),i&&e.call(n,i.value,i.key,t)}function cU(t,e,r){var n=t[oU].get(e);if(n){var i=n.value;fU(t,i)?(lU(t,n),t[tU]||(i=void 0)):r&&t[iU].unshiftNode(n),i&&(i=i.value)}return i}function fU(t,e){if(!e||!e.maxAge&&!t[eU])return!1;var r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[eU]&&r>t[eU]}function hU(t){if(t[XD]>t[QD])for(var e=t[iU].tail;t[XD]>t[QD]&&null!==e;){var r=e.prev;lU(t,e),e=r}}function lU(t,e){if(e){var r=e.value;t[rU]&&t[rU](r.key,r.value),t[XD]-=r.length,t[oU].delete(r.key),t[iU].removeNode(e)}}Object.defineProperty(sU.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this[QD]=t,hU(this)},get:function(){return this[QD]},enumerable:!0}),Object.defineProperty(sU.prototype,"allowStale",{set:function(t){this[tU]=!!t},get:function(){return this[tU]},enumerable:!0}),Object.defineProperty(sU.prototype,"maxAge",{set:function(t){(!t||"number"!=typeof t||t<0)&&(t=0),this[eU]=t,hU(this)},get:function(){return this[eU]},enumerable:!0}),Object.defineProperty(sU.prototype,"lengthCalculator",{set:function(t){"function"!=typeof t&&(t=aU),t!==this[JD]&&(this[JD]=t,this[XD]=0,this[iU].forEach(function(t){t.length=this[JD](t.value,t.key),this[XD]+=t.length},this)),hU(this)},get:function(){return this[JD]},enumerable:!0}),Object.defineProperty(sU.prototype,"length",{get:function(){return this[XD]},enumerable:!0}),Object.defineProperty(sU.prototype,"itemCount",{get:function(){return this[iU].length},enumerable:!0}),sU.prototype.rforEach=function(t,e){e=e||this;for(var r=this[iU].tail;null!==r;){var n=r.prev;uU(this,t,r,e),r=n}},sU.prototype.forEach=function(t,e){e=e||this;for(var r=this[iU].head;null!==r;){var n=r.next;uU(this,t,r,e),r=n}},sU.prototype.keys=function(){return this[iU].toArray().map(function(t){return t.key},this)},sU.prototype.values=function(){return this[iU].toArray().map(function(t){return t.value},this)},sU.prototype.reset=function(){this[rU]&&this[iU]&&this[iU].length&&this[iU].forEach(function(t){this[rU](t.key,t.value)},this),this[oU]=new zD,this[iU]=new VD,this[XD]=0},sU.prototype.dump=function(){return this[iU].map(function(t){if(!fU(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})},sU.prototype.dumpLru=function(){return this[iU]},sU.prototype.inspect=function(t,e){var r="LRUCache {",n=!1;this[tU]&&(r+="\n  allowStale: true",n=!0);var i=this[QD];i&&i!==1/0&&(n&&(r+=","),r+="\n  max: "+s.inspect(i,e),n=!0);var o=this[eU];o&&(n&&(r+=","),r+="\n  maxAge: "+s.inspect(o,e),n=!0);var a=this[JD];a&&a!==aU&&(n&&(r+=","),r+="\n  length: "+s.inspect(this[XD],e),n=!0);var u=!1;return this[iU].forEach(function(t){u?r+=",\n  ":(n&&(r+=",\n"),u=!0,r+="\n  ");var i=s.inspect(t.key).split("\n").join("\n  "),c={value:t.value};t.maxAge!==o&&(c.maxAge=t.maxAge),a!==aU&&(c.length=t.length),fU(this,t)&&(c.stale=!0),c=s.inspect(c,e).split("\n").join("\n  "),r+=i+" => "+c}),(u||n)&&(r+="\n"),r+="}"},sU.prototype.set=function(t,e,r){var n=(r=r||this[eU])?Date.now():0,i=this[JD](e,t);if(this[oU].has(t)){if(i>this[QD])return lU(this,this[oU].get(t)),!1;var o=this[oU].get(t).value;return this[rU]&&(this[nU]||this[rU](t,o.value)),o.now=n,o.maxAge=r,o.value=e,this[XD]+=i-o.length,o.length=i,this.get(t),hU(this),!0}var a=new function(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}(t,e,i,n,r);return a.length>this[QD]?(this[rU]&&this[rU](t,e),!1):(this[XD]+=a.length,this[iU].unshift(a),this[oU].set(t,this[iU].head),hU(this),!0)},sU.prototype.has=function(t){return!!this[oU].has(t)&&!fU(this,this[oU].get(t).value)},sU.prototype.get=function(t){return cU(this,t,!0)},sU.prototype.peek=function(t){return cU(this,t,!1)},sU.prototype.pop=function(){var t=this[iU].tail;return t?(lU(this,t),t.value):null},sU.prototype.del=function(t){lU(this,this[oU].get(t))},sU.prototype.load=function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var o=i-e;o>0&&this.set(n.k,n.v,o)}}},sU.prototype.prune=function(){var t=this;this[oU].forEach(function(e,r){cU(t,r,!1)})};const dU=jD.DAGNode,pU=jD.DAGLink,mU=ZD({max:128});var yU=t=>xI((e,r,n)=>{let i;"function"==typeof r&&(n=r,r={}),r||(r={});try{e=new sN(e),i=e.toBaseEncodedString()}catch(t){return n(t)}const o=mU.get(i);if(o)return n(null,o);t({path:"object/get",args:i},(t,e)=>{if(t)return n(t);const r=e.Links.map(t=>new pU(t.Name,t.Size,Buffer.from(GC.decode(t.Hash))));dU.create(e.Data,r,(t,e)=>{if(t)return n(t);mU.set(i,e),n(null,e)})})});const vU=jD.DAGNode,gU=ZD({max:128});const bU=ZD({max:128});var wU=function(t){if(Buffer.isBuffer(t)&&(t=GC.encode(t)),"string"!=typeof t)throw new Error("unexpected multihash type: "+typeof t);if(!mN.multihash(t.split("/")[0]))throw new Error("not valid multihash");return t};const _U=jD.DAGLink,kU=ZD({max:128});var SU=et(function(t,e){const r=mD("message Data {\n  enum DataType {\n    Raw = 0;\n    Directory = 1;\n    File = 2;\n    Metadata = 3;\n    Symlink = 4;\n    HAMTShard = 5;\n  }\n\n  required DataType Type = 1;\n  optional bytes Data = 2;\n  optional uint64 filesize = 3;\n  repeated uint64 blocksizes = 4;\n\n  optional uint64 hashType = 5;\n  optional uint64 fanout = 6;\n}\n\nmessage Metadata {\n  required string MimeType = 1;\n}").Data,n=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],i=["directory","hamt-sharded-directory"];function o(t,e){if(!(this instanceof o))return new o(t,e);if(-1===n.indexOf(t))throw new Error("Type: "+t+" is not valid");this.type=t,this.data=e,this.blockSizes=[],this.addBlockSize=(t=>{this.blockSizes.push(t)}),this.removeBlockSize=(t=>{this.blockSizes.splice(t,1)}),this.fileSize=(()=>{if(i.indexOf(this.type)>=0)return;let t=0;return this.blockSizes.forEach(e=>{t+=e}),e&&(t+=e.length),t}),this.marshal=(()=>{let t;switch(this.type){case"raw":t=r.DataType.Raw;break;case"directory":t=r.DataType.Directory;break;case"file":t=r.DataType.File;break;case"metadata":t=r.DataType.Metadata;break;case"symlink":t=r.DataType.Symlink;break;case"hamt-sharded-directory":t=r.DataType.HAMTShard;break;default:throw new Error(`Unkown type: "${this.type}"`)}let e=this.fileSize();return e||(e=void 0),r.encode({Type:t,Data:this.data,filesize:e,blocksizes:this.blockSizes.length>0?this.blockSizes:void 0,hashType:this.hashType,fanout:this.fanout})})}o.unmarshal=(t=>{const e=r.decode(t);e.Data||(e.Data=void 0);const i=new o(n[e.Type],e.Data);return i.blockSizes=e.blocksizes,i}),t.exports=o});const EU=jD.DAGNode;var MU=t=>{const e=FL(t);return{get:yU(e),put:(t=>{const e=YL(t,"object/put");return xI((t,r,n)=>{"function"==typeof r&&(n=r,r={});const i=lP(n);r||(r={});let o,a={Data:null,Links:[]};if(Buffer.isBuffer(t))r.enc||(a={Data:t.toString(),Links:[]});else if(t.multihash)a={Data:t.data.toString(),Links:t.links.map(t=>{const e=t.toJSON();return e.hash=e.multihash,e})};else{if("object"!=typeof t)return i(new Error("obj not recognized"));a.Data=t.Data.toString(),a.Links=t.Links}o=Buffer.isBuffer(t)&&r.enc?t:Buffer.from(JSON.stringify(a));const s=r.enc||"json";e(o,{qs:{inputenc:s}},(e,n)=>{if(e)return i(e);let o;if(Buffer.isBuffer(t)&&(r.enc?"json"===r.enc&&(t=JSON.parse(t.toString())):t={Data:t,Links:[]}),!t.multihash)return"protobuf"===r.enc?void jD.util.deserialize(t,(t,e)=>{if(t)return i(t);o=e,a()}):void vU.create(Buffer.from(t.Data),t.Links,(t,e)=>{if(t)return i(t);o=e,a()});function a(){if(o.toJSON().multihash!==n.Hash){const t=new Error("multihashes do not match");return i(t)}gU.set(n.Hash,o),i(null,o)}o=t,a()})})})(e),data:(t=>xI((e,r,n)=>{let i;"function"==typeof r&&(n=r,r={}),r||(r={});try{i=(e=new sN(e)).toBaseEncodedString()}catch(t){return n(t)}const o=bU.get(i);if(o)return n(null,o.data);t({path:"object/data",args:i},(t,e)=>{if(t)return n(t);"function"==typeof e.pipe?RL(e,n):n(null,e)})}))(e),links:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),r||(r={});try{e=wU(e)}catch(t){return n(t)}const i=kU.get(e);if(i)return n(null,i.links);t({path:"object/links",args:e},(t,e)=>{if(t)return n(t);let r=[];e.Links&&(r=e.Links.map(t=>new _U(t.Name,t.Size,Buffer.from(GC.decode(t.Hash))))),n(null,r)})}))(e),stat:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),r||(r={});try{e=wU(e)}catch(t){return n(t)}t({path:"object/stat",args:e},n)}))(e),new:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e=void 0),t({path:"object/new",args:e},(t,n)=>{if(t)return r(t);let i;if(e){if("unixfs-dir"!==e)return r(new Error("unkown template: "+e));i=new SU("directory").marshal()}else i=Buffer.alloc(0);EU.create(i,(t,e)=>t?r(t):e.toJSON().multihash!==n.Hash?r(new Error("multihashes do not match")):void r(null,e))})}))(e),patch:{addLink:(t=>{const e=yU(t);return xI((r,n,i,o)=>{"function"==typeof i&&(o=i,i={}),i||(i={});try{r=wU(r)}catch(t){return o(t)}t({path:"object/patch/add-link",args:[r,n.name,wU(n.multihash)]},(t,r)=>{if(t)return o(t);e(r.Hash,{enc:"base58"},o)})})})(e),rmLink:(t=>{const e=yU(t);return xI((r,n,i,o)=>{"function"==typeof i&&(o=i,i={}),i||(i={});try{r=wU(r)}catch(t){return o(t)}t({path:"object/patch/rm-link",args:[r,n.name]},(t,r)=>{if(t)return o(t);e(r.Hash,{enc:"base58"},o)})})})(e),setData:(t=>{const e=yU(t),r=YL(t,"object/patch/set-data");return xI((t,n,i,o)=>{"function"==typeof i&&(o=i,i={});const a=lP(o);i||(i={});try{t=wU(t)}catch(t){return a(t)}r(n,{args:[t]},(t,r)=>{if(t)return a(t);e(r.Hash,{enc:"base58"},a)})})})(e),appendData:(t=>{const e=yU(t),r=YL(t,"object/patch/append-data");return xI((t,n,i,o)=>{"function"==typeof i&&(o=i,i={});const a=lP(o);i||(i={});try{t=wU(t)}catch(t){return a(t)}r(n,{args:[t]},(t,r)=>{if(t)return a(t);e(r.Hash,{enc:"base58"},a)})})})(e)}}},AU=et(function(t,e){(function(){var r,n=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="__lodash_hash_undefined__",s=500,u="__lodash_placeholder__",c=1,f=2,h=4,l=1,d=2,p=1,m=2,y=4,v=8,g=16,b=32,w=64,_=128,k=256,S=512,E=30,M="...",A=800,x=16,B=1,C=2,I=1/0,T=9007199254740991,P=1.7976931348623157e308,N=NaN,R=4294967295,L=R-1,O=R>>>1,j=[["ary",_],["bind",p],["bindKey",m],["curry",v],["curryRight",g],["flip",S],["partial",b],["partialRight",w],["rearg",k]],D="[object Arguments]",U="[object Array]",F="[object AsyncFunction]",q="[object Boolean]",K="[object Date]",z="[object DOMException]",V="[object Error]",H="[object Function]",G="[object GeneratorFunction]",$="[object Map]",W="[object Number]",Y="[object Null]",Z="[object Object]",Q="[object Proxy]",J="[object RegExp]",tt="[object Set]",et="[object String]",rt="[object Symbol]",nt="[object Undefined]",it="[object WeakMap]",ot="[object WeakSet]",at="[object ArrayBuffer]",st="[object DataView]",ut="[object Float32Array]",ct="[object Float64Array]",ft="[object Int8Array]",ht="[object Int16Array]",lt="[object Int32Array]",dt="[object Uint8Array]",pt="[object Uint8ClampedArray]",mt="[object Uint16Array]",yt="[object Uint32Array]",vt=/\b__p \+= '';/g,gt=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wt=/&(?:amp|lt|gt|quot|#39);/g,_t=/[&<>"']/g,kt=RegExp(wt.source),St=RegExp(_t.source),Et=/<%-([\s\S]+?)%>/g,Mt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bt=/^\w*$/,Ct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,It=/[\\^$.*+?()[\]{}|]/g,Tt=RegExp(It.source),Pt=/^\s+|\s+$/g,Nt=/^\s+/,Rt=/\s+$/,Lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ot=/\{\n\/\* \[wrapped with (.+)\] \*/,jt=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qt=/\w*$/,Kt=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Vt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Gt=/^(?:0|[1-9]\d*)$/,$t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xt="[\\ud800-\\udfff]",Jt="["+Qt+"]",te="["+Zt+"]",ee="\\d+",re="[\\u2700-\\u27bf]",ne="[a-z\\xdf-\\xf6\\xf8-\\xff]",ie="[^\\ud800-\\udfff"+Qt+ee+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",oe="\\ud83c[\\udffb-\\udfff]",ae="[^\\ud800-\\udfff]",se="(?:\\ud83c[\\udde6-\\uddff]){2}",ue="[\\ud800-\\udbff][\\udc00-\\udfff]",ce="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+ne+"|"+ie+")",he="(?:"+ce+"|"+ie+")",le="(?:"+te+"|"+oe+")"+"?",de="[\\ufe0e\\ufe0f]?"+le+("(?:\\u200d(?:"+[ae,se,ue].join("|")+")[\\ufe0e\\ufe0f]?"+le+")*"),pe="(?:"+[re,se,ue].join("|")+")"+de,me="(?:"+[ae+te+"?",te,se,ue,Xt].join("|")+")",ye=RegExp("['’]","g"),ve=RegExp(te,"g"),ge=RegExp(oe+"(?="+oe+")|"+me+de,"g"),be=RegExp([ce+"?"+ne+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Jt,ce,"$"].join("|")+")",he+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Jt,ce+fe,"$"].join("|")+")",ce+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ce+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ee,pe].join("|"),"g"),we=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),_e=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ke=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Se=-1,Ee={};Ee[ut]=Ee[ct]=Ee[ft]=Ee[ht]=Ee[lt]=Ee[dt]=Ee[pt]=Ee[mt]=Ee[yt]=!0,Ee[D]=Ee[U]=Ee[at]=Ee[q]=Ee[st]=Ee[K]=Ee[V]=Ee[H]=Ee[$]=Ee[W]=Ee[Z]=Ee[J]=Ee[tt]=Ee[et]=Ee[it]=!1;var Me={};Me[D]=Me[U]=Me[at]=Me[st]=Me[q]=Me[K]=Me[ut]=Me[ct]=Me[ft]=Me[ht]=Me[lt]=Me[$]=Me[W]=Me[Z]=Me[J]=Me[tt]=Me[et]=Me[rt]=Me[dt]=Me[pt]=Me[mt]=Me[yt]=!0,Me[V]=Me[H]=Me[it]=!1;var Ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xe=parseFloat,Be=parseInt,Ce="object"==typeof X&&X&&X.Object===Object&&X,Ie="object"==typeof self&&self&&self.Object===Object&&self,Te=Ce||Ie||Function("return this")(),Pe=e&&!e.nodeType&&e,Ne=Pe&&t&&!t.nodeType&&t,Re=Ne&&Ne.exports===Pe,Le=Re&&Ce.process,Oe=function(){try{return Le&&Le.binding&&Le.binding("util")}catch(t){}}(),je=Oe&&Oe.isArrayBuffer,De=Oe&&Oe.isDate,Ue=Oe&&Oe.isMap,Fe=Oe&&Oe.isRegExp,qe=Oe&&Oe.isSet,Ke=Oe&&Oe.isTypedArray;function ze(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ve(t,e,r,n){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(n,a,r(a),t)}return n}function He(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Ge(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function $e(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function We(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}function Ye(t,e){return!!(null==t?0:t.length)&&or(t,e,0)>-1}function Ze(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Qe(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Xe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Je(t,e,r,n){var i=-1,o=null==t?0:t.length;for(n&&o&&(r=t[++i]);++i<o;)r=e(r,t[i],i,t);return r}function tr(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function er(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var rr=cr("length");function nr(t,e,r){var n;return r(t,function(t,r,i){if(e(t,r,i))return n=r,!1}),n}function ir(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function or(t,e,r){return e==e?function(t,e,r){var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):ir(t,sr,r)}function ar(t,e,r,n){for(var i=r-1,o=t.length;++i<o;)if(n(t[i],e))return i;return-1}function sr(t){return t!=t}function ur(t,e){var r=null==t?0:t.length;return r?lr(t,e)/r:N}function cr(t){return function(e){return null==e?r:e[t]}}function fr(t){return function(e){return null==t?r:t[e]}}function hr(t,e,r,n,i){return i(t,function(t,i,o){r=n?(n=!1,t):e(r,t,i,o)}),r}function lr(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==r&&(n=n===r?a:n+a)}return n}function dr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function pr(t){return function(e){return t(e)}}function mr(t,e){return Qe(e,function(e){return t[e]})}function yr(t,e){return t.has(e)}function vr(t,e){for(var r=-1,n=t.length;++r<n&&or(e,t[r],0)>-1;);return r}function gr(t,e){for(var r=t.length;r--&&or(e,t[r],0)>-1;);return r}var br=fr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),wr=fr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function _r(t){return"\\"+Ae[t]}function kr(t){return we.test(t)}function Sr(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function Er(t,e){return function(r){return t(e(r))}}function Mr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];a!==e&&a!==u||(t[r]=u,o[i++]=r)}return o}function Ar(t,e){return"__proto__"==e?r:t[e]}function xr(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function Br(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function Cr(t){return kr(t)?function(t){var e=ge.lastIndex=0;for(;ge.test(t);)++e;return e}(t):rr(t)}function Ir(t){return kr(t)?function(t){return t.match(ge)||[]}(t):function(t){return t.split("")}(t)}var Tr=fr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pr=function t(e){var X,Zt=(e=null==e?Te:Pr.defaults(Te.Object(),e,Pr.pick(Te,ke))).Array,Qt=e.Date,Xt=e.Error,Jt=e.Function,te=e.Math,ee=e.Object,re=e.RegExp,ne=e.String,ie=e.TypeError,oe=Zt.prototype,ae=Jt.prototype,se=ee.prototype,ue=e["__core-js_shared__"],ce=ae.toString,fe=se.hasOwnProperty,he=0,le=(X=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",de=se.toString,pe=ce.call(ee),me=Te._,ge=re("^"+ce.call(fe).replace(It,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=Re?e.Buffer:r,Ae=e.Symbol,Ce=e.Uint8Array,Ie=we?we.allocUnsafe:r,Pe=Er(ee.getPrototypeOf,ee),Ne=ee.create,Le=se.propertyIsEnumerable,Oe=oe.splice,rr=Ae?Ae.isConcatSpreadable:r,fr=Ae?Ae.iterator:r,Nr=Ae?Ae.toStringTag:r,Rr=function(){try{var t=Fo(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Lr=e.clearTimeout!==Te.clearTimeout&&e.clearTimeout,Or=Qt&&Qt.now!==Te.Date.now&&Qt.now,jr=e.setTimeout!==Te.setTimeout&&e.setTimeout,Dr=te.ceil,Ur=te.floor,Fr=ee.getOwnPropertySymbols,qr=we?we.isBuffer:r,Kr=e.isFinite,zr=oe.join,Vr=Er(ee.keys,ee),Hr=te.max,Gr=te.min,$r=Qt.now,Wr=e.parseInt,Yr=te.random,Zr=oe.reverse,Qr=Fo(e,"DataView"),Xr=Fo(e,"Map"),Jr=Fo(e,"Promise"),tn=Fo(e,"Set"),en=Fo(e,"WeakMap"),rn=Fo(ee,"create"),nn=en&&new en,on={},an=ha(Qr),sn=ha(Xr),un=ha(Jr),cn=ha(tn),fn=ha(en),hn=Ae?Ae.prototype:r,ln=hn?hn.valueOf:r,dn=hn?hn.toString:r;function pn(t){if(Bs(t)&&!vs(t)&&!(t instanceof gn)){if(t instanceof vn)return t;if(fe.call(t,"__wrapped__"))return la(t)}return new vn(t)}var mn=function(){function t(){}return function(e){if(!xs(e))return{};if(Ne)return Ne(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function yn(){}function vn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function gn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function bn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _n(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kn(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new _n;++e<r;)this.add(t[e])}function Sn(t){var e=this.__data__=new wn(t);this.size=e.size}function En(t,e){var r=vs(t),n=!r&&ys(t),i=!r&&!n&&_s(t),o=!r&&!n&&!i&&Os(t),a=r||n||i||o,s=a?dr(t.length,ne):[],u=s.length;for(var c in t)!e&&!fe.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||$o(c,u))||s.push(c);return s}function Mn(t){var e=t.length;return e?t[ki(0,e-1)]:r}function An(t,e){return ua(no(t),Ln(e,0,t.length))}function xn(t){return ua(no(t))}function Bn(t,e,n){(n===r||ds(t[e],n))&&(n!==r||e in t)||Nn(t,e,n)}function Cn(t,e,n){var i=t[e];fe.call(t,e)&&ds(i,n)&&(n!==r||e in t)||Nn(t,e,n)}function In(t,e){for(var r=t.length;r--;)if(ds(t[r][0],e))return r;return-1}function Tn(t,e,r,n){return Fn(t,function(t,i,o){e(n,t,r(t),o)}),n}function Pn(t,e){return t&&io(e,iu(e),t)}function Nn(t,e,r){"__proto__"==e&&Rr?Rr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Rn(t,e){for(var n=-1,i=e.length,o=Zt(i),a=null==t;++n<i;)o[n]=a?r:Js(t,e[n]);return o}function Ln(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function On(t,e,n,i,o,a){var s,u=e&c,l=e&f,d=e&h;if(n&&(s=o?n(t,i,o,a):n(t)),s!==r)return s;if(!xs(t))return t;var p=vs(t);if(p){if(s=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&fe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!u)return no(t,s)}else{var m=zo(t),y=m==H||m==G;if(_s(t))return Qi(t,u);if(m==Z||m==D||y&&!o){if(s=l||y?{}:Ho(t),!u)return l?function(t,e){return io(t,Ko(t),e)}(t,function(t,e){return t&&io(e,ou(e),t)}(s,t)):function(t,e){return io(t,qo(t),e)}(t,Pn(s,t))}else{if(!Me[m])return o?t:{};s=function(t,e,r){var n,i,o,a=t.constructor;switch(e){case at:return Xi(t);case q:case K:return new a(+t);case st:return function(t,e){var r=e?Xi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case ut:case ct:case ft:case ht:case lt:case dt:case pt:case mt:case yt:return Ji(t,r);case $:return new a;case W:case et:return new a(t);case J:return(o=new(i=t).constructor(i.source,qt.exec(i))).lastIndex=i.lastIndex,o;case tt:return new a;case rt:return n=t,ln?ee(ln.call(n)):{}}}(t,m,u)}}a||(a=new Sn);var v=a.get(t);if(v)return v;if(a.set(t,s),Ns(t))return t.forEach(function(r){s.add(On(r,e,n,r,t,a))}),s;if(Cs(t))return t.forEach(function(r,i){s.set(i,On(r,e,n,i,t,a))}),s;var g=p?r:(d?l?No:Po:l?ou:iu)(t);return He(g||t,function(r,i){g&&(r=t[i=r]),Cn(s,i,On(r,e,n,i,t,a))}),s}function jn(t,e,n){var i=n.length;if(null==t)return!i;for(t=ee(t);i--;){var o=n[i],a=e[o],s=t[o];if(s===r&&!(o in t)||!a(s))return!1}return!0}function Dn(t,e,n){if("function"!=typeof t)throw new ie(o);return ia(function(){t.apply(r,n)},e)}function Un(t,e,r,i){var o=-1,a=Ye,s=!0,u=t.length,c=[],f=e.length;if(!u)return c;r&&(e=Qe(e,pr(r))),i?(a=Ze,s=!1):e.length>=n&&(a=yr,s=!1,e=new kn(e));t:for(;++o<u;){var h=t[o],l=null==r?h:r(h);if(h=i||0!==h?h:0,s&&l==l){for(var d=f;d--;)if(e[d]===l)continue t;c.push(h)}else a(e,l,i)||c.push(h)}return c}pn.templateSettings={escape:Et,evaluate:Mt,interpolate:At,variable:"",imports:{_:pn}},pn.prototype=yn.prototype,pn.prototype.constructor=pn,vn.prototype=mn(yn.prototype),vn.prototype.constructor=vn,gn.prototype=mn(yn.prototype),gn.prototype.constructor=gn,bn.prototype.clear=function(){this.__data__=rn?rn(null):{},this.size=0},bn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bn.prototype.get=function(t){var e=this.__data__;if(rn){var n=e[t];return n===a?r:n}return fe.call(e,t)?e[t]:r},bn.prototype.has=function(t){var e=this.__data__;return rn?e[t]!==r:fe.call(e,t)},bn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rn&&e===r?a:e,this},wn.prototype.clear=function(){this.__data__=[],this.size=0},wn.prototype.delete=function(t){var e=this.__data__,r=In(e,t);return!(r<0||(r==e.length-1?e.pop():Oe.call(e,r,1),--this.size,0))},wn.prototype.get=function(t){var e=this.__data__,n=In(e,t);return n<0?r:e[n][1]},wn.prototype.has=function(t){return In(this.__data__,t)>-1},wn.prototype.set=function(t,e){var r=this.__data__,n=In(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},_n.prototype.clear=function(){this.size=0,this.__data__={hash:new bn,map:new(Xr||wn),string:new bn}},_n.prototype.delete=function(t){var e=Do(this,t).delete(t);return this.size-=e?1:0,e},_n.prototype.get=function(t){return Do(this,t).get(t)},_n.prototype.has=function(t){return Do(this,t).has(t)},_n.prototype.set=function(t,e){var r=Do(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},kn.prototype.add=kn.prototype.push=function(t){return this.__data__.set(t,a),this},kn.prototype.has=function(t){return this.__data__.has(t)},Sn.prototype.clear=function(){this.__data__=new wn,this.size=0},Sn.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Sn.prototype.get=function(t){return this.__data__.get(t)},Sn.prototype.has=function(t){return this.__data__.has(t)},Sn.prototype.set=function(t,e){var r=this.__data__;if(r instanceof wn){var i=r.__data__;if(!Xr||i.length<n-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new _n(i)}return r.set(t,e),this.size=r.size,this};var Fn=so(Wn),qn=so(Yn,!0);function Kn(t,e){var r=!0;return Fn(t,function(t,n,i){return r=!!e(t,n,i)}),r}function zn(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(u===r?s==s&&!Ls(s):n(s,u)))var u=s,c=a}return c}function Vn(t,e){var r=[];return Fn(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r}function Hn(t,e,r,n,i){var o=-1,a=t.length;for(r||(r=Go),i||(i=[]);++o<a;){var s=t[o];e>0&&r(s)?e>1?Hn(s,e-1,r,n,i):Xe(i,s):n||(i[i.length]=s)}return i}var Gn=uo(),$n=uo(!0);function Wn(t,e){return t&&Gn(t,e,iu)}function Yn(t,e){return t&&$n(t,e,iu)}function Zn(t,e){return We(e,function(e){return Es(t[e])})}function Qn(t,e){for(var n=0,i=(e=$i(e,t)).length;null!=t&&n<i;)t=t[fa(e[n++])];return n&&n==i?t:r}function Xn(t,e,r){var n=e(t);return vs(t)?n:Xe(n,r(t))}function Jn(t){return null==t?t===r?nt:Y:Nr&&Nr in ee(t)?function(t){var e=fe.call(t,Nr),n=t[Nr];try{t[Nr]=r;var i=!0}catch(t){}var o=de.call(t);return i&&(e?t[Nr]=n:delete t[Nr]),o}(t):function(t){return de.call(t)}(t)}function ti(t,e){return t>e}function ei(t,e){return null!=t&&fe.call(t,e)}function ri(t,e){return null!=t&&e in ee(t)}function ni(t,e,n){for(var i=n?Ze:Ye,o=t[0].length,a=t.length,s=a,u=Zt(a),c=1/0,f=[];s--;){var h=t[s];s&&e&&(h=Qe(h,pr(e))),c=Gr(h.length,c),u[s]=!n&&(e||o>=120&&h.length>=120)?new kn(s&&h):r}h=t[0];var l=-1,d=u[0];t:for(;++l<o&&f.length<c;){var p=h[l],m=e?e(p):p;if(p=n||0!==p?p:0,!(d?yr(d,m):i(f,m,n))){for(s=a;--s;){var y=u[s];if(!(y?yr(y,m):i(t[s],m,n)))continue t}d&&d.push(m),f.push(p)}}return f}function ii(t,e,n){var i=null==(t=ra(t,e=$i(e,t)))?t:t[fa(Sa(e))];return null==i?r:ze(i,t,n)}function oi(t){return Bs(t)&&Jn(t)==D}function ai(t,e,n,i,o){return t===e||(null==t||null==e||!Bs(t)&&!Bs(e)?t!=t&&e!=e:function(t,e,n,i,o,a){var s=vs(t),u=vs(e),c=s?U:zo(t),f=u?U:zo(e),h=(c=c==D?Z:c)==Z,p=(f=f==D?Z:f)==Z,m=c==f;if(m&&_s(t)){if(!_s(e))return!1;s=!0,h=!1}if(m&&!h)return a||(a=new Sn),s||Os(t)?Io(t,e,n,i,o,a):function(t,e,r,n,i,o,a){switch(r){case st:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case at:return!(t.byteLength!=e.byteLength||!o(new Ce(t),new Ce(e)));case q:case K:case W:return ds(+t,+e);case V:return t.name==e.name&&t.message==e.message;case J:case et:return t==e+"";case $:var s=Sr;case tt:var u=n&l;if(s||(s=xr),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;n|=d,a.set(t,e);var f=Io(s(t),s(e),n,i,o,a);return a.delete(t),f;case rt:if(ln)return ln.call(t)==ln.call(e)}return!1}(t,e,c,n,i,o,a);if(!(n&l)){var y=h&&fe.call(t,"__wrapped__"),v=p&&fe.call(e,"__wrapped__");if(y||v){var g=y?t.value():t,b=v?e.value():e;return a||(a=new Sn),o(g,b,n,i,a)}}return!!m&&(a||(a=new Sn),function(t,e,n,i,o,a){var s=n&l,u=Po(t),c=u.length,f=Po(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var d=u[h];if(!(s?d in e:fe.call(e,d)))return!1}var p=a.get(t);if(p&&a.get(e))return p==e;var m=!0;a.set(t,e),a.set(e,t);for(var y=s;++h<c;){d=u[h];var v=t[d],g=e[d];if(i)var b=s?i(g,v,d,e,t,a):i(v,g,d,t,e,a);if(!(b===r?v===g||o(v,g,n,i,a):b)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return a.delete(t),a.delete(e),m}(t,e,n,i,o,a))}(t,e,n,i,ai,o))}function si(t,e,n,i){var o=n.length,a=o,s=!i;if(null==t)return!a;for(t=ee(t);o--;){var u=n[o];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<a;){var c=(u=n[o])[0],f=t[c],h=u[1];if(s&&u[2]){if(f===r&&!(c in t))return!1}else{var p=new Sn;if(i)var m=i(f,h,c,t,e,p);if(!(m===r?ai(h,f,l|d,i,p):m))return!1}}return!0}function ui(t){return!(!xs(t)||le&&le in t)&&(Es(t)?ge:Vt).test(ha(t))}function ci(t){return"function"==typeof t?t:null==t?Iu:"object"==typeof t?vs(t)?mi(t[0],t[1]):pi(t):Uu(t)}function fi(t){if(!Xo(t))return Vr(t);var e=[];for(var r in ee(t))fe.call(t,r)&&"constructor"!=r&&e.push(r);return e}function hi(t){if(!xs(t))return function(t){var e=[];if(null!=t)for(var r in ee(t))e.push(r);return e}(t);var e=Xo(t),r=[];for(var n in t)("constructor"!=n||!e&&fe.call(t,n))&&r.push(n);return r}function li(t,e){return t<e}function di(t,e){var r=-1,n=bs(t)?Zt(t.length):[];return Fn(t,function(t,i,o){n[++r]=e(t,i,o)}),n}function pi(t){var e=Uo(t);return 1==e.length&&e[0][2]?ta(e[0][0],e[0][1]):function(r){return r===t||si(r,t,e)}}function mi(t,e){return Yo(t)&&Jo(e)?ta(fa(t),e):function(n){var i=Js(n,t);return i===r&&i===e?tu(n,t):ai(e,i,l|d)}}function yi(t,e,n,i,o){t!==e&&Gn(e,function(a,s){if(xs(a))o||(o=new Sn),function(t,e,n,i,o,a,s){var u=Ar(t,n),c=Ar(e,n),f=s.get(c);if(f)Bn(t,n,f);else{var h=a?a(u,c,n+"",t,e,s):r,l=h===r;if(l){var d=vs(c),p=!d&&_s(c),m=!d&&!p&&Os(c);h=c,d||p||m?vs(u)?h=u:ws(u)?h=no(u):p?(l=!1,h=Qi(c,!0)):m?(l=!1,h=Ji(c,!0)):h=[]:Ts(c)||ys(c)?(h=u,ys(u)?h=Vs(u):(!xs(u)||i&&Es(u))&&(h=Ho(c))):l=!1}l&&(s.set(c,h),o(h,c,i,a,s),s.delete(c)),Bn(t,n,h)}}(t,e,s,n,yi,i,o);else{var u=i?i(Ar(t,s),a,s+"",t,e,o):r;u===r&&(u=a),Bn(t,s,u)}},ou)}function vi(t,e){var n=t.length;if(n)return $o(e+=e<0?n:0,n)?t[e]:r}function gi(t,e,r){var n=-1;return e=Qe(e.length?e:[Iu],pr(jo())),function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(di(t,function(t,r,i){return{criteria:Qe(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,a=i.length,s=r.length;++n<a;){var u=to(i[n],o[n]);if(u){if(n>=s)return u;var c=r[n];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,r)})}function bi(t,e,r){for(var n=-1,i=e.length,o={};++n<i;){var a=e[n],s=Qn(t,a);r(s,a)&&xi(o,$i(a,t),s)}return o}function wi(t,e,r,n){var i=n?ar:or,o=-1,a=e.length,s=t;for(t===e&&(e=no(e)),r&&(s=Qe(t,pr(r)));++o<a;)for(var u=0,c=e[o],f=r?r(c):c;(u=i(s,f,u,n))>-1;)s!==t&&Oe.call(s,u,1),Oe.call(t,u,1);return t}function _i(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;$o(i)?Oe.call(t,i,1):Ui(t,i)}}return t}function ki(t,e){return t+Ur(Yr()*(e-t+1))}function Si(t,e){var r="";if(!t||e<1||e>T)return r;do{e%2&&(r+=t),(e=Ur(e/2))&&(t+=t)}while(e);return r}function Ei(t,e){return oa(ea(t,e,Iu),t+"")}function Mi(t){return Mn(du(t))}function Ai(t,e){var r=du(t);return ua(r,Ln(e,0,r.length))}function xi(t,e,n,i){if(!xs(t))return t;for(var o=-1,a=(e=$i(e,t)).length,s=a-1,u=t;null!=u&&++o<a;){var c=fa(e[o]),f=n;if(o!=s){var h=u[c];(f=i?i(h,c,u):r)===r&&(f=xs(h)?h:$o(e[o+1])?[]:{})}Cn(u,c,f),u=u[c]}return t}var Bi=nn?function(t,e){return nn.set(t,e),t}:Iu,Ci=Rr?function(t,e){return Rr(t,"toString",{configurable:!0,enumerable:!1,value:xu(e),writable:!0})}:Iu;function Ii(t){return ua(du(t))}function Ti(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Zt(i);++n<i;)o[n]=t[n+e];return o}function Pi(t,e){var r;return Fn(t,function(t,n,i){return!(r=e(t,n,i))}),!!r}function Ni(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=O){for(;n<i;){var o=n+i>>>1,a=t[o];null!==a&&!Ls(a)&&(r?a<=e:a<e)?n=o+1:i=o}return i}return Ri(t,e,Iu,r)}function Ri(t,e,n,i){e=n(e);for(var o=0,a=null==t?0:t.length,s=e!=e,u=null===e,c=Ls(e),f=e===r;o<a;){var h=Ur((o+a)/2),l=n(t[h]),d=l!==r,p=null===l,m=l==l,y=Ls(l);if(s)var v=i||m;else v=f?m&&(i||d):u?m&&d&&(i||!p):c?m&&d&&!p&&(i||!y):!p&&!y&&(i?l<=e:l<e);v?o=h+1:a=h}return Gr(a,L)}function Li(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r],s=e?e(a):a;if(!r||!ds(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Oi(t){return"number"==typeof t?t:Ls(t)?N:+t}function ji(t){if("string"==typeof t)return t;if(vs(t))return Qe(t,ji)+"";if(Ls(t))return dn?dn.call(t):"";var e=t+"";return"0"==e&&1/t==-I?"-0":e}function Di(t,e,r){var i=-1,o=Ye,a=t.length,s=!0,u=[],c=u;if(r)s=!1,o=Ze;else if(a>=n){var f=e?null:Eo(t);if(f)return xr(f);s=!1,o=yr,c=new kn}else c=e?[]:u;t:for(;++i<a;){var h=t[i],l=e?e(h):h;if(h=r||0!==h?h:0,s&&l==l){for(var d=c.length;d--;)if(c[d]===l)continue t;e&&c.push(l),u.push(h)}else o(c,l,r)||(c!==u&&c.push(l),u.push(h))}return u}function Ui(t,e){return null==(t=ra(t,e=$i(e,t)))||delete t[fa(Sa(e))]}function Fi(t,e,r,n){return xi(t,e,r(Qn(t,e)),n)}function qi(t,e,r,n){for(var i=t.length,o=n?i:-1;(n?o--:++o<i)&&e(t[o],o,t););return r?Ti(t,n?0:o,n?o+1:i):Ti(t,n?o+1:0,n?i:o)}function Ki(t,e){var r=t;return r instanceof gn&&(r=r.value()),Je(e,function(t,e){return e.func.apply(e.thisArg,Xe([t],e.args))},r)}function zi(t,e,r){var n=t.length;if(n<2)return n?Di(t[0]):[];for(var i=-1,o=Zt(n);++i<n;)for(var a=t[i],s=-1;++s<n;)s!=i&&(o[i]=Un(o[i]||a,t[s],e,r));return Di(Hn(o,1),e,r)}function Vi(t,e,n){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var u=i<a?e[i]:r;n(s,t[i],u)}return s}function Hi(t){return ws(t)?t:[]}function Gi(t){return"function"==typeof t?t:Iu}function $i(t,e){return vs(t)?t:Yo(t,e)?[t]:ca(Hs(t))}var Wi=Ei;function Yi(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:Ti(t,e,n)}var Zi=Lr||function(t){return Te.clearTimeout(t)};function Qi(t,e){if(e)return t.slice();var r=t.length,n=Ie?Ie(r):new t.constructor(r);return t.copy(n),n}function Xi(t){var e=new t.constructor(t.byteLength);return new Ce(e).set(new Ce(t)),e}function Ji(t,e){var r=e?Xi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function to(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,a=Ls(t),s=e!==r,u=null===e,c=e==e,f=Ls(e);if(!u&&!f&&!a&&t>e||a&&s&&c&&!u&&!f||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!f&&t<e||f&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function eo(t,e,r,n){for(var i=-1,o=t.length,a=r.length,s=-1,u=e.length,c=Hr(o-a,0),f=Zt(u+c),h=!n;++s<u;)f[s]=e[s];for(;++i<a;)(h||i<o)&&(f[r[i]]=t[i]);for(;c--;)f[s++]=t[i++];return f}function ro(t,e,r,n){for(var i=-1,o=t.length,a=-1,s=r.length,u=-1,c=e.length,f=Hr(o-s,0),h=Zt(f+c),l=!n;++i<f;)h[i]=t[i];for(var d=i;++u<c;)h[d+u]=e[u];for(;++a<s;)(l||i<o)&&(h[d+r[a]]=t[i++]);return h}function no(t,e){var r=-1,n=t.length;for(e||(e=Zt(n));++r<n;)e[r]=t[r];return e}function io(t,e,n,i){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=i?i(n[u],t[u],u,n,t):r;c===r&&(c=t[u]),o?Nn(n,u,c):Cn(n,u,c)}return n}function oo(t,e){return function(r,n){var i=vs(r)?Ve:Tn,o=e?e():{};return i(r,t,jo(n,2),o)}}function ao(t){return Ei(function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(o--,a):r,s&&Wo(n[0],n[1],s)&&(a=o<3?r:a,o=1),e=ee(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e})}function so(t,e){return function(r,n){if(null==r)return r;if(!bs(r))return t(r,n);for(var i=r.length,o=e?i:-1,a=ee(r);(e?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function uo(t){return function(e,r,n){for(var i=-1,o=ee(e),a=n(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===r(o[u],u,o))break}return e}}function co(t){return function(e){var n=kr(e=Hs(e))?Ir(e):r,i=n?n[0]:e.charAt(0),o=n?Yi(n,1).join(""):e.slice(1);return i[t]()+o}}function fo(t){return function(e){return Je(Eu(yu(e).replace(ye,"")),t,"")}}function ho(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=mn(t.prototype),n=t.apply(r,e);return xs(n)?n:r}}function lo(t){return function(e,n,i){var o=ee(e);if(!bs(e)){var a=jo(n,3);e=iu(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,i);return s>-1?o[a?e[s]:s]:r}}function po(t){return To(function(e){var n=e.length,i=n,a=vn.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new ie(o);if(a&&!u&&"wrapper"==Lo(s))var u=new vn([],!0)}for(i=u?i:n;++i<n;){var c=Lo(s=e[i]),f="wrapper"==c?Ro(s):r;u=f&&Zo(f[0])&&f[1]==(_|v|b|k)&&!f[4].length&&1==f[9]?u[Lo(f[0])].apply(u,f[3]):1==s.length&&Zo(s)?u[c]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&vs(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function mo(t,e,n,i,o,a,s,u,c,f){var h=e&_,l=e&p,d=e&m,y=e&(v|g),b=e&S,w=d?r:ho(t);return function p(){for(var m=arguments.length,v=Zt(m),g=m;g--;)v[g]=arguments[g];if(y)var _=Oo(p),k=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(v,_);if(i&&(v=eo(v,i,o,y)),a&&(v=ro(v,a,s,y)),m-=k,y&&m<f){var S=Mr(v,_);return ko(t,e,mo,p.placeholder,n,v,S,u,c,f-m)}var E=l?n:this,M=d?E[t]:t;return m=v.length,u?v=function(t,e){for(var n=t.length,i=Gr(e.length,n),o=no(t);i--;){var a=e[i];t[i]=$o(a,n)?o[a]:r}return t}(v,u):b&&m>1&&v.reverse(),h&&c<m&&(v.length=c),this&&this!==Te&&this instanceof p&&(M=w||ho(M)),M.apply(E,v)}}function yo(t,e){return function(r,n){return function(t,e,r,n){return Wn(t,function(t,i,o){e(n,r(t),i,o)}),n}(r,t,e(n),{})}}function vo(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=ji(n),i=ji(i)):(n=Oi(n),i=Oi(i)),o=t(n,i)}return o}}function go(t){return To(function(e){return e=Qe(e,pr(jo())),Ei(function(r){var n=this;return t(e,function(t){return ze(t,n,r)})})})}function bo(t,e){var n=(e=e===r?" ":ji(e)).length;if(n<2)return n?Si(e,t):e;var i=Si(e,Dr(t/Cr(e)));return kr(e)?Yi(Ir(i),0,t).join(""):i.slice(0,t)}function wo(t){return function(e,n,i){return i&&"number"!=typeof i&&Wo(e,n,i)&&(n=i=r),e=Fs(e),n===r?(n=e,e=0):n=Fs(n),function(t,e,r,n){for(var i=-1,o=Hr(Dr((e-t)/(r||1)),0),a=Zt(o);o--;)a[n?o:++i]=t,t+=r;return a}(e,n,i=i===r?e<n?1:-1:Fs(i),t)}}function _o(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=zs(e),r=zs(r)),t(e,r)}}function ko(t,e,n,i,o,a,s,u,c,f){var h=e&v;e|=h?b:w,(e&=~(h?w:b))&y||(e&=~(p|m));var l=[t,e,o,h?a:r,h?s:r,h?r:a,h?r:s,u,c,f],d=n.apply(r,l);return Zo(t)&&na(d,l),d.placeholder=i,aa(d,t,e)}function So(t){var e=te[t];return function(t,r){if(t=zs(t),r=null==r?0:Gr(qs(r),292)){var n=(Hs(t)+"e").split("e");return+((n=(Hs(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Eo=tn&&1/xr(new tn([,-0]))[1]==I?function(t){return new tn(t)}:Lu;function Mo(t){return function(e){var r=zo(e);return r==$?Sr(e):r==tt?Br(e):function(t,e){return Qe(e,function(e){return[e,t[e]]})}(e,t(e))}}function Ao(t,e,n,i,a,s,c,f){var h=e&m;if(!h&&"function"!=typeof t)throw new ie(o);var l=i?i.length:0;if(l||(e&=~(b|w),i=a=r),c=c===r?c:Hr(qs(c),0),f=f===r?f:qs(f),l-=a?a.length:0,e&w){var d=i,S=a;i=a=r}var E=h?r:Ro(t),M=[t,e,n,i,a,d,S,s,c,f];if(E&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<(p|m|_),a=n==_&&r==v||n==_&&r==k&&t[7].length<=e[8]||n==(_|k)&&e[7].length<=e[8]&&r==v;if(!o&&!a)return t;n&p&&(t[2]=e[2],i|=r&p?0:y);var s=e[3];if(s){var c=t[3];t[3]=c?eo(c,s,e[4]):s,t[4]=c?Mr(t[3],u):e[4]}(s=e[5])&&(c=t[5],t[5]=c?ro(c,s,e[6]):s,t[6]=c?Mr(t[5],u):e[6]),(s=e[7])&&(t[7]=s),n&_&&(t[8]=null==t[8]?e[8]:Gr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(M,E),t=M[0],e=M[1],n=M[2],i=M[3],a=M[4],!(f=M[9]=M[9]===r?h?0:t.length:Hr(M[9]-l,0))&&e&(v|g)&&(e&=~(v|g)),e&&e!=p)A=e==v||e==g?function(t,e,n){var i=ho(t);return function o(){for(var a=arguments.length,s=Zt(a),u=a,c=Oo(o);u--;)s[u]=arguments[u];var f=a<3&&s[0]!==c&&s[a-1]!==c?[]:Mr(s,c);return(a-=f.length)<n?ko(t,e,mo,o.placeholder,r,s,f,r,r,n-a):ze(this&&this!==Te&&this instanceof o?i:t,this,s)}}(t,e,f):e!=b&&e!=(p|b)||a.length?mo.apply(r,M):function(t,e,r,n){var i=e&p,o=ho(t);return function e(){for(var a=-1,s=arguments.length,u=-1,c=n.length,f=Zt(c+s),h=this&&this!==Te&&this instanceof e?o:t;++u<c;)f[u]=n[u];for(;s--;)f[u++]=arguments[++a];return ze(h,i?r:this,f)}}(t,e,n,i);else var A=function(t,e,r){var n=e&p,i=ho(t);return function e(){return(this&&this!==Te&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,n);return aa((E?Bi:na)(A,M),t,e)}function xo(t,e,n,i){return t===r||ds(t,se[n])&&!fe.call(i,n)?e:t}function Bo(t,e,n,i,o,a){return xs(t)&&xs(e)&&(a.set(e,t),yi(t,e,r,Bo,a),a.delete(e)),t}function Co(t){return Ts(t)?r:t}function Io(t,e,n,i,o,a){var s=n&l,u=t.length,c=e.length;if(u!=c&&!(s&&c>u))return!1;var f=a.get(t);if(f&&a.get(e))return f==e;var h=-1,p=!0,m=n&d?new kn:r;for(a.set(t,e),a.set(e,t);++h<u;){var y=t[h],v=e[h];if(i)var g=s?i(v,y,h,e,t,a):i(y,v,h,t,e,a);if(g!==r){if(g)continue;p=!1;break}if(m){if(!er(e,function(t,e){if(!yr(m,e)&&(y===t||o(y,t,n,i,a)))return m.push(e)})){p=!1;break}}else if(y!==v&&!o(y,v,n,i,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function To(t){return oa(ea(t,r,ga),t+"")}function Po(t){return Xn(t,iu,qo)}function No(t){return Xn(t,ou,Ko)}var Ro=nn?function(t){return nn.get(t)}:Lu;function Lo(t){for(var e=t.name+"",r=on[e],n=fe.call(on,e)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==t)return i.name}return e}function Oo(t){return(fe.call(pn,"placeholder")?pn:t).placeholder}function jo(){var t=pn.iteratee||Tu;return t=t===Tu?ci:t,arguments.length?t(arguments[0],arguments[1]):t}function Do(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Uo(t){for(var e=iu(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Jo(i)]}return e}function Fo(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return ui(n)?n:r}var qo=Fr?function(t){return null==t?[]:(t=ee(t),We(Fr(t),function(e){return Le.call(t,e)}))}:Ku,Ko=Fr?function(t){for(var e=[];t;)Xe(e,qo(t)),t=Pe(t);return e}:Ku,zo=Jn;function Vo(t,e,r){for(var n=-1,i=(e=$i(e,t)).length,o=!1;++n<i;){var a=fa(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&As(i)&&$o(a,i)&&(vs(t)||ys(t))}function Ho(t){return"function"!=typeof t.constructor||Xo(t)?{}:mn(Pe(t))}function Go(t){return vs(t)||ys(t)||!!(rr&&t&&t[rr])}function $o(t,e){var r=typeof t;return!!(e=null==e?T:e)&&("number"==r||"symbol"!=r&&Gt.test(t))&&t>-1&&t%1==0&&t<e}function Wo(t,e,r){if(!xs(r))return!1;var n=typeof e;return!!("number"==n?bs(r)&&$o(e,r.length):"string"==n&&e in r)&&ds(r[e],t)}function Yo(t,e){if(vs(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Ls(t))||Bt.test(t)||!xt.test(t)||null!=e&&t in ee(e)}function Zo(t){var e=Lo(t),r=pn[e];if("function"!=typeof r||!(e in gn.prototype))return!1;if(t===r)return!0;var n=Ro(r);return!!n&&t===n[0]}(Qr&&zo(new Qr(new ArrayBuffer(1)))!=st||Xr&&zo(new Xr)!=$||Jr&&"[object Promise]"!=zo(Jr.resolve())||tn&&zo(new tn)!=tt||en&&zo(new en)!=it)&&(zo=function(t){var e=Jn(t),n=e==Z?t.constructor:r,i=n?ha(n):"";if(i)switch(i){case an:return st;case sn:return $;case un:return"[object Promise]";case cn:return tt;case fn:return it}return e});var Qo=ue?Es:zu;function Xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function Jo(t){return t==t&&!xs(t)}function ta(t,e){return function(n){return null!=n&&n[t]===e&&(e!==r||t in ee(n))}}function ea(t,e,n){return e=Hr(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Hr(r.length-e,0),a=Zt(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Zt(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),ze(t,this,s)}}function ra(t,e){return e.length<2?t:Qn(t,Ti(e,0,-1))}var na=sa(Bi),ia=jr||function(t,e){return Te.setTimeout(t,e)},oa=sa(Ci);function aa(t,e,r){var n=e+"";return oa(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(Lt,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return He(j,function(r){var n="_."+r[0];e&r[1]&&!Ye(t,n)&&t.push(n)}),t.sort()}(function(t){var e=t.match(Ot);return e?e[1].split(jt):[]}(n),r)))}function sa(t){var e=0,n=0;return function(){var i=$r(),o=x-(i-n);if(n=i,o>0){if(++e>=A)return arguments[0]}else e=0;return t.apply(r,arguments)}}function ua(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var a=ki(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var ca=function(t){var e=ss(t,function(t){return r.size===s&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ct,function(t,r,n,i){e.push(n?i.replace(Ut,"$1"):r||t)}),e});function fa(t){if("string"==typeof t||Ls(t))return t;var e=t+"";return"0"==e&&1/t==-I?"-0":e}function ha(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function la(t){if(t instanceof gn)return t.clone();var e=new vn(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var da=Ei(function(t,e){return ws(t)?Un(t,Hn(e,1,ws,!0)):[]}),pa=Ei(function(t,e){var n=Sa(e);return ws(n)&&(n=r),ws(t)?Un(t,Hn(e,1,ws,!0),jo(n,2)):[]}),ma=Ei(function(t,e){var n=Sa(e);return ws(n)&&(n=r),ws(t)?Un(t,Hn(e,1,ws,!0),r,n):[]});function ya(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:qs(r);return i<0&&(i=Hr(n+i,0)),ir(t,jo(e,3),i)}function va(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=qs(n),o=n<0?Hr(i+o,0):Gr(o,i-1)),ir(t,jo(e,3),o,!0)}function ga(t){return null!=t&&t.length?Hn(t,1):[]}function ba(t){return t&&t.length?t[0]:r}var wa=Ei(function(t){var e=Qe(t,Hi);return e.length&&e[0]===t[0]?ni(e):[]}),_a=Ei(function(t){var e=Sa(t),n=Qe(t,Hi);return e===Sa(n)?e=r:n.pop(),n.length&&n[0]===t[0]?ni(n,jo(e,2)):[]}),ka=Ei(function(t){var e=Sa(t),n=Qe(t,Hi);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?ni(n,r,e):[]});function Sa(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Ea=Ei(Ma);function Ma(t,e){return t&&t.length&&e&&e.length?wi(t,e):t}var Aa=To(function(t,e){var r=null==t?0:t.length,n=Rn(t,e);return _i(t,Qe(e,function(t){return $o(t,r)?+t:t}).sort(to)),n});function xa(t){return null==t?t:Zr.call(t)}var Ba=Ei(function(t){return Di(Hn(t,1,ws,!0))}),Ca=Ei(function(t){var e=Sa(t);return ws(e)&&(e=r),Di(Hn(t,1,ws,!0),jo(e,2))}),Ia=Ei(function(t){var e=Sa(t);return e="function"==typeof e?e:r,Di(Hn(t,1,ws,!0),r,e)});function Ta(t){if(!t||!t.length)return[];var e=0;return t=We(t,function(t){if(ws(t))return e=Hr(t.length,e),!0}),dr(e,function(e){return Qe(t,cr(e))})}function Pa(t,e){if(!t||!t.length)return[];var n=Ta(t);return null==e?n:Qe(n,function(t){return ze(e,r,t)})}var Na=Ei(function(t,e){return ws(t)?Un(t,e):[]}),Ra=Ei(function(t){return zi(We(t,ws))}),La=Ei(function(t){var e=Sa(t);return ws(e)&&(e=r),zi(We(t,ws),jo(e,2))}),Oa=Ei(function(t){var e=Sa(t);return e="function"==typeof e?e:r,zi(We(t,ws),r,e)}),ja=Ei(Ta);var Da=Ei(function(t){var e=t.length,n=e>1?t[e-1]:r;return Pa(t,n="function"==typeof n?(t.pop(),n):r)});function Ua(t){var e=pn(t);return e.__chain__=!0,e}function Fa(t,e){return e(t)}var qa=To(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return Rn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof gn&&$o(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Fa,args:[o],thisArg:r}),new vn(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(r),t})):this.thru(o)});var Ka=oo(function(t,e,r){fe.call(t,r)?++t[r]:Nn(t,r,1)});var za=lo(ya),Va=lo(va);function Ha(t,e){return(vs(t)?He:Fn)(t,jo(e,3))}function Ga(t,e){return(vs(t)?Ge:qn)(t,jo(e,3))}var $a=oo(function(t,e,r){fe.call(t,r)?t[r].push(e):Nn(t,r,[e])});var Wa=Ei(function(t,e,r){var n=-1,i="function"==typeof e,o=bs(t)?Zt(t.length):[];return Fn(t,function(t){o[++n]=i?ze(e,t,r):ii(t,e,r)}),o}),Ya=oo(function(t,e,r){Nn(t,r,e)});function Za(t,e){return(vs(t)?Qe:di)(t,jo(e,3))}var Qa=oo(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]});var Xa=Ei(function(t,e){if(null==t)return[];var r=e.length;return r>1&&Wo(t,e[0],e[1])?e=[]:r>2&&Wo(e[0],e[1],e[2])&&(e=[e[0]]),gi(t,Hn(e,1),[])}),Ja=Or||function(){return Te.Date.now()};function ts(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Ao(t,_,r,r,r,r,e)}function es(t,e){var n;if("function"!=typeof e)throw new ie(o);return t=qs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var rs=Ei(function(t,e,r){var n=p;if(r.length){var i=Mr(r,Oo(rs));n|=b}return Ao(t,n,e,r,i)}),ns=Ei(function(t,e,r){var n=p|m;if(r.length){var i=Mr(r,Oo(ns));n|=b}return Ao(e,n,t,r,i)});function is(t,e,n){var i,a,s,u,c,f,h=0,l=!1,d=!1,p=!0;if("function"!=typeof t)throw new ie(o);function m(e){var n=i,o=a;return i=a=r,h=e,u=t.apply(o,n)}function y(t){var n=t-f;return f===r||n>=e||n<0||d&&t-h>=s}function v(){var t=Ja();if(y(t))return g(t);c=ia(v,function(t){var r=e-(t-f);return d?Gr(r,s-(t-h)):r}(t))}function g(t){return c=r,p&&i?m(t):(i=a=r,u)}function b(){var t=Ja(),n=y(t);if(i=arguments,a=this,f=t,n){if(c===r)return function(t){return h=t,c=ia(v,e),l?m(t):u}(f);if(d)return c=ia(v,e),m(f)}return c===r&&(c=ia(v,e)),u}return e=zs(e)||0,xs(n)&&(l=!!n.leading,s=(d="maxWait"in n)?Hr(zs(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==r&&Zi(c),h=0,i=f=a=c=r},b.flush=function(){return c===r?u:g(Ja())},b}var os=Ei(function(t,e){return Dn(t,1,e)}),as=Ei(function(t,e,r){return Dn(t,zs(e)||0,r)});function ss(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(o);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(ss.Cache||_n),r}function us(t){if("function"!=typeof t)throw new ie(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ss.Cache=_n;var cs=Wi(function(t,e){var r=(e=1==e.length&&vs(e[0])?Qe(e[0],pr(jo())):Qe(Hn(e,1),pr(jo()))).length;return Ei(function(n){for(var i=-1,o=Gr(n.length,r);++i<o;)n[i]=e[i].call(this,n[i]);return ze(t,this,n)})}),fs=Ei(function(t,e){var n=Mr(e,Oo(fs));return Ao(t,b,r,e,n)}),hs=Ei(function(t,e){var n=Mr(e,Oo(hs));return Ao(t,w,r,e,n)}),ls=To(function(t,e){return Ao(t,k,r,r,r,e)});function ds(t,e){return t===e||t!=t&&e!=e}var ps=_o(ti),ms=_o(function(t,e){return t>=e}),ys=oi(function(){return arguments}())?oi:function(t){return Bs(t)&&fe.call(t,"callee")&&!Le.call(t,"callee")},vs=Zt.isArray,gs=je?pr(je):function(t){return Bs(t)&&Jn(t)==at};function bs(t){return null!=t&&As(t.length)&&!Es(t)}function ws(t){return Bs(t)&&bs(t)}var _s=qr||zu,ks=De?pr(De):function(t){return Bs(t)&&Jn(t)==K};function Ss(t){if(!Bs(t))return!1;var e=Jn(t);return e==V||e==z||"string"==typeof t.message&&"string"==typeof t.name&&!Ts(t)}function Es(t){if(!xs(t))return!1;var e=Jn(t);return e==H||e==G||e==F||e==Q}function Ms(t){return"number"==typeof t&&t==qs(t)}function As(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=T}function xs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Bs(t){return null!=t&&"object"==typeof t}var Cs=Ue?pr(Ue):function(t){return Bs(t)&&zo(t)==$};function Is(t){return"number"==typeof t||Bs(t)&&Jn(t)==W}function Ts(t){if(!Bs(t)||Jn(t)!=Z)return!1;var e=Pe(t);if(null===e)return!0;var r=fe.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ce.call(r)==pe}var Ps=Fe?pr(Fe):function(t){return Bs(t)&&Jn(t)==J};var Ns=qe?pr(qe):function(t){return Bs(t)&&zo(t)==tt};function Rs(t){return"string"==typeof t||!vs(t)&&Bs(t)&&Jn(t)==et}function Ls(t){return"symbol"==typeof t||Bs(t)&&Jn(t)==rt}var Os=Ke?pr(Ke):function(t){return Bs(t)&&As(t.length)&&!!Ee[Jn(t)]};var js=_o(li),Ds=_o(function(t,e){return t<=e});function Us(t){if(!t)return[];if(bs(t))return Rs(t)?Ir(t):no(t);if(fr&&t[fr])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[fr]());var e=zo(t);return(e==$?Sr:e==tt?xr:du)(t)}function Fs(t){return t?(t=zs(t))===I||t===-I?(t<0?-1:1)*P:t==t?t:0:0===t?t:0}function qs(t){var e=Fs(t),r=e%1;return e==e?r?e-r:e:0}function Ks(t){return t?Ln(qs(t),0,R):0}function zs(t){if("number"==typeof t)return t;if(Ls(t))return N;if(xs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=xs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pt,"");var r=zt.test(t);return r||Ht.test(t)?Be(t.slice(2),r?2:8):Kt.test(t)?N:+t}function Vs(t){return io(t,ou(t))}function Hs(t){return null==t?"":ji(t)}var Gs=ao(function(t,e){if(Xo(e)||bs(e))io(e,iu(e),t);else for(var r in e)fe.call(e,r)&&Cn(t,r,e[r])}),$s=ao(function(t,e){io(e,ou(e),t)}),Ws=ao(function(t,e,r,n){io(e,ou(e),t,n)}),Ys=ao(function(t,e,r,n){io(e,iu(e),t,n)}),Zs=To(Rn);var Qs=Ei(function(t,e){t=ee(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&Wo(e[0],e[1],o)&&(i=1);++n<i;)for(var a=e[n],s=ou(a),u=-1,c=s.length;++u<c;){var f=s[u],h=t[f];(h===r||ds(h,se[f])&&!fe.call(t,f))&&(t[f]=a[f])}return t}),Xs=Ei(function(t){return t.push(r,Bo),ze(su,r,t)});function Js(t,e,n){var i=null==t?r:Qn(t,e);return i===r?n:i}function tu(t,e){return null!=t&&Vo(t,e,ri)}var eu=yo(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),t[e]=r},xu(Iu)),ru=yo(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=de.call(e)),fe.call(t,e)?t[e].push(r):t[e]=[r]},jo),nu=Ei(ii);function iu(t){return bs(t)?En(t):fi(t)}function ou(t){return bs(t)?En(t,!0):hi(t)}var au=ao(function(t,e,r){yi(t,e,r)}),su=ao(function(t,e,r,n){yi(t,e,r,n)}),uu=To(function(t,e){var r={};if(null==t)return r;var n=!1;e=Qe(e,function(e){return e=$i(e,t),n||(n=e.length>1),e}),io(t,No(t),r),n&&(r=On(r,c|f|h,Co));for(var i=e.length;i--;)Ui(r,e[i]);return r});var cu=To(function(t,e){return null==t?{}:function(t,e){return bi(t,e,function(e,r){return tu(t,r)})}(t,e)});function fu(t,e){if(null==t)return{};var r=Qe(No(t),function(t){return[t]});return e=jo(e),bi(t,r,function(t,r){return e(t,r[0])})}var hu=Mo(iu),lu=Mo(ou);function du(t){return null==t?[]:mr(t,iu(t))}var pu=fo(function(t,e,r){return e=e.toLowerCase(),t+(r?mu(e):e)});function mu(t){return Su(Hs(t).toLowerCase())}function yu(t){return(t=Hs(t))&&t.replace($t,br).replace(ve,"")}var vu=fo(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),gu=fo(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),bu=co("toLowerCase");var wu=fo(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()});var _u=fo(function(t,e,r){return t+(r?" ":"")+Su(e)});var ku=fo(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),Su=co("toUpperCase");function Eu(t,e,n){return t=Hs(t),(e=n?r:e)===r?function(t){return _e.test(t)}(t)?function(t){return t.match(be)||[]}(t):function(t){return t.match(Dt)||[]}(t):t.match(e)||[]}var Mu=Ei(function(t,e){try{return ze(t,r,e)}catch(t){return Ss(t)?t:new Xt(t)}}),Au=To(function(t,e){return He(e,function(e){e=fa(e),Nn(t,e,rs(t[e],t))}),t});function xu(t){return function(){return t}}var Bu=po(),Cu=po(!0);function Iu(t){return t}function Tu(t){return ci("function"==typeof t?t:On(t,c))}var Pu=Ei(function(t,e){return function(r){return ii(r,t,e)}}),Nu=Ei(function(t,e){return function(r){return ii(t,r,e)}});function Ru(t,e,r){var n=iu(e),i=Zn(e,n);null!=r||xs(e)&&(i.length||!n.length)||(r=e,e=t,t=this,i=Zn(e,iu(e)));var o=!(xs(r)&&"chain"in r&&!r.chain),a=Es(t);return He(i,function(r){var n=e[r];t[r]=n,a&&(t.prototype[r]=function(){var e=this.__chain__;if(o||e){var r=t(this.__wrapped__);return(r.__actions__=no(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Xe([this.value()],arguments))})}),t}function Lu(){}var Ou=go(Qe),ju=go($e),Du=go(er);function Uu(t){return Yo(t)?cr(fa(t)):function(t){return function(e){return Qn(e,t)}}(t)}var Fu=wo(),qu=wo(!0);function Ku(){return[]}function zu(){return!1}var Vu=vo(function(t,e){return t+e},0),Hu=So("ceil"),Gu=vo(function(t,e){return t/e},1),$u=So("floor");var Wu,Yu=vo(function(t,e){return t*e},1),Zu=So("round"),Qu=vo(function(t,e){return t-e},0);return pn.after=function(t,e){if("function"!=typeof e)throw new ie(o);return t=qs(t),function(){if(--t<1)return e.apply(this,arguments)}},pn.ary=ts,pn.assign=Gs,pn.assignIn=$s,pn.assignInWith=Ws,pn.assignWith=Ys,pn.at=Zs,pn.before=es,pn.bind=rs,pn.bindAll=Au,pn.bindKey=ns,pn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return vs(t)?t:[t]},pn.chain=Ua,pn.chunk=function(t,e,n){e=(n?Wo(t,e,n):e===r)?1:Hr(qs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=Zt(Dr(i/e));o<i;)s[a++]=Ti(t,o,o+=e);return s},pn.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var o=t[e];o&&(i[n++]=o)}return i},pn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Zt(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Xe(vs(r)?no(r):[r],Hn(e,1))},pn.cond=function(t){var e=null==t?0:t.length,r=jo();return t=e?Qe(t,function(t){if("function"!=typeof t[1])throw new ie(o);return[r(t[0]),t[1]]}):[],Ei(function(r){for(var n=-1;++n<e;){var i=t[n];if(ze(i[0],this,r))return ze(i[1],this,r)}})},pn.conforms=function(t){return function(t){var e=iu(t);return function(r){return jn(r,t,e)}}(On(t,c))},pn.constant=xu,pn.countBy=Ka,pn.create=function(t,e){var r=mn(t);return null==e?r:Pn(r,e)},pn.curry=function t(e,n,i){var o=Ao(e,v,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},pn.curryRight=function t(e,n,i){var o=Ao(e,g,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},pn.debounce=is,pn.defaults=Qs,pn.defaultsDeep=Xs,pn.defer=os,pn.delay=as,pn.difference=da,pn.differenceBy=pa,pn.differenceWith=ma,pn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ti(t,(e=n||e===r?1:qs(e))<0?0:e,i):[]},pn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ti(t,0,(e=i-(e=n||e===r?1:qs(e)))<0?0:e):[]},pn.dropRightWhile=function(t,e){return t&&t.length?qi(t,jo(e,3),!0,!0):[]},pn.dropWhile=function(t,e){return t&&t.length?qi(t,jo(e,3),!0):[]},pn.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Wo(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=qs(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:qs(i))<0&&(i+=o),i=n>i?0:Ks(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},pn.filter=function(t,e){return(vs(t)?We:Vn)(t,jo(e,3))},pn.flatMap=function(t,e){return Hn(Za(t,e),1)},pn.flatMapDeep=function(t,e){return Hn(Za(t,e),I)},pn.flatMapDepth=function(t,e,n){return n=n===r?1:qs(n),Hn(Za(t,e),n)},pn.flatten=ga,pn.flattenDeep=function(t){return null!=t&&t.length?Hn(t,I):[]},pn.flattenDepth=function(t,e){return null!=t&&t.length?Hn(t,e=e===r?1:qs(e)):[]},pn.flip=function(t){return Ao(t,S)},pn.flow=Bu,pn.flowRight=Cu,pn.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},pn.functions=function(t){return null==t?[]:Zn(t,iu(t))},pn.functionsIn=function(t){return null==t?[]:Zn(t,ou(t))},pn.groupBy=$a,pn.initial=function(t){return null!=t&&t.length?Ti(t,0,-1):[]},pn.intersection=wa,pn.intersectionBy=_a,pn.intersectionWith=ka,pn.invert=eu,pn.invertBy=ru,pn.invokeMap=Wa,pn.iteratee=Tu,pn.keyBy=Ya,pn.keys=iu,pn.keysIn=ou,pn.map=Za,pn.mapKeys=function(t,e){var r={};return e=jo(e,3),Wn(t,function(t,n,i){Nn(r,e(t,n,i),t)}),r},pn.mapValues=function(t,e){var r={};return e=jo(e,3),Wn(t,function(t,n,i){Nn(r,n,e(t,n,i))}),r},pn.matches=function(t){return pi(On(t,c))},pn.matchesProperty=function(t,e){return mi(t,On(e,c))},pn.memoize=ss,pn.merge=au,pn.mergeWith=su,pn.method=Pu,pn.methodOf=Nu,pn.mixin=Ru,pn.negate=us,pn.nthArg=function(t){return t=qs(t),Ei(function(e){return vi(e,t)})},pn.omit=uu,pn.omitBy=function(t,e){return fu(t,us(jo(e)))},pn.once=function(t){return es(2,t)},pn.orderBy=function(t,e,n,i){return null==t?[]:(vs(e)||(e=null==e?[]:[e]),vs(n=i?r:n)||(n=null==n?[]:[n]),gi(t,e,n))},pn.over=Ou,pn.overArgs=cs,pn.overEvery=ju,pn.overSome=Du,pn.partial=fs,pn.partialRight=hs,pn.partition=Qa,pn.pick=cu,pn.pickBy=fu,pn.property=Uu,pn.propertyOf=function(t){return function(e){return null==t?r:Qn(t,e)}},pn.pull=Ea,pn.pullAll=Ma,pn.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?wi(t,e,jo(r,2)):t},pn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?wi(t,e,r,n):t},pn.pullAt=Aa,pn.range=Fu,pn.rangeRight=qu,pn.rearg=ls,pn.reject=function(t,e){return(vs(t)?We:Vn)(t,us(jo(e,3)))},pn.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=jo(e,3);++n<o;){var a=t[n];e(a,n,t)&&(r.push(a),i.push(n))}return _i(t,i),r},pn.rest=function(t,e){if("function"!=typeof t)throw new ie(o);return Ei(t,e=e===r?e:qs(e))},pn.reverse=xa,pn.sampleSize=function(t,e,n){return e=(n?Wo(t,e,n):e===r)?1:qs(e),(vs(t)?An:Ai)(t,e)},pn.set=function(t,e,r){return null==t?t:xi(t,e,r)},pn.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:xi(t,e,n,i)},pn.shuffle=function(t){return(vs(t)?xn:Ii)(t)},pn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Wo(t,e,n)?(e=0,n=i):(e=null==e?0:qs(e),n=n===r?i:qs(n)),Ti(t,e,n)):[]},pn.sortBy=Xa,pn.sortedUniq=function(t){return t&&t.length?Li(t):[]},pn.sortedUniqBy=function(t,e){return t&&t.length?Li(t,jo(e,2)):[]},pn.split=function(t,e,n){return n&&"number"!=typeof n&&Wo(t,e,n)&&(e=n=r),(n=n===r?R:n>>>0)?(t=Hs(t))&&("string"==typeof e||null!=e&&!Ps(e))&&!(e=ji(e))&&kr(t)?Yi(Ir(t),0,n):t.split(e,n):[]},pn.spread=function(t,e){if("function"!=typeof t)throw new ie(o);return e=null==e?0:Hr(qs(e),0),Ei(function(r){var n=r[e],i=Yi(r,0,e);return n&&Xe(i,n),ze(t,this,i)})},pn.tail=function(t){var e=null==t?0:t.length;return e?Ti(t,1,e):[]},pn.take=function(t,e,n){return t&&t.length?Ti(t,0,(e=n||e===r?1:qs(e))<0?0:e):[]},pn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ti(t,(e=i-(e=n||e===r?1:qs(e)))<0?0:e,i):[]},pn.takeRightWhile=function(t,e){return t&&t.length?qi(t,jo(e,3),!1,!0):[]},pn.takeWhile=function(t,e){return t&&t.length?qi(t,jo(e,3)):[]},pn.tap=function(t,e){return e(t),t},pn.throttle=function(t,e,r){var n=!0,i=!0;if("function"!=typeof t)throw new ie(o);return xs(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),is(t,e,{leading:n,maxWait:e,trailing:i})},pn.thru=Fa,pn.toArray=Us,pn.toPairs=hu,pn.toPairsIn=lu,pn.toPath=function(t){return vs(t)?Qe(t,fa):Ls(t)?[t]:no(ca(Hs(t)))},pn.toPlainObject=Vs,pn.transform=function(t,e,r){var n=vs(t),i=n||_s(t)||Os(t);if(e=jo(e,4),null==r){var o=t&&t.constructor;r=i?n?new o:[]:xs(t)&&Es(o)?mn(Pe(t)):{}}return(i?He:Wn)(t,function(t,n,i){return e(r,t,n,i)}),r},pn.unary=function(t){return ts(t,1)},pn.union=Ba,pn.unionBy=Ca,pn.unionWith=Ia,pn.uniq=function(t){return t&&t.length?Di(t):[]},pn.uniqBy=function(t,e){return t&&t.length?Di(t,jo(e,2)):[]},pn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?Di(t,r,e):[]},pn.unset=function(t,e){return null==t||Ui(t,e)},pn.unzip=Ta,pn.unzipWith=Pa,pn.update=function(t,e,r){return null==t?t:Fi(t,e,Gi(r))},pn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:Fi(t,e,Gi(n),i)},pn.values=du,pn.valuesIn=function(t){return null==t?[]:mr(t,ou(t))},pn.without=Na,pn.words=Eu,pn.wrap=function(t,e){return fs(Gi(e),t)},pn.xor=Ra,pn.xorBy=La,pn.xorWith=Oa,pn.zip=ja,pn.zipObject=function(t,e){return Vi(t||[],e||[],Cn)},pn.zipObjectDeep=function(t,e){return Vi(t||[],e||[],xi)},pn.zipWith=Da,pn.entries=hu,pn.entriesIn=lu,pn.extend=$s,pn.extendWith=Ws,Ru(pn,pn),pn.add=Vu,pn.attempt=Mu,pn.camelCase=pu,pn.capitalize=mu,pn.ceil=Hu,pn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=zs(n))==n?n:0),e!==r&&(e=(e=zs(e))==e?e:0),Ln(zs(t),e,n)},pn.clone=function(t){return On(t,h)},pn.cloneDeep=function(t){return On(t,c|h)},pn.cloneDeepWith=function(t,e){return On(t,c|h,e="function"==typeof e?e:r)},pn.cloneWith=function(t,e){return On(t,h,e="function"==typeof e?e:r)},pn.conformsTo=function(t,e){return null==e||jn(t,e,iu(e))},pn.deburr=yu,pn.defaultTo=function(t,e){return null==t||t!=t?e:t},pn.divide=Gu,pn.endsWith=function(t,e,n){t=Hs(t),e=ji(e);var i=t.length,o=n=n===r?i:Ln(qs(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},pn.eq=ds,pn.escape=function(t){return(t=Hs(t))&&St.test(t)?t.replace(_t,wr):t},pn.escapeRegExp=function(t){return(t=Hs(t))&&Tt.test(t)?t.replace(It,"\\$&"):t},pn.every=function(t,e,n){var i=vs(t)?$e:Kn;return n&&Wo(t,e,n)&&(e=r),i(t,jo(e,3))},pn.find=za,pn.findIndex=ya,pn.findKey=function(t,e){return nr(t,jo(e,3),Wn)},pn.findLast=Va,pn.findLastIndex=va,pn.findLastKey=function(t,e){return nr(t,jo(e,3),Yn)},pn.floor=$u,pn.forEach=Ha,pn.forEachRight=Ga,pn.forIn=function(t,e){return null==t?t:Gn(t,jo(e,3),ou)},pn.forInRight=function(t,e){return null==t?t:$n(t,jo(e,3),ou)},pn.forOwn=function(t,e){return t&&Wn(t,jo(e,3))},pn.forOwnRight=function(t,e){return t&&Yn(t,jo(e,3))},pn.get=Js,pn.gt=ps,pn.gte=ms,pn.has=function(t,e){return null!=t&&Vo(t,e,ei)},pn.hasIn=tu,pn.head=ba,pn.identity=Iu,pn.includes=function(t,e,r,n){t=bs(t)?t:du(t),r=r&&!n?qs(r):0;var i=t.length;return r<0&&(r=Hr(i+r,0)),Rs(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&or(t,e,r)>-1},pn.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:qs(r);return i<0&&(i=Hr(n+i,0)),or(t,e,i)},pn.inRange=function(t,e,n){return e=Fs(e),n===r?(n=e,e=0):n=Fs(n),function(t,e,r){return t>=Gr(e,r)&&t<Hr(e,r)}(t=zs(t),e,n)},pn.invoke=nu,pn.isArguments=ys,pn.isArray=vs,pn.isArrayBuffer=gs,pn.isArrayLike=bs,pn.isArrayLikeObject=ws,pn.isBoolean=function(t){return!0===t||!1===t||Bs(t)&&Jn(t)==q},pn.isBuffer=_s,pn.isDate=ks,pn.isElement=function(t){return Bs(t)&&1===t.nodeType&&!Ts(t)},pn.isEmpty=function(t){if(null==t)return!0;if(bs(t)&&(vs(t)||"string"==typeof t||"function"==typeof t.splice||_s(t)||Os(t)||ys(t)))return!t.length;var e=zo(t);if(e==$||e==tt)return!t.size;if(Xo(t))return!fi(t).length;for(var r in t)if(fe.call(t,r))return!1;return!0},pn.isEqual=function(t,e){return ai(t,e)},pn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?ai(t,e,r,n):!!i},pn.isError=Ss,pn.isFinite=function(t){return"number"==typeof t&&Kr(t)},pn.isFunction=Es,pn.isInteger=Ms,pn.isLength=As,pn.isMap=Cs,pn.isMatch=function(t,e){return t===e||si(t,e,Uo(e))},pn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,si(t,e,Uo(e),n)},pn.isNaN=function(t){return Is(t)&&t!=+t},pn.isNative=function(t){if(Qo(t))throw new Xt(i);return ui(t)},pn.isNil=function(t){return null==t},pn.isNull=function(t){return null===t},pn.isNumber=Is,pn.isObject=xs,pn.isObjectLike=Bs,pn.isPlainObject=Ts,pn.isRegExp=Ps,pn.isSafeInteger=function(t){return Ms(t)&&t>=-T&&t<=T},pn.isSet=Ns,pn.isString=Rs,pn.isSymbol=Ls,pn.isTypedArray=Os,pn.isUndefined=function(t){return t===r},pn.isWeakMap=function(t){return Bs(t)&&zo(t)==it},pn.isWeakSet=function(t){return Bs(t)&&Jn(t)==ot},pn.join=function(t,e){return null==t?"":zr.call(t,e)},pn.kebabCase=vu,pn.last=Sa,pn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=qs(n))<0?Hr(i+o,0):Gr(o,i-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,o):ir(t,sr,o,!0)},pn.lowerCase=gu,pn.lowerFirst=bu,pn.lt=js,pn.lte=Ds,pn.max=function(t){return t&&t.length?zn(t,Iu,ti):r},pn.maxBy=function(t,e){return t&&t.length?zn(t,jo(e,2),ti):r},pn.mean=function(t){return ur(t,Iu)},pn.meanBy=function(t,e){return ur(t,jo(e,2))},pn.min=function(t){return t&&t.length?zn(t,Iu,li):r},pn.minBy=function(t,e){return t&&t.length?zn(t,jo(e,2),li):r},pn.stubArray=Ku,pn.stubFalse=zu,pn.stubObject=function(){return{}},pn.stubString=function(){return""},pn.stubTrue=function(){return!0},pn.multiply=Yu,pn.nth=function(t,e){return t&&t.length?vi(t,qs(e)):r},pn.noConflict=function(){return Te._===this&&(Te._=me),this},pn.noop=Lu,pn.now=Ja,pn.pad=function(t,e,r){t=Hs(t);var n=(e=qs(e))?Cr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return bo(Ur(i),r)+t+bo(Dr(i),r)},pn.padEnd=function(t,e,r){t=Hs(t);var n=(e=qs(e))?Cr(t):0;return e&&n<e?t+bo(e-n,r):t},pn.padStart=function(t,e,r){t=Hs(t);var n=(e=qs(e))?Cr(t):0;return e&&n<e?bo(e-n,r)+t:t},pn.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Wr(Hs(t).replace(Nt,""),e||0)},pn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Wo(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Fs(t),e===r?(e=t,t=0):e=Fs(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=Yr();return Gr(t+o*(e-t+xe("1e-"+((o+"").length-1))),e)}return ki(t,e)},pn.reduce=function(t,e,r){var n=vs(t)?Je:hr,i=arguments.length<3;return n(t,jo(e,4),r,i,Fn)},pn.reduceRight=function(t,e,r){var n=vs(t)?tr:hr,i=arguments.length<3;return n(t,jo(e,4),r,i,qn)},pn.repeat=function(t,e,n){return e=(n?Wo(t,e,n):e===r)?1:qs(e),Si(Hs(t),e)},pn.replace=function(){var t=arguments,e=Hs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pn.result=function(t,e,n){var i=-1,o=(e=$i(e,t)).length;for(o||(o=1,t=r);++i<o;){var a=null==t?r:t[fa(e[i])];a===r&&(i=o,a=n),t=Es(a)?a.call(t):a}return t},pn.round=Zu,pn.runInContext=t,pn.sample=function(t){return(vs(t)?Mn:Mi)(t)},pn.size=function(t){if(null==t)return 0;if(bs(t))return Rs(t)?Cr(t):t.length;var e=zo(t);return e==$||e==tt?t.size:fi(t).length},pn.snakeCase=wu,pn.some=function(t,e,n){var i=vs(t)?er:Pi;return n&&Wo(t,e,n)&&(e=r),i(t,jo(e,3))},pn.sortedIndex=function(t,e){return Ni(t,e)},pn.sortedIndexBy=function(t,e,r){return Ri(t,e,jo(r,2))},pn.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=Ni(t,e);if(n<r&&ds(t[n],e))return n}return-1},pn.sortedLastIndex=function(t,e){return Ni(t,e,!0)},pn.sortedLastIndexBy=function(t,e,r){return Ri(t,e,jo(r,2),!0)},pn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=Ni(t,e,!0)-1;if(ds(t[r],e))return r}return-1},pn.startCase=_u,pn.startsWith=function(t,e,r){return t=Hs(t),r=null==r?0:Ln(qs(r),0,t.length),e=ji(e),t.slice(r,r+e.length)==e},pn.subtract=Qu,pn.sum=function(t){return t&&t.length?lr(t,Iu):0},pn.sumBy=function(t,e){return t&&t.length?lr(t,jo(e,2)):0},pn.template=function(t,e,n){var i=pn.templateSettings;n&&Wo(t,e,n)&&(e=r),t=Hs(t),e=Ws({},e,i,xo);var o,a,s=Ws({},e.imports,i.imports,xo),u=iu(s),c=mr(s,u),f=0,h=e.interpolate||Wt,l="__p += '",d=re((e.escape||Wt).source+"|"+h.source+"|"+(h===At?Ft:Wt).source+"|"+(e.evaluate||Wt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Se+"]")+"\n";t.replace(d,function(e,r,n,i,s,u){return n||(n=i),l+=t.slice(f,u).replace(Yt,_r),r&&(o=!0,l+="' +\n__e("+r+") +\n'"),s&&(a=!0,l+="';\n"+s+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),l+="';\n";var m=e.variable;m||(l="with (obj) {\n"+l+"\n}\n"),l=(a?l.replace(vt,""):l).replace(gt,"$1").replace(bt,"$1;"),l="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var y=Mu(function(){return Jt(u,p+"return "+l).apply(r,c)});if(y.source=l,Ss(y))throw y;return y},pn.times=function(t,e){if((t=qs(t))<1||t>T)return[];var r=R,n=Gr(t,R);e=jo(e),t-=R;for(var i=dr(n,e);++r<t;)e(r);return i},pn.toFinite=Fs,pn.toInteger=qs,pn.toLength=Ks,pn.toLower=function(t){return Hs(t).toLowerCase()},pn.toNumber=zs,pn.toSafeInteger=function(t){return t?Ln(qs(t),-T,T):0===t?t:0},pn.toString=Hs,pn.toUpper=function(t){return Hs(t).toUpperCase()},pn.trim=function(t,e,n){if((t=Hs(t))&&(n||e===r))return t.replace(Pt,"");if(!t||!(e=ji(e)))return t;var i=Ir(t),o=Ir(e);return Yi(i,vr(i,o),gr(i,o)+1).join("")},pn.trimEnd=function(t,e,n){if((t=Hs(t))&&(n||e===r))return t.replace(Rt,"");if(!t||!(e=ji(e)))return t;var i=Ir(t);return Yi(i,0,gr(i,Ir(e))+1).join("")},pn.trimStart=function(t,e,n){if((t=Hs(t))&&(n||e===r))return t.replace(Nt,"");if(!t||!(e=ji(e)))return t;var i=Ir(t);return Yi(i,vr(i,Ir(e))).join("")},pn.truncate=function(t,e){var n=E,i=M;if(xs(e)){var o="separator"in e?e.separator:o;n="length"in e?qs(e.length):n,i="omission"in e?ji(e.omission):i}var a=(t=Hs(t)).length;if(kr(t)){var s=Ir(t);a=s.length}if(n>=a)return t;var u=n-Cr(i);if(u<1)return i;var c=s?Yi(s,0,u).join(""):t.slice(0,u);if(o===r)return c+i;if(s&&(u+=c.length-u),Ps(o)){if(t.slice(u).search(o)){var f,h=c;for(o.global||(o=re(o.source,Hs(qt.exec(o))+"g")),o.lastIndex=0;f=o.exec(h);)var l=f.index;c=c.slice(0,l===r?u:l)}}else if(t.indexOf(ji(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+i},pn.unescape=function(t){return(t=Hs(t))&&kt.test(t)?t.replace(wt,Tr):t},pn.uniqueId=function(t){var e=++he;return Hs(t)+e},pn.upperCase=ku,pn.upperFirst=Su,pn.each=Ha,pn.eachRight=Ga,pn.first=ba,Ru(pn,(Wu={},Wn(pn,function(t,e){fe.call(pn.prototype,e)||(Wu[e]=t)}),Wu),{chain:!1}),pn.VERSION="4.17.5",He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pn[t].placeholder=pn}),He(["drop","take"],function(t,e){gn.prototype[t]=function(n){n=n===r?1:Hr(qs(n),0);var i=this.__filtered__&&!e?new gn(this):this.clone();return i.__filtered__?i.__takeCount__=Gr(n,i.__takeCount__):i.__views__.push({size:Gr(n,R),type:t+(i.__dir__<0?"Right":"")}),i},gn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),He(["filter","map","takeWhile"],function(t,e){var r=e+1,n=r==B||3==r;gn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:jo(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}}),He(["head","last"],function(t,e){var r="take"+(e?"Right":"");gn.prototype[t]=function(){return this[r](1).value()[0]}}),He(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");gn.prototype[t]=function(){return this.__filtered__?new gn(this):this[r](1)}}),gn.prototype.compact=function(){return this.filter(Iu)},gn.prototype.find=function(t){return this.filter(t).head()},gn.prototype.findLast=function(t){return this.reverse().find(t)},gn.prototype.invokeMap=Ei(function(t,e){return"function"==typeof t?new gn(this):this.map(function(r){return ii(r,t,e)})}),gn.prototype.reject=function(t){return this.filter(us(jo(t)))},gn.prototype.slice=function(t,e){t=qs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new gn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=qs(e))<0?n.dropRight(-e):n.take(e-t)),n)},gn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},gn.prototype.toArray=function(){return this.take(R)},Wn(gn.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=pn[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(pn.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof gn,c=s[0],f=u||vs(e),h=function(t){var e=o.apply(pn,Xe([t],s));return i&&l?e[0]:e};f&&n&&"function"==typeof c&&1!=c.length&&(u=f=!1);var l=this.__chain__,d=!!this.__actions__.length,p=a&&!l,m=u&&!d;if(!a&&f){e=m?e:new gn(this);var y=t.apply(e,s);return y.__actions__.push({func:Fa,args:[h],thisArg:r}),new vn(y,l)}return p&&m?t.apply(this,s):(y=this.thru(h),p?i?y.value()[0]:y.value():y)})}),He(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);pn.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(vs(i)?i:[],t)}return this[r](function(r){return e.apply(vs(r)?r:[],t)})}}),Wn(gn.prototype,function(t,e){var r=pn[e];if(r){var n=r.name+"";(on[n]||(on[n]=[])).push({name:e,func:r})}}),on[mo(r,m).name]=[{name:"wrapper",func:r}],gn.prototype.clone=function(){var t=new gn(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},gn.prototype.reverse=function(){if(this.__filtered__){var t=new gn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},gn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=vs(t),n=e<0,i=r?t.length:0,o=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Gr(e,t+a);break;case"takeRight":t=Hr(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=n?s:a-1,f=this.__iteratees__,h=f.length,l=0,d=Gr(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return Ki(t,this.__actions__);var p=[];t:for(;u--&&l<d;){for(var m=-1,y=t[c+=e];++m<h;){var v=f[m],g=v.iteratee,b=v.type,w=g(y);if(b==C)y=w;else if(!w){if(b==B)continue t;break t}}p[l++]=y}return p},pn.prototype.at=qa,pn.prototype.chain=function(){return Ua(this)},pn.prototype.commit=function(){return new vn(this.value(),this.__chain__)},pn.prototype.next=function(){this.__values__===r&&(this.__values__=Us(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},pn.prototype.plant=function(t){for(var e,n=this;n instanceof yn;){var i=la(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},pn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof gn){var e=t;return this.__actions__.length&&(e=new gn(this)),(e=e.reverse()).__actions__.push({func:Fa,args:[xa],thisArg:r}),new vn(e,this.__chain__)}return this.thru(xa)},pn.prototype.toJSON=pn.prototype.valueOf=pn.prototype.value=function(){return Ki(this.__wrapped__,this.__actions__)},pn.prototype.first=pn.prototype.head,fr&&(pn.prototype[fr]=function(){return this}),pn}();"function"==typeof r&&"object"==typeof r.amd&&r.amd?(Te._=Pr,r(function(){return Pr})):Ne?((Ne.exports=Pr)._=Pr,Pe._=Pr):Te._=Pr}).call(X)}),xU=t=>{const e=FL(t);return{add:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r=null),t({path:"pin/add",args:e,qs:r},(t,e)=>{if(t)return n(t);n(null,e.Pins.map(t=>({hash:t})))})}))(e),rm:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r=null),t({path:"pin/rm",args:e,qs:r},(t,e)=>{if(t)return n(t);n(null,e.Pins.map(t=>({hash:t})))})}))(e),ls:(t=>xI((e,r,n)=>{"function"==typeof e&&(n=e,r=null,e=null),"function"==typeof r&&(n=r),e&&e.type?(r=e,e=null):r=null,t({path:"pin/ls",args:e,qs:r},(t,e)=>{if(t)return n(t);n(null,AU.keys(e.Keys).map(t=>({hash:t,type:e.Keys[t].Type})))})}))(e)}},BU=t=>{const e=FL(t);return xI((t,r)=>{const n={path:"ping",args:t,qs:{n:1}};e.andTransform(n,(t,e)=>{RL(t,(t,r)=>{if(t)return e(t);const n={Success:r[1].Success,Time:r[1].Time,Text:r[2].Text};e(null,n)})},r)})},CU=t=>{const e=FL(t),r=xI((t,r,n)=>{"function"==typeof r&&(n=r,r={});const i={path:"refs",args:t,qs:r};e.andTransform(i,RL,n)});return r.local=xI((t,r)=>{"function"==typeof t&&(r=t,t={});const n={path:"refs/local",qs:t};e.andTransform(n,RL,r)}),r};const IU=function(t,e){e(null,{numObjects:new VL(t.NumObjects),repoSize:new VL(t.RepoSize),repoPath:t.RepoPath,version:t.Version,storageMax:new VL(t.StorageMax)})};const TU=function(t,e){e(null,t.Version)};var PU=t=>{const e=FL(t);return{gc:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t({path:"repo/gc",qs:e},r)}))(e),stat:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t.andTransform({path:"repo/stat",qs:e},IU,r)}))(e),version:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t.andTransform({path:"repo/version",qs:e},TU,r)}))(e)}},NU=t=>{const e=FL(t);return xI(t=>{e({path:"shutdown"},t)})};const RU=function(t,e){e(null,{provideBufLen:t.ProvideBufLen,wantlist:t.Wantlist||[],peers:t.Peers||[],blocksReceived:new VL(t.BlocksReceived),dataReceived:new VL(t.DataReceived),blocksSent:new VL(t.BlocksSent),dataSent:new VL(t.DataSent),dupBlksReceived:new VL(t.DupBlksReceived),dupDataReceived:new VL(t.DupDataReceived)})};var LU=t=>({totalIn:new VL(t.TotalIn),totalOut:new VL(t.TotalOut),rateIn:new VL(t.RateIn),rateOut:new VL(t.RateOut)});const OU=(t,e)=>RL(t,(t,r)=>{if(t)return e(t);e(null,LU(r[0]))});const jU=function(t,e){e(null,{numObjects:new VL(t.NumObjects),repoSize:new VL(t.RepoSize),repoPath:t.RepoPath,version:t.Version,storageMax:new VL(t.StorageMax)})};var DU=t=>{const e=FL(t);return{bitswap:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t.andTransform({path:"stats/bitswap",qs:e},RU,r)}))(e),bw:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t.andTransform({path:"stats/bw",qs:e},OU,r)}))(e),bwReadableStream:(t=>e=>{e=e||{};const r=new eP.Transform({objectMode:!0,transform(t,e,r){r(null,LU(t))}});return t({path:"stats/bw",qs:e},(t,e)=>{if(t)return r.destroy(t);IN(e,r)}),r})(e),bwPullStream:(t=>e=>{e=e||{};const r=RN.source();return t({path:"stats/bw",qs:e},(t,e)=>{if(t)return r.end(t);r.resolve(VR(LP.source(e),VR.map(LU)))}),r})(e),repo:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t.andTransform({path:"stats/repo",qs:e},jU,r)}))(e)}},UU=function(t,e){return t.then(t=>{e(null,t)},t=>{e(t)})},FU=function(t){if("function"!=typeof Promise)throw"Promise support required";var e=t.crypto||t.msCrypto;if(e){var r=e.subtle||e.webkitSubtle;if(r){var n=t.Crypto||e.constructor||Object,i=t.SubtleCrypto||r.constructor||Object,o=(t.CryptoKey||t.Key||Object,t.navigator.userAgent.indexOf("Edge/")>-1),a=!!t.msCrypto&&!o,s=!e.subtle&&!!e.webkitSubtle;if(a||s){var u={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},c={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(t){var n=r[t];r[t]=function(i,o,u){var c,f,b,S,E,M=[].slice.call(arguments);switch(t){case"generateKey":c=m(i),f=o,b=u;break;case"importKey":c=m(u),f=M[3],b=M[4],"jwk"===i&&((o=v(o)).alg||(o.alg=y(c)),o.key_ops||(o.key_ops="oct"!==o.kty?"d"in o?b.filter(k):b.filter(_):b.slice()),M[1]=(S=v(o),a&&(S.extractable=S.ext,delete S.ext),d(unescape(encodeURIComponent(JSON.stringify(S)))).buffer));break;case"unwrapKey":c=M[4],f=M[5],b=M[6],M[2]=u._key}if("generateKey"===t&&"HMAC"===c.name&&c.hash)return c.length=c.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[c.hash.name],r.importKey("raw",e.getRandomValues(new Uint8Array(c.length+7>>3)),c,f,b);if(s&&"generateKey"===t&&"RSASSA-PKCS1-v1_5"===c.name&&(!c.modulusLength||c.modulusLength>=2048))return(i=m(i)).name="RSAES-PKCS1-v1_5",delete i.hash,r.generateKey(i,!0,["encrypt","decrypt"]).then(function(t){return Promise.all([r.exportKey("jwk",t.publicKey),r.exportKey("jwk",t.privateKey)])}).then(function(t){return t[0].alg=t[1].alg=y(c),t[0].key_ops=b.filter(_),t[1].key_ops=b.filter(k),Promise.all([r.importKey("jwk",t[0],c,!0,t[0].key_ops),r.importKey("jwk",t[1],c,f,t[1].key_ops)])}).then(function(t){return{publicKey:t[0],privateKey:t[1]}});if((s||a&&"SHA-1"===(c.hash||{}).name)&&"importKey"===t&&"jwk"===i&&"HMAC"===c.name&&"oct"===o.kty)return r.importKey("raw",d(l(o.k)),u,M[3],M[4]);if(s&&"importKey"===t&&("spki"===i||"pkcs8"===i))return r.importKey("jwk",function(t){var e=g(t),r=!1;e.length>2&&(r=!0,e.shift());var n={ext:!0};switch(e[0][0]){case"1.2.840.113549.1.1.1":var i=["n","e","d","p","q","dp","dq","qi"],o=g(e[1]);r&&o.shift();for(var a=0;a<o.length;a++)o[a][0]||(o[a]=o[a].subarray(1)),n[i[a]]=h(p(o[a]));n.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return n}(o),u,M[3],M[4]);if(a&&"unwrapKey"===t)return r.decrypt(M[3],u,o).then(function(t){return r.importKey(i,t,M[4],M[5],M[6])});try{E=n.apply(r,M)}catch(t){return Promise.reject(t)}return a&&(E=new Promise(function(t,e){E.onabort=E.onerror=function(t){e(t)},E.oncomplete=function(e){t(e.target.result)}})),E=E.then(function(t){return"HMAC"===c.name&&(c.length||(c.length=8*t.algorithm.length)),0==c.name.search("RSA")&&(c.modulusLength||(c.modulusLength=(t.publicKey||t).algorithm.modulusLength),c.publicExponent||(c.publicExponent=(t.publicKey||t).algorithm.publicExponent)),t=t.publicKey&&t.privateKey?{publicKey:new w(t.publicKey,c,f,b.filter(_)),privateKey:new w(t.privateKey,c,f,b.filter(k))}:new w(t,c,f,b)})}}),["exportKey","wrapKey"].forEach(function(t){var e=r[t];r[t]=function(n,i,o){var u,c=[].slice.call(arguments);switch(t){case"exportKey":c[1]=i._key;break;case"wrapKey":c[1]=i._key,c[2]=o._key}if((s||a&&"SHA-1"===(i.algorithm.hash||{}).name)&&"exportKey"===t&&"jwk"===n&&"HMAC"===i.algorithm.name&&(c[0]="raw"),!s||"exportKey"!==t||"spki"!==n&&"pkcs8"!==n||(c[0]="jwk"),a&&"wrapKey"===t)return r.exportKey(n,i).then(function(t){return"jwk"===n&&(t=d(unescape(encodeURIComponent(JSON.stringify(v(t)))))),r.encrypt(c[3],o,t)});try{u=e.apply(r,c)}catch(t){return Promise.reject(t)}return a&&(u=new Promise(function(t,e){u.onabort=u.onerror=function(t){e(t)},u.oncomplete=function(e){t(e.target.result)}})),"exportKey"===t&&"jwk"===n&&(u=u.then(function(t){return(s||a&&"SHA-1"===(i.algorithm.hash||{}).name)&&"HMAC"===i.algorithm.name?{kty:"oct",alg:y(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:h(p(t))}:((t=v(t)).alg||(t.alg=y(i.algorithm)),t.key_ops||(t.key_ops="public"===i.type?i.usages.filter(_):"private"===i.type?i.usages.filter(k):i.usages.slice()),t)})),!s||"exportKey"!==t||"spki"!==n&&"pkcs8"!==n||(u=u.then(function(t){return t=function(t){var e,r=[["",null]],n=!1;switch(t.kty){case"RSA":for(var i=["n","e","d","p","q","dp","dq","qi"],o=[],a=0;a<i.length&&i[a]in t;a++){var s=o[a]=d(l(t[i[a]]));128&s[0]&&(o[a]=new Uint8Array(s.length+1),o[a].set(s,1))}o.length>2&&(n=!0,o.unshift(new Uint8Array([0]))),r[0][0]="1.2.840.113549.1.1.1",e=o;break;default:throw new TypeError("Unsupported key type")}return r.push(new Uint8Array(b(e)).buffer),n?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(b(r)).buffer}(v(t))})),u}}),["encrypt","decrypt","sign","verify"].forEach(function(t){var e=r[t];r[t]=function(n,i,o,s){if(a&&(!o.byteLength||s&&!s.byteLength))throw new Error("Empy input is not allowed");var u,c=[].slice.call(arguments),f=m(n);if(a&&"decrypt"===t&&"AES-GCM"===f.name){var h=n.tagLength>>3;c[2]=(o.buffer||o).slice(0,o.byteLength-h),n.tag=(o.buffer||o).slice(o.byteLength-h)}c[1]=i._key;try{u=e.apply(r,c)}catch(t){return Promise.reject(t)}return a&&(u=new Promise(function(e,r){u.onabort=u.onerror=function(t){r(t)},u.oncomplete=function(r){r=r.target.result;if("encrypt"===t&&r instanceof AesGcmEncryptResult){var n=r.ciphertext,i=r.tag;(r=new Uint8Array(n.byteLength+i.byteLength)).set(new Uint8Array(n),0),r.set(new Uint8Array(i),n.byteLength),r=r.buffer}e(r)}})),u}}),a){var f=r.digest;r.digest=function(t,e){if(!e.byteLength)throw new Error("Empy input is not allowed");var n;try{n=f.call(r,t,e)}catch(t){return Promise.reject(t)}return n=new Promise(function(t,e){n.onabort=n.onerror=function(t){e(t)},n.oncomplete=function(e){t(e.target.result)}})},t.crypto=Object.create(e,{getRandomValues:{value:function(t){return e.getRandomValues(t)}},subtle:{value:r}}),t.CryptoKey=w}s&&(e.subtle=r,t.Crypto=n,t.SubtleCrypto=i,t.CryptoKey=w)}}}function h(t){return btoa(t).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(t){return t=(t+="===").slice(0,-t.length%4),atob(t.replace(/-/g,"+").replace(/_/g,"/"))}function d(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function p(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),String.fromCharCode.apply(String,t)}function m(t){var e={name:(t.name||t||"").toUpperCase().replace("V","v")};switch(e.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":t.length&&(e.length=t.length);break;case"HMAC":t.hash&&(e.hash=m(t.hash)),t.length&&(e.length=t.length);break;case"RSAES-PKCS1-v1_5":t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":t.hash&&(e.hash=m(t.hash)),t.publicExponent&&(e.publicExponent=new Uint8Array(t.publicExponent)),t.modulusLength&&(e.modulusLength=t.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return e}function y(t){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[t.name][(t.hash||{}).name||t.length||""]}function v(t){(t instanceof ArrayBuffer||t instanceof Uint8Array)&&(t=JSON.parse(decodeURIComponent(escape(p(t)))));var e={kty:t.kty,alg:t.alg,ext:t.ext||t.extractable};switch(e.kty){case"oct":e.k=t.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(r){r in t&&(e[r]=t[r])});break;default:throw new TypeError("Unsupported key type")}return e}function g(t,e){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),e||(e={pos:0,end:t.length}),e.end-e.pos<2||e.end>t.length)throw new RangeError("Malformed DER");var r,n=t[e.pos++],i=t[e.pos++];if(i>=128){if(i&=127,e.end-e.pos<i)throw new RangeError("Malformed DER");for(var o=0;i--;)o<<=8,o|=t[e.pos++];i=o}if(e.end-e.pos<i)throw new RangeError("Malformed DER");switch(n){case 2:r=t.subarray(e.pos,e.pos+=i);break;case 3:if(t[e.pos++])throw new Error("Unsupported bit string");i--;case 4:r=new Uint8Array(t.subarray(e.pos,e.pos+=i)).buffer;break;case 5:r=null;break;case 6:var a=btoa(p(t.subarray(e.pos,e.pos+=i)));if(!(a in u))throw new Error("Unsupported OBJECT ID "+a);r=u[a];break;case 48:r=[];for(var s=e.pos+i;e.pos<s;)r.push(g(t,e));break;default:throw new Error("Unsupported DER tag 0x"+n.toString(16))}return r}function b(t,e){e||(e=[]);var r=0,n=0,i=e.length+2;if(e.push(0,0),t instanceof Uint8Array){r=2,n=t.length;for(var o=0;o<n;o++)e.push(t[o])}else if(t instanceof ArrayBuffer){r=4,n=t.byteLength,t=new Uint8Array(t);for(o=0;o<n;o++)e.push(t[o])}else if(null===t)r=5,n=0;else if("string"==typeof t&&t in c){var a=d(atob(c[t]));r=6,n=a.length;for(o=0;o<n;o++)e.push(a[o])}else if(t instanceof Array){for(o=0;o<t.length;o++)b(t[o],e);r=48,n=e.length-i}else{if(!("object"==typeof t&&3===t.tag&&t.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+t);r=3,n=(t=new Uint8Array(t.value)).byteLength,e.push(0);for(o=0;o<n;o++)e.push(t[o]);n++}if(n>=128){var s=n;n=4;for(e.splice(i,0,s>>24&255,s>>16&255,s>>8&255,255&s);n>1&&!(s>>24);)s<<=8,n--;n<4&&e.splice(i,4-n),n|=128}return e.splice(i-2,2,r,n),e}function w(t,e,r,n){Object.defineProperties(this,{_key:{value:t},type:{value:t.type,enumerable:!0},extractable:{value:void 0===r?t.extractable:r,enumerable:!0},algorithm:{value:void 0===e?t.algorithm:e,enumerable:!0},usages:{value:void 0===n?t.usages:n,enumerable:!0}})}function _(t){return"verify"===t||"encrypt"===t||"wrapKey"===t}function k(t){return"sign"===t||"decrypt"===t||"unwrapKey"===t}},qU=()=>{if("undefined"!=typeof self&&(FU(self),self.crypto))return self.crypto;throw new Error("Please use an environment with crypto support")},KU={SHA1:20,SHA256:32,SHA512:64};const zU=qU(),VU={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};var HU={create:function(t,e,r){const n=VU[t];UU(zU.subtle.importKey("raw",e,{name:"HMAC",hash:{name:n}},!1,["sign"]).then(e=>({digest(t,r){((t,e,r)=>{UU(zU.subtle.sign({name:"HMAC"},t,e).then(t=>Buffer.from(t)),r)})(e,t,r)},length:KU[t]})),r)}},GU={createCipheriv:Cf.createCipheriv,createDecipheriv:Cf.createDecipheriv};const $U={16:"aes-128-ctr",32:"aes-256-ctr"};var WU={create:function(t,e,r){const n=$U[t.length];if(!n)return r(new Error("Invalid key length"));const i=GU.createCipheriv(n,t,e),o=GU.createDecipheriv(n,t,e);r(null,{encrypt(t,e){e(null,i.update(t))},decrypt(t,e){e(null,o.update(t))}})}},YU="enum KeyType {\n  RSA = 0;\n  Ed25519 = 1;\n  Secp256k1 = 2;\n}\nmessage PublicKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}\nmessage PrivateKey {\n  required KeyType Type = 1;\n  required bytes Data = 2;\n}",ZU={options:{usePureJavaScript:!1}};et(function(t){var e=t.exports=ZU.util=ZU.util||{};function r(t){if(8!==t&&16!==t&&24!==t&&32!==t)throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}function n(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(e.isArrayBuffer(t)||e.isArrayBufferView(t)){var r=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,r)}catch(t){for(var i=0;i<r.length;++i)this.putByte(r[i])}}else(t instanceof n||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick)return e.nextTick=process.nextTick,void("function"==typeof setImmediate?e.setImmediate=setImmediate:e.setImmediate=e.nextTick);if("function"==typeof setImmediate)return e.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(e.nextTick=function(t){return setImmediate(t)});if(e.setImmediate=function(t){setTimeout(t,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var t="forge.setImmediate",r=[];e.setImmediate=function(e){r.push(e),1===r.length&&window.postMessage(t,"*")},window.addEventListener("message",function(e){if(e.source===window&&e.data===t){e.stopPropagation();var n=r.slice();r.length=0,n.forEach(function(t){t()})}},!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,o=document.createElement("div");r=[];new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})}).observe(o,{attributes:!0});var a=e.setImmediate;e.setImmediate=function(t){Date.now()-n>15?(n=Date.now(),a(t)):(r.push(t),1===r.length&&o.setAttribute("a",i=!i))}}e.nextTick=e.setImmediate}(),e.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,e.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer},e.isArrayBufferView=function(t){return t&&e.isArrayBuffer(t.buffer)&&void 0!==t.byteLength},e.ByteBuffer=n,e.ByteStringBuffer=n;e.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},e.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},e.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},e.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},e.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},e.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},e.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(e.encodeUtf8(t))},e.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},e.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},e.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},e.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},e.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},e.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},e.ByteStringBuffer.prototype.putInt=function(t,e){r(e);var n="";do{e-=8,n+=String.fromCharCode(t>>e&255)}while(e>0);return this.putBytes(n)},e.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},e.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},e.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},e.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},e.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},e.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},e.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},e.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},e.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},e.ByteStringBuffer.prototype.getInt=function(t){r(t);var e=0;do{e=(e<<8)+this.data.charCodeAt(this.read++),t-=8}while(t>0);return e},e.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},e.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},e.ByteStringBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},e.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},e.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},e.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},e.ByteStringBuffer.prototype.copy=function(){var t=e.createBuffer(this.data);return t.read=this.read,t},e.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},e.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},e.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},e.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},e.ByteStringBuffer.prototype.toString=function(){return e.decodeUtf8(this.bytes())},e.DataBuffer=function(t,r){r=r||{},this.read=r.readOffset||0,this.growSize=r.growSize||1024;var n=e.isArrayBuffer(t),i=e.isArrayBufferView(t);if(n||i)return this.data=n?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in r?r.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==t&&void 0!==t&&this.putBytes(t),"writeOffset"in r&&(this.write=r.writeOffset)},e.DataBuffer.prototype.length=function(){return this.write-this.read},e.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},e.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},e.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},e.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},e.DataBuffer.prototype.putBytes=function(t,r){if(e.isArrayBufferView(t)){var n=(i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)).byteLength-i.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(i),this.write+=n,this}if(e.isArrayBuffer(t)){var i=new Uint8Array(t);return this.accommodate(i.byteLength),new Uint8Array(this.data.buffer).set(i,this.write),this.write+=i.byteLength,this}if(t instanceof e.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&e.isArrayBufferView(t.data)){i=new Uint8Array(t.data.byteLength,t.read,t.length());return this.accommodate(i.byteLength),new Uint8Array(t.data.byteLength,this.write).set(i),this.write+=i.byteLength,this}if(t instanceof e.ByteStringBuffer&&(t=t.data,r="binary"),r=r||"binary","string"==typeof t){var o;if("hex"===r)return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=e.binary.hex.decode(t,o,this.write),this;if("base64"===r)return this.accommodate(3*Math.ceil(t.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=e.binary.base64.decode(t,o,this.write),this;if("utf8"===r&&(t=e.encodeUtf8(t),r="binary"),"binary"===r||"raw"===r)return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=e.binary.raw.decode(o),this;if("utf16"===r)return this.accommodate(2*t.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=e.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+r)}throw Error("Invalid parameter: "+t)},e.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},e.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},e.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},e.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},e.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},e.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},e.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},e.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},e.DataBuffer.prototype.putInt=function(t,e){r(e),this.accommodate(e/8);do{e-=8,this.data.setInt8(this.write++,t>>e&255)}while(e>0);return this},e.DataBuffer.prototype.putSignedInt=function(t,e){return r(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},e.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},e.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},e.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},e.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},e.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},e.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},e.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},e.DataBuffer.prototype.getInt=function(t){r(t);var e=0;do{e=(e<<8)+this.data.getInt8(this.read++),t-=8}while(t>0);return e},e.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},e.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},e.DataBuffer.prototype.bytes=function(t){return void 0===t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},e.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},e.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},e.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},e.DataBuffer.prototype.copy=function(){return new e.DataBuffer(this)},e.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},e.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},e.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},e.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},e.DataBuffer.prototype.toString=function(t){var r=new Uint8Array(this.data,this.read,this.length());if("binary"===(t=t||"utf8")||"raw"===t)return e.binary.raw.encode(r);if("hex"===t)return e.binary.hex.encode(r);if("base64"===t)return e.binary.base64.encode(r);if("utf8"===t)return e.text.utf8.decode(r);if("utf16"===t)return e.text.utf16.decode(r);throw new Error("Invalid encoding: "+t)},e.createBuffer=function(t,r){return r=r||"raw",void 0!==t&&"utf8"===r&&(t=e.encodeUtf8(t)),new e.ByteBuffer(t)},e.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),(e>>>=1)>0&&(t+=t);return r},e.xorBytes=function(t,e,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o},e.hexToBytes=function(t){var e="",r=0;for(!0&t.length&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},e.bytesToHex=function(t){return e.createBuffer(t).toHex()},e.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];e.encode64=function(t,e){for(var r,n,o,a="",s="",u=0;u<t.length;)r=t.charCodeAt(u++),n=t.charCodeAt(u++),o=t.charCodeAt(u++),a+=i.charAt(r>>2),a+=i.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=i.charAt((15&n)<<2|o>>6),a+=isNaN(o)?"=":i.charAt(63&o)),e&&a.length>e&&(s+=a.substr(0,e)+"\r\n",a=a.substr(e));return s+=a},e.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,a="",s=0;s<t.length;)e=o[t.charCodeAt(s++)-43],r=o[t.charCodeAt(s++)-43],n=o[t.charCodeAt(s++)-43],i=o[t.charCodeAt(s++)-43],a+=String.fromCharCode(e<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},e.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},e.decodeUtf8=function(t){return decodeURIComponent(escape(t))},e.binary={raw:{},hex:{},base64:{}},e.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},e.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));for(var i=r=r||0,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},e.binary.hex.encode=e.bytesToHex,e.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2)));var i=0,o=r=r||0;for(1&t.length&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n},e.binary.base64.encode=function(t,e){for(var r,n,o,a="",s="",u=0;u<t.byteLength;)r=t[u++],n=t[u++],o=t[u++],a+=i.charAt(r>>2),a+=i.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=i.charAt((15&n)<<2|o>>6),a+=isNaN(o)?"=":i.charAt(63&o)),e&&a.length>e&&(s+=a.substr(0,e)+"\r\n",a=a.substr(e));return s+=a},e.binary.base64.decode=function(t,e,r){var n,i,a,s,u=e;u||(u=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,f=r=r||0;c<t.length;)n=o[t.charCodeAt(c++)-43],i=o[t.charCodeAt(c++)-43],a=o[t.charCodeAt(c++)-43],s=o[t.charCodeAt(c++)-43],u[f++]=n<<2|i>>4,64!==a&&(u[f++]=(15&i)<<4|a>>2,64!==s&&(u[f++]=(3&a)<<6|s));return e?f-r:u.subarray(0,f)},e.text={utf8:{},utf16:{}},e.text.utf8.encode=function(t,r,n){t=e.encodeUtf8(t);var i=r;i||(i=new Uint8Array(t.length));for(var o=n=n||0,a=0;a<t.length;++a)i[o++]=t.charCodeAt(a);return r?o-n:i},e.text.utf8.decode=function(t){return e.decodeUtf8(String.fromCharCode.apply(null,t))},e.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(2*t.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,a=r,s=0;s<t.length;++s)i[a++]=t.charCodeAt(s),o+=2;return e?o-r:n},e.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))},e.deflate=function(t,r,n){if(r=e.decode64(t.deflate(e.encode64(r)).rval),n){var i=2;32&r.charCodeAt(1)&&(i=6),r=r.substring(i,r.length-4)}return r},e.inflate=function(t,r,n){var i=t.inflate(e.encode64(r)).rval;return null===i?null:e.decode64(i)};var a=function(t,r,n){if(!t)throw new Error("WebStorage not available.");var i;if(null===n?i=t.removeItem(r):(n=e.encode64(JSON.stringify(n)),i=t.setItem(r,n)),void 0!==i&&!0!==i.rval){var o=new Error(i.error.message);throw o.id=i.error.id,o.name=i.error.name,o}},s=function(t,r){if(!t)throw new Error("WebStorage not available.");var n=t.getItem(r);if(t.init)if(null===n.rval){if(n.error){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(e.decode64(n))),n},u=function(t,e,r,n){var i=s(t,e);null===i&&(i={}),i[r]=n,a(t,e,i)},c=function(t,e,r){var n=s(t,e);return null!==n&&(n=r in n?n[r]:null),n},f=function(t,e,r){var n=s(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),a(t,e,n)}},h=function(t,e){a(t,e,null)},l=function(t,e,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,a=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===e[0])throw new Error("Flash local storage not available.");i=t.apply(this,e),o="flash"===n}"web"!==n&&"both"!==n||(e[0]=localStorage,i=t.apply(this,e),o=!0)}catch(t){a=t}if(o)break}if(!o)throw a;return i};e.setItem=function(t,e,r,n,i){l(u,arguments,i)},e.getItem=function(t,e,r,n){return l(c,arguments,n)},e.removeItem=function(t,e,r,n){l(f,arguments,n)},e.clearItems=function(t,e,r){l(h,arguments,r)},e.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var d=null;e.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var i,o,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),o=r[n].substring(a+1)):(i=r[n],o=null),i in e||(e[i]=[]),i in Object.prototype||null===o||e[i].push(unescape(o))}return e};return void 0===t?(null===d&&(d="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),e=d):e=r(t),e},e.parseFragment=function(t){var r=t,n="",i=t.indexOf("?");i>0&&(r=t.substring(0,i),n=t.substring(i+1));var o=r.split("/");return o.length>0&&""===o[0]&&o.shift(),{pathString:r,queryString:n,path:o,query:""===n?{}:e.getQueryVariables(n)}},e.makeRequest=function(t){var r=e.parseFragment(t),n={path:r.pathString,query:r.queryString,getPath:function(t){return void 0===t?r.path:r.path[t]},getQuery:function(t,e){var n;return void 0===t?n=r.query:(n=r.query[t])&&void 0!==e&&(n=n[e]),n},getQueryLast:function(t,e){var r=n.getQuery(t);return r?r[r.length-1]:e}};return n},e.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},e.setPath=function(t,e,r){if("object"==typeof t&&null!==t)for(var n=0,i=e.length;n<i;){var o=e[n++];if(n==i)t[o]=r;else{var a=o in t;(!a||a&&"object"!=typeof t[o]||a&&null===t[o])&&(t[o]={}),t=t[o]}}},e.getPath=function(t,e,r){for(var n=0,i=e.length,o=!0;o&&n<i&&"object"==typeof t&&null!==t;){var a=e[n++];(o=a in t)&&(t=t[a])}return o?t:r},e.deletePath=function(t,e){if("object"==typeof t&&null!==t)for(var r=0,n=e.length;r<n;){var i=e[r++];if(r==n)delete t[i];else{if(!(i in t)||"object"!=typeof t[i]||null===t[i])break;t=t[i]}}},e.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},e.format=function(t){for(var e,r,n=/%./g,i=0,o=[],a=0;e=n.exec(t);){(r=t.substring(a,n.lastIndex-2)).length>0&&o.push(r),a=n.lastIndex;var s=e[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(t.substring(a)),o.join("")},e.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,a=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+s:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")},e.formatSize=function(t){return t=t>=1073741824?e.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?e.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?e.formatNumber(t/1024,0)+" KiB":e.formatNumber(t,0)+" bytes"},e.bytesFromIP=function(t){return-1!==t.indexOf(".")?e.bytesFromIPv4(t):-1!==t.indexOf(":")?e.bytesFromIPv6(t):null},e.bytesFromIPv4=function(t){if(4!==(t=t.split(".")).length)return null;for(var r=e.createBuffer(),n=0;n<t.length;++n){var i=parseInt(t[n],10);if(isNaN(i))return null;r.putByte(i)}return r.getBytes()},e.bytesFromIPv6=function(t){for(var r=0,n=2*(8-(t=t.split(":").filter(function(t){return 0===t.length&&++r,!0})).length+r),i=e.createBuffer(),o=0;o<8;++o)if(t[o]&&0!==t[o].length){var a=e.hexToBytes(t[o]);a.length<2&&i.putByte(0),i.putBytes(a)}else i.fillWithByte(0,n),n=0;return i.getBytes()},e.bytesToIP=function(t){return 4===t.length?e.bytesToIPv4(t):16===t.length?e.bytesToIPv6(t):null},e.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},e.bytesToIPv6=function(t){if(16!==t.length)return null;for(var r=[],n=[],i=0,o=0;o<t.length;o+=2){for(var a=e.bytesToHex(t[o]+t[o+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var s=n[n.length-1],u=r.length;s&&u===s.end+1?(s.end=u,s.end-s.start>n[i].end-n[i].start&&(i=n.length-1)):n.push({start:u,end:u})}r.push(a)}if(n.length>0){var c=n[i];c.end-c.start>0&&(r.splice(c.start,c.end-c.start+1,""),0===c.start&&r.unshift(""),7===c.end&&r.push(""))}return r.join(":")},e.estimateCores=function(t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},"cores"in e&&!t.update)return r(null,e.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return e.cores=navigator.hardwareConcurrency,r(null,e.cores);if("undefined"==typeof Worker)return e.cores=1,r(null,e.cores);if("undefined"==typeof Blob)return e.cores=2,r(null,e.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(t){var e=Date.now(),r=e+4;self.postMessage({st:e,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function t(i,o,a){if(0===o){var s=Math.floor(i.reduce(function(t,e){return t+e},0)/i.length);return e.cores=Math.max(1,s),URL.revokeObjectURL(n),r(null,e.cores)}!function(t,e){for(var r=[],i=[],o=0;o<t;++o){var a=new Worker(n);a.addEventListener("message",function(n){if(i.push(n.data),i.length===t){for(var o=0;o<t;++o)r[o].terminate();e(null,i)}}),r.push(a)}for(var o=0;o<t;++o)r[o].postMessage(o)}(a,function(e,r){i.push(function(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],o=r[n]=[],a=0;a<t;++a)if(n!==a){var s=e[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}(a,r)),t(i,o-1,a)})}([],5,16)}}),ZU.cipher=ZU.cipher||{};ZU.cipher.algorithms=ZU.cipher.algorithms||{},ZU.cipher.createCipher=function(t,e){var r=t;if("string"==typeof r&&(r=ZU.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new ZU.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})},ZU.cipher.createDecipher=function(t,e){var r=t;if("string"==typeof r&&(r=ZU.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+t);return new ZU.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})},ZU.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),ZU.cipher.algorithms[t]=e},ZU.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in ZU.cipher.algorithms?ZU.cipher.algorithms[t]:null};var QU=ZU.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};QU.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=ZU.util.createBuffer(),this.output=t.output||ZU.util.createBuffer(),this.mode.start(e)},QU.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},QU.prototype.finish=function(t){!t||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))};et(function(t){ZU.cipher=ZU.cipher||{};var e=t.exports=ZU.cipher.modes=ZU.cipher.modes||{};function r(t){if("string"==typeof t&&(t=ZU.util.createBuffer(t)),ZU.util.isArray(t)&&t.length>4){var e=t;t=ZU.util.createBuffer();for(var r=0;r<e.length;++r)t.putByte(e[r])}return ZU.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}function n(t){t[t.length-1]=t[t.length-1]+1&4294967295}function i(t){return[t/4294967296|0,4294967295&t]}e.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(t){},e.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},e.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])},e.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},e.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},e.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=r(t.iv),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},e.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},e.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=ZU.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=r(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=ZU.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=r(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(0===t.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=ZU.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=r(t.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(t,e,r){var i=t.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize)for(var o=0;o<this._ints;++o)e.putInt32(t.getInt32()^this._outBlock[o]);else{var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}n(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=ZU.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e,r=ZU.util.createBuffer(t.iv);if(this._cipherLength=0,e="additionalData"in t?ZU.util.createBuffer(t.additionalData):ZU.util.createBuffer(),this._tagLength="tagLength"in t?t.tagLength:128,this._tag=null,t.decrypt&&(this._tag=ZU.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=r.length();if(12===o)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(i(8*o)))}this._inBlock=this._j0.slice(0),n(this._inBlock),this._partialBytes=0,e=ZU.util.createBuffer(e),this._aDataLength=i(8*e.length());var a=e.length()%this.blockSize;for(a&&e.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},e.gcm.prototype.encrypt=function(t,e,r){var i=t.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize){for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-i)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(o=0;o<this._ints;++o)this._partialOutput.putInt32(t.getInt32()^this._outBlock[o]);if(0===a||r){if(r){var s=i%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),n(this._inBlock)},e.gcm.prototype.decrypt=function(t,e,r){var i=t.length();if(i<this.blockSize&&!(r&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^this._hashBlock[o]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize},e.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=ZU.util.createBuffer();var n=this._aDataLength.concat(i(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,n);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},e.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){t[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},e.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},e.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=t[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];e[0]^=i[0],e[1]^=i[1],e[2]^=i[2],e[3]^=i[3]}return e},e.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},e.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],u=(n-1-a%n)*e;s[a/n|0]=1<<e-1<<u,o[a]=this.generateSubHashTable(this.multiply(s,t),e)}return o},e.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],u=i[a];i[o+a]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i}}),ZU.aes=ZU.aes||{};function XU(t,e){ZU.cipher.registerAlgorithm(t,function(){return new ZU.aes.Algorithm(t,e)})}ZU.aes.startEncrypting=function(t,e,r,n){var i=cF({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},ZU.aes.createEncryptionCipher=function(t,e){return cF({key:t,output:null,decrypt:!1,mode:e})},ZU.aes.startDecrypting=function(t,e,r,n){var i=cF({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},ZU.aes.createDecryptionCipher=function(t,e){return cF({key:t,output:null,decrypt:!0,mode:e})},ZU.aes.Algorithm=function(t,e){iF||aF();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return uF(r._w,t,e,!1)},decrypt:function(t,e){return uF(r._w,t,e,!0)}}}),r._init=!1},ZU.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(ZU.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=ZU.util.createBuffer();for(var n=0;n<e.length;++n)r.putByte(e[n])}}else r=ZU.util.createBuffer(r);if(!ZU.util.isArray(r)){e=r,r=[];var i=e.length();if(16===i||24===i||32===i){i>>>=2;for(n=0;n<i;++n)r.push(e.getInt32())}}if(!ZU.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var o=this.mode.name,a=-1!==["CFB","OFB","CTR","GCM"].indexOf(o);this._w=sF(r,t.decrypt&&!a),this._init=!0}},ZU.aes._expandKey=function(t,e){return iF||aF(),sF(t,e)},ZU.aes._updateBlock=uF,XU("AES-ECB",ZU.cipher.modes.ecb),XU("AES-CBC",ZU.cipher.modes.cbc),XU("AES-CFB",ZU.cipher.modes.cfb),XU("AES-OFB",ZU.cipher.modes.ofb),XU("AES-CTR",ZU.cipher.modes.ctr),XU("AES-GCM",ZU.cipher.modes.gcm);var JU,tF,eF,rF,nF,iF=!1,oF=4;function aF(){iF=!0,eF=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;JU=new Array(256),tF=new Array(256),rF=new Array(4),nF=new Array(4);for(e=0;e<4;++e)rF[e]=new Array(256),nF[e]=new Array(256);var r,n,i,o,a,s,u,c=0,f=0;for(e=0;e<256;++e){o=(o=f^f<<1^f<<2^f<<3^f<<4)>>8^255&o^99,JU[c]=o,tF[o]=c,s=(a=t[o])<<24^o<<16^o<<8^o^a,u=((r=t[c])^(n=t[r])^(i=t[n]))<<24^(c^i)<<16^(c^n^i)<<8^c^r^i;for(var h=0;h<4;++h)rF[h][c]=s,nF[h][o]=u,s=s<<24|s>>>8,u=u<<24|u>>>8;0===c?c=f=1:(c=r^t[t[t[r^i]]],f^=t[t[f]])}}function sF(t,e){for(var r,n=t.slice(0),i=1,o=n.length,a=oF*(o+6+1),s=o;s<a;++s)r=n[s-1],s%o==0?(r=JU[r>>>16&255]<<24^JU[r>>>8&255]<<16^JU[255&r]<<8^JU[r>>>24]^eF[i]<<24,i++):o>6&&s%o==4&&(r=JU[r>>>24]<<24^JU[r>>>16&255]<<16^JU[r>>>8&255]<<8^JU[255&r]),n[s]=n[s-o]^r;if(e){for(var u,c=nF[0],f=nF[1],h=nF[2],l=nF[3],d=n.slice(0),p=(s=0,(a=n.length)-oF);s<a;s+=oF,p-=oF)if(0===s||s===a-oF)d[s]=n[p],d[s+1]=n[p+3],d[s+2]=n[p+2],d[s+3]=n[p+1];else for(var m=0;m<oF;++m)u=n[p+m],d[s+(3&-m)]=c[JU[u>>>24]]^f[JU[u>>>16&255]]^h[JU[u>>>8&255]]^l[JU[255&u]];n=d}return n}function uF(t,e,r,n){var i,o,a,s,u,c,f,h,l,d,p,m,y=t.length/4-1;n?(i=nF[0],o=nF[1],a=nF[2],s=nF[3],u=tF):(i=rF[0],o=rF[1],a=rF[2],s=rF[3],u=JU),c=e[0]^t[0],f=e[n?3:1]^t[1],h=e[2]^t[2],l=e[n?1:3]^t[3];for(var v=3,g=1;g<y;++g)d=i[c>>>24]^o[f>>>16&255]^a[h>>>8&255]^s[255&l]^t[++v],p=i[f>>>24]^o[h>>>16&255]^a[l>>>8&255]^s[255&c]^t[++v],m=i[h>>>24]^o[l>>>16&255]^a[c>>>8&255]^s[255&f]^t[++v],l=i[l>>>24]^o[c>>>16&255]^a[f>>>8&255]^s[255&h]^t[++v],c=d,f=p,h=m;r[0]=u[c>>>24]<<24^u[f>>>16&255]<<16^u[h>>>8&255]<<8^u[255&l]^t[++v],r[n?3:1]=u[f>>>24]<<24^u[h>>>16&255]<<16^u[l>>>8&255]<<8^u[255&c]^t[++v],r[2]=u[h>>>24]<<24^u[l>>>16&255]<<16^u[c>>>8&255]<<8^u[255&f]^t[++v],r[n?1:3]=u[l>>>24]<<24^u[c>>>16&255]<<16^u[f>>>8&255]<<8^u[255&h]^t[++v]}function cF(t){var e,r="AES-"+((t=t||{}).mode||"CBC").toUpperCase(),n=(e=t.decrypt?ZU.cipher.createDecipher(r,t.key):ZU.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var i=null;r instanceof ZU.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=t,n.call(e,r)},e}et(function(t){ZU.pki=ZU.pki||{};var e=t.exports=ZU.pki.oids=ZU.oids=ZU.oids||{};function r(t,r){e[t]=r,e[r]=t}function n(t,r){e[t]=r}r("1.2.840.113549.1.1.1","rsaEncryption"),r("1.2.840.113549.1.1.4","md5WithRSAEncryption"),r("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),r("1.2.840.113549.1.1.7","RSAES-OAEP"),r("1.2.840.113549.1.1.8","mgf1"),r("1.2.840.113549.1.1.9","pSpecified"),r("1.2.840.113549.1.1.10","RSASSA-PSS"),r("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),r("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),r("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),r("1.3.14.3.2.7","desCBC"),r("1.3.14.3.2.26","sha1"),r("2.16.840.1.101.3.4.2.1","sha256"),r("2.16.840.1.101.3.4.2.2","sha384"),r("2.16.840.1.101.3.4.2.3","sha512"),r("1.2.840.113549.2.5","md5"),r("1.2.840.113549.1.7.1","data"),r("1.2.840.113549.1.7.2","signedData"),r("1.2.840.113549.1.7.3","envelopedData"),r("1.2.840.113549.1.7.4","signedAndEnvelopedData"),r("1.2.840.113549.1.7.5","digestedData"),r("1.2.840.113549.1.7.6","encryptedData"),r("1.2.840.113549.1.9.1","emailAddress"),r("1.2.840.113549.1.9.2","unstructuredName"),r("1.2.840.113549.1.9.3","contentType"),r("1.2.840.113549.1.9.4","messageDigest"),r("1.2.840.113549.1.9.5","signingTime"),r("1.2.840.113549.1.9.6","counterSignature"),r("1.2.840.113549.1.9.7","challengePassword"),r("1.2.840.113549.1.9.8","unstructuredAddress"),r("1.2.840.113549.1.9.14","extensionRequest"),r("1.2.840.113549.1.9.20","friendlyName"),r("1.2.840.113549.1.9.21","localKeyId"),r("1.2.840.113549.1.9.22.1","x509Certificate"),r("1.2.840.113549.1.12.10.1.1","keyBag"),r("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),r("1.2.840.113549.1.12.10.1.3","certBag"),r("1.2.840.113549.1.12.10.1.4","crlBag"),r("1.2.840.113549.1.12.10.1.5","secretBag"),r("1.2.840.113549.1.12.10.1.6","safeContentsBag"),r("1.2.840.113549.1.5.13","pkcs5PBES2"),r("1.2.840.113549.1.5.12","pkcs5PBKDF2"),r("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),r("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),r("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),r("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),r("1.2.840.113549.2.7","hmacWithSHA1"),r("1.2.840.113549.2.8","hmacWithSHA224"),r("1.2.840.113549.2.9","hmacWithSHA256"),r("1.2.840.113549.2.10","hmacWithSHA384"),r("1.2.840.113549.2.11","hmacWithSHA512"),r("1.2.840.113549.3.7","des-EDE3-CBC"),r("2.16.840.1.101.3.4.1.2","aes128-CBC"),r("2.16.840.1.101.3.4.1.22","aes192-CBC"),r("2.16.840.1.101.3.4.1.42","aes256-CBC"),r("2.5.4.3","commonName"),r("2.5.4.5","serialName"),r("2.5.4.6","countryName"),r("2.5.4.7","localityName"),r("2.5.4.8","stateOrProvinceName"),r("2.5.4.10","organizationName"),r("2.5.4.11","organizationalUnitName"),r("2.16.840.1.113730.1.1","nsCertType"),n("2.5.29.1","authorityKeyIdentifier"),n("2.5.29.2","keyAttributes"),n("2.5.29.3","certificatePolicies"),n("2.5.29.4","keyUsageRestriction"),n("2.5.29.5","policyMapping"),n("2.5.29.6","subtreesConstraint"),n("2.5.29.7","subjectAltName"),n("2.5.29.8","issuerAltName"),n("2.5.29.9","subjectDirectoryAttributes"),n("2.5.29.10","basicConstraints"),n("2.5.29.11","nameConstraints"),n("2.5.29.12","policyConstraints"),n("2.5.29.13","basicConstraints"),r("2.5.29.14","subjectKeyIdentifier"),r("2.5.29.15","keyUsage"),n("2.5.29.16","privateKeyUsagePeriod"),r("2.5.29.17","subjectAltName"),r("2.5.29.18","issuerAltName"),r("2.5.29.19","basicConstraints"),n("2.5.29.20","cRLNumber"),n("2.5.29.21","cRLReason"),n("2.5.29.22","expirationDate"),n("2.5.29.23","instructionCode"),n("2.5.29.24","invalidityDate"),n("2.5.29.25","cRLDistributionPoints"),n("2.5.29.26","issuingDistributionPoint"),n("2.5.29.27","deltaCRLIndicator"),n("2.5.29.28","issuingDistributionPoint"),n("2.5.29.29","certificateIssuer"),n("2.5.29.30","nameConstraints"),r("2.5.29.31","cRLDistributionPoints"),r("2.5.29.32","certificatePolicies"),n("2.5.29.33","policyMappings"),n("2.5.29.34","policyConstraints"),r("2.5.29.35","authorityKeyIdentifier"),n("2.5.29.36","policyConstraints"),r("2.5.29.37","extKeyUsage"),n("2.5.29.46","freshestCRL"),n("2.5.29.54","inhibitAnyPolicy"),r("1.3.6.1.4.1.11129.2.4.2","timestampList"),r("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),r("1.3.6.1.5.5.7.3.1","serverAuth"),r("1.3.6.1.5.5.7.3.2","clientAuth"),r("1.3.6.1.5.5.7.3.3","codeSigning"),r("1.3.6.1.5.5.7.3.4","emailProtection"),r("1.3.6.1.5.5.7.3.8","timeStamping")}),et(function(t){var e=t.exports=ZU.asn1=ZU.asn1||{};function r(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(t,r,n,i,o){if(ZU.util.isArray(i)){for(var a=[],s=0;s<i.length;++s)void 0!==i[s]&&a.push(i[s]);i=a}var u={tagClass:t,type:r,constructed:n,composed:n||ZU.util.isArray(i),value:i};return o&&"bitStringContents"in o&&(u.bitStringContents=o.bitStringContents,u.original=e.copy(u)),u},e.copy=function(t,r){var n;if(ZU.util.isArray(t)){n=[];for(var i=0;i<t.length;++i)n.push(e.copy(t[i],r));return n}return"string"==typeof t?t:(n={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:e.copy(t.value,r)},r&&!r.excludeBitStringContents&&(n.bitStringContents=t.bitStringContents),n)},e.equals=function(t,r,n){if(ZU.util.isArray(t)){if(!ZU.util.isArray(r))return!1;if(t.length!==r.length)return!1;for(var i=0;i<t.length;++i)return!!e.equals(t[i],r[i])}if(typeof t!=typeof r)return!1;if("string"==typeof t)return t===r;var o=t.tagClass===r.tagClass&&t.type===r.type&&t.constructed===r.constructed&&t.composed===r.composed&&e.equals(t.value,r.value);return n&&n.includeBitStringContents&&(o=o&&t.bitStringContents===r.bitStringContents),o},e.getBerValueLength=function(t){var e=t.getByte();if(128!==e)return 128&e?t.getInt((127&e)<<3):e};var n=function(t,e){var n=t.getByte();if(e--,128!==n){var i;if(128&n){var o=127&n;r(t,e,o),i=t.getInt(o<<3)}else i=n;if(i<0)throw new Error("Negative length: "+i);return i}};e.fromDer=function(t,i){return void 0===i&&(i={strict:!0,decodeBitStrings:!0}),"boolean"==typeof i&&(i={strict:i,decodeBitStrings:!0}),"strict"in i||(i.strict=!0),"decodeBitStrings"in i||(i.decodeBitStrings=!0),"string"==typeof t&&(t=ZU.util.createBuffer(t)),function t(i,o,a,s){var u;r(i,o,2);var c=i.getByte();o--;var f=192&c;var h=31&c;u=i.length();var l=n(i,o);o-=u-i.length();if(void 0!==l&&l>o){if(s.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=i.length(),d.remaining=o,d.requested=l,d}l=o}var p;var m;var y=32==(32&c);if(y)if(p=[],void 0===l)for(;;){if(r(i,o,2),i.bytes(2)===String.fromCharCode(0,0)){i.getBytes(2),o-=2;break}u=i.length(),p.push(t(i,o,a+1,s)),o-=u-i.length()}else for(;l>0;)u=i.length(),p.push(t(i,l,a+1,s)),o-=u-i.length(),l-=u-i.length();void 0===p&&f===e.Class.UNIVERSAL&&h===e.Type.BITSTRING&&(m=i.bytes(l));if(void 0===p&&s.decodeBitStrings&&f===e.Class.UNIVERSAL&&h===e.Type.BITSTRING&&l>1){var v=i.read,g=o,b=0;if(h===e.Type.BITSTRING&&(r(i,o,1),b=i.getByte(),o--),0===b)try{u=i.length();var w={verbose:s.verbose,strict:!0,decodeBitStrings:!0},_=t(i,o,a+1,w),k=u-i.length();o-=k,h==e.Type.BITSTRING&&k++;var S=_.tagClass;k!==l||S!==e.Class.UNIVERSAL&&S!==e.Class.CONTEXT_SPECIFIC||(p=[_])}catch(t){}void 0===p&&(i.read=v,o=g)}if(void 0===p){if(void 0===l){if(s.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=o}if(h===e.Type.BMPSTRING)for(p="";l>0;l-=2)r(i,o,2),p+=String.fromCharCode(i.getInt16()),o-=2;else p=i.getBytes(l)}var E=void 0===m?null:{bitStringContents:m};return e.create(f,h,y,p,E)}(t,t.length(),0,i)},e.toDer=function(t){var r=ZU.util.createBuffer(),n=t.tagClass|t.type,i=ZU.util.createBuffer(),o=!1;if("bitStringContents"in t&&(o=!0,t.original&&(o=e.equals(t,t.original))),o)i.putBytes(t.bitStringContents);else if(t.composed){t.constructed?n|=32:i.putByte(0);for(var a=0;a<t.value.length;++a)void 0!==t.value[a]&&i.putBuffer(e.toDer(t.value[a]))}else if(t.type===e.Type.BMPSTRING)for(a=0;a<t.value.length;++a)i.putInt16(t.value.charCodeAt(a));else t.type===e.Type.INTEGER&&t.value.length>1&&(0===t.value.charCodeAt(0)&&0==(128&t.value.charCodeAt(1))||255===t.value.charCodeAt(0)&&128==(128&t.value.charCodeAt(1)))?i.putBytes(t.value.substr(1)):i.putBytes(t.value);if(r.putByte(n),i.length()<=127)r.putByte(127&i.length());else{var s=i.length(),u="";do{u+=String.fromCharCode(255&s),s>>>=8}while(s>0);r.putByte(128|u.length);for(a=u.length-1;a>=0;--a)r.putByte(u.charCodeAt(a))}return r.putBuffer(i),r},e.oidToDer=function(t){var e,r,n,i,o=t.split("."),a=ZU.util.createBuffer();a.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var s=2;s<o.length;++s){e=!0,r=[],n=parseInt(o[s],10);do{i=127&n,n>>>=7,e||(i|=128),r.push(i),e=!1}while(n>0);for(var u=r.length-1;u>=0;--u)a.putByte(r[u])}return a},e.derToOid=function(t){var e;"string"==typeof t&&(t=ZU.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)n<<=7,128&(r=t.getByte())?n+=127&r:(e+="."+(n+r),n=0);return e},e.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var u=t.charAt(10),c=10;"+"!==u&&"-"!==u&&(s=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,0),c&&("+"===(u=t.charAt(c))||"-"===u)){var f=60*parseInt(t.substr(c+1,2),10)+parseInt(t.substr(c+4,2),10);f*=6e4,"+"===u?e.setTime(+e-f):e.setTime(+e+f)}return e},e.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;"Z"===t.charAt(t.length-1)&&(f=!0);var h=t.length-5,l=t.charAt(h);"+"!==l&&"-"!==l||(c=60*parseInt(t.substr(h+1,2),10)+parseInt(t.substr(h+4,2),10),c*=6e4,"+"===l&&(c*=-1),f=!0);return"."===t.charAt(14)&&(u=1e3*parseFloat(t.substr(14),10)),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,a,s,u)),e},e.dateToUtcTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},e.dateToGeneralizedTime=function(t){if("string"==typeof t)return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},e.integerToDer=function(t){var e=ZU.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r},e.derToInteger=function(t){"string"==typeof t&&(t=ZU.util.createBuffer(t));var e=8*t.length();if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)},e.validate=function(t,r,n,i){var o=!1;if(t.tagClass!==r.tagClass&&void 0!==r.tagClass||t.type!==r.type&&void 0!==r.type)i&&(t.tagClass!==r.tagClass&&i.push("["+r.name+'] Expected tag class "'+r.tagClass+'", got "'+t.tagClass+'"'),t.type!==r.type&&i.push("["+r.name+'] Expected type "'+r.type+'", got "'+t.type+'"'));else if(t.constructed===r.constructed||void 0===r.constructed){if(o=!0,r.value&&ZU.util.isArray(r.value))for(var a=0,s=0;o&&s<r.value.length;++s)o=r.value[s].optional||!1,t.value[a]&&((o=e.validate(t.value[a],r.value[s],n,i))?++a:r.value[s].optional&&(o=!0)),!o&&i&&i.push("["+r.name+'] Tag class "'+r.tagClass+'", type "'+r.type+'" expected value length "'+r.value.length+'", got "'+t.value.length+'"');if(o&&n&&(r.capture&&(n[r.capture]=t.value),r.captureAsn1&&(n[r.captureAsn1]=t),r.captureBitStringContents&&"bitStringContents"in t&&(n[r.captureBitStringContents]=t.bitStringContents),r.captureBitStringValue&&"bitStringContents"in t))if(t.bitStringContents.length<2)n[r.captureBitStringValue]="";else{if(0!==t.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[r.captureBitStringValue]=t.bitStringContents.slice(1)}}else i&&i.push("["+r.name+'] Expected constructed "'+r.constructed+'", got "'+t.constructed+'"');return o};var i=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(t,r,n){var o="";r=r||0,n=n||2,r>0&&(o+="\n");for(var a="",s=0;s<r*n;++s)a+=" ";switch(o+=a+"Tag: ",t.tagClass){case e.Class.UNIVERSAL:o+="Universal:";break;case e.Class.APPLICATION:o+="Application:";break;case e.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case e.Class.PRIVATE:o+="Private:"}if(t.tagClass===e.Class.UNIVERSAL)switch(o+=t.type,t.type){case e.Type.NONE:o+=" (None)";break;case e.Type.BOOLEAN:o+=" (Boolean)";break;case e.Type.INTEGER:o+=" (Integer)";break;case e.Type.BITSTRING:o+=" (Bit string)";break;case e.Type.OCTETSTRING:o+=" (Octet string)";break;case e.Type.NULL:o+=" (Null)";break;case e.Type.OID:o+=" (Object Identifier)";break;case e.Type.ODESC:o+=" (Object Descriptor)";break;case e.Type.EXTERNAL:o+=" (External or Instance of)";break;case e.Type.REAL:o+=" (Real)";break;case e.Type.ENUMERATED:o+=" (Enumerated)";break;case e.Type.EMBEDDED:o+=" (Embedded PDV)";break;case e.Type.UTF8:o+=" (UTF8)";break;case e.Type.ROID:o+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:o+=" (Sequence)";break;case e.Type.SET:o+=" (Set)";break;case e.Type.PRINTABLESTRING:o+=" (Printable String)";break;case e.Type.IA5String:o+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:o+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case e.Type.BMPSTRING:o+=" (BMP String)"}else o+=t.type;if(o+="\n",o+=a+"Constructed: "+t.constructed+"\n",t.composed){var u=0,c="";for(s=0;s<t.value.length;++s)void 0!==t.value[s]&&(u+=1,c+=e.prettyPrint(t.value[s],r+1,n),s+1<t.value.length&&(c+=","));o+=a+"Sub values: "+u+c}else{if(o+=a+"Value: ",t.type===e.Type.OID){var f=e.derToOid(t.value);o+=f,ZU.pki&&ZU.pki.oids&&f in ZU.pki.oids&&(o+=" ("+ZU.pki.oids[f]+") ")}if(t.type===e.Type.INTEGER)try{o+=e.derToInteger(t.value)}catch(e){o+="0x"+ZU.util.bytesToHex(t.value)}else if(t.type===e.Type.BITSTRING){if(t.value.length>1?o+="0x"+ZU.util.bytesToHex(t.value.slice(1)):o+="(none)",t.value.length>0){var h=t.value.charCodeAt(0);1==h?o+=" (1 unused bit shown)":h>1&&(o+=" ("+h+" unused bits shown)")}}else t.type===e.Type.OCTETSTRING?(i.test(t.value)||(o+="("+t.value+") "),o+="0x"+ZU.util.bytesToHex(t.value)):t.type===e.Type.UTF8?o+=ZU.util.decodeUtf8(t.value):t.type===e.Type.PRINTABLESTRING||t.type===e.Type.IA5String?o+=t.value:i.test(t.value)?o+="0x"+ZU.util.bytesToHex(t.value):0===t.value.length?o+="[null]":o+=t.value}return o}}),ZU.md=ZU.md||{};ZU.md.algorithms=ZU.md.algorithms||{};et(function(t){(t.exports=ZU.hmac=ZU.hmac||{}).create=function(){var t=null,e=null,r=null,n=null,i={start:function(i,o){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in ZU.md.algorithms))throw new Error('Unknown hash algorithm "'+i+'"');e=ZU.md.algorithms[i].create()}else e=i;if(null===o)o=t;else{if("string"==typeof o)o=ZU.util.createBuffer(o);else if(ZU.util.isArray(o)){var a=o;o=ZU.util.createBuffer();for(var s=0;s<a.length;++s)o.putByte(a[s])}var u=o.length();u>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=ZU.util.createBuffer(),n=ZU.util.createBuffer(),u=o.length();for(s=0;s<u;++s){a=o.at(s);r.putByte(54^a),n.putByte(92^a)}if(u<e.blockLength)for(a=e.blockLength-u,s=0;s<a;++s)r.putByte(54),n.putByte(92);t=o,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},update:function(t){e.update(t)},getMac:function(){var t=e.digest().bytes();return e.start(),e.update(n),e.update(t),e.digest()}};return i.digest=i.getMac,i}}),et(function(t){var e=t.exports=ZU.md5=ZU.md5||{};ZU.md.md5=ZU.md.algorithms.md5=e,e.create=function(){a||function(){r=String.fromCharCode(128),r+=ZU.util.fillString(String.fromCharCode(0),64),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],i=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],o=new Array(64);for(var t=0;t<64;++t)o[t]=Math.floor(4294967296*Math.abs(Math.sin(t+1)));a=!0}();var t=null,e=ZU.util.createBuffer(),u=new Array(16),c={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){c.messageLength=0,c.fullMessageLength=c.messageLength64=[];for(var r=c.messageLengthSize/4,n=0;n<r;++n)c.fullMessageLength.push(0);return e=ZU.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},c}};return c.start(),c.update=function(r,n){"utf8"===n&&(r=ZU.util.encodeUtf8(r));var i=r.length;c.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var o=c.fullMessageLength.length-1;o>=0;--o)c.fullMessageLength[o]+=i[1],i[1]=i[0]+(c.fullMessageLength[o]/4294967296>>>0),c.fullMessageLength[o]=c.fullMessageLength[o]>>>0,i[0]=i[1]/4294967296>>>0;return e.putBytes(r),s(t,u,e),(e.read>2048||0===e.length())&&e.compact(),c},c.digest=function(){var n=ZU.util.createBuffer();n.putBytes(e.bytes());var i=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize&c.blockLength-1;n.putBytes(r.substr(0,c.blockLength-i));for(var o,a=0,f=c.fullMessageLength.length-1;f>=0;--f)a=(o=8*c.fullMessageLength[f]+a)/4294967296>>>0,n.putInt32Le(o>>>0);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};s(h,u,n);var l=ZU.util.createBuffer();return l.putInt32Le(h.h0),l.putInt32Le(h.h1),l.putInt32Le(h.h2),l.putInt32Le(h.h3),l},c};var r=null,n=null,i=null,o=null,a=!1;function s(t,e,r){for(var a,s,u,c,f,h,l,d=r.length();d>=64;){for(s=t.h0,u=t.h1,c=t.h2,f=t.h3,l=0;l<16;++l)e[l]=r.getInt32Le(),a=s+(f^u&(c^f))+o[l]+e[l],s=f,f=c,c=u,u+=a<<(h=i[l])|a>>>32-h;for(;l<32;++l)a=s+(c^f&(u^c))+o[l]+e[n[l]],s=f,f=c,c=u,u+=a<<(h=i[l])|a>>>32-h;for(;l<48;++l)a=s+(u^c^f)+o[l]+e[n[l]],s=f,f=c,c=u,u+=a<<(h=i[l])|a>>>32-h;for(;l<64;++l)a=s+(c^(u|~f))+o[l]+e[n[l]],s=f,f=c,c=u,u+=a<<(h=i[l])|a>>>32-h;t.h0=t.h0+s|0,t.h1=t.h1+u|0,t.h2=t.h2+c|0,t.h3=t.h3+f|0,d-=64}}}),et(function(t){var e=t.exports=ZU.pem=ZU.pem||{};function r(t){for(var e=t.name+": ",r=[],n=function(t,e){return" "+e},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+"\r\n";var o=0,a=-1;for(i=0;i<e.length;++i,++o)if(o>65&&-1!==a){var s=e[a];","===s?(++a,e=e.substr(0,a)+"\r\n "+e.substr(a)):e=e.substr(0,a)+"\r\n"+s+e.substr(a+1),o=i-a-1,a=-1,++i}else" "!==e[i]&&"\t"!==e[i]&&","!==e[i]||(a=i);return e}function n(t){return t.replace(/^\s+/,"")}e.encode=function(t,e){e=e||{};var n,i="-----BEGIN "+t.type+"-----\r\n";if(t.procType&&(i+=r(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]})),t.contentDomain&&(i+=r(n={name:"Content-Domain",values:[t.contentDomain]})),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),i+=r(n)),t.headers)for(var o=0;o<t.headers.length;++o)i+=r(t.headers[o]);return t.procType&&(i+="\r\n"),i+=ZU.util.encode64(t.body,e.maxline||64)+"\r\n",i+="-----END "+t.type+"-----\r\n"},e.decode=function(t){for(var e,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,a=/\r?\n/;e=i.exec(t);){var s={type:e[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:ZU.util.decode64(e[3])};if(r.push(s),e[2]){for(var u=e[2].split(a),c=0;e&&c<u.length;){for(var f=u[c].replace(/\s+$/,""),h=c+1;h<u.length;++h){var l=u[h];if(!/\s/.test(l[0]))break;f+=l,c=h}if(e=f.match(o)){for(var d={name:e[1],values:[]},p=e[2].split(","),m=0;m<p.length;++m)d.values.push(n(p[m]));if(s.procType)if(s.contentDomain||"Content-Domain"!==d.name)if(s.dekInfo||"DEK-Info"!==d.name)s.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:p[0],parameters:p[1]||null}}else s.contentDomain=p[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:p[0],type:p[1]}}}++c}if("ENCRYPTED"===s.procType&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}}),ZU.des=ZU.des||{};function fF(t,e){ZU.cipher.registerAlgorithm(t,function(){return new ZU.des.Algorithm(t,e)})}ZU.des.startEncrypting=function(t,e,r,n){var i=wF({key:t,output:r,decrypt:!1,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},ZU.des.createEncryptionCipher=function(t,e){return wF({key:t,output:null,decrypt:!1,mode:e})},ZU.des.startDecrypting=function(t,e,r,n){var i=wF({key:t,output:r,decrypt:!0,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},ZU.des.createDecryptionCipher=function(t,e){return wF({key:t,output:null,decrypt:!0,mode:e})},ZU.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return bF(r._keys,t,e,!1)},decrypt:function(t,e){return bF(r._keys,t,e,!0)}}}),r._init=!1},ZU.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=ZU.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=function(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=t.length()>8?3:1,v=[],g=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<y;w++){var _=t.getInt32(),k=t.getInt32();_^=(e=252645135&(_>>>4^k))<<4,_^=e=65535&((k^=e)>>>-16^_),_^=(e=858993459&(_>>>2^(k^=e<<-16)))<<2,_^=e=65535&((k^=e)>>>-16^_),_^=(e=1431655765&(_>>>1^(k^=e<<-16)))<<1,_^=e=16711935&((k^=e)>>>8^_),e=(_^=(e=1431655765&(_>>>1^(k^=e<<8)))<<1)<<8|(k^=e)>>>20&240,_=k<<24|k<<8&16711680|k>>>8&65280|k>>>24&240,k=e;for(var S=0;S<g.length;++S){g[S]?(_=_<<2|_>>>26,k=k<<2|k>>>26):(_=_<<1|_>>>27,k=k<<1|k>>>27);var E=r[(_&=-15)>>>28]|n[_>>>24&15]|i[_>>>20&15]|o[_>>>16&15]|a[_>>>12&15]|s[_>>>8&15]|u[_>>>4&15],M=c[(k&=-15)>>>28]|f[k>>>24&15]|h[k>>>20&15]|l[k>>>16&15]|d[k>>>12&15]|p[k>>>8&15]|m[k>>>4&15];e=65535&(M>>>16^E),v[b++]=E^e,v[b++]=M^e<<16}}return v}(e),this._init=!0}},fF("DES-ECB",ZU.cipher.modes.ecb),fF("DES-CBC",ZU.cipher.modes.cbc),fF("DES-CFB",ZU.cipher.modes.cfb),fF("DES-OFB",ZU.cipher.modes.ofb),fF("DES-CTR",ZU.cipher.modes.ctr),fF("3DES-ECB",ZU.cipher.modes.ecb),fF("3DES-CBC",ZU.cipher.modes.cbc),fF("3DES-CFB",ZU.cipher.modes.cfb),fF("3DES-OFB",ZU.cipher.modes.ofb),fF("3DES-CTR",ZU.cipher.modes.ctr);var hF=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],lF=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],dF=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],pF=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],mF=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],yF=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],vF=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],gF=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function bF(t,e,r,n){var i,o,a=32===t.length?3:9;i=3===a?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s=e[0],u=e[1];s^=(o=252645135&(s>>>4^u))<<4,s^=(o=65535&(s>>>16^(u^=o)))<<16,s^=o=858993459&((u^=o)>>>2^s),s^=o=16711935&((u^=o<<2)>>>8^s),s=(s^=(o=1431655765&(s>>>1^(u^=o<<8)))<<1)<<1|s>>>31,u=(u^=o)<<1|u>>>31;for(var c=0;c<a;c+=3){for(var f=i[c+1],h=i[c+2],l=i[c];l!=f;l+=h){var d=u^t[l],p=(u>>>4|u<<28)^t[l+1];o=s,s=u,u=o^(lF[d>>>24&63]|pF[d>>>16&63]|yF[d>>>8&63]|gF[63&d]|hF[p>>>24&63]|dF[p>>>16&63]|mF[p>>>8&63]|vF[63&p])}o=s,s=u,u=o}u=u>>>1|u<<31,u^=o=1431655765&((s=s>>>1|s<<31)>>>1^u),u^=(o=16711935&(u>>>8^(s^=o<<1)))<<8,u^=(o=858993459&(u>>>2^(s^=o)))<<2,u^=o=65535&((s^=o)>>>16^u),u^=o=252645135&((s^=o<<16)>>>4^u),s^=o<<4,r[0]=s,r[1]=u}function wF(t){var e,r="DES-"+((t=t||{}).mode||"CBC").toUpperCase(),n=(e=t.decrypt?ZU.cipher.createDecipher(r,t.key):ZU.cipher.createCipher(r,t.key)).start;return e.start=function(t,r){var i=null;r instanceof ZU.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=t,n.call(e,r)},e}var _F,kF=ZU.pkcs5=ZU.pkcs5||{};ZU.util.isNodejs&&!ZU.options.usePureJavaScript&&(_F=cn);ZU.pbkdf2=kF.pbkdf2=function(t,e,r,n,i,o){if("function"==typeof i&&(o=i,i=null),ZU.util.isNodejs&&!ZU.options.usePureJavaScript&&_F.pbkdf2&&(null===i||"object"!=typeof i)&&(_F.pbkdf2Sync.length>4||!i||"sha1"===i))return"string"!=typeof i&&(i="sha1"),t=new Buffer(t,"binary"),e=new Buffer(e,"binary"),o?4===_F.pbkdf2Sync.length?_F.pbkdf2(t,e,r,n,function(t,e){if(t)return o(t);o(null,e.toString("binary"))}):_F.pbkdf2(t,e,r,n,i,function(t,e){if(t)return o(t);o(null,e.toString("binary"))}):4===_F.pbkdf2Sync.length?_F.pbkdf2Sync(t,e,r,n).toString("binary"):_F.pbkdf2Sync(t,e,r,n,i).toString("binary");if(void 0!==i&&null!==i||(i="sha1"),"string"==typeof i){if(!(i in ZU.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=ZU.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var s=new Error("Derived key is too long.");if(o)return o(s);throw s}var u=Math.ceil(n/a),c=n-(u-1)*a,f=ZU.hmac.create();f.start(i,t);var h,l,d,p="";if(!o){for(var m=1;m<=u;++m){f.start(null,null),f.update(e),f.update(ZU.util.int32ToBytes(m)),h=d=f.digest().getBytes();for(var y=2;y<=r;++y)f.start(null,null),f.update(d),l=f.digest().getBytes(),h=ZU.util.xorBytes(h,l,a),d=l;p+=m<u?h:h.substr(0,c)}return p}m=1;function v(){if(m>u)return o(null,p);f.start(null,null),f.update(e),f.update(ZU.util.int32ToBytes(m)),h=d=f.digest().getBytes(),y=2,g()}function g(){if(y<=r)return f.start(null,null),f.update(d),l=f.digest().getBytes(),h=ZU.util.xorBytes(h,l,a),d=l,++y,ZU.util.setImmediate(g);p+=m<u?h:h.substr(0,c),++m,v()}v()},et(function(t){var e=t.exports=ZU.sha256=ZU.sha256||{};ZU.md.sha256=ZU.md.algorithms.sha256=e,e.create=function(){n||(r=String.fromCharCode(128),r+=ZU.util.fillString(String.fromCharCode(0),64),i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0);var t=null,e=ZU.util.createBuffer(),a=new Array(64),s={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var r=s.messageLengthSize/4,n=0;n<r;++n)s.fullMessageLength.push(0);return e=ZU.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},s}};return s.start(),s.update=function(r,n){"utf8"===n&&(r=ZU.util.encodeUtf8(r));var i=r.length;s.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var u=s.fullMessageLength.length-1;u>=0;--u)s.fullMessageLength[u]+=i[1],i[1]=i[0]+(s.fullMessageLength[u]/4294967296>>>0),s.fullMessageLength[u]=s.fullMessageLength[u]>>>0,i[0]=i[1]/4294967296>>>0;return e.putBytes(r),o(t,a,e),(e.read>2048||0===e.length())&&e.compact(),s},s.digest=function(){var n=ZU.util.createBuffer();n.putBytes(e.bytes());var i,u=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize&s.blockLength-1;n.putBytes(r.substr(0,s.blockLength-u));for(var c=8*s.fullMessageLength[0],f=0;f<s.fullMessageLength.length-1;++f)c+=(i=8*s.fullMessageLength[f+1])/4294967296>>>0,n.putInt32(c>>>0),c=i>>>0;n.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};o(h,a,n);var l=ZU.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l.putInt32(h.h5),l.putInt32(h.h6),l.putInt32(h.h7),l},s};var r=null,n=!1,i=null;function o(t,e,r){for(var n,o,a,s,u,c,f,h,l,d,p,m,y,v=r.length();v>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=((n=e[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,o=((o=e[u-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,e[u]=n+e[u-7]+o+e[u-16]|0;for(c=t.h0,f=t.h1,h=t.h2,l=t.h3,d=t.h4,p=t.h5,m=t.h6,y=t.h7,u=0;u<64;++u)a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&f|h&(c^f),n=y+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(m^d&(p^m))+i[u]+e[u],y=m,m=p,p=d,d=l+n>>>0,l=h,h=f,f=c,c=n+(o=a+s)>>>0;t.h0=t.h0+c|0,t.h1=t.h1+f|0,t.h2=t.h2+h|0,t.h3=t.h3+l|0,t.h4=t.h4+d|0,t.h5=t.h5+p|0,t.h6=t.h6+m|0,t.h7=t.h7+y|0,v-=64}}}),et(function(t){var e=null;!ZU.util.isNodejs||ZU.options.usePureJavaScript||process.versions["node-webkit"]||(e=cn),(t.exports=ZU.prng=ZU.prng||{}).create=function(t){for(var r={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0},n=t.md,i=new Array(32),o=0;o<32;++o)i[o]=n.create();function a(){if(r.pools[0].messageLength>=32)return s();var t=32-r.pools[0].messageLength<<5;r.collect(r.seedFileSync(t)),s()}function s(){var t=r.plugin.md.create();t.update(r.pools[0].digest().getBytes()),r.pools[0].start();for(var e=1,n=1;n<32;++n)(e=31===e?2147483648:e<<2)%r.reseeds==0&&(t.update(r.pools[n].digest().getBytes()),r.pools[n].start());var i=t.digest().getBytes();t.start(),t.update(i);var o=t.digest().getBytes();r.key=r.plugin.formatKey(i),r.seed=r.plugin.formatSeed(o),r.reseeds=4294967295===r.reseeds?0:r.reseeds+1,r.generated=0}function u(t){var e=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=function(t){return r.getRandomValues(t)})}var n=ZU.util.createBuffer();if(e)for(;n.length()<t;){var i=Math.max(1,Math.min(t-n.length(),65536)/4),o=new Uint32Array(Math.floor(i));try{e(o);for(var a=0;a<o.length;++a)n.putInt32(o[a])}catch(t){if(!("undefined"!=typeof QuotaExceededError&&t instanceof QuotaExceededError))throw t}}if(n.length()<t)for(var s,u,c,f=Math.floor(65536*Math.random());n.length()<t;){u=16807*(65535&f),u+=(32767&(s=16807*(f>>16)))<<16,f=4294967295&(u=(2147483647&(u+=s>>15))+(u>>31));for(a=0;a<3;++a)c=f>>>(a<<3),c^=Math.floor(256*Math.random()),n.putByte(String.fromCharCode(255&c))}return n.getBytes(t)}return r.pools=i,r.pool=0,r.generate=function(t,e){if(!e)return r.generateSync(t);var n=r.plugin.cipher,i=r.plugin.increment,o=r.plugin.formatKey,a=r.plugin.formatSeed,u=ZU.util.createBuffer();r.key=null,function c(f){if(f)return e(f);if(u.length()>=t)return e(null,u.getBytes(t));r.generated>1048575&&(r.key=null);if(null===r.key)return ZU.util.nextTick(function(){!function(t){if(r.pools[0].messageLength>=32)return s(),t();var e=32-r.pools[0].messageLength<<5;r.seedFile(e,function(e,n){if(e)return t(e);r.collect(n),s(),t()})}(c)});var h=n(r.key,r.seed);r.generated+=h.length;u.putBytes(h);r.key=o(n(r.key,i(r.seed)));r.seed=a(n(r.key,r.seed));ZU.util.setImmediate(c)}()},r.generateSync=function(t){var e=r.plugin.cipher,n=r.plugin.increment,i=r.plugin.formatKey,o=r.plugin.formatSeed;r.key=null;for(var s=ZU.util.createBuffer();s.length()<t;){r.generated>1048575&&(r.key=null),null===r.key&&a();var u=e(r.key,r.seed);r.generated+=u.length,s.putBytes(u),r.key=i(e(r.key,n(r.seed))),r.seed=o(e(r.key,r.seed))}return s.getBytes(t)},e?(r.seedFile=function(t,r){e.randomBytes(t,function(t,e){if(t)return r(t);r(null,e.toString())})},r.seedFileSync=function(t){return e.randomBytes(t).toString()}):(r.seedFile=function(t,e){try{e(null,u(t))}catch(t){e(t)}},r.seedFileSync=u),r.collect=function(t){for(var e=t.length,n=0;n<e;++n)r.pools[r.pool].update(t.substr(n,1)),r.pool=31===r.pool?0:r.pool+1},r.collectInt=function(t,e){for(var n="",i=0;i<e;i+=8)n+=String.fromCharCode(t>>i&255);r.collect(n)},r.registerWorker=function(t){if(t===self)r.seedFile=function(t,e){self.addEventListener("message",function t(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",t),e(n.forge.prng.err,n.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:t}}})};else{t.addEventListener("message",function(e){var n=e.data;n.forge&&n.forge.prng&&r.seedFile(n.forge.prng.needed,function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})})})}},r}}),et(function(t){ZU.random&&ZU.random.getBytes?t.exports=ZU.random:function(e){var r={},n=new Array(4),i=ZU.util.createBuffer();function o(){var t=ZU.prng.create(r);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}r.formatKey=function(t){var e=ZU.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),ZU.aes._expandKey(t,!1)},r.formatSeed=function(t){var e=ZU.util.createBuffer(t);return(t=new Array(4))[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},r.cipher=function(t,e){return ZU.aes._updateBlock(t,e,n,!1),i.putInt32(n[0]),i.putInt32(n[1]),i.putInt32(n[2]),i.putInt32(n[3]),i.getBytes()},r.increment=function(t){return++t[3],t},r.md=ZU.md.sha256;var a=o(),s=null;if("undefined"!=typeof window){var u=window.crypto||window.msCrypto;u&&u.getRandomValues&&(s=function(t){return u.getRandomValues(t)})}if(ZU.options.usePureJavaScript||!ZU.util.isNodejs&&!s){if("undefined"==typeof window||window.document,a.collectInt(+new Date,32),"undefined"!=typeof navigator){var c="";for(var f in navigator)try{"string"==typeof navigator[f]&&(c+=navigator[f])}catch(t){}a.collect(c),c=null}e&&(e().mousemove(function(t){a.collectInt(t.clientX,16),a.collectInt(t.clientY,16)}),e().keypress(function(t){a.collectInt(t.charCode,8)}))}if(ZU.random)for(var f in a)ZU.random[f]=a[f];else ZU.random=a;ZU.random.createInstance=o,t.exports=ZU.random}("undefined"!=typeof jQuery?jQuery:null)});var SF=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],EF=[1,2,3,5];ZU.rc2=ZU.rc2||{};ZU.rc2.expandKey=function(t,e){"string"==typeof t&&(t=ZU.util.createBuffer(t)),e=e||128;var r,n=t,i=t.length(),o=e,a=Math.ceil(o/8),s=255>>(7&o);for(r=i;r<128;r++)n.putByte(SF[n.at(r-1)+n.at(r-i)&255]);for(n.setAt(128-a,SF[n.at(128-a)&s]),r=127-a;r>=0;r--)n.setAt(r,SF[n.at(r+1)^n.at(r+a)]);return n};var MF=function(t,e,r){var n,i,o,a,s=!1,u=null,c=null,f=null,h=[];for(t=ZU.rc2.expandKey(t,e),o=0;o<64;o++)h.push(t.getInt16Le());r?(n=function(t){for(o=0;o<4;o++)t[o]+=h[a]+(t[(o+3)%4]&t[(o+2)%4])+(~t[(o+3)%4]&t[(o+1)%4]),t[o]=(e=t[o])<<(r=EF[o])&65535|(65535&e)>>16-r,a++;var e,r},i=function(t){for(o=0;o<4;o++)t[o]+=h[63&t[(o+3)%4]]}):(n=function(t){for(o=3;o>=0;o--)t[o]=(65535&(e=t[o]))>>(r=EF[o])|e<<16-r&65535,t[o]-=h[a]+(t[(o+3)%4]&t[(o+2)%4])+(~t[(o+3)%4]&t[(o+1)%4]),a--;var e,r},i=function(t){for(o=3;o>=0;o--)t[o]-=h[63&t[(o+3)%4]]});var l=function(t){var e=[];for(o=0;o<4;o++){var n=u.getInt16Le();null!==f&&(r?n^=f.getInt16Le():f.putInt16Le(n)),e.push(65535&n)}a=r?0:63;for(var i=0;i<t.length;i++)for(var s=0;s<t[i][0];s++)t[i][1](e);for(o=0;o<4;o++)null!==f&&(r?f.putInt16Le(e[o]):e[o]^=f.getInt16Le()),c.putInt16Le(e[o])},d=null;return d={start:function(t,e){t&&"string"==typeof t&&(t=ZU.util.createBuffer(t)),s=!1,u=ZU.util.createBuffer(),c=e||new ZU.util.createBuffer,f=t,d.output=c},update:function(t){for(s||u.putBuffer(t);u.length()>=8;)l([[5,n],[1,i],[6,n],[1,i],[5,n]])},finish:function(t){var e=!0;if(r)if(t)e=t(8,u,!r);else{var n=8===u.length()?8:8-u.length();u.fillWithByte(n,n)}if(e&&(s=!0,d.update()),!r&&(e=0===u.length()))if(t)e=t(8,c,!r);else{var i=c.length(),o=c.at(i-1);o>i?e=!1:c.truncate(o)}return e}}};ZU.rc2.startEncrypting=function(t,e,r){var n=ZU.rc2.createEncryptionCipher(t,128);return n.start(e,r),n},ZU.rc2.createEncryptionCipher=function(t,e){return MF(t,e,!0)},ZU.rc2.startDecrypting=function(t,e,r){var n=ZU.rc2.createDecryptionCipher(t,128);return n.start(e,r),n},ZU.rc2.createDecryptionCipher=function(t,e){return MF(t,e,!1)};var AF;ZU.jsbn=ZU.jsbn||{};function xF(t,e,r){this.data=[],null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function BF(){return new xF(null)}function CF(t,e,r,n,i,o){for(var a=16383&e,s=e>>14;--o>=0;){var u=16383&this.data[t],c=this.data[t++]>>14,f=s*u+c*a;i=((u=a*u+((16383&f)<<14)+r.data[n]+i)>>28)+(f>>14)+s*c,r.data[n++]=268435455&u}return i}ZU.jsbn.BigInteger=xF,"undefined"==typeof navigator?(xF.prototype.am=CF,AF=28):"Microsoft Internet Explorer"==navigator.appName?(xF.prototype.am=function(t,e,r,n,i,o){for(var a=32767&e,s=e>>15;--o>=0;){var u=32767&this.data[t],c=this.data[t++]>>15,f=s*u+c*a;i=((u=a*u+((32767&f)<<15)+r.data[n]+(1073741823&i))>>>30)+(f>>>15)+s*c+(i>>>30),r.data[n++]=1073741823&u}return i},AF=30):"Netscape"!=navigator.appName?(xF.prototype.am=function(t,e,r,n,i,o){for(;--o>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},AF=26):(xF.prototype.am=CF,AF=28),xF.prototype.DB=AF,xF.prototype.DM=(1<<AF)-1,xF.prototype.DV=1<<AF;xF.prototype.FV=Math.pow(2,52),xF.prototype.F1=52-AF,xF.prototype.F2=2*AF-52;var IF,TF,PF="0123456789abcdefghijklmnopqrstuvwxyz",NF=new Array;for(IF="0".charCodeAt(0),TF=0;TF<=9;++TF)NF[IF++]=TF;for(IF="a".charCodeAt(0),TF=10;TF<36;++TF)NF[IF++]=TF;for(IF="A".charCodeAt(0),TF=10;TF<36;++TF)NF[IF++]=TF;function RF(t){return PF.charAt(t)}function LF(t,e){var r=NF[t.charCodeAt(e)];return null==r?-1:r}function OF(t){var e=BF();return e.fromInt(t),e}function jF(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function DF(t){this.m=t}function UF(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function FF(t,e){return t&e}function qF(t,e){return t|e}function KF(t,e){return t^e}function zF(t,e){return t&~e}function VF(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function HF(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function GF(){}function $F(t){return t}function WF(t){this.r2=BF(),this.q3=BF(),xF.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}DF.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},DF.prototype.revert=function(t){return t},DF.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},DF.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},DF.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},UF.prototype.convert=function(t){var e=BF();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(xF.ZERO)>0&&this.m.subTo(e,e),e},UF.prototype.revert=function(t){var e=BF();return t.copyTo(e),this.reduce(e),e},UF.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t.data[e],n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},UF.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},UF.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},xF.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},xF.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0},xF.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var a=8==r?255&t[n]:LF(t,n);a<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==o?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&xF.ZERO.subTo(this,this)},xF.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t},xF.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s},xF.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s},xF.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e.data[r+a+1]=this.data[r]>>i|s,s=(this.data[r]&o)<<n;for(r=a-1;r>=0;--r)e.data[r]=0;e.data[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()},xF.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&o)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}},xF.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()},xF.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&xF.ZERO.subTo(e,e)},xF.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()},xF.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=BF());var o=BF(),a=this.s,s=t.s,u=this.DB-jF(n.data[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,f=o.data[c-1];if(0!=f){var h=f*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),l=this.FV/h,d=(1<<this.F1)/h,p=1<<this.F2,m=r.t,y=m-c,v=null==e?BF():e;for(o.dlShiftTo(y,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),xF.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--y>=0;){var g=r.data[--m]==f?this.DM:Math.floor(r.data[m]*l+(r.data[m-1]+p)*d);if((r.data[m]+=o.am(0,g,r,y,0,c))<g)for(o.dlShiftTo(y,v),r.subTo(v,r);r.data[m]<--g;)r.subTo(v,r)}null!=e&&(r.drShiftTo(c,e),a!=s&&xF.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),a<0&&xF.ZERO.subTo(r,r)}}},xF.prototype.invDigit=function(){if(this.t<1)return 0;var t=this.data[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},xF.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},xF.prototype.exp=function(t,e){if(t>4294967295||t<1)return xF.ONE;var r=BF(),n=BF(),i=e.convert(this),o=jF(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)},xF.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(r=this.data[a]>>s)>0&&(i=!0,o=RF(r));a>=0;)s<e?(r=(this.data[a]&(1<<s)-1)<<e-s,r|=this.data[--a]>>(s+=this.DB-e)):(r=this.data[a]>>(s-=e)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=RF(r));return i?o:"0"},xF.prototype.negate=function(){var t=BF();return xF.ZERO.subTo(this,t),t},xF.prototype.abs=function(){return this.s<0?this.negate():this},xF.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this.data[r]-t.data[r]))return e;return 0},xF.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+jF(this.data[this.t-1]^this.s&this.DM)},xF.prototype.mod=function(t){var e=BF();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(xF.ZERO)>0&&t.subTo(e,e),e},xF.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new DF(e):new UF(e),this.exp(t,r)},xF.ZERO=OF(0),xF.ONE=OF(1),GF.prototype.convert=$F,GF.prototype.revert=$F,GF.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},GF.prototype.sqrTo=function(t,e){t.squareTo(e)},WF.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=BF();return t.copyTo(e),this.reduce(e),e},WF.prototype.revert=function(t){return t},WF.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},WF.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},WF.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var YF=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ZF=(1<<26)/YF[YF.length-1];xF.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},xF.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=OF(r),i=BF(),o=BF(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a},xF.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,a=0,s=0;s<t.length;++s){var u=LF(t,s);u<0?"-"==t.charAt(s)&&0==this.signum()&&(i=!0):(a=e*a+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&xF.ZERO.subTo(this,this)},xF.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(xF.ONE.shiftLeft(t-1),qF,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(xF.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},xF.prototype.bitwiseTo=function(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},xF.prototype.changeBit=function(t,e){var r=xF.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},xF.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()},xF.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},xF.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},xF.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,t.data[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t.data[i],r,i,0,e-i);r.clamp()},xF.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},xF.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r},xF.prototype.millerRabin=function(t){var e=this.subtract(xF.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n,i=e.shiftRight(r),o={nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}},a=0;a<t;++a){do{n=new xF(this.bitLength(),o)}while(n.compareTo(xF.ONE)<=0||n.compareTo(e)>=0);var s=n.modPow(i,this);if(0!=s.compareTo(xF.ONE)&&0!=s.compareTo(e)){for(var u=1;u++<r&&0!=s.compareTo(e);)if(0==(s=s.modPowInt(2,this)).compareTo(xF.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},xF.prototype.clone=function(){var t=BF();return this.copyTo(t),t},xF.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},xF.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},xF.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},xF.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},xF.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this.data[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this.data[t]&(1<<n)-1)<<8-n,r|=this.data[--t]>>(n+=this.DB-8)):(r=this.data[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},xF.prototype.equals=function(t){return 0==this.compareTo(t)},xF.prototype.min=function(t){return this.compareTo(t)<0?this:t},xF.prototype.max=function(t){return this.compareTo(t)>0?this:t},xF.prototype.and=function(t){var e=BF();return this.bitwiseTo(t,FF,e),e},xF.prototype.or=function(t){var e=BF();return this.bitwiseTo(t,qF,e),e},xF.prototype.xor=function(t){var e=BF();return this.bitwiseTo(t,KF,e),e},xF.prototype.andNot=function(t){var e=BF();return this.bitwiseTo(t,zF,e),e},xF.prototype.not=function(){for(var t=BF(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},xF.prototype.shiftLeft=function(t){var e=BF();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},xF.prototype.shiftRight=function(t){var e=BF();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},xF.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this.data[t])return t*this.DB+VF(this.data[t]);return this.s<0?this.t*this.DB:-1},xF.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=HF(this.data[r]^e);return t},xF.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this.data[e]&1<<t%this.DB)},xF.prototype.setBit=function(t){return this.changeBit(t,qF)},xF.prototype.clearBit=function(t){return this.changeBit(t,zF)},xF.prototype.flipBit=function(t){return this.changeBit(t,KF)},xF.prototype.add=function(t){var e=BF();return this.addTo(t,e),e},xF.prototype.subtract=function(t){var e=BF();return this.subTo(t,e),e},xF.prototype.multiply=function(t){var e=BF();return this.multiplyTo(t,e),e},xF.prototype.divide=function(t){var e=BF();return this.divRemTo(t,e,null),e},xF.prototype.remainder=function(t){var e=BF();return this.divRemTo(t,null,e),e},xF.prototype.divideAndRemainder=function(t){var e=BF(),r=BF();return this.divRemTo(t,e,r),new Array(e,r)},xF.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),o=OF(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new DF(e):e.isEven()?new WF(e):new UF(e);var a=new Array,s=3,u=r-1,c=(1<<r)-1;if(a[1]=n.convert(this),r>1){var f=BF();for(n.sqrTo(a[1],f);s<=c;)a[s]=BF(),n.mulTo(f,a[s-2],a[s]),s+=2}var h,l,d=t.t-1,p=!0,m=BF();for(i=jF(t.data[d])-1;d>=0;){for(i>=u?h=t.data[d]>>i-u&c:(h=(t.data[d]&(1<<i+1)-1)<<u-i,d>0&&(h|=t.data[d-1]>>this.DB+i-u)),s=r;0==(1&h);)h>>=1,--s;if((i-=s)<0&&(i+=this.DB,--d),p)a[h].copyTo(o),p=!1;else{for(;s>1;)n.sqrTo(o,m),n.sqrTo(m,o),s-=2;s>0?n.sqrTo(o,m):(l=o,o=m,m=l),n.mulTo(m,a[h],o)}for(;d>=0&&0==(t.data[d]&1<<i);)n.sqrTo(o,m),l=o,o=m,m=l,--i<0&&(i=this.DB-1,--d)}return n.revert(o)},xF.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return xF.ZERO;for(var r=t.clone(),n=this.clone(),i=OF(1),o=OF(0),a=OF(0),s=OF(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),e&&a.subTo(i,a),s.subTo(o,s))}return 0!=n.compareTo(xF.ONE)?xF.ZERO:s.compareTo(t)>=0?s.subtract(t):s.signum()<0?(s.addTo(t,s),s.signum()<0?s.add(t):s):s},xF.prototype.pow=function(t){return this.exp(t,new GF)},xF.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},xF.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r.data[0]<=YF[YF.length-1]){for(e=0;e<YF.length;++e)if(r.data[0]==YF[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<YF.length;){for(var n=YF[e],i=e+1;i<YF.length&&n<ZF;)n*=YF[i++];for(n=r.modInt(n);e<i;)if(n%YF[e++]==0)return!1}return r.millerRabin(t)};et(function(t){var e=t.exports=ZU.sha1=ZU.sha1||{};ZU.md.sha1=ZU.md.algorithms.sha1=e,e.create=function(){n||(r=String.fromCharCode(128),r+=ZU.util.fillString(String.fromCharCode(0),64),n=!0);var t=null,e=ZU.util.createBuffer(),o=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var r=a.messageLengthSize/4,n=0;n<r;++n)a.fullMessageLength.push(0);return e=ZU.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a}};return a.start(),a.update=function(r,n){"utf8"===n&&(r=ZU.util.encodeUtf8(r));var s=r.length;a.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=a.fullMessageLength.length-1;u>=0;--u)a.fullMessageLength[u]+=s[1],s[1]=s[0]+(a.fullMessageLength[u]/4294967296>>>0),a.fullMessageLength[u]=a.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(r),i(t,o,e),(e.read>2048||0===e.length())&&e.compact(),a},a.digest=function(){var n=ZU.util.createBuffer();n.putBytes(e.bytes());var s,u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;n.putBytes(r.substr(0,a.blockLength-u));for(var c=8*a.fullMessageLength[0],f=0;f<a.fullMessageLength.length-1;++f)c+=(s=8*a.fullMessageLength[f+1])/4294967296>>>0,n.putInt32(c>>>0),c=s>>>0;n.putInt32(c);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};i(h,o,n);var l=ZU.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l},a};var r=null,n=!1;function i(t,e,r){for(var n,i,o,a,s,u,c,f=r.length();f>=64;){for(i=t.h0,o=t.h1,a=t.h2,s=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<20;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<32;++c)n=(n=e[c-3]^e[c-8]^e[c-14]^e[c-16])<<1|n>>>31,e[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<40;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<60;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o&a|s&(o^a))+u+2400959708+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<80;++c)n=(n=e[c-6]^e[c-16]^e[c-28]^e[c-32])<<2|n>>>30,e[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+3395469782+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+a|0,t.h3=t.h3+s|0,t.h4=t.h4+u|0,f-=64}}}),et(function(t){var e=t.exports=ZU.pkcs1=ZU.pkcs1||{};function r(t,e,r){r||(r=ZU.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}e.encode_rsa_oaep=function(t,e,n){var i,o,a,s;"string"==typeof n?(i=n,o=arguments[3]||void 0,a=arguments[4]||void 0):n&&(i=n.label||void 0,o=n.seed||void 0,a=n.md||void 0,n.mgf1&&n.mgf1.md&&(s=n.mgf1.md)),a?a.start():a=ZU.md.sha1.create(),s||(s=a);var u=Math.ceil(t.n.bitLength()/8),c=u-2*a.digestLength-2;if(e.length>c)throw(m=new Error("RSAES-OAEP input message length is too long.")).length=e.length,m.maxLength=c,m;i||(i=""),a.update(i,"raw");for(var f=a.digest(),h="",l=c-e.length,d=0;d<l;d++)h+="\0";var p=f.getBytes()+h+""+e;if(o){if(o.length!==a.digestLength){var m;throw(m=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,m.digestLength=a.digestLength,m}}else o=ZU.random.getBytes(a.digestLength);var y=r(o,u-a.digestLength-1,s),v=ZU.util.xorBytes(p,y,p.length),g=r(v,a.digestLength,s);return"\0"+ZU.util.xorBytes(o,g,o.length)+v},e.decode_rsa_oaep=function(t,e,n){var i,o,a;"string"==typeof n?(i=n,o=arguments[3]||void 0):n&&(i=n.label||void 0,o=n.md||void 0,n.mgf1&&n.mgf1.md&&(a=n.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s)throw(y=new Error("RSAES-OAEP encoded message length is invalid.")).length=e.length,y.expectedLength=s,y;if(void 0===o?o=ZU.md.sha1.create():o.start(),a||(a=o),s<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),o.update(i,"raw");for(var u=o.digest().getBytes(),c=e.charAt(0),f=e.substring(1,o.digestLength+1),h=e.substring(1+o.digestLength),l=r(h,o.digestLength,a),d=r(ZU.util.xorBytes(f,l,f.length),s-o.digestLength-1,a),p=ZU.util.xorBytes(h,d,h.length),m=p.substring(0,o.digestLength),y="\0"!==c,v=0;v<o.digestLength;++v)y|=u.charAt(v)!==m.charAt(v);for(var g=1,b=o.digestLength,w=o.digestLength;w<p.length;w++){var _=p.charCodeAt(w);y|=_&(g?65534:0),b+=g&=1&_^1}if(y||1!==p.charCodeAt(b))throw new Error("Invalid RSAES-OAEP padding.");return p.substring(b+1)}}),et(function(t){!function(){if(ZU.prime)t.exports=ZU.prime;else{var e=t.exports=ZU.prime=ZU.prime||{},r=ZU.jsbn.BigInteger,n=[6,4,2,4,2,4,6,2],i=new r(null);i.fromInt(30);var o=function(t,e){return t|e};e.generateProbablePrime=function(t,e,n){"function"==typeof e&&(n=e,e={});var i=(e=e||{}).algorithm||"PRIMEINC";"string"==typeof i&&(i={name:i}),i.options=i.options||{};var o=e.prng||ZU.random,u={nextBytes:function(t){for(var e=o.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}};if("PRIMEINC"===i.name)return function(t,e,n,i){if("workers"in n)return function(t,e,n,i){if("undefined"==typeof Worker)return a(t,e,n,i);var o=s(t,e),u=n.workers,c=n.workLoad||100,f=30*c/8,h=n.workerScript||"forge/prime.worker.js";if(-1===u)return ZU.util.estimateCores(function(t,e){t&&(e=2),u=e-1,l()});function l(){u=Math.max(1,u);for(var n=[],a=0;a<u;++a)n[a]=new Worker(h);for(var a=0;a<u;++a)n[a].addEventListener("message",d);var l=!1;function d(a){if(!l){var u=a.data;if(u.found){for(var h=0;h<n.length;++h)n[h].terminate();return l=!0,i(null,new r(u.prime,16))}o.bitLength()>t&&(o=s(t,e));var d=o.toString(16);a.target.postMessage({hex:d,workLoad:c}),o.dAddOffset(f,0)}}}l()}(t,e,n,i);return a(t,e,n,i)}(t,u,i.options,n);throw new Error("Invalid prime generation algorithm: "+i.name)}}function a(t,e,r,i){var o=s(t,e),a=function(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}(o.bitLength());"millerRabinTests"in r&&(a=r.millerRabinTests);var u=10;"maxBlockTime"in r&&(u=r.maxBlockTime),function t(e,r,i,o,a,u,c){var f=+new Date;do{if(e.bitLength()>r&&(e=s(r,i)),e.isProbablePrime(a))return c(null,e);e.dAddOffset(n[o++%8],0)}while(u<0||+new Date-f<u);ZU.util.setImmediate(function(){t(e,r,i,o,a,u,c)})}(o,t,e,0,a,u,i)}function s(t,e){var n=new r(t,e),a=t-1;return n.testBit(a)||n.bitwiseTo(r.ONE.shiftLeft(a),o,n),n.dAddOffset(31-n.mod(i).byteValue(),0),n}}()});if(void 0===QF)var QF=ZU.jsbn.BigInteger;var XF=ZU.asn1;ZU.pki=ZU.pki||{};ZU.pki.rsa=ZU.rsa=ZU.rsa||{};var JF=ZU.pki,tq=[6,4,2,4,2,4,6,2],eq={name:"PrivateKeyInfo",tagClass:XF.Class.UNIVERSAL,type:XF.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:XF.Class.UNIVERSAL,type:XF.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:XF.Class.UNIVERSAL,type:XF.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:XF.Class.UNIVERSAL,type:XF.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},rq={name:"RSAPrivateKey",tagClass:XF.Class.UNIVERSAL,type:XF.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},nq={name:"RSAPublicKey",tagClass:XF.Class.UNIVERSAL,type:XF.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:XF.Class.UNIVERSAL,type:XF.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},iq=ZU.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:XF.Class.UNIVERSAL,type:XF.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:XF.Class.UNIVERSAL,type:XF.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:XF.Class.UNIVERSAL,type:XF.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:XF.Class.UNIVERSAL,type:XF.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:XF.Class.UNIVERSAL,type:XF.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},oq=function(t){var e;if(!(t.algorithm in JF.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}e=JF.oids[t.algorithm];var n=XF.oidToDer(e).getBytes(),i=XF.create(XF.Class.UNIVERSAL,XF.Type.SEQUENCE,!0,[]),o=XF.create(XF.Class.UNIVERSAL,XF.Type.SEQUENCE,!0,[]);o.value.push(XF.create(XF.Class.UNIVERSAL,XF.Type.OID,!1,n)),o.value.push(XF.create(XF.Class.UNIVERSAL,XF.Type.NULL,!1,""));var a=XF.create(XF.Class.UNIVERSAL,XF.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(a),XF.toDer(i).getBytes()},aq=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);var n;e.dP||(e.dP=e.d.mod(e.p.subtract(QF.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(QF.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));do{n=new QF(ZU.util.bytesToHex(ZU.random.getBytes(e.n.bitLength()/8)),16)}while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(QF.ONE));for(var i=(t=t.multiply(n.modPow(e.e,e.n)).mod(e.n)).mod(e.p).modPow(e.dP,e.p),o=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(o)<0;)i=i.add(e.p);var a=i.subtract(o).multiply(e.qInv).mod(e.p).multiply(e.q).add(o);return a=a.multiply(n.modInverse(e.n)).mod(e.n)};function sq(t,e,r){var n=ZU.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a,s=i-3-t.length;if(0===r||1===r){a=0===r?0:255;for(var u=0;u<s;++u)n.putByte(a)}else for(;s>0;){var c=0,f=ZU.random.getBytes(s);for(u=0;u<s;++u)0===(a=f.charCodeAt(u))?++c:n.putByte(a);s=c}return n.putByte(0),n.putBytes(t),n}function uq(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),o=ZU.util.createBuffer(t),a=o.getByte(),s=o.getByte();if(0!==a||r&&0!==s&&1!==s||!r&&2!=s||r&&0===s&&void 0===n)throw new Error("Encryption block is invalid.");var u=0;if(0===s){u=i-3-n;for(var c=0;c<u;++c)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===s)for(u=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++u}else if(2===s)for(u=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++u}if(0!==o.getByte()||u!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function cq(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=ZU.util.hexToBytes(e);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function fq(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function hq(t){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[t]}function lq(t){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[t]}function dq(t){for(var e=ZU.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(JF.rsa.encrypt=function(t,e,r){var n,i=r,o=Math.ceil(e.n.bitLength()/8);!1!==r&&!0!==r?(i=2===r,n=sq(t,e,r)):(n=ZU.util.createBuffer()).putBytes(t);for(var a=new QF(n.toHex(),16),s=aq(a,e,i).toString(16),u=ZU.util.createBuffer(),c=o-Math.ceil(s.length/2);c>0;)u.putByte(0),--c;return u.putBytes(ZU.util.hexToBytes(s)),u.getBytes()},JF.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=i,o}var a=new QF(ZU.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=aq(a,e,r).toString(16),u=ZU.util.createBuffer(),c=i-Math.ceil(s.length/2);c>0;)u.putByte(0),--c;return u.putBytes(ZU.util.hexToBytes(s)),!1!==n?uq(u.getBytes(),e,r):u.getBytes()},JF.rsa.createKeyPairGenerationState=function(t,e,r){"string"==typeof t&&(t=parseInt(t,10)),t=t||2048;var n,i=(r=r||{}).prng||ZU.random,o={nextBytes:function(t){for(var e=i.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},a=r.algorithm||"PRIMEINC";if("PRIMEINC"!==a)throw new Error("Invalid key generation algorithm: "+a);return(n={algorithm:a,state:0,bits:t,rng:o,eInt:e||65537,e:new QF(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null}).e.fromInt(n.eInt),n},JF.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new QF(null);r.fromInt(30);for(var n,i=0,o=function(t,e){return t|e},a=+new Date,s=0;null===t.keys&&(e<=0||s<e);){if(0===t.state){var u=null===t.p?t.pBits:t.qBits,c=u-1;0===t.pqState?(t.num=new QF(u,t.rng),t.num.testBit(c)||t.num.bitwiseTo(QF.ONE.shiftLeft(c),o,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):1===t.pqState?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(fq(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(tq[i++%8],0):2===t.pqState?t.pqState=0===t.num.subtract(QF.ONE).gcd(t.e).compareTo(QF.ONE)?3:0:3===t.pqState&&(t.pqState=0,null===t.p?t.p=t.num:t.q=t.num,null!==t.p&&null!==t.q&&++t.state,t.num=null)}else if(1===t.state)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(2===t.state)t.p1=t.p.subtract(QF.ONE),t.q1=t.q.subtract(QF.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(3===t.state)0===t.phi.gcd(t.e).compareTo(QF.ONE)?++t.state:(t.p=null,t.q=null,t.state=0);else if(4===t.state)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(5===t.state){var f=t.e.modInverse(t.phi);t.keys={privateKey:JF.rsa.setPrivateKey(t.n,t.e,f,t.p,t.q,f.mod(t.p1),f.mod(t.q1),t.q.modInverse(t.p)),publicKey:JF.rsa.setPublicKey(t.n,t.e)}}s+=(n=+new Date)-a,a=n}return null!==t.keys},JF.rsa.generateKeyPair=function(t,e,r,n){if(1===arguments.length?"object"==typeof t?(r=t,t=void 0):"function"==typeof t&&(n=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof e?(n=e,e=void 0):"number"!=typeof e&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):3===arguments.length&&("number"==typeof e?"function"==typeof r&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},void 0===t&&(t=r.bits||2048),void 0===e&&(e=r.e||65537),!ZU.options.usePureJavaScript&&n&&t>=256&&t<=16384&&(65537===e||3===e)){if(hq("generateKey")&&hq("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:dq(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(t){return window.crypto.subtle.exportKey("pkcs8",t.privateKey)}).then(void 0,function(t){n(t)}).then(function(t){if(t){var e=JF.privateKeyFromAsn1(XF.fromDer(ZU.util.createBuffer(t)));n(null,{privateKey:e,publicKey:JF.setRsaPublicKey(e.n,e.e)})}});if(lq("generateKey")&&lq("exportKey")){var i=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:dq(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);return i.oncomplete=function(t){var e=t.target.result,r=window.msCrypto.subtle.exportKey("pkcs8",e.privateKey);r.oncomplete=function(t){var e=t.target.result,r=JF.privateKeyFromAsn1(XF.fromDer(ZU.util.createBuffer(e)));n(null,{privateKey:r,publicKey:JF.setRsaPublicKey(r.n,r.e)})},r.onerror=function(t){n(t)}},void(i.onerror=function(t){n(t)})}}var o=JF.rsa.createKeyPairGenerationState(t,e,r);if(!n)return JF.rsa.stepKeyPairGenerationState(o,0),o.keys;!function(t,e,r){"function"==typeof e&&(r=e,e={});var n={algorithm:{name:(e=e||{}).algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng);function i(){o(t.pBits,function(e,n){return e?r(e):(t.p=n,null!==t.q?a(e,t.q):void o(t.qBits,a))})}function o(t,e){ZU.prime.generateProbablePrime(t,n,e)}function a(e,n){if(e)return r(e);if(t.q=n,t.p.compareTo(t.q)<0){var s=t.p;t.p=t.q,t.q=s}if(0!==t.p.subtract(QF.ONE).gcd(t.e).compareTo(QF.ONE))return t.p=null,void i();if(0!==t.q.subtract(QF.ONE).gcd(t.e).compareTo(QF.ONE))return t.q=null,void o(t.qBits,a);if(t.p1=t.p.subtract(QF.ONE),t.q1=t.q.subtract(QF.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(QF.ONE))return t.p=t.q=null,void i();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void o(t.qBits,a);var u=t.e.modInverse(t.phi);t.keys={privateKey:JF.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:JF.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}i()}(o,r,n)},JF.setRsaPublicKey=JF.rsa.setPublicKey=function(t,e){var r={n:t,e:e,encrypt:function(t,e,n){if("string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===e)e={encode:function(t,e,r){return sq(t,e,2).getBytes()}};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={encode:function(t,e){return ZU.pkcs1.encode_rsa_oaep(e,t,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(e))e={encode:function(t){return t}};else if("string"==typeof e)throw new Error('Unsupported encryption scheme: "'+e+'".');var i=e.encode(t,r,!0);return JF.rsa.encrypt(i,r,!0)},verify:function(t,e,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(t,e){return e=uq(e,r,!0),t===XF.fromDer(e).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(t,e){return t===(e=uq(e,r,!0))}});var i=JF.rsa.decrypt(e,r,!0,!1);return n.verify(t,i,r.n.bitLength())}};return r},JF.setRsaPrivateKey=JF.rsa.setPrivateKey=function(t,e,r,n,i,o,a,s){var u={n:t,e:e,d:r,p:n,q:i,dP:o,dQ:a,qInv:s,decrypt:function(t,e,r){"string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5");var n=JF.rsa.decrypt(t,u,!1,!1);if("RSAES-PKCS1-V1_5"===e)e={decode:uq};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={decode:function(t,e){return ZU.pkcs1.decode_rsa_oaep(e,t,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(e))throw new Error('Unsupported encryption scheme: "'+e+'".');e={decode:function(t){return t}}}return e.decode(n,u,!1)},sign:function(t,e){var r=!1;"string"==typeof e&&(e=e.toUpperCase()),void 0===e||"RSASSA-PKCS1-V1_5"===e?(e={encode:oq},r=1):"NONE"!==e&&"NULL"!==e&&null!==e||(e={encode:function(){return t}},r=1);var n=e.encode(t,u.n.bitLength());return JF.rsa.encrypt(n,u,r)}};return u},JF.wrapRsaPrivateKey=function(t){return XF.create(XF.Class.UNIVERSAL,XF.Type.SEQUENCE,!0,[XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,XF.integerToDer(0).getBytes()),XF.create(XF.Class.UNIVERSAL,XF.Type.SEQUENCE,!0,[XF.create(XF.Class.UNIVERSAL,XF.Type.OID,!1,XF.oidToDer(JF.oids.rsaEncryption).getBytes()),XF.create(XF.Class.UNIVERSAL,XF.Type.NULL,!1,"")]),XF.create(XF.Class.UNIVERSAL,XF.Type.OCTETSTRING,!1,XF.toDer(t).getBytes())])},JF.privateKeyFromAsn1=function(t){var e,r,n,i,o,a,s,u,c={},f=[];if(XF.validate(t,eq,c,f)&&(t=XF.fromDer(ZU.util.createBuffer(c.privateKey))),c={},f=[],!XF.validate(t,rq,c,f)){var h=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw h.errors=f,h}return e=ZU.util.createBuffer(c.privateKeyModulus).toHex(),r=ZU.util.createBuffer(c.privateKeyPublicExponent).toHex(),n=ZU.util.createBuffer(c.privateKeyPrivateExponent).toHex(),i=ZU.util.createBuffer(c.privateKeyPrime1).toHex(),o=ZU.util.createBuffer(c.privateKeyPrime2).toHex(),a=ZU.util.createBuffer(c.privateKeyExponent1).toHex(),s=ZU.util.createBuffer(c.privateKeyExponent2).toHex(),u=ZU.util.createBuffer(c.privateKeyCoefficient).toHex(),JF.setRsaPrivateKey(new QF(e,16),new QF(r,16),new QF(n,16),new QF(i,16),new QF(o,16),new QF(a,16),new QF(s,16),new QF(u,16))},JF.privateKeyToAsn1=JF.privateKeyToRSAPrivateKey=function(t){return XF.create(XF.Class.UNIVERSAL,XF.Type.SEQUENCE,!0,[XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,XF.integerToDer(0).getBytes()),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.n)),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.e)),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.d)),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.p)),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.q)),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.dP)),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.dQ)),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.qInv))])},JF.publicKeyFromAsn1=function(t){var e={},r=[];if(XF.validate(t,iq,e,r)){var n,i=XF.derToOid(e.publicKeyOid);if(i!==JF.oids.rsaEncryption)throw(n=new Error("Cannot read public key. Unknown OID.")).oid=i,n;t=e.rsaPublicKey}if(r=[],!XF.validate(t,nq,e,r))throw(n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,n;var o=ZU.util.createBuffer(e.publicKeyModulus).toHex(),a=ZU.util.createBuffer(e.publicKeyExponent).toHex();return JF.setRsaPublicKey(new QF(o,16),new QF(a,16))},JF.publicKeyToAsn1=JF.publicKeyToSubjectPublicKeyInfo=function(t){return XF.create(XF.Class.UNIVERSAL,XF.Type.SEQUENCE,!0,[XF.create(XF.Class.UNIVERSAL,XF.Type.SEQUENCE,!0,[XF.create(XF.Class.UNIVERSAL,XF.Type.OID,!1,XF.oidToDer(JF.oids.rsaEncryption).getBytes()),XF.create(XF.Class.UNIVERSAL,XF.Type.NULL,!1,"")]),XF.create(XF.Class.UNIVERSAL,XF.Type.BITSTRING,!1,[JF.publicKeyToRSAPublicKey(t)])])},JF.publicKeyToRSAPublicKey=function(t){return XF.create(XF.Class.UNIVERSAL,XF.Type.SEQUENCE,!0,[XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.n)),XF.create(XF.Class.UNIVERSAL,XF.Type.INTEGER,!1,cq(t.e))])},void 0===pq)var pq=ZU.jsbn.BigInteger;var mq=ZU.asn1,yq=ZU.pki=ZU.pki||{},vq=(yq.pbe=ZU.pbe=ZU.pbe||{},yq.oids),gq={name:"EncryptedPrivateKeyInfo",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:mq.Class.UNIVERSAL,type:mq.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:mq.Class.UNIVERSAL,type:mq.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},bq={name:"PBES2Algorithms",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:mq.Class.UNIVERSAL,type:mq.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:mq.Class.UNIVERSAL,type:mq.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:mq.Class.UNIVERSAL,type:mq.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:mq.Class.UNIVERSAL,type:mq.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:mq.Class.UNIVERSAL,type:mq.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:mq.Class.UNIVERSAL,type:mq.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:mq.Class.UNIVERSAL,type:mq.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},wq={name:"pkcs-12PbeParams",tagClass:mq.Class.UNIVERSAL,type:mq.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:mq.Class.UNIVERSAL,type:mq.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:mq.Class.UNIVERSAL,type:mq.Type.INTEGER,constructed:!1,capture:"iterations"}]};function _q(t,e){return t.start().update(e).digest().getBytes()}function kq(t){var e;if(t){if(!(e=yq.oids[mq.derToOid(t)])){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else e="hmacWithSHA1";return Sq(e)}function Sq(t){var e=ZU.md;switch(t){case"hmacWithSHA224":e=ZU.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!(e&&t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}yq.encryptPrivateKeyInfo=function(t,e,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n,i,o,a=ZU.random.getBytesSync(r.saltSize),s=r.count,u=mq.integerToDer(s);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var c,f,h;switch(r.algorithm){case"aes128":n=16,c=16,f=vq["aes128-CBC"],h=ZU.aes.createEncryptionCipher;break;case"aes192":n=24,c=16,f=vq["aes192-CBC"],h=ZU.aes.createEncryptionCipher;break;case"aes256":n=32,c=16,f=vq["aes256-CBC"],h=ZU.aes.createEncryptionCipher;break;case"des":n=8,c=8,f=vq.desCBC,h=ZU.des.createEncryptionCipher;break;default:throw(v=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,v}var l="hmacWith"+r.prfAlgorithm.toUpperCase(),d=Sq(l),p=ZU.pkcs5.pbkdf2(e,a,s,n,d),m=ZU.random.getBytesSync(c);(g=h(p)).start(m),g.update(mq.toDer(t)),g.finish(),o=g.output.getBytes();var y=function(t,e,r,n){var i=mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[mq.create(mq.Class.UNIVERSAL,mq.Type.OCTETSTRING,!1,t),mq.create(mq.Class.UNIVERSAL,mq.Type.INTEGER,!1,e.getBytes())]);"hmacWithSHA1"!==n&&i.value.push(mq.create(mq.Class.UNIVERSAL,mq.Type.INTEGER,!1,ZU.util.hexToBytes(r.toString(16))),mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[mq.create(mq.Class.UNIVERSAL,mq.Type.OID,!1,mq.oidToDer(yq.oids[n]).getBytes()),mq.create(mq.Class.UNIVERSAL,mq.Type.NULL,!1,"")]));return i}(a,u,n,l);i=mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[mq.create(mq.Class.UNIVERSAL,mq.Type.OID,!1,mq.oidToDer(vq.pkcs5PBES2).getBytes()),mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[mq.create(mq.Class.UNIVERSAL,mq.Type.OID,!1,mq.oidToDer(vq.pkcs5PBKDF2).getBytes()),y]),mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[mq.create(mq.Class.UNIVERSAL,mq.Type.OID,!1,mq.oidToDer(f).getBytes()),mq.create(mq.Class.UNIVERSAL,mq.Type.OCTETSTRING,!1,m)])])])}else{var v;if("3des"!==r.algorithm)throw(v=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,v;n=24;var g,b=new ZU.util.ByteBuffer(a);p=yq.pbe.generatePkcs12Key(e,b,1,s,n),m=yq.pbe.generatePkcs12Key(e,b,2,s,n);(g=ZU.des.createEncryptionCipher(p)).start(m),g.update(mq.toDer(t)),g.finish(),o=g.output.getBytes(),i=mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[mq.create(mq.Class.UNIVERSAL,mq.Type.OID,!1,mq.oidToDer(vq["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[mq.create(mq.Class.UNIVERSAL,mq.Type.OCTETSTRING,!1,a),mq.create(mq.Class.UNIVERSAL,mq.Type.INTEGER,!1,u.getBytes())])])}return mq.create(mq.Class.UNIVERSAL,mq.Type.SEQUENCE,!0,[i,mq.create(mq.Class.UNIVERSAL,mq.Type.OCTETSTRING,!1,o)])},yq.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!mq.validate(t,gq,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=mq.derToOid(n.encryptionOid),s=yq.pbe.getCipher(a,n.encryptionParams,e),u=ZU.util.createBuffer(n.encryptedData);return s.update(u),s.finish()&&(r=mq.fromDer(s.output)),r},yq.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:mq.toDer(t).getBytes()};return ZU.pem.encode(r,{maxline:e})},yq.encryptedPrivateKeyFromPem=function(t){var e=ZU.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==e.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return mq.fromDer(e.body)},yq.encryptRsaPrivateKey=function(t,e,r){if(!(r=r||{}).legacy){var n=yq.wrapRsaPrivateKey(yq.privateKeyToAsn1(t));return n=yq.encryptPrivateKeyInfo(n,e,r),yq.encryptedPrivateKeyToPem(n)}var i,o,a,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=ZU.random.getBytesSync(16),s=ZU.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=ZU.random.getBytesSync(16),s=ZU.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=ZU.random.getBytesSync(16),s=ZU.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=ZU.random.getBytesSync(8),s=ZU.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=ZU.random.getBytesSync(8),s=ZU.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var c=s(ZU.pbe.opensslDeriveBytes(e,o.substr(0,8),a));c.start(o),c.update(mq.toDer(yq.privateKeyToAsn1(t))),c.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:ZU.util.bytesToHex(o).toUpperCase()},body:c.output.getBytes()};return ZU.pem.encode(f)},yq.decryptRsaPrivateKey=function(t,e){var r=null,n=ZU.pem.decode(t)[0];if("ENCRYPTED PRIVATE KEY"!==n.type&&"PRIVATE KEY"!==n.type&&"RSA PRIVATE KEY"!==n.type)throw(a=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=a,a;if(n.procType&&"ENCRYPTED"===n.procType.type){var i,o;switch(n.dekInfo.algorithm){case"DES-CBC":i=8,o=ZU.des.createDecryptionCipher;break;case"DES-EDE3-CBC":i=24,o=ZU.des.createDecryptionCipher;break;case"AES-128-CBC":i=16,o=ZU.aes.createDecryptionCipher;break;case"AES-192-CBC":i=24,o=ZU.aes.createDecryptionCipher;break;case"AES-256-CBC":i=32,o=ZU.aes.createDecryptionCipher;break;case"RC2-40-CBC":i=5,o=function(t){return ZU.rc2.createDecryptionCipher(t,40)};break;case"RC2-64-CBC":i=8,o=function(t){return ZU.rc2.createDecryptionCipher(t,64)};break;case"RC2-128-CBC":i=16,o=function(t){return ZU.rc2.createDecryptionCipher(t,128)};break;default:var a;throw(a=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".')).algorithm=n.dekInfo.algorithm,a}var s=ZU.util.hexToBytes(n.dekInfo.parameters),u=o(ZU.pbe.opensslDeriveBytes(e,s.substr(0,8),i));if(u.start(s),u.update(ZU.util.createBuffer(n.body)),!u.finish())return r;r=u.output.getBytes()}else r=n.body;return null!==(r="ENCRYPTED PRIVATE KEY"===n.type?yq.decryptPrivateKeyInfo(mq.fromDer(r),e):mq.fromDer(r))&&(r=yq.privateKeyFromAsn1(r)),r},yq.pbe.generatePkcs12Key=function(t,e,r,n,i,o){var a,s;if(void 0===o||null===o){if(!("sha1"in ZU.md))throw new Error('"sha1" hash algorithm unavailable.');o=ZU.md.sha1.create()}var u=o.digestLength,c=o.blockLength,f=new ZU.util.ByteBuffer,h=new ZU.util.ByteBuffer;if(null!==t&&void 0!==t){for(s=0;s<t.length;s++)h.putInt16(t.charCodeAt(s));h.putInt16(0)}var l=h.length(),d=e.length(),p=new ZU.util.ByteBuffer;p.fillWithByte(r,c);var m=c*Math.ceil(d/c),y=new ZU.util.ByteBuffer;for(s=0;s<m;s++)y.putByte(e.at(s%d));var v=c*Math.ceil(l/c),g=new ZU.util.ByteBuffer;for(s=0;s<v;s++)g.putByte(h.at(s%l));var b=y;b.putBuffer(g);for(var w=Math.ceil(i/u),_=1;_<=w;_++){var k=new ZU.util.ByteBuffer;k.putBytes(p.bytes()),k.putBytes(b.bytes());for(var S=0;S<n;S++)o.start(),o.update(k.getBytes()),k=o.digest();var E=new ZU.util.ByteBuffer;for(s=0;s<c;s++)E.putByte(k.at(s%u));var M=Math.ceil(d/c)+Math.ceil(l/c),A=new ZU.util.ByteBuffer;for(a=0;a<M;a++){var x=new ZU.util.ByteBuffer(b.getBytes(c)),B=511;for(s=E.length()-1;s>=0;s--)B>>=8,B+=E.at(s)+x.at(s),x.setAt(s,255&B);A.putBuffer(x)}b=A,f.putBuffer(k)}return f.truncate(f.length()-i),f},yq.pbe.getCipher=function(t,e,r){switch(t){case yq.oids.pkcs5PBES2:return yq.pbe.getCipherForPBES2(t,e,r);case yq.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case yq.oids["pbewithSHAAnd40BitRC2-CBC"]:return yq.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},yq.pbe.getCipherForPBES2=function(t,e,r){var n,i={},o=[];if(!mq.validate(e,bq,i,o))throw(n=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o,n;if((t=mq.derToOid(i.kdfOid))!==yq.oids.pkcs5PBKDF2)throw(n=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,n.supportedOids=["pkcs5PBKDF2"],n;if((t=mq.derToOid(i.encOid))!==yq.oids["aes128-CBC"]&&t!==yq.oids["aes192-CBC"]&&t!==yq.oids["aes256-CBC"]&&t!==yq.oids["des-EDE3-CBC"]&&t!==yq.oids.desCBC)throw(n=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,n.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],n;var a,s,u=i.kdfSalt,c=ZU.util.createBuffer(i.kdfIterationCount);switch(c=c.getInt(c.length()<<3),yq.oids[t]){case"aes128-CBC":a=16,s=ZU.aes.createDecryptionCipher;break;case"aes192-CBC":a=24,s=ZU.aes.createDecryptionCipher;break;case"aes256-CBC":a=32,s=ZU.aes.createDecryptionCipher;break;case"des-EDE3-CBC":a=24,s=ZU.des.createDecryptionCipher;break;case"desCBC":a=8,s=ZU.des.createDecryptionCipher}var f=kq(i.prfOid),h=ZU.pkcs5.pbkdf2(r,u,c,a,f),l=i.encIv,d=s(h);return d.start(l),d},yq.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!mq.validate(e,wq,n,i))throw(f=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=i,f;var o,a,s,u=ZU.util.createBuffer(n.salt),c=ZU.util.createBuffer(n.iterations);switch(c=c.getInt(c.length()<<3),t){case yq.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:o=24,a=8,s=ZU.des.startDecrypting;break;case yq.oids["pbewithSHAAnd40BitRC2-CBC"]:o=5,a=8,s=function(t,e){var r=ZU.rc2.createDecryptionCipher(t,40);return r.start(e,null),r};break;default:var f;throw(f=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,f}var h=kq(n.prfOid),l=yq.pbe.generatePkcs12Key(r,u,1,c,o,h);return h.start(),s(l,yq.pbe.generatePkcs12Key(r,u,2,c,a,h))},yq.pbe.opensslDeriveBytes=function(t,e,r,n){if(void 0===n||null===n){if(!("md5"in ZU.md))throw new Error('"md5" hash algorithm unavailable.');n=ZU.md.md5.create()}null===e&&(e="");for(var i=[_q(n,t+e)],o=16,a=1;o<r;++a,o+=16)i.push(_q(n,i[a-1]+t+e));return i.join("").substr(0,r)};et(function(t){var e=ZU.asn1,r=t.exports=ZU.pkcs7asn1=ZU.pkcs7asn1||{};ZU.pkcs7=ZU.pkcs7||{},ZU.pkcs7.asn1=r;var n={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};r.contentInfoValidator=n;var i={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};r.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(i)},r.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(i)};var o={name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};r.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},n,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[o]}]},r.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}),et(function(t){ZU.mgf=ZU.mgf||{},(t.exports=ZU.mgf.mgf1=ZU.mgf1=ZU.mgf1||{}).create=function(t){return{generate:function(e,r){for(var n=new ZU.util.ByteBuffer,i=Math.ceil(r/t.digestLength),o=0;o<i;o++){var a=new ZU.util.ByteBuffer;a.putInt32(o),t.start(),t.update(e+a.getBytes()),n.putBuffer(t.digest())}return n.truncate(n.length()-r),n.getBytes()}}}}),ZU.mgf=ZU.mgf||{};ZU.mgf.mgf1=ZU.mgf1;et(function(t){(t.exports=ZU.pss=ZU.pss||{}).create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e,r=t.md,n=t.mgf,i=r.digestLength,o=t.salt||null;if("string"==typeof o&&(o=ZU.util.createBuffer(o)),"saltLength"in t)e=t.saltLength;else{if(null===o)throw new Error("Salt length not specified or specific salt not given.");e=o.length()}if(null!==o&&o.length()!==e)throw new Error("Given salt length does not match length of given salt.");var a=t.prng||ZU.random,s={encode:function(t,s){var u,c,f=s-1,h=Math.ceil(f/8),l=t.digest().getBytes();if(h<i+e+2)throw new Error("Message is too long to encrypt.");c=null===o?a.getBytesSync(e):o.bytes();var d=new ZU.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(l),d.putBytes(c),r.start(),r.update(d.getBytes());var p=r.digest().getBytes(),m=new ZU.util.ByteBuffer;m.fillWithByte(0,h-e-i-2),m.putByte(1),m.putBytes(c);var y=m.getBytes(),v=h-i-1,g=n.generate(p,v),b="";for(u=0;u<v;u++)b+=String.fromCharCode(y.charCodeAt(u)^g.charCodeAt(u));var w=65280>>8*h-f&255;return(b=String.fromCharCode(b.charCodeAt(0)&~w)+b.substr(1))+p+String.fromCharCode(188)},verify:function(t,o,a){var s,u=a-1,c=Math.ceil(u/8);if(o=o.substr(-c),c<i+e+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==o.charCodeAt(c-1))throw new Error("Encoded message does not end in 0xBC.");var f=c-i-1,h=o.substr(0,f),l=o.substr(f,i),d=65280>>8*c-u&255;if(0!=(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var p=n.generate(l,f),m="";for(s=0;s<f;s++)m+=String.fromCharCode(h.charCodeAt(s)^p.charCodeAt(s));m=String.fromCharCode(m.charCodeAt(0)&~d)+m.substr(1);var y=c-i-e-2;for(s=0;s<y;s++)if(0!==m.charCodeAt(s))throw new Error("Leftmost octets not zero as expected");if(1!==m.charCodeAt(y))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=m.substr(-e),g=new ZU.util.ByteBuffer;return g.fillWithByte(0,8),g.putBytes(t),g.putBytes(v),r.start(),r.update(g.getBytes()),l===r.digest().getBytes()}};return s}}),et(function(t){var e=ZU.asn1,r=t.exports=ZU.pki=ZU.pki||{},n=r.oids,i={};i.CN=n.commonName,i.commonName="CN",i.C=n.countryName,i.countryName="C",i.L=n.localityName,i.localityName="L",i.ST=n.stateOrProvinceName,i.stateOrProvinceName="ST",i.O=n.organizationName,i.organizationName="O",i.OU=n.organizationalUnitName,i.organizationalUnitName="OU",i.E=n.emailAddress,i.emailAddress="E";var o=ZU.pki.rsa.publicKeyValidator,a={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},o,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},s={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},u={name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},o,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},c={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[u,{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function f(t,e){"string"==typeof e&&(e={shortName:e});for(var r,n=null,i=0;null===n&&i<t.attributes.length;++i)r=t.attributes[i],e.type&&e.type===r.type?n=r:e.name&&e.name===r.name?n=r:e.shortName&&e.shortName===r.shortName&&(n=r);return n}r.RDNAttributesAsArray=function(t,r){for(var o,a,s,u=[],c=0;c<t.value.length;++c){o=t.value[c];for(var f=0;f<o.value.length;++f)s={},a=o.value[f],s.type=e.derToOid(a.value[0].value),s.value=a.value[1].value,s.valueTagClass=a.value[1].type,s.type in n&&(s.name=n[s.type],s.name in i&&(s.shortName=i[s.name])),r&&(r.update(s.type),r.update(s.value)),u.push(s)}return u},r.CRIAttributesAsArray=function(t){for(var o=[],a=0;a<t.length;++a)for(var s=t[a],u=e.derToOid(s.value[0].value),c=s.value[1].value,f=0;f<c.length;++f){var h={};if(h.type=u,h.value=c[f].value,h.valueTagClass=c[f].type,h.type in n&&(h.name=n[h.type],h.name in i&&(h.shortName=i[h.name])),h.type===n.extensionRequest){h.extensions=[];for(var l=0;l<h.value.length;++l)h.extensions.push(r.certificateExtensionFromAsn1(h.value[l]))}o.push(h)}return o};var h=function(t,r,i){var o={};if(t!==n["RSASSA-PSS"])return o;i&&(o={hash:{algorithmOid:n.sha1},mgf:{algorithmOid:n.mgf1,hash:{algorithmOid:n.sha1}},saltLength:20});var a={},u=[];if(!e.validate(r,s,a,u)){var c=new Error("Cannot read RSASSA-PSS parameter block.");throw c.errors=u,c}return void 0!==a.hashOid&&(o.hash=o.hash||{},o.hash.algorithmOid=e.derToOid(a.hashOid)),void 0!==a.maskGenOid&&(o.mgf=o.mgf||{},o.mgf.algorithmOid=e.derToOid(a.maskGenOid),o.mgf.hash=o.mgf.hash||{},o.mgf.hash.algorithmOid=e.derToOid(a.maskGenHashOid)),void 0!==a.saltLength&&(o.saltLength=a.saltLength.charCodeAt(0)),o};function l(t){for(var r,n,i=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),o=t.attributes,a=0;a<o.length;++a){var s=(r=o[a]).value,u=e.Type.PRINTABLESTRING;"valueTagClass"in r&&(u=r.valueTagClass)===e.Type.UTF8&&(s=ZU.util.encodeUtf8(s)),n=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.type).getBytes()),e.create(e.Class.UNIVERSAL,u,!1,s)])]),i.value.push(n)}return i}function d(t){for(var o,a=0;a<t.length;++a){if(void 0===(o=t[a]).name&&(o.type&&o.type in r.oids?o.name=r.oids[o.type]:o.shortName&&o.shortName in i&&(o.name=r.oids[i[o.shortName]])),void 0===o.type){if(!(o.name&&o.name in r.oids))throw(u=new Error("Attribute type not specified.")).attribute=o,u;o.type=r.oids[o.name]}if(void 0===o.shortName&&o.name&&o.name in i&&(o.shortName=i[o.name]),o.type===n.extensionRequest&&(o.valueConstructed=!0,o.valueTagClass=e.Type.SEQUENCE,!o.value&&o.extensions)){o.value=[];for(var s=0;s<o.extensions.length;++s)o.value.push(r.certificateExtensionToAsn1(p(o.extensions[s])))}var u;if(void 0===o.value)throw(u=new Error("Attribute value not specified.")).attribute=o,u}}function p(t,i){if(i=i||{},void 0===t.name&&t.id&&t.id in r.oids&&(t.name=r.oids[t.id]),void 0===t.id){if(!(t.name&&t.name in r.oids))throw(w=new Error("Extension ID not specified.")).extension=t,w;t.id=r.oids[t.name]}if(void 0!==t.value)return t;if("keyUsage"===t.name){var o=0,a=0,s=0;t.digitalSignature&&(a|=128,o=7),t.nonRepudiation&&(a|=64,o=6),t.keyEncipherment&&(a|=32,o=5),t.dataEncipherment&&(a|=16,o=4),t.keyAgreement&&(a|=8,o=3),t.keyCertSign&&(a|=4,o=2),t.cRLSign&&(a|=2,o=1),t.encipherOnly&&(a|=1,o=0),t.decipherOnly&&(s|=128,o=7);var u=String.fromCharCode(o);0!==s?u+=String.fromCharCode(a)+String.fromCharCode(s):0!==a&&(u+=String.fromCharCode(a)),t.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,u)}else if("basicConstraints"===t.name)t.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(t.pathLenConstraint).getBytes()));else if("extKeyUsage"===t.name){t.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var c=t.value.value;for(var f in t)!0===t[f]&&(f in n?c.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(n[f]).getBytes())):-1!==f.indexOf(".")&&c.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f).getBytes())))}else if("nsCertType"===t.name){o=0,a=0;t.client&&(a|=128,o=7),t.server&&(a|=64,o=6),t.email&&(a|=32,o=5),t.objsign&&(a|=16,o=4),t.reserved&&(a|=8,o=3),t.sslCA&&(a|=4,o=2),t.emailCA&&(a|=2,o=1),t.objCA&&(a|=1,o=0);u=String.fromCharCode(o);0!==a&&(u+=String.fromCharCode(a)),t.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,u)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var h=0;h<t.altNames.length;++h){u=(v=t.altNames[h]).value;if(7===v.type&&v.ip){if(null===(u=ZU.util.bytesFromIP(v.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,w}else 8===v.type&&(u=v.oid?e.oidToDer(e.oidToDer(v.oid)):e.oidToDer(u));t.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,v.type,!1,u))}}else if("subjectKeyIdentifier"===t.name&&i.cert){var d=i.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=d.toHex(),t.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,d.getBytes())}else if("authorityKeyIdentifier"===t.name&&i.cert){t.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);c=t.value.value;if(t.keyIdentifier){var p=!0===t.keyIdentifier?i.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;c.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,p))}if(t.authorityCertIssuer){var m=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[l(!0===t.authorityCertIssuer?i.cert.issuer:t.authorityCertIssuer)])];c.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,m))}if(t.serialNumber){var y=ZU.util.hexToBytes(!0===t.serialNumber?i.cert.serialNumber:t.serialNumber);c.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if("cRLDistributionPoints"===t.name){t.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);c=t.value.value;var v,g=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),b=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(h=0;h<t.altNames.length;++h){u=(v=t.altNames[h]).value;if(7===v.type&&v.ip){if(null===(u=ZU.util.bytesFromIP(v.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=t,w}else 8===v.type&&(u=v.oid?e.oidToDer(e.oidToDer(v.oid)):e.oidToDer(u));b.value.push(e.create(e.Class.CONTEXT_SPECIFIC,v.type,!1,u))}g.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[b])),c.push(g)}var w;if(void 0===t.value)throw(w=new Error("Extension value not specified.")).extension=t,w;return t}function m(t,r){switch(t){case n["RSASSA-PSS"]:var i=[];return void 0!==r.hash.algorithmOid&&i.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==r.mgf.algorithmOid&&i.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==r.saltLength&&i.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(r.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,i);default:return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}}r.certificateFromPem=function(t,n,i){var o=ZU.pem.decode(t)[0];if("CERTIFICATE"!==o.type&&"X509 CERTIFICATE"!==o.type&&"TRUSTED CERTIFICATE"!==o.type){var a=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=e.fromDer(o.body,i);return r.certificateFromAsn1(s,n)},r.certificateToPem=function(t,n){var i={type:"CERTIFICATE",body:e.toDer(r.certificateToAsn1(t)).getBytes()};return ZU.pem.encode(i,{maxline:n})},r.publicKeyFromPem=function(t){var n=ZU.pem.decode(t)[0];if("PUBLIC KEY"!==n.type&&"RSA PUBLIC KEY"!==n.type){var i=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var o=e.fromDer(n.body);return r.publicKeyFromAsn1(o)},r.publicKeyToPem=function(t,n){var i={type:"PUBLIC KEY",body:e.toDer(r.publicKeyToAsn1(t)).getBytes()};return ZU.pem.encode(i,{maxline:n})},r.publicKeyToRSAPublicKeyPem=function(t,n){var i={type:"RSA PUBLIC KEY",body:e.toDer(r.publicKeyToRSAPublicKey(t)).getBytes()};return ZU.pem.encode(i,{maxline:n})},r.getPublicKeyFingerprint=function(t,n){var i,o=(n=n||{}).md||ZU.md.sha1.create();switch(n.type||"RSAPublicKey"){case"RSAPublicKey":i=e.toDer(r.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":i=e.toDer(r.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+n.type+'".')}o.start(),o.update(i);var a=o.digest();if("hex"===n.encoding){var s=a.toHex();return n.delimiter?s.match(/.{2}/g).join(n.delimiter):s}if("binary"===n.encoding)return a.getBytes();if(n.encoding)throw new Error('Unknown encoding "'+n.encoding+'".');return a},r.certificationRequestFromPem=function(t,n,i){var o=ZU.pem.decode(t)[0];if("CERTIFICATE REQUEST"!==o.type){var a=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=e.fromDer(o.body,i);return r.certificationRequestFromAsn1(s,n)},r.certificationRequestToPem=function(t,n){var i={type:"CERTIFICATE REQUEST",body:e.toDer(r.certificationRequestToAsn1(t)).getBytes()};return ZU.pem.encode(i,{maxline:n})},r.createCertificate=function(){var t={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return f(t.issuer,e)},t.issuer.addField=function(e){d([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return f(t.subject,e)},t.subject.addField=function(e){d([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){d(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){d(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)p(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var r,n=null,i=0;null===n&&i<t.extensions.length;++i)r=t.extensions[i],e.id&&r.id===e.id?n=r:e.name&&r.name===e.name&&(n=r);return n},t.sign=function(i,o){t.md=o||ZU.md.sha1.create();var a=n[t.md.algorithm+"WithRSAEncryption"];if(!a){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=t.md.algorithm,s}t.signatureOid=t.siginfo.algorithmOid=a,t.tbsCertificate=r.getTBSCertificate(t);var u=e.toDer(t.tbsCertificate);t.md.update(u.getBytes()),t.signature=i.sign(t.md)},t.verify=function(i){var o=!1;if(!t.issued(i)){var a=i.issuer,s=t.subject;throw(p=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=a.attributes,p.actualIssuer=s.attributes,p}var u=i.md;if(null===u){if(i.signatureOid in n)switch(n[i.signatureOid]){case"sha1WithRSAEncryption":u=ZU.md.sha1.create();break;case"md5WithRSAEncryption":u=ZU.md.md5.create();break;case"sha256WithRSAEncryption":u=ZU.md.sha256.create();break;case"sha512WithRSAEncryption":u=ZU.md.sha512.create();break;case"RSASSA-PSS":u=ZU.md.sha256.create()}if(null===u)throw(p=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=i.signatureOid,p;var c=i.tbsCertificate||r.getTBSCertificate(i),f=e.toDer(c);u.update(f.getBytes())}if(null!==u){var h;switch(i.signatureOid){case n.sha1WithRSAEncryption:h=void 0;break;case n["RSASSA-PSS"]:var l,d,p;if(void 0===(l=n[i.signatureParameters.mgf.hash.algorithmOid])||void 0===ZU.md[l])throw(p=new Error("Unsupported MGF hash function.")).oid=i.signatureParameters.mgf.hash.algorithmOid,p.name=l,p;if(void 0===(d=n[i.signatureParameters.mgf.algorithmOid])||void 0===ZU.mgf[d])throw(p=new Error("Unsupported MGF function.")).oid=i.signatureParameters.mgf.algorithmOid,p.name=d,p;if(d=ZU.mgf[d].create(ZU.md[l].create()),void 0===(l=n[i.signatureParameters.hash.algorithmOid])||void 0===ZU.md[l])throw{message:"Unsupported RSASSA-PSS hash function.",oid:i.signatureParameters.hash.algorithmOid,name:l};h=ZU.pss.create(ZU.md[l].create(),d,i.signatureParameters.saltLength)}o=t.publicKey.verify(u.digest().getBytes(),i.signature,h)}return o},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var o,a;r=!0;for(var s=0;r&&s<n.attributes.length;++s)o=n.attributes[s],a=i.attributes[s],o.type===a.type&&o.value===a.value||(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=n.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var i=t.extensions[r];if(i.id===e){var o=t.generateSubjectKeyIdentifier().getBytes();return ZU.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},t},r.certificateFromAsn1=function(t,i){var o={},s=[];if(!e.validate(t,a,o,s))throw(p=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=s,p;if(e.derToOid(o.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var u=r.createCertificate();u.version=o.certVersion?o.certVersion.charCodeAt(0):0;var c=ZU.util.createBuffer(o.certSerialNumber);u.serialNumber=c.toHex(),u.signatureOid=ZU.asn1.derToOid(o.certSignatureOid),u.signatureParameters=h(u.signatureOid,o.certSignatureParams,!0),u.siginfo.algorithmOid=ZU.asn1.derToOid(o.certinfoSignatureOid),u.siginfo.parameters=h(u.siginfo.algorithmOid,o.certinfoSignatureParams,!1),u.signature=o.certSignature;var l=[];if(void 0!==o.certValidity1UTCTime&&l.push(e.utcTimeToDate(o.certValidity1UTCTime)),void 0!==o.certValidity2GeneralizedTime&&l.push(e.generalizedTimeToDate(o.certValidity2GeneralizedTime)),void 0!==o.certValidity3UTCTime&&l.push(e.utcTimeToDate(o.certValidity3UTCTime)),void 0!==o.certValidity4GeneralizedTime&&l.push(e.generalizedTimeToDate(o.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(u.validity.notBefore=l[0],u.validity.notAfter=l[1],u.tbsCertificate=o.tbsCertificate,i){var p;if(u.md=null,u.signatureOid in n)switch(n[u.signatureOid]){case"sha1WithRSAEncryption":u.md=ZU.md.sha1.create();break;case"md5WithRSAEncryption":u.md=ZU.md.md5.create();break;case"sha256WithRSAEncryption":u.md=ZU.md.sha256.create();break;case"sha512WithRSAEncryption":u.md=ZU.md.sha512.create();break;case"RSASSA-PSS":u.md=ZU.md.sha256.create()}if(null===u.md)throw(p=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=u.signatureOid,p;var m=e.toDer(u.tbsCertificate);u.md.update(m.getBytes())}var y=ZU.md.sha1.create();u.issuer.getField=function(t){return f(u.issuer,t)},u.issuer.addField=function(t){d([t]),u.issuer.attributes.push(t)},u.issuer.attributes=r.RDNAttributesAsArray(o.certIssuer,y),o.certIssuerUniqueId&&(u.issuer.uniqueId=o.certIssuerUniqueId),u.issuer.hash=y.digest().toHex();var v=ZU.md.sha1.create();return u.subject.getField=function(t){return f(u.subject,t)},u.subject.addField=function(t){d([t]),u.subject.attributes.push(t)},u.subject.attributes=r.RDNAttributesAsArray(o.certSubject,v),o.certSubjectUniqueId&&(u.subject.uniqueId=o.certSubjectUniqueId),u.subject.hash=v.digest().toHex(),o.certExtensions?u.extensions=r.certificateExtensionsFromAsn1(o.certExtensions):u.extensions=[],u.publicKey=r.publicKeyFromAsn1(o.subjectPublicKeyInfo),u},r.certificateExtensionsFromAsn1=function(t){for(var e=[],n=0;n<t.value.length;++n)for(var i=t.value[n],o=0;o<i.value.length;++o)e.push(r.certificateExtensionFromAsn1(i.value[o]));return e},r.certificateExtensionFromAsn1=function(t){var r={};if(r.id=e.derToOid(t.value[0].value),r.critical=!1,t.value[1].type===e.Type.BOOLEAN?(r.critical=0!==t.value[1].value.charCodeAt(0),r.value=t.value[2].value):r.value=t.value[1].value,r.id in n)if(r.name=n[r.id],"keyUsage"===r.name){var i=0,o=0;(s=e.fromDer(r.value)).value.length>1&&(i=s.value.charCodeAt(1),o=s.value.length>2?s.value.charCodeAt(2):0),r.digitalSignature=128==(128&i),r.nonRepudiation=64==(64&i),r.keyEncipherment=32==(32&i),r.dataEncipherment=16==(16&i),r.keyAgreement=8==(8&i),r.keyCertSign=4==(4&i),r.cRLSign=2==(2&i),r.encipherOnly=1==(1&i),r.decipherOnly=128==(128&o)}else if("basicConstraints"===r.name){(s=e.fromDer(r.value)).value.length>0&&s.value[0].type===e.Type.BOOLEAN?r.cA=0!==s.value[0].value.charCodeAt(0):r.cA=!1;var a=null;s.value.length>0&&s.value[0].type===e.Type.INTEGER?a=s.value[0].value:s.value.length>1&&(a=s.value[1].value),null!==a&&(r.pathLenConstraint=e.derToInteger(a))}else if("extKeyUsage"===r.name)for(var s=e.fromDer(r.value),u=0;u<s.value.length;++u){var c=e.derToOid(s.value[u].value);c in n?r[n[c]]=!0:r[c]=!0}else if("nsCertType"===r.name){i=0;(s=e.fromDer(r.value)).value.length>1&&(i=s.value.charCodeAt(1)),r.client=128==(128&i),r.server=64==(64&i),r.email=32==(32&i),r.objsign=16==(16&i),r.reserved=8==(8&i),r.sslCA=4==(4&i),r.emailCA=2==(2&i),r.objCA=1==(1&i)}else if("subjectAltName"===r.name||"issuerAltName"===r.name){var f;r.altNames=[];s=e.fromDer(r.value);for(var h=0;h<s.value.length;++h){var l={type:(f=s.value[h]).type,value:f.value};switch(r.altNames.push(l),f.type){case 1:case 2:case 6:break;case 7:l.ip=ZU.util.bytesToIP(f.value);break;case 8:l.oid=e.derToOid(f.value)}}}else if("subjectKeyIdentifier"===r.name){s=e.fromDer(r.value);r.subjectKeyIdentifier=ZU.util.bytesToHex(s.value)}return r},r.certificationRequestFromAsn1=function(t,i){var o={},a=[];if(!e.validate(t,c,o,a))throw(u=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=a,u;if(e.derToOid(o.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=r.createCertificationRequest();if(s.version=o.csrVersion?o.csrVersion.charCodeAt(0):0,s.signatureOid=ZU.asn1.derToOid(o.csrSignatureOid),s.signatureParameters=h(s.signatureOid,o.csrSignatureParams,!0),s.siginfo.algorithmOid=ZU.asn1.derToOid(o.csrSignatureOid),s.siginfo.parameters=h(s.siginfo.algorithmOid,o.csrSignatureParams,!1),s.signature=o.csrSignature,s.certificationRequestInfo=o.certificationRequestInfo,i){var u;if(s.md=null,s.signatureOid in n)switch(n[s.signatureOid]){case"sha1WithRSAEncryption":s.md=ZU.md.sha1.create();break;case"md5WithRSAEncryption":s.md=ZU.md.md5.create();break;case"sha256WithRSAEncryption":s.md=ZU.md.sha256.create();break;case"sha512WithRSAEncryption":s.md=ZU.md.sha512.create();break;case"RSASSA-PSS":s.md=ZU.md.sha256.create()}if(null===s.md)throw(u=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=s.signatureOid,u;var l=e.toDer(s.certificationRequestInfo);s.md.update(l.getBytes())}var p=ZU.md.sha1.create();return s.subject.getField=function(t){return f(s.subject,t)},s.subject.addField=function(t){d([t]),s.subject.attributes.push(t)},s.subject.attributes=r.RDNAttributesAsArray(o.certificationRequestInfoSubject,p),s.subject.hash=p.digest().toHex(),s.publicKey=r.publicKeyFromAsn1(o.subjectPublicKeyInfo),s.getAttribute=function(t){return f(s,t)},s.addAttribute=function(t){d([t]),s.attributes.push(t)},s.attributes=r.CRIAttributesAsArray(o.certificationRequestInfoAttributes||[]),s},r.createCertificationRequest=function(){var t={version:0,signatureOid:null,signature:null,siginfo:{}};return t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return f(t.subject,e)},t.subject.addField=function(e){d([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return f(t,e)},t.addAttribute=function(e){d([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){d(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){d(e),t.attributes=e},t.sign=function(i,o){t.md=o||ZU.md.sha1.create();var a=n[t.md.algorithm+"WithRSAEncryption"];if(!a){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=t.md.algorithm,s}t.signatureOid=t.siginfo.algorithmOid=a,t.certificationRequestInfo=r.getCertificationRequestInfo(t);var u=e.toDer(t.certificationRequestInfo);t.md.update(u.getBytes()),t.signature=i.sign(t.md)},t.verify=function(){var i=!1,o=t.md;if(null===o){if(t.signatureOid in n)switch(n[t.signatureOid]){case"sha1WithRSAEncryption":o=ZU.md.sha1.create();break;case"md5WithRSAEncryption":o=ZU.md.md5.create();break;case"sha256WithRSAEncryption":o=ZU.md.sha256.create();break;case"sha512WithRSAEncryption":o=ZU.md.sha512.create();break;case"RSASSA-PSS":o=ZU.md.sha256.create()}if(null===o)throw(h=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=t.signatureOid,h;var a=t.certificationRequestInfo||r.getCertificationRequestInfo(t),s=e.toDer(a);o.update(s.getBytes())}if(null!==o){var u;switch(t.signatureOid){case n.sha1WithRSAEncryption:break;case n["RSASSA-PSS"]:var c,f,h;if(void 0===(c=n[t.signatureParameters.mgf.hash.algorithmOid])||void 0===ZU.md[c])throw(h=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,h.name=c,h;if(void 0===(f=n[t.signatureParameters.mgf.algorithmOid])||void 0===ZU.mgf[f])throw(h=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,h.name=f,h;if(f=ZU.mgf[f].create(ZU.md[c].create()),void 0===(c=n[t.signatureParameters.hash.algorithmOid])||void 0===ZU.md[c])throw(h=new Error("Unsupported RSASSA-PSS hash function.")).oid=t.signatureParameters.hash.algorithmOid,h.name=c,h;u=ZU.pss.create(ZU.md[c].create(),f,t.signatureParameters.saltLength)}i=t.publicKey.verify(o.digest().getBytes(),t.signature,u)}return i},t},r.getTBSCertificate=function(t){var n=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(t.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,ZU.util.hexToBytes(t.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.siginfo.algorithmOid).getBytes()),m(t.siginfo.algorithmOid,t.siginfo.parameters)]),l(t.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(t.validity.notBefore)),e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(t.validity.notAfter))]),l(t.subject),r.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(r.certificateExtensionsToAsn1(t.extensions)),n},r.getCertificationRequestInfo=function(t){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(t.version).getBytes()),l(t.subject),r.publicKeyToAsn1(t.publicKey),function(t){var r=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return r;for(var n=t.attributes,i=0;i<n.length;++i){var o=n[i],a=o.value,s=e.Type.UTF8;"valueTagClass"in o&&(s=o.valueTagClass),s===e.Type.UTF8&&(a=ZU.util.encodeUtf8(a));var u=!1;"valueConstructed"in o&&(u=o.valueConstructed);var c=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(o.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,s,u,a)])]);r.value.push(c)}return r}(t)])},r.distinguishedNameToAsn1=function(t){return l(t)},r.certificateToAsn1=function(t){var n=t.tbsCertificate||r.getTBSCertificate(t);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[n,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.signatureOid).getBytes()),m(t.signatureOid,t.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},r.certificateExtensionsToAsn1=function(t){var n=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),i=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);n.value.push(i);for(var o=0;o<t.length;++o)i.value.push(r.certificateExtensionToAsn1(t[o]));return n},r.certificateExtensionToAsn1=function(t){var r=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);r.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.id).getBytes())),t.critical&&r.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=t.value;return"string"!=typeof t.value&&(n=e.toDer(n).getBytes()),r.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,n)),r},r.certificationRequestToAsn1=function(t){var n=t.certificationRequestInfo||r.getCertificationRequestInfo(t);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[n,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.signatureOid).getBytes()),m(t.signatureOid,t.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},r.createCaStore=function(t){var n={certs:{}};function i(t){return o(t),n.certs[t.hash]||null}function o(t){if(!t.hash){var e=ZU.md.sha1.create();t.attributes=r.RDNAttributesAsArray(l(t),e),t.hash=e.digest().toHex()}}if(n.getIssuer=function(t){return i(t.issuer)},n.addCertificate=function(t){if("string"==typeof t&&(t=ZU.pki.certificateFromPem(t)),o(t.subject),!n.hasCertificate(t))if(t.subject.hash in n.certs){var e=n.certs[t.subject.hash];ZU.util.isArray(e)||(e=[e]),e.push(t),n.certs[t.subject.hash]=e}else n.certs[t.subject.hash]=t},n.hasCertificate=function(t){"string"==typeof t&&(t=ZU.pki.certificateFromPem(t));var n=i(t.subject);if(!n)return!1;ZU.util.isArray(n)||(n=[n]);for(var o=e.toDer(r.certificateToAsn1(t)).getBytes(),a=0;a<n.length;++a){if(o===e.toDer(r.certificateToAsn1(n[a])).getBytes())return!0}return!1},n.listAllCertificates=function(){var t=[];for(var e in n.certs)if(n.certs.hasOwnProperty(e)){var r=n.certs[e];if(ZU.util.isArray(r))for(var i=0;i<r.length;++i)t.push(r[i]);else t.push(r)}return t},n.removeCertificate=function(t){var a;if("string"==typeof t&&(t=ZU.pki.certificateFromPem(t)),o(t.subject),!n.hasCertificate(t))return null;var s=i(t.subject);if(!ZU.util.isArray(s))return a=n.certs[t.subject.hash],delete n.certs[t.subject.hash],a;for(var u=e.toDer(r.certificateToAsn1(t)).getBytes(),c=0;c<s.length;++c){u===e.toDer(r.certificateToAsn1(s[c])).getBytes()&&(a=s[c],s.splice(c,1))}return 0===s.length&&delete n.certs[t.subject.hash],a},t)for(var a=0;a<t.length;++a){var s=t[a];n.addCertificate(s)}return n},r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},r.verifyCertificateChain=function(t,e,n){var i=(e=e.slice(0)).slice(0),o=new Date,a=!0,s=null,u=0;do{var c=e.shift(),f=null,h=!1;if((o<c.validity.notBefore||o>c.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:o}),null===s){if(null===(f=e[0]||t.getIssuer(c))&&c.isIssuer(c)&&(h=!0,f=c),f){var l=f;ZU.util.isArray(l)||(l=[l]);for(var d=!1;!d&&l.length>0;){f=l.shift();try{d=f.verify(c)}catch(t){}}d||(s={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}null!==s||f&&!h||t.hasCertificate(c)||(s={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}if(null===s&&f&&!c.isIssuer(f)&&(s={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate}),null===s)for(var p={keyUsage:!0,basicConstraints:!0},m=0;null===s&&m<c.extensions.length;++m){var y=c.extensions[m];!y.critical||y.name in p||(s={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}if(null===s&&(!a||0===e.length&&(!f||h))){var v=c.getExtension("basicConstraints"),g=c.getExtension("keyUsage");if(null!==g&&(g.keyCertSign&&null!==v||(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:r.certificateError.bad_certificate})),null!==s||null===v||v.cA||(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),null===s&&null!==g&&"pathLenConstraint"in v)u-1>v.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate})}var b=null===s||s.error,w=n?n(b,u,i):b;if(!0!==w)throw!0===b&&(s={message:"The application rejected the certificate.",error:r.certificateError.bad_certificate}),(w||0===w)&&("object"!=typeof w||ZU.util.isArray(w)?"string"==typeof w&&(s.error=w):(w.message&&(s.message=w.message),w.error&&(s.error=w.error))),s;s=null,a=!1,++u}while(e.length>0);return!0}}),et(function(t){var e=ZU.asn1,r=ZU.pki,n=t.exports=ZU.pkcs12=ZU.pkcs12||{},i={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},o={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},i,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},a={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},s={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},u={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function c(t,e,r,n){for(var i=[],o=0;o<t.length;o++)for(var a=0;a<t[o].safeBags.length;a++){var s=t[o].safeBags[a];void 0!==n&&s.type!==n||(null!==e?void 0!==s.attributes[e]&&s.attributes[e].indexOf(r)>=0&&i.push(s):i.push(s))}return i}function f(t){if(t.composed||t.constructed){for(var e=ZU.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function h(t,n){var i={},o=[];if(!e.validate(t,ZU.pkcs7.asn1.encryptedDataValidator,i,o))throw(a=new Error("Cannot read EncryptedContentInfo.")).errors=o,a;var a,s=e.derToOid(i.contentType);if(s!==r.oids.data)throw(a=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=s,a;s=e.derToOid(i.encAlgorithm);var u=r.pbe.getCipher(s,i.encParameter,n),c=f(i.encryptedContentAsn1),h=ZU.util.createBuffer(c.value);if(u.update(h),!u.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return u.output.getBytes()}function l(t,n,i){if(!n&&0===t.length)return[];if((t=e.fromDer(t,n)).tagClass!==e.Class.UNIVERSAL||t.type!==e.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var o=[],s=0;s<t.value.length;s++){var c=t.value[s],f={},h=[];if(!e.validate(c,a,f,h))throw(v=new Error("Cannot read SafeBag.")).errors=h,v;var l,p,m={type:e.derToOid(f.bagId),attributes:d(f.bagAttributes)};o.push(m);var y=f.bagValue.value[0];switch(m.type){case r.oids.pkcs8ShroudedKeyBag:if(null===(y=r.decryptPrivateKeyInfo(y,i)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case r.oids.keyBag:try{m.key=r.privateKeyFromAsn1(y)}catch(t){m.key=null,m.asn1=y}continue;case r.oids.certBag:l=u,p=function(){if(e.derToOid(f.certId)!==r.oids.x509Certificate){var t=new Error("Unsupported certificate type, only X.509 supported.");throw t.oid=e.derToOid(f.certId),t}var i=e.fromDer(f.cert,n);try{m.cert=r.certificateFromAsn1(i,!0)}catch(t){m.cert=null,m.asn1=i}};break;default:var v;throw(v=new Error("Unsupported PKCS#12 SafeBag type.")).oid=m.type,v}if(void 0!==l&&!e.validate(y,l,f,h))throw(v=new Error("Cannot read PKCS#12 "+l.name)).errors=h,v;p()}return o}function d(t){var n={};if(void 0!==t)for(var i=0;i<t.length;++i){var o={},a=[];if(!e.validate(t[i],s,o,a)){var u=new Error("Cannot read PKCS#12 BagAttribute.");throw u.errors=a,u}var c=e.derToOid(o.oid);if(void 0!==r.oids[c]){n[r.oids[c]]=[];for(var f=0;f<o.values.length;++f)n[r.oids[c]].push(o.values[f].value)}}return n}n.pkcs12FromAsn1=function(t,a,s){"string"==typeof a?(s=a,a=!0):void 0===a&&(a=!0);var u={};if(!e.validate(t,o,u,[]))throw(d=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=d,d;var d,p={version:u.version.charCodeAt(0),safeContents:[],getBags:function(t){var e,r={};return"localKeyId"in t?e=t.localKeyId:"localKeyIdHex"in t&&(e=ZU.util.hexToBytes(t.localKeyIdHex)),void 0===e&&!("friendlyName"in t)&&"bagType"in t&&(r[t.bagType]=c(p.safeContents,null,null,t.bagType)),void 0!==e&&(r.localKeyId=c(p.safeContents,"localKeyId",e,t.bagType)),"friendlyName"in t&&(r.friendlyName=c(p.safeContents,"friendlyName",t.friendlyName,t.bagType)),r},getBagsByFriendlyName:function(t,e){return c(p.safeContents,"friendlyName",t,e)},getBagsByLocalKeyId:function(t,e){return c(p.safeContents,"localKeyId",t,e)}};if(3!==u.version.charCodeAt(0))throw(d=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=u.version.charCodeAt(0),d;if(e.derToOid(u.contentType)!==r.oids.data)throw(d=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid(u.contentType),d;var m=u.content.value[0];if(m.tagClass!==e.Class.UNIVERSAL||m.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=f(m),u.mac){var y=null,v=0,g=e.derToOid(u.macAlgorithm);switch(g){case r.oids.sha1:y=ZU.md.sha1.create(),v=20;break;case r.oids.sha256:y=ZU.md.sha256.create(),v=32;break;case r.oids.sha384:y=ZU.md.sha384.create(),v=48;break;case r.oids.sha512:y=ZU.md.sha512.create(),v=64;break;case r.oids.md5:y=ZU.md.md5.create(),v=16}if(null===y)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+g);var b=new ZU.util.ByteBuffer(u.macSalt),w="macIterations"in u?parseInt(ZU.util.bytesToHex(u.macIterations),16):1,_=n.generateKey(s,b,3,w,v,y),k=ZU.hmac.create();if(k.start(y,_),k.update(m.value),k.getMac().getBytes()!==u.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(t,n,o,a){if((n=e.fromDer(n,o)).tagClass!==e.Class.UNIVERSAL||n.type!==e.Type.SEQUENCE||!0!==n.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<n.value.length;s++){var u=n.value[s],c={},d=[];if(!e.validate(u,i,c,d)){var p=new Error("Cannot read ContentInfo.");throw p.errors=d,p}var m={encrypted:!1},y=null,v=c.content.value[0];switch(e.derToOid(c.contentType)){case r.oids.data:if(v.tagClass!==e.Class.UNIVERSAL||v.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");y=f(v).value;break;case r.oids.encryptedData:y=h(v,a),m.encrypted=!0;break;default:var p=new Error("Unsupported PKCS#12 contentType.");throw p.contentType=e.derToOid(c.contentType),p}m.safeBags=l(y,o,a),t.safeContents.push(m)}}(p,m.value,a,s),p},n.toPkcs12Asn1=function(t,i,o,a){(a=a||{}).saltSize=a.saltSize||8,a.count=a.count||2048,a.algorithm=a.algorithm||a.encAlgorithm||"aes128","useMac"in a||(a.useMac=!0),"localKeyId"in a||(a.localKeyId=null),"generateLocalKeyId"in a||(a.generateLocalKeyId=!0);var s,u=a.localKeyId;if(null!==u)u=ZU.util.hexToBytes(u);else if(a.generateLocalKeyId)if(i){var c=ZU.util.isArray(i)?i[0]:i;"string"==typeof c&&(c=r.certificateFromPem(c)),(A=ZU.md.sha1.create()).update(e.toDer(r.certificateToAsn1(c)).getBytes()),u=A.digest().getBytes()}else u=ZU.random.getBytes(20);var f=[];null!==u&&f.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,u)])])),"friendlyName"in a&&f.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,a.friendlyName)])])),f.length>0&&(s=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,f));var h=[],l=[];null!==i&&(l=ZU.util.isArray(i)?i:[i]);for(var d=[],p=0;p<l.length;++p){"string"==typeof(i=l[p])&&(i=r.certificateFromPem(i));var m=0===p?s:void 0,y=r.certificateToAsn1(i),v=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(y).getBytes())])])]),m]);d.push(v)}if(d.length>0){var g=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,d),b=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(g).getBytes())])]);h.push(b)}var w=null;if(null!==t){var _=r.wrapRsaPrivateKey(r.privateKeyToAsn1(t));w=null===o?e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[_]),s]):e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[r.encryptPrivateKeyInfo(_,o,a)]),s]);var k=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[w]),S=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(k).getBytes())])]);h.push(S)}var E,M=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,h);if(a.useMac){var A=ZU.md.sha1.create(),x=new ZU.util.ByteBuffer(ZU.random.getBytes(a.saltSize)),B=a.count,C=(t=n.generateKey(o,x,3,B,20),ZU.hmac.create());C.start(A,t),C.update(e.toDer(M).getBytes());var I=C.getMac();E=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,I.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,x.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(B).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(M).getBytes())])]),E])},n.generateKey=ZU.pbe.generatePkcs12Key}),et(function(t){var e=ZU.asn1,r=t.exports=ZU.pki=ZU.pki||{};r.pemToDer=function(t){var e=ZU.pem.decode(t)[0];if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return ZU.util.createBuffer(e.body)},r.privateKeyFromPem=function(t){var n=ZU.pem.decode(t)[0];if("PRIVATE KEY"!==n.type&&"RSA PRIVATE KEY"!==n.type){var i=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=e.fromDer(n.body);return r.privateKeyFromAsn1(o)},r.privateKeyToPem=function(t,n){var i={type:"RSA PRIVATE KEY",body:e.toDer(r.privateKeyToAsn1(t)).getBytes()};return ZU.pem.encode(i,{maxline:n})},r.privateKeyInfoToPem=function(t,r){var n={type:"PRIVATE KEY",body:e.toDer(t).getBytes()};return ZU.pem.encode(n,{maxline:r})}});var Eq=function(t,e,r,n){var i=ZU.util.createBuffer(),o=t.length>>1,a=o+(1&t.length),s=t.substr(0,a),u=t.substr(o,a),c=ZU.util.createBuffer(),f=ZU.hmac.create();r=e+r;var h=Math.ceil(n/16),l=Math.ceil(n/20);f.start("MD5",s);var d=ZU.util.createBuffer();c.putBytes(r);for(var p=0;p<h;++p)f.start(null,null),f.update(c.getBytes()),c.putBuffer(f.digest()),f.start(null,null),f.update(c.bytes()+r),d.putBuffer(f.digest());f.start("SHA1",u);var m=ZU.util.createBuffer();c.clear(),c.putBytes(r);for(p=0;p<l;++p)f.start(null,null),f.update(c.getBytes()),c.putBuffer(f.digest()),f.start(null,null),f.update(c.bytes()+r),m.putBuffer(f.digest());return i.putBytes(ZU.util.xorBytes(d.getBytes(),m.getBytes(),n)),i},Mq=function(t,e,r){var n=!1;try{var i=t.deflate(e.fragment.getBytes());e.fragment=ZU.util.createBuffer(i),e.length=i.length,n=!0}catch(t){}return n},Aq=function(t,e,r){var n=!1;try{var i=t.inflate(e.fragment.getBytes());e.fragment=ZU.util.createBuffer(i),e.length=i.length,n=!0}catch(t){}return n},xq=function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32()}return ZU.util.createBuffer(t.getBytes(r))},Bq=function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},Cq={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};Cq.SupportedVersions=[Cq.Versions.TLS_1_1,Cq.Versions.TLS_1_0],Cq.Version=Cq.SupportedVersions[0],Cq.MaxFragment=15360,Cq.ConnectionEnd={server:0,client:1},Cq.PRFAlgorithm={tls_prf_sha256:0},Cq.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},Cq.CipherType={stream:0,block:1,aead:2},Cq.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},Cq.CompressionMethod={none:0,deflate:1},Cq.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},Cq.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},Cq.Alert={},Cq.Alert.Level={warning:1,fatal:2},Cq.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},Cq.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},Cq.CipherSuites={},Cq.getCipherSuite=function(t){var e=null;for(var r in Cq.CipherSuites){var n=Cq.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e},Cq.handleUnexpected=function(t,e){!t.open&&t.entity===Cq.ConnectionEnd.client||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.unexpected_message}})},Cq.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(Cq.queue(t,Cq.createAlert(t,{level:Cq.Alert.Level.warning,description:Cq.Alert.Description.no_renegotiation})),Cq.flush(t)),t.process()},Cq.parseHelloMessage=function(t,e,r){var n=null,i=t.entity===Cq.ConnectionEnd.client;if(r<38)t.error(t,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.illegal_parameter}});else{var o=e.fragment,a=o.length();if(n={version:{major:o.getByte(),minor:o.getByte()},random:ZU.util.createBuffer(o.getBytes(32)),session_id:xq(o,1),extensions:[]},i?(n.cipher_suite=o.getBytes(2),n.compression_method=o.getByte()):(n.cipher_suites=xq(o,2),n.compression_methods=xq(o,1)),(a=r-(a-o.length()))>0){for(var s=xq(o,2);s.length()>0;)n.extensions.push({type:[s.getByte(),s.getByte()],data:xq(s,2)});if(!i)for(var u=0;u<n.extensions.length;++u){var c=n.extensions[u];if(0===c.type[0]&&0===c.type[1])for(var f=xq(c.data,2);f.length()>0;){if(0!==f.getByte())break;t.session.extensions.server_name.serverNameList.push(xq(f,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.protocol_version}});if(i)t.session.cipherSuite=Cq.getCipherSuite(n.cipher_suite);else for(var h=ZU.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(t.session.cipherSuite=Cq.getCipherSuite(h.getBytes(2)),null===t.session.cipherSuite););if(null===t.session.cipherSuite)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.handshake_failure},cipherSuite:ZU.util.bytesToHex(n.cipher_suite)});t.session.compressionMethod=i?n.compression_method:Cq.CompressionMethod.none}return n},Cq.createSecurityParameters=function(t,e){var r=t.entity===Cq.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,o=r?n:Cq.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:Cq.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}},Cq.handleServerHello=function(t,e,r){var n=Cq.parseHelloMessage(t,e,r);if(!t.fail){if(!(n.version.minor<=t.version.minor))return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.protocol_version}});t.version.minor=n.version.minor,t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=Rq,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=Iq,t.session.resuming=!1,Cq.createSecurityParameters(t,n)),t.session.id=i,t.process()}},Cq.handleClientHello=function(t,e,r){var n=Cq.parseHelloMessage(t,e,r);if(!t.fail){var i=n.session_id.bytes(),o=null;if(t.sessionCache&&(null===(o=t.sessionCache.getSession(i))?i="":(o.version.major!==n.version.major||o.version.minor>n.version.minor)&&(o=null,i="")),0===i.length&&(i=ZU.random.getBytes(32)),t.session.id=i,t.session.clientHelloVersion=n.version,t.session.sp={},o)t.version=t.session.version=o.version,t.session.sp=o.sp;else{for(var a,s=1;s<Cq.SupportedVersions.length&&!((a=Cq.SupportedVersions[s]).minor<=n.version.minor);++s);t.version={major:a.major,minor:a.minor},t.session.version=t.version}null!==o?(t.expect=qq,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=!1!==t.verifyClient?Dq:Uq,t.session.resuming=!1,Cq.createSecurityParameters(t,n)),t.open=!0,Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createServerHello(t)})),t.session.resuming?(Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.change_cipher_spec,data:Cq.createChangeCipherSpec()})),t.state.pending=Cq.createConnectionState(t),t.state.current.write=t.state.pending.write,Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createFinished(t)}))):(Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createCertificate(t)})),t.fail||(Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createServerKeyExchange(t)})),!1!==t.verifyClient&&Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createCertificateRequest(t)})),Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createServerHelloDone(t)})))),Cq.flush(t),t.process()}},Cq.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.illegal_parameter}});var n,i,o=e.fragment,a={certificate_list:xq(o,3)},s=[];try{for(;a.certificate_list.length()>0;)n=xq(a.certificate_list,3),i=ZU.asn1.fromDer(n),n=ZU.pki.certificateFromAsn1(i,!0),s.push(n)}catch(e){return t.error(t,{message:"Could not parse certificate list.",cause:e,send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.bad_certificate}})}var u=t.entity===Cq.ConnectionEnd.client;!u&&!0!==t.verifyClient||0!==s.length?0===s.length?t.expect=u?Tq:Uq:(u?t.session.serverCertificate=s[0]:t.session.clientCertificate=s[0],Cq.verifyCertificateChain(t,s)&&(t.expect=u?Tq:Uq)):t.error(t,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.illegal_parameter}}),t.process()},Cq.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.unsupported_certificate}});t.expect=Pq,t.process()},Cq.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.unsupported_certificate}});var n=e.fragment,i={enc_pre_master_secret:xq(n,2).getBytes()},o=null;if(t.getPrivateKey)try{o=t.getPrivateKey(t,t.session.serverCertificate),o=ZU.pki.privateKeyFromPem(o)}catch(e){t.error(t,{message:"Could not get private key.",cause:e,send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.internal_error}})}if(null===o)return t.error(t,{message:"No private key set.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.internal_error}});try{var a=t.session.sp;a.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var s=t.session.clientHelloVersion;if(s.major!==a.pre_master_secret.charCodeAt(0)||s.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(t){a.pre_master_secret=ZU.random.getBytes(48)}t.expect=qq,null!==t.session.clientCertificate&&(t.expect=Fq),t.process()},Cq.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:xq(n,1),certificate_authorities:xq(n,2)};t.session.certificateRequest=i,t.expect=Nq,t.process()},Cq.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o={signature:xq(n,2).getBytes()},a=ZU.util.createBuffer();a.putBuffer(t.session.md5.digest()),a.putBuffer(t.session.sha1.digest()),a=a.getBytes();try{if(!t.session.clientCertificate.publicKey.verify(a,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(i),t.session.sha1.update(i)}catch(e){return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.handshake_failure}})}t.expect=qq,t.process()},Cq.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.record_overflow}});if(null===t.serverCertificate){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.insufficient_security}},i=t.verify(t,n.alert.description,0,[]);if(!0!==i)return(i||0===i)&&("object"!=typeof i||ZU.util.isArray(i)?"number"==typeof i&&(n.alert.description=i):(i.message&&(n.message=i.message),i.alert&&(n.alert.description=i.alert))),t.error(t,n)}null!==t.session.certificateRequest&&(e=Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createCertificate(t)}),Cq.queue(t,e)),e=Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createClientKeyExchange(t)}),Cq.queue(t,e),t.expect=jq;var o=function(t,e){null!==t.session.certificateRequest&&null!==t.session.clientCertificate&&Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createCertificateVerify(t,e)})),Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.change_cipher_spec,data:Cq.createChangeCipherSpec()})),t.state.pending=Cq.createConnectionState(t),t.state.current.write=t.state.pending.write,Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createFinished(t)})),t.expect=Rq,Cq.flush(t),t.process()};if(null===t.session.certificateRequest||null===t.session.clientCertificate)return o(t,null);Cq.getClientSignature(t,o)},Cq.handleChangeCipherSpec=function(t,e){if(1!==e.fragment.getByte())return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.illegal_parameter}});var r=t.entity===Cq.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=Cq.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?Lq:Kq,t.process()},Cq.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o=e.fragment.getBytes();(n=ZU.util.createBuffer()).putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var a=t.entity===Cq.ConnectionEnd.client,s=a?"server finished":"client finished",u=t.session.sp;if((n=Eq(u.master_secret,s,n.getBytes(),12)).getBytes()!==o)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.decrypt_error}});t.session.md5.update(i),t.session.sha1.update(i),(t.session.resuming&&a||!t.session.resuming&&!a)&&(Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.change_cipher_spec,data:Cq.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.handshake,data:Cq.createFinished(t)}))),t.expect=a?Oq:zq,t.handshaking=!1,++t.handshakes,t.peerCertificate=a?t.session.serverCertificate:t.session.clientCertificate,Cq.flush(t),t.isConnected=!0,t.connected(t),t.process()},Cq.handleAlert=function(t,e){var r,n=e.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case Cq.Alert.Description.close_notify:r="Connection closed.";break;case Cq.Alert.Description.unexpected_message:r="Unexpected message.";break;case Cq.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case Cq.Alert.Description.decryption_failed:r="Decryption failed.";break;case Cq.Alert.Description.record_overflow:r="Record overflow.";break;case Cq.Alert.Description.decompression_failure:r="Decompression failed.";break;case Cq.Alert.Description.handshake_failure:r="Handshake failure.";break;case Cq.Alert.Description.bad_certificate:r="Bad certificate.";break;case Cq.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case Cq.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case Cq.Alert.Description.certificate_expired:r="Certificate expired.";break;case Cq.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case Cq.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case Cq.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case Cq.Alert.Description.access_denied:r="Access denied.";break;case Cq.Alert.Description.decode_error:r="Decode error.";break;case Cq.Alert.Description.decrypt_error:r="Decrypt error.";break;case Cq.Alert.Description.export_restriction:r="Export restriction.";break;case Cq.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case Cq.Alert.Description.insufficient_security:r="Insufficient security.";break;case Cq.Alert.Description.internal_error:r="Internal error.";break;case Cq.Alert.Description.user_canceled:r="User canceled.";break;case Cq.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===Cq.Alert.Description.close_notify)return t.close();t.error(t,{message:r,send:!1,origin:t.entity===Cq.ConnectionEnd.client?"server":"client",alert:i}),t.process()},Cq.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return t.fragmented=e,e.fragment=ZU.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,n in iK[t.entity][t.expect]?(t.entity!==Cq.ConnectionEnd.server||t.open||t.fail||(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:ZU.md.md5.create(),sha1:ZU.md.sha1.create()}),n!==Cq.HandshakeType.hello_request&&n!==Cq.HandshakeType.certificate_verify&&n!==Cq.HandshakeType.finished&&(t.session.md5.update(o),t.session.sha1.update(o)),iK[t.entity][t.expect][n](t,e,i)):Cq.handleUnexpected(t,e)},Cq.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()},Cq.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(n===Cq.HeartbeatMessageType.heartbeat_request){if(t.handshaking||i>o.length)return t.process();Cq.queue(t,Cq.createRecord(t,{type:Cq.ContentType.heartbeat,data:Cq.createHeartbeat(Cq.HeartbeatMessageType.heartbeat_response,o)})),Cq.flush(t)}else if(n===Cq.HeartbeatMessageType.heartbeat_response){if(o!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,ZU.util.createBuffer(o))}t.process()};var Iq=1,Tq=2,Pq=3,Nq=4,Rq=5,Lq=6,Oq=7,jq=8,Dq=1,Uq=2,Fq=3,qq=4,Kq=5,zq=6,Vq=Cq.handleUnexpected,Hq=Cq.handleChangeCipherSpec,Gq=Cq.handleAlert,$q=Cq.handleHandshake,Wq=Cq.handleApplicationData,Yq=Cq.handleHeartbeat,Zq=[];Zq[Cq.ConnectionEnd.client]=[[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Hq,Gq,Vq,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Wq,Yq],[Vq,Gq,$q,Vq,Yq]],Zq[Cq.ConnectionEnd.server]=[[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Hq,Gq,Vq,Vq,Yq],[Vq,Gq,$q,Vq,Yq],[Vq,Gq,$q,Wq,Yq],[Vq,Gq,$q,Vq,Yq]];var Qq=Cq.handleHelloRequest,Xq=Cq.handleServerHello,Jq=Cq.handleCertificate,tK=Cq.handleServerKeyExchange,eK=Cq.handleCertificateRequest,rK=Cq.handleServerHelloDone,nK=Cq.handleFinished,iK=[];iK[Cq.ConnectionEnd.client]=[[Vq,Vq,Xq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq],[Qq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Jq,tK,eK,rK,Vq,Vq,Vq,Vq,Vq,Vq],[Qq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,tK,eK,rK,Vq,Vq,Vq,Vq,Vq,Vq],[Qq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,eK,rK,Vq,Vq,Vq,Vq,Vq,Vq],[Qq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,rK,Vq,Vq,Vq,Vq,Vq,Vq],[Qq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq],[Qq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,nK],[Qq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq],[Qq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq]];var oK=Cq.handleClientHello,aK=Cq.handleClientKeyExchange,sK=Cq.handleCertificateVerify;iK[Cq.ConnectionEnd.server]=[[Vq,oK,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq],[Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Jq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq],[Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,aK,Vq,Vq,Vq,Vq],[Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,sK,Vq,Vq,Vq,Vq,Vq],[Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq],[Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,nK],[Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq],[Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq,Vq]],Cq.generateKeys=function(t,e){var r=Eq,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var i=2*e.mac_key_length+2*e.enc_key_length,o=t.version.major===Cq.Versions.TLS_1_0.major&&t.version.minor===Cq.Versions.TLS_1_0.minor;o&&(i+=2*e.fixed_iv_length);var a=r(e.master_secret,"key expansion",n,i),s={client_write_MAC_key:a.getBytes(e.mac_key_length),server_write_MAC_key:a.getBytes(e.mac_key_length),client_write_key:a.getBytes(e.enc_key_length),server_write_key:a.getBytes(e.enc_key_length)};return o&&(s.client_write_IV=a.getBytes(e.fixed_iv_length),s.server_write_IV=a.getBytes(e.fixed_iv_length)),s},Cq.createConnectionState=function(t){var e=t.entity===Cq.ConnectionEnd.client,r=function(){var t={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(t){return!0},compressionState:null,compressFunction:function(t){return!0},updateSequenceNumber:function(){4294967295===t.sequenceNumber[1]?(t.sequenceNumber[1]=0,++t.sequenceNumber[0]):++t.sequenceNumber[1]}};return t},n={read:r(),write:r()};if(n.read.update=function(t,e){return n.read.cipherFunction(e,n.read)?n.read.compressFunction(t,e,n.read)||t.error(t,{message:"Could not decompress record.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.decompression_failure}}):t.error(t,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.bad_record_mac}}),!t.fail},n.write.update=function(t,e){return n.write.compressFunction(t,e,n.write)?n.write.cipherFunction(e,n.write)||t.error(t,{message:"Could not encrypt record.",send:!1,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.internal_error}}):t.error(t,{message:"Could not compress record.",send:!1,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.internal_error}}),!t.fail},t.session){var i=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(i),i.keys=Cq.generateKeys(t,i),n.read.macKey=e?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=e?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,i),i.compression_algorithm){case Cq.CompressionMethod.none:break;case Cq.CompressionMethod.deflate:n.read.compressFunction=Aq,n.write.compressFunction=Mq;break;default:throw new Error("Unsupported compression algorithm.")}}return n},Cq.createRandom=function(){var t=new Date,e=+t+6e4*t.getTimezoneOffset(),r=ZU.util.createBuffer();return r.putInt32(e),r.putBytes(ZU.random.getBytes(28)),r},Cq.createRecord=function(t,e){return e.data?{type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data}:null},Cq.createAlert=function(t,e){var r=ZU.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),Cq.createRecord(t,{type:Cq.ContentType.alert,data:r})},Cq.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=ZU.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var i=e.length(),o=ZU.util.createBuffer();o.putByte(Cq.CompressionMethod.none);var a=o.length(),s=ZU.util.createBuffer();if(t.virtualHost){var u=ZU.util.createBuffer();u.putByte(0),u.putByte(0);var c=ZU.util.createBuffer();c.putByte(0),Bq(c,2,ZU.util.createBuffer(t.virtualHost));var f=ZU.util.createBuffer();Bq(f,2,c),Bq(u,2,f),s.putBuffer(u)}var h=s.length();h>0&&(h+=2);var l=t.session.id,d=l.length+1+2+4+28+2+i+1+a+h,p=ZU.util.createBuffer();return p.putByte(Cq.HandshakeType.client_hello),p.putInt24(d),p.putByte(t.version.major),p.putByte(t.version.minor),p.putBytes(t.session.sp.client_random),Bq(p,1,ZU.util.createBuffer(l)),Bq(p,2,e),Bq(p,1,o),h>0&&Bq(p,2,s),p},Cq.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=ZU.util.createBuffer();return n.putByte(Cq.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),Bq(n,1,ZU.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n},Cq.createCertificate=function(t){var e,r=t.entity===Cq.ConnectionEnd.client,n=null;t.getCertificate&&(e=r?t.session.certificateRequest:t.session.extensions.server_name.serverNameList,n=t.getCertificate(t,e));var i=ZU.util.createBuffer();if(null!==n)try{ZU.util.isArray(n)||(n=[n]);for(var o=null,a=0;a<n.length;++a){var s=ZU.pem.decode(n[a])[0];if("CERTIFICATE"!==s.type&&"X509 CERTIFICATE"!==s.type&&"TRUSTED CERTIFICATE"!==s.type){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=s.type,u}if(s.procType&&"ENCRYPTED"===s.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=ZU.util.createBuffer(s.body);null===o&&(o=ZU.asn1.fromDer(c.bytes(),!1));var f=ZU.util.createBuffer();Bq(f,3,c),i.putBuffer(f)}n=ZU.pki.certificateFromAsn1(o),r?t.session.clientCertificate=n:t.session.serverCertificate=n}catch(e){return t.error(t,{message:"Could not send certificate list.",cause:e,send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.bad_certificate}})}var h=3+i.length(),l=ZU.util.createBuffer();return l.putByte(Cq.HandshakeType.certificate),l.putInt24(h),Bq(l,3,i),l},Cq.createClientKeyExchange=function(t){var e=ZU.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(ZU.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=(e=t.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,i=ZU.util.createBuffer();return i.putByte(Cq.HandshakeType.client_key_exchange),i.putInt24(n),i.putInt16(e.length),i.putBytes(e),i},Cq.createServerKeyExchange=function(t){var e=ZU.util.createBuffer();return e},Cq.getClientSignature=function(t,e){var r=ZU.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(t,e,r){var n=null;if(t.getPrivateKey)try{n=t.getPrivateKey(t,t.session.clientCertificate),n=ZU.pki.privateKeyFromPem(n)}catch(e){t.error(t,{message:"Could not get private key.",cause:e,send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.internal_error}})}null===n?t.error(t,{message:"No private key set.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.internal_error}}):e=n.sign(e,null),r(t,e)},t.getSignature(t,r,e)},Cq.createCertificateVerify=function(t,e){var r=e.length+2,n=ZU.util.createBuffer();return n.putByte(Cq.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n},Cq.createCertificateRequest=function(t){var e=ZU.util.createBuffer();e.putByte(1);var r=ZU.util.createBuffer();for(var n in t.caStore.certs){var i=t.caStore.certs[n],o=ZU.pki.distinguishedNameToAsn1(i.subject),a=ZU.asn1.toDer(o);r.putInt16(a.length()),r.putBuffer(a)}var s=1+e.length()+2+r.length(),u=ZU.util.createBuffer();return u.putByte(Cq.HandshakeType.certificate_request),u.putInt24(s),Bq(u,1,e),Bq(u,2,r),u},Cq.createServerHelloDone=function(t){var e=ZU.util.createBuffer();return e.putByte(Cq.HandshakeType.server_hello_done),e.putInt24(0),e},Cq.createChangeCipherSpec=function(){var t=ZU.util.createBuffer();return t.putByte(1),t},Cq.createFinished=function(t){var e=ZU.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===Cq.ConnectionEnd.client,n=t.session.sp,i=r?"client finished":"server finished";e=Eq(n.master_secret,i,e.getBytes(),12);var o=ZU.util.createBuffer();return o.putByte(Cq.HandshakeType.finished),o.putInt24(e.length()),o.putBuffer(e),o},Cq.createHeartbeat=function(t,e,r){void 0===r&&(r=e.length);var n=ZU.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var i=n.length(),o=Math.max(16,i-r-3);return n.putBytes(ZU.random.getBytes(o)),n},Cq.queue=function(t,e){if(e&&(0!==e.fragment.length()||e.type!==Cq.ContentType.handshake&&e.type!==Cq.ContentType.alert&&e.type!==Cq.ContentType.change_cipher_spec)){if(e.type===Cq.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=Cq.MaxFragment)n=[e];else{n=[];for(var i=e.fragment.bytes();i.length>Cq.MaxFragment;)n.push(Cq.createRecord(t,{type:e.type,data:ZU.util.createBuffer(i.slice(0,Cq.MaxFragment))})),i=i.slice(Cq.MaxFragment);i.length>0&&n.push(Cq.createRecord(t,{type:e.type,data:ZU.util.createBuffer(i)}))}for(var o=0;o<n.length&&!t.fail;++o){var a=n[o];t.state.current.write.update(t,a)&&t.records.push(a)}}},Cq.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var uK=function(t){switch(t){case!0:return!0;case ZU.pki.certificateError.bad_certificate:return Cq.Alert.Description.bad_certificate;case ZU.pki.certificateError.unsupported_certificate:return Cq.Alert.Description.unsupported_certificate;case ZU.pki.certificateError.certificate_revoked:return Cq.Alert.Description.certificate_revoked;case ZU.pki.certificateError.certificate_expired:return Cq.Alert.Description.certificate_expired;case ZU.pki.certificateError.certificate_unknown:return Cq.Alert.Description.certificate_unknown;case ZU.pki.certificateError.unknown_ca:return Cq.Alert.Description.unknown_ca;default:return Cq.Alert.Description.bad_certificate}};Cq.verifyCertificateChain=function(t,e){try{ZU.pki.verifyCertificateChain(t.caStore,e,function(e,r,n){uK(e);var i=t.verify(t,e,r,n);if(!0!==i){if("object"==typeof i&&!ZU.util.isArray(i)){var o=new Error("The application rejected the certificate.");throw o.send=!0,o.alert={level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.bad_certificate},i.message&&(o.message=i.message),i.alert&&(o.alert.description=i.alert),o}i!==e&&(i=function(t){switch(t){case!0:return!0;case Cq.Alert.Description.bad_certificate:return ZU.pki.certificateError.bad_certificate;case Cq.Alert.Description.unsupported_certificate:return ZU.pki.certificateError.unsupported_certificate;case Cq.Alert.Description.certificate_revoked:return ZU.pki.certificateError.certificate_revoked;case Cq.Alert.Description.certificate_expired:return ZU.pki.certificateError.certificate_expired;case Cq.Alert.Description.certificate_unknown:return ZU.pki.certificateError.certificate_unknown;case Cq.Alert.Description.unknown_ca:return ZU.pki.certificateError.unknown_ca;default:return ZU.pki.certificateError.bad_certificate}}(i))}return i})}catch(e){var r=e;("object"!=typeof r||ZU.util.isArray(r))&&(r={send:!0,alert:{level:Cq.Alert.Level.fatal,description:uK(e)}}),"send"in r||(r.send=!0),"alert"in r||(r.alert={level:Cq.Alert.Level.fatal,description:uK(r.error)}),t.error(t,r)}return!t.fail},Cq.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{for(var n in(r={}).cache=t||{},r.capacity=Math.max(e||100,1),r.order=[],t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(t){var e=null,n=null;if(t?n=ZU.util.bytesToHex(t):r.order.length>0&&(n=r.order[0]),null!==n&&n in r.cache)for(var i in e=r.cache[n],delete r.cache[n],r.order)if(r.order[i]===n){r.order.splice(i,1);break}return e},r.setSession=function(t,e){if(r.order.length===r.capacity){var n=r.order.shift();delete r.cache[n]}n=ZU.util.bytesToHex(t);r.order.push(n),r.cache[n]=e}}return r},Cq.createConnection=function(t){var e=null;e=t.caStore?ZU.util.isArray(t.caStore)?ZU.pki.createCaStore(t.caStore):t.caStore:ZU.pki.createCaStore();var r=t.cipherSuites||null;if(null===r)for(var n in r=[],Cq.CipherSuites)r.push(Cq.CipherSuites[n]);var i=t.server?Cq.ConnectionEnd.server:Cq.ConnectionEnd.client,o=t.sessionCache?Cq.createSessionCache(t.sessionCache):null,a={version:{major:Cq.Version.major,minor:Cq.Version.minor},entity:i,sessionId:t.sessionId,caStore:e,sessionCache:o,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(t,e,r,n){return e},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:ZU.util.createBuffer(),tlsData:ZU.util.createBuffer(),data:ZU.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(e,r){r.origin=r.origin||(e.entity===Cq.ConnectionEnd.client?"client":"server"),r.send&&(Cq.queue(e,Cq.createAlert(e,r.alert)),Cq.flush(e));var n=!1!==r.fatal;n&&(e.fail=!0),t.error(e,r),n&&e.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null,reset:function(t){a.version={major:Cq.Version.major,minor:Cq.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=(a.entity,Cq.ConnectionEnd.client,0),a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(t||void 0===t),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=Cq.createConnectionState(a)}};a.reset();return a.handshake=function(t){if(a.entity!==Cq.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&0===a.handshakes&&(a.fail=!1),a.handshaking=!0;var e=null;(t=t||"").length>0&&(a.sessionCache&&(e=a.sessionCache.getSession(t)),null===e&&(t="")),0===t.length&&a.sessionCache&&null!==(e=a.sessionCache.getSession())&&(t=e.id),a.session={id:t,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:ZU.md.md5.create(),sha1:ZU.md.sha1.create()},e&&(a.version=e.version,a.session.sp=e.sp),a.session.sp.client_random=Cq.createRandom().getBytes(),a.open=!0,Cq.queue(a,Cq.createRecord(a,{type:Cq.ContentType.handshake,data:Cq.createClientHello(a)})),Cq.flush(a)}},a.process=function(t){var e=0;return t&&a.input.putBytes(t),a.fail||(null!==a.record&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),null===a.record&&(e=function(t){var e=0,r=t.input,n=r.length();if(n<5)e=5-n;else{t.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:ZU.util.createBuffer(),ready:!1};var i=t.record.version.major===t.version.major;i&&t.session&&t.session.version&&(i=t.record.version.minor===t.version.minor),i||t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.protocol_version}})}return e}(a)),a.fail||null===a.record||a.record.ready||(e=function(t){var e=0,r=t.input,n=r.length();n<t.record.length?e=t.record.length-n:(t.record.fragment.putBytes(r.getBytes(t.record.length)),r.compact(),t.state.current.read.update(t,t.record)&&(null!==t.fragmented&&(t.fragmented.type===t.record.type?(t.fragmented.fragment.putBuffer(t.record.fragment),t.record=t.fragmented):t.error(t,{message:"Invalid fragmented record.",send:!0,alert:{level:Cq.Alert.Level.fatal,description:Cq.Alert.Description.unexpected_message}})),t.record.ready=!0));return e}(a)),!a.fail&&null!==a.record&&a.record.ready&&function(t,e){var r=e.type-Cq.ContentType.change_cipher_spec,n=Zq[t.entity][t.expect];r in n?n[r](t,e):Cq.handleUnexpected(t,e)}(a,a.record)),e},a.prepare=function(t){return Cq.queue(a,Cq.createRecord(a,{type:Cq.ContentType.application_data,data:ZU.util.createBuffer(t)})),Cq.flush(a)},a.prepareHeartbeatRequest=function(t,e){return t instanceof ZU.util.ByteBuffer&&(t=t.bytes()),void 0===e&&(e=t.length),a.expectedHeartbeatPayload=t,Cq.queue(a,Cq.createRecord(a,{type:Cq.ContentType.heartbeat,data:Cq.createHeartbeat(Cq.HeartbeatMessageType.heartbeat_request,t,e)})),Cq.flush(a)},a.close=function(t){if(!a.fail&&a.sessionCache&&a.session){var e={id:a.session.id,version:a.session.version,sp:a.session.sp};e.sp.keys=null,a.sessionCache.setSession(e.id,e)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,Cq.queue(a,Cq.createAlert(a,{level:Cq.Alert.Level.warning,description:Cq.Alert.Description.close_notify})),Cq.flush(a)),a.closed(a)),a.reset(t)},a};ZU.tls=ZU.tls||{};for(var cK in Cq)"function"!=typeof Cq[cK]&&(ZU.tls[cK]=Cq[cK]);ZU.tls.prf_tls1=Eq,ZU.tls.hmac_sha1=function(t,e,r){var n=ZU.hmac.create();n.start("SHA1",t);var i=ZU.util.createBuffer();return i.putInt32(e[0]),i.putInt32(e[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},ZU.tls.createSessionCache=Cq.createSessionCache,ZU.tls.createConnection=Cq.createConnection;et(function(t){var e=t.exports=ZU.tls;function r(t,r,i){var o=r.entity===ZU.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:ZU.cipher.createDecipher("AES-CBC",o?i.keys.server_write_key:i.keys.client_write_key),iv:o?i.keys.server_write_IV:i.keys.client_write_IV},t.write.cipherState={init:!1,cipher:ZU.cipher.createCipher("AES-CBC",o?i.keys.client_write_key:i.keys.server_write_key),iv:o?i.keys.client_write_IV:i.keys.server_write_IV},t.read.cipherFunction=a,t.write.cipherFunction=n,t.read.macLength=t.write.macLength=i.mac_length,t.read.macFunction=t.write.macFunction=e.hmac_sha1}function n(t,r){var n,o=!1,a=r.macFunction(r.macKey,r.sequenceNumber,t);t.fragment.putBytes(a),r.updateSequenceNumber(),n=t.version.minor===e.Versions.TLS_1_0.minor?r.cipherState.init?null:r.cipherState.iv:ZU.random.getBytesSync(16),r.cipherState.init=!0;var s=r.cipherState.cipher;return s.start({iv:n}),t.version.minor>=e.Versions.TLS_1_1.minor&&s.output.putBytes(n),s.update(t.fragment),s.finish(i)&&(t.fragment=s.output,t.length=t.fragment.length(),o=!0),o}function i(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}function o(t,e,r){var n=!0;if(r){for(var i=e.length(),o=e.last(),a=i-1-o;a<i-1;++a)n=n&&e.at(a)==o;n&&e.truncate(o+1)}return n}function a(t,r){var n,i=!1;n=t.version.minor===e.Versions.TLS_1_0.minor?r.cipherState.init?null:r.cipherState.iv:t.fragment.getBytes(16),r.cipherState.init=!0;var a=r.cipherState.cipher;a.start({iv:n}),a.update(t.fragment),i=a.finish(o);var s=r.macLength,u=ZU.random.getBytesSync(s),c=a.output.length();c>=s?(t.fragment=a.output.getBytes(c-s),u=a.output.getBytes(s)):t.fragment=a.output.getBytes(),t.fragment=ZU.util.createBuffer(t.fragment),t.length=t.fragment.length();var f=r.macFunction(r.macKey,r.sequenceNumber,t);return r.updateSequenceNumber(),i=function(t,e,r){var n=ZU.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}(r.macKey,u,f)&&i}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,t.cipher_type=e.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=e.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:r},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,t.cipher_type=e.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=e.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:r}}),ZU.debug=ZU.debug||{};ZU.debug.storage={},ZU.debug.get=function(t,e){var r;return void 0===t?r=ZU.debug.storage:t in ZU.debug.storage&&(r=void 0===e?ZU.debug.storage[t]:ZU.debug.storage[t][e]),r},ZU.debug.set=function(t,e,r){t in ZU.debug.storage||(ZU.debug.storage[t]={}),ZU.debug.storage[t][e]=r},ZU.debug.clear=function(t,e){void 0===t?ZU.debug.storage={}:t in ZU.debug.storage&&(void 0===e?delete ZU.debug.storage[t]:delete ZU.debug.storage[t][e])};ZU.kem=ZU.kem||{};var fK=ZU.jsbn.BigInteger;function hK(t,e,r,n){t.generate=function(t,i){for(var o=new ZU.util.ByteBuffer,a=Math.ceil(i/n)+r,s=new ZU.util.ByteBuffer,u=r;u<a;++u){s.putInt32(u),e.start(),e.update(t+s.getBytes());var c=e.digest();o.putBytes(c.getBytes(n))}return o.truncate(o.length()-i),o.getBytes()}}ZU.kem.rsa={},ZU.kem.rsa.create=function(t,e){var r=(e=e||{}).prng||ZU.random,n={encrypt:function(e,n){var i,o=Math.ceil(e.n.bitLength()/8);do{i=new fK(ZU.util.bytesToHex(r.getBytesSync(o)),16).mod(e.n)}while(i.equals(fK.ZERO));var a=o-(i=ZU.util.hexToBytes(i.toString(16))).length;return a>0&&(i=ZU.util.fillString(String.fromCharCode(0),a)+i),{encapsulation:e.encrypt(i,"NONE"),key:t.generate(i,n)}},decrypt:function(e,r,n){var i=e.decrypt(r,"NONE");return t.generate(i,n)}};return n},ZU.kem.kdf1=function(t,e){hK(this,t,0,e||t.digestLength)},ZU.kem.kdf2=function(t,e){hK(this,t,1,e||t.digestLength)};ZU.log=ZU.log||{};ZU.log.levels=["none","error","warning","info","debug","verbose","max"];var lK={},dK=[],pK=null;ZU.log.LEVEL_LOCKED=2,ZU.log.NO_LEVEL_CHECK=4,ZU.log.INTERPOLATE=8;for(var mK=0;mK<ZU.log.levels.length;++mK){var yK=ZU.log.levels[mK];lK[yK]={index:mK,name:yK.toUpperCase()}}ZU.log.logMessage=function(t){for(var e=lK[t.level].index,r=0;r<dK.length;++r){var n=dK[r];if(n.flags&ZU.log.NO_LEVEL_CHECK)n.f(t);else e<=lK[n.level].index&&n.f(n,t)}},ZU.log.prepareStandard=function(t){"standard"in t||(t.standard=lK[t.level].name+" ["+t.category+"] "+t.message)},ZU.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]||t.arguments),t.full=ZU.util.format.apply(this,e)}},ZU.log.prepareStandardFull=function(t){"standardFull"in t||(ZU.log.prepareStandard(t),t.standardFull=t.standard)};var vK=["error","warning","info","debug","verbose"];for(mK=0;mK<vK.length;++mK)!function(t){ZU.log[t]=function(e,r){var n=Array.prototype.slice.call(arguments).slice(2),i={timestamp:new Date,level:t,category:e,message:r,arguments:n};ZU.log.logMessage(i)}}(vK[mK]);if(ZU.log.makeLogger=function(t){var e={flags:0,f:t};return ZU.log.setLevel(e,"none"),e},ZU.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&ZU.log.LEVEL_LOCKED))for(var n=0;n<ZU.log.levels.length;++n){if(e==ZU.log.levels[n]){t.level=e,r=!0;break}}return r},ZU.log.lock=function(t,e){void 0===e||e?t.flags|=ZU.log.LEVEL_LOCKED:t.flags&=~ZU.log.LEVEL_LOCKED},ZU.log.addLogger=function(t){dK.push(t)},"undefined"!=typeof console&&"log"in console){var gK;if(console.error&&console.warn&&console.info&&console.debug){var bK={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},wK=function(t,e){ZU.log.prepareStandard(e);var r=bK[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)};gK=ZU.log.makeLogger(wK)}else{wK=function(t,e){ZU.log.prepareStandardFull(e),console.log(e.standardFull)};gK=ZU.log.makeLogger(wK)}ZU.log.setLevel(gK,"debug"),ZU.log.addLogger(gK),pK=gK}else console={log:function(){}};if(null!==pK){var _K=ZU.util.getQueryVariables();if("console.level"in _K&&ZU.log.setLevel(pK,_K["console.level"].slice(-1)[0]),"console.lock"in _K)"true"==_K["console.lock"].slice(-1)[0]&&ZU.log.lock(pK)}ZU.log.consoleLogger=pK;et(function(t){var e=t.exports=ZU.sha512=ZU.sha512||{};ZU.md.sha512=ZU.md.algorithms.sha512=e;var r=ZU.sha384=ZU.sha512.sha384=ZU.sha512.sha384||{};r.create=function(){return e.create("SHA-384")},ZU.md.sha384=ZU.md.algorithms.sha384=r,ZU.sha512.sha256=ZU.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},ZU.md["sha512/256"]=ZU.md.algorithms["sha512/256"]=ZU.sha512.sha256,ZU.sha512.sha224=ZU.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},ZU.md["sha512/224"]=ZU.md.algorithms["sha512/224"]=ZU.sha512.sha224,e.create=function(t){if(i||(n=String.fromCharCode(128),n+=ZU.util.fillString(String.fromCharCode(0),128),o=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(a={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],a["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],a["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],a["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],i=!0),void 0===t&&(t="SHA-512"),!(t in a))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=a[t],r=null,u=ZU.util.createBuffer(),c=new Array(80),f=0;f<80;++f)c[f]=new Array(2);var h=64;switch(t){case"SHA-384":h=48;break;case"SHA-512/256":h=32;break;case"SHA-512/224":h=28}var l={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:h,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){l.messageLength=0,l.fullMessageLength=l.messageLength128=[];for(var t=l.messageLengthSize/4,n=0;n<t;++n)l.fullMessageLength.push(0);u=ZU.util.createBuffer(),r=new Array(e.length);for(n=0;n<e.length;++n)r[n]=e[n].slice(0);return l}};return l.start(),l.update=function(t,e){"utf8"===e&&(t=ZU.util.encodeUtf8(t));var n=t.length;l.messageLength+=n,n=[n/4294967296>>>0,n>>>0];for(var i=l.fullMessageLength.length-1;i>=0;--i)l.fullMessageLength[i]+=n[1],n[1]=n[0]+(l.fullMessageLength[i]/4294967296>>>0),l.fullMessageLength[i]=l.fullMessageLength[i]>>>0,n[0]=n[1]/4294967296>>>0;return u.putBytes(t),s(r,c,u),(u.read>2048||0===u.length())&&u.compact(),l},l.digest=function(){var e=ZU.util.createBuffer();e.putBytes(u.bytes());var i,o=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize&l.blockLength-1;e.putBytes(n.substr(0,l.blockLength-o));for(var a=8*l.fullMessageLength[0],f=0;f<l.fullMessageLength.length-1;++f)a+=(i=8*l.fullMessageLength[f+1])/4294967296>>>0,e.putInt32(a>>>0),a=i>>>0;e.putInt32(a);var h=new Array(r.length);for(f=0;f<r.length;++f)h[f]=r[f].slice(0);s(h,c,e);var d,p=ZU.util.createBuffer();d="SHA-512"===t?h.length:"SHA-384"===t?h.length-2:h.length-4;for(f=0;f<d;++f)p.putInt32(h[f][0]),f===d-1&&"SHA-512/224"===t||p.putInt32(h[f][1]);return p},l};var n=null,i=!1,o=null,a=null;function s(t,e,r){for(var n,i,a,s,u,c,f,h,l,d,p,m,y,v,g,b,w,_,k,S,E,M,A,x,B,C,I,T,P,N,R,L,O,j=r.length();j>=128;){for(I=0;I<16;++I)e[I][0]=r.getInt32()>>>0,e[I][1]=r.getInt32()>>>0;for(;I<80;++I)n=(((T=(N=e[I-2])[0])>>>19|(P=N[1])<<13)^(P>>>29|T<<3)^T>>>6)>>>0,i=((T<<13|P>>>19)^(P<<3|T>>>29)^(T<<26|P>>>6))>>>0,a=(((T=(L=e[I-15])[0])>>>1|(P=L[1])<<31)^(T>>>8|P<<24)^T>>>7)>>>0,s=((T<<31|P>>>1)^(T<<24|P>>>8)^(T<<25|P>>>7))>>>0,R=e[I-7],O=e[I-16],P=i+R[1]+s+O[1],e[I][0]=n+R[0]+a+O[0]+(P/4294967296>>>0)>>>0,e[I][1]=P>>>0;for(p=t[0][0],m=t[0][1],y=t[1][0],v=t[1][1],g=t[2][0],b=t[2][1],w=t[3][0],_=t[3][1],k=t[4][0],S=t[4][1],E=t[5][0],M=t[5][1],A=t[6][0],x=t[6][1],B=t[7][0],C=t[7][1],I=0;I<80;++I)f=((k>>>14|S<<18)^(k>>>18|S<<14)^(S>>>9|k<<23))>>>0,h=(A^k&(E^A))>>>0,u=((p>>>28|m<<4)^(m>>>2|p<<30)^(m>>>7|p<<25))>>>0,c=((p<<4|m>>>28)^(m<<30|p>>>2)^(m<<25|p>>>7))>>>0,l=(p&y|g&(p^y))>>>0,d=(m&v|b&(m^v))>>>0,P=C+(((k<<18|S>>>14)^(k<<14|S>>>18)^(S<<23|k>>>9))>>>0)+((x^S&(M^x))>>>0)+o[I][1]+e[I][1],n=B+f+h+o[I][0]+e[I][0]+(P/4294967296>>>0)>>>0,i=P>>>0,a=u+l+((P=c+d)/4294967296>>>0)>>>0,s=P>>>0,B=A,C=x,A=E,x=M,E=k,M=S,k=w+n+((P=_+i)/4294967296>>>0)>>>0,S=P>>>0,w=g,_=b,g=y,b=v,y=p,v=m,p=n+a+((P=i+s)/4294967296>>>0)>>>0,m=P>>>0;P=t[0][1]+m,t[0][0]=t[0][0]+p+(P/4294967296>>>0)>>>0,t[0][1]=P>>>0,P=t[1][1]+v,t[1][0]=t[1][0]+y+(P/4294967296>>>0)>>>0,t[1][1]=P>>>0,P=t[2][1]+b,t[2][0]=t[2][0]+g+(P/4294967296>>>0)>>>0,t[2][1]=P>>>0,P=t[3][1]+_,t[3][0]=t[3][0]+w+(P/4294967296>>>0)>>>0,t[3][1]=P>>>0,P=t[4][1]+S,t[4][0]=t[4][0]+k+(P/4294967296>>>0)>>>0,t[4][1]=P>>>0,P=t[5][1]+M,t[5][0]=t[5][0]+E+(P/4294967296>>>0)>>>0,t[5][1]=P>>>0,P=t[6][1]+x,t[6][0]=t[6][0]+A+(P/4294967296>>>0)>>>0,t[6][1]=P>>>0,P=t[7][1]+C,t[7][0]=t[7][0]+B+(P/4294967296>>>0)>>>0,t[7][1]=P>>>0,j-=128}}}),et(function(t){var e=ZU.asn1,r=t.exports=ZU.pkcs7=ZU.pkcs7||{};function n(t){var n={},i=[];if(!e.validate(t,r.asn1.recipientInfoValidator,n,i)){var o=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw o.errors=i,o}return{version:n.version.charCodeAt(0),issuer:ZU.pki.RDNAttributesAsArray(n.issuer),serialNumber:ZU.util.createBuffer(n.serial).toHex(),encryptedContent:{algorithm:e.derToOid(n.encAlgorithm),parameter:n.encParameter.value,content:n.encKey}}}function i(t){var r=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(t.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[ZU.pki.distinguishedNameToAsn1({attributes:t.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,ZU.util.hexToBytes(t.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&r.value.push(t.authenticatedAttributesAsn1),r.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),r.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var n=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<t.unauthenticatedAttributes.length;++i){var a=t.unauthenticatedAttributes[i];n.values.push(o(a))}r.value.push(n)}return r}function o(t){var r;if(t.type===ZU.pki.oids.contentType)r=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.value).getBytes());else if(t.type===ZU.pki.oids.messageDigest)r=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===ZU.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),o=t.value;if("string"==typeof o){var a=Date.parse(o);o=isNaN(a)?13===o.length?e.utcTimeToDate(o):e.generalizedTimeToDate(o):new Date(a)}r=o>=n&&o<i?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(o)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(o))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[r])])}function a(t,r,n){var i={};if(!e.validate(r,n,i,[])){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(e.derToOid(i.contentType)!==ZU.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var a="";if(ZU.util.isArray(i.encryptedContent))for(var s=0;s<i.encryptedContent.length;++s){if(i.encryptedContent[s].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=i.encryptedContent[s].value}else a=i.encryptedContent;t.encryptedContent={algorithm:e.derToOid(i.encAlgorithm),parameter:ZU.util.createBuffer(i.encParameter.value),content:ZU.util.createBuffer(a)}}if(i.content){a="";if(ZU.util.isArray(i.content))for(s=0;s<i.content.length;++s){if(i.content[s].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=i.content[s].value}else a=i.content;t.content=ZU.util.createBuffer(a)}return t.version=i.version.charCodeAt(0),t.rawCapture=i,i}function s(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var e;switch(t.encryptedContent.algorithm){case ZU.pki.oids["aes128-CBC"]:case ZU.pki.oids["aes192-CBC"]:case ZU.pki.oids["aes256-CBC"]:e=ZU.aes.createDecryptionCipher(t.encryptedContent.key);break;case ZU.pki.oids.desCBC:case ZU.pki.oids["des-EDE3-CBC"]:e=ZU.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}r.messageFromPem=function(t){var n=ZU.pem.decode(t)[0];if("PKCS7"!==n.type){var i=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=e.fromDer(n.body);return r.messageFromAsn1(o)},r.messageToPem=function(t,r){var n={type:"PKCS7",body:e.toDer(t.toAsn1()).getBytes()};return ZU.pem.encode(n,{maxline:r})},r.messageFromAsn1=function(t){var n={},i=[];if(!e.validate(t,r.asn1.contentInfoValidator,n,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw o.errors=i,o}var a,s=e.derToOid(n.contentType);switch(s){case ZU.pki.oids.envelopedData:a=r.createEnvelopedData();break;case ZU.pki.oids.encryptedData:a=r.createEncryptedData();break;case ZU.pki.oids.signedData:a=r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return a.fromAsn1(n.content.value[0]),a},r.createSignedData=function(){var t=null;return t={type:ZU.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(e){a(t,e,r.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[];for(var n=t.rawCapture.certificates.value,i=0;i<n.length;++i)t.certificates.push(ZU.pki.certificateFromAsn1(n[i]))},toAsn1:function(){t.contentInfo||t.sign();for(var r=[],n=0;n<t.certificates.length;++n)r.push(ZU.pki.certificateToAsn1(t.certificates[n]));var i=[],o=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(t.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return r.length>0&&o.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,r)),i.length>0&&o.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,i)),o.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,t.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.type).getBytes()),o])},addSigner:function(e){var r=e.issuer,n=e.serialNumber;if(e.certificate){var i=e.certificate;"string"==typeof i&&(i=ZU.pki.certificateFromPem(i)),r=i.issuer.attributes,n=i.serialNumber}var o=e.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=ZU.pki.privateKeyFromPem(o));var a=e.digestAlgorithm||ZU.pki.oids.sha1;switch(a){case ZU.pki.oids.sha1:case ZU.pki.oids.sha256:case ZU.pki.oids.sha384:case ZU.pki.oids.sha512:case ZU.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+a)}var s=e.authenticatedAttributes||[];if(s.length>0){for(var u=!1,c=!1,f=0;f<s.length;++f){var h=s[f];if(u||h.type!==ZU.pki.oids.contentType){if(c||h.type!==ZU.pki.oids.messageDigest);else if(c=!0,u)break}else if(u=!0,c)break}if(!u||!c)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:o,version:1,issuer:r,serialNumber:n,digestAlgorithm:a,signatureAlgorithm:ZU.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:s,unauthenticatedAttributes:[]})},sign:function(){var r;"object"==typeof t.content&&null!==t.contentInfo||(t.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ZU.pki.oids.data).getBytes())]),"content"in t&&(t.content instanceof ZU.util.ByteBuffer?r=t.content.bytes():"string"==typeof t.content&&(r=ZU.util.encodeUtf8(t.content)),t.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,r)]))));0!==t.signers.length&&function(r){if(t.contentInfo.value.length<2)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var n=e.derToOid(t.contentInfo.value[0].value),a=t.contentInfo.value[1];a=a.value[0];var s=e.toDer(a);for(var u in s.getByte(),e.getBerValueLength(s),s=s.getBytes(),r)r[u].start().update(s);for(var c=new Date,f=0;f<t.signers.length;++f){var h=t.signers[f];if(0===h.authenticatedAttributes.length){if(n!==ZU.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{h.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var l=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),d=0;d<h.authenticatedAttributes.length;++d){var p=h.authenticatedAttributes[d];p.type===ZU.pki.oids.messageDigest?p.value=r[h.digestAlgorithm].digest():p.type===ZU.pki.oids.signingTime&&(p.value||(p.value=c)),l.value.push(o(p)),h.authenticatedAttributesAsn1.value.push(o(p))}s=e.toDer(l).getBytes(),h.md.start().update(s)}h.signature=h.key.sign(h.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=function(t){for(var e=[],r=0;r<t.length;++r)e.push(i(t[r]));return e}(t.signers)}(function(){for(var r={},n=0;n<t.signers.length;++n){var i=t.signers[n],o=i.digestAlgorithm;o in r||(r[o]=ZU.md[ZU.pki.oids[o]].create()),0===i.authenticatedAttributes.length?i.md=r[o]:i.md=ZU.md[ZU.pki.oids[o]].create()}for(var o in t.digestAlgorithmIdentifiers=[],r)t.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(o).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return r}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(e){"string"==typeof e&&(e=ZU.pki.certificateFromPem(e)),t.certificates.push(e)},addCertificateRevokationList:function(t){throw new Error("PKCS#7 CRL support not yet implemented.")}}},r.createEncryptedData=function(){var t=null;return t={type:ZU.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:ZU.pki.oids["aes256-CBC"]},fromAsn1:function(e){a(t,e,r.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),s(t)}}},r.createEnvelopedData=function(){var t=null;return t={type:ZU.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:ZU.pki.oids["aes256-CBC"]},fromAsn1:function(e){var i=a(t,e,r.asn1.envelopedDataValidator);t.recipients=function(t){for(var e=[],r=0;r<t.length;++r)e.push(n(t[r]));return e}(i.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(t.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,function(t){for(var r=[],n=0;n<t.length;++n)r.push((i=t[n],e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(i.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[ZU.pki.distinguishedNameToAsn1({attributes:i.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,ZU.util.hexToBytes(i.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(i.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,i.encryptedContent.content)])));var i;return r}(t.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,(r=t.encryptedContent,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ZU.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,r.parameter.getBytes())]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,r.content.getBytes())])]))])])]);var r},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],o=i.issuer;if(i.serialNumber===e.serialNumber&&o.length===r.length){for(var a=!0,s=0;s<r.length;++s)if(o[s].type!==r[s].type||o[s].value!==r[s].value){a=!1;break}if(a)return i}}return null},decrypt:function(e,r){if(void 0===t.encryptedContent.key&&void 0!==e&&void 0!==r)switch(e.encryptedContent.algorithm){case ZU.pki.oids.rsaEncryption:case ZU.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=ZU.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}s(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:ZU.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(void 0===t.encryptedContent.content){var n,i,o;switch(r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key,r){case ZU.pki.oids["aes128-CBC"]:n=16,i=16,o=ZU.aes.createEncryptionCipher;break;case ZU.pki.oids["aes192-CBC"]:n=24,i=16,o=ZU.aes.createEncryptionCipher;break;case ZU.pki.oids["aes256-CBC"]:n=32,i=16,o=ZU.aes.createEncryptionCipher;break;case ZU.pki.oids["des-EDE3-CBC"]:n=24,i=8,o=ZU.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===e)e=ZU.util.createBuffer(ZU.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=ZU.util.createBuffer(ZU.random.getBytes(i));var a=o(e);if(a.start(t.encryptedContent.parameter.copy()),a.update(t.content),!a.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=a.output}for(var s=0;s<t.recipients.length;++s){var u=t.recipients[s];if(void 0===u.encryptedContent.content)switch(u.encryptedContent.algorithm){case ZU.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}}}}),et(function(t){var e=t.exports=ZU.ssh=ZU.ssh||{};function r(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=ZU.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}function n(t,e){t.putInt32(e.length),t.putString(e)}function i(){for(var t=ZU.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}e.privateKeyToPutty=function(t,e,o){o=o||"";var a=""===(e=e||"")?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: ssh-rsa\r\n";s+="Encryption: "+a+"\r\n",s+="Comment: "+o+"\r\n";var u=ZU.util.createBuffer();n(u,"ssh-rsa"),r(u,t.e),r(u,t.n);var c=ZU.util.encode64(u.bytes(),64),f=Math.floor(c.length/66)+1;s+="Public-Lines: "+f+"\r\n",s+=c;var h,l=ZU.util.createBuffer();if(r(l,t.d),r(l,t.p),r(l,t.q),r(l,t.qInv),e){var d=l.length()+16-1;d-=d%16;var p=i(l.bytes());p.truncate(p.length()-d+l.length()),l.putBuffer(p);var m=ZU.util.createBuffer();m.putBuffer(i("\0\0\0\0",e)),m.putBuffer(i("\0\0\0",e));var y=ZU.aes.createEncryptionCipher(m.truncate(8),"CBC");y.start(ZU.util.createBuffer().fillWithByte(0,16)),y.update(l.copy()),y.finish();var v=y.output;v.truncate(16),h=ZU.util.encode64(v.bytes(),64)}else h=ZU.util.encode64(l.bytes(),64);s+="\r\nPrivate-Lines: "+(f=Math.floor(h.length/66)+1)+"\r\n",s+=h;var g=i("putty-private-key-file-mac-key",e),b=ZU.util.createBuffer();n(b,"ssh-rsa"),n(b,a),n(b,o),b.putInt32(u.length()),b.putBuffer(u),b.putInt32(l.length()),b.putBuffer(l);var w=ZU.hmac.create();return w.start("sha1",g),w.update(b.bytes()),s+="\r\nPrivate-MAC: "+w.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(t,e){e=e||"";var i=ZU.util.createBuffer();return n(i,"ssh-rsa"),r(i,t.e),r(i,t.n),"ssh-rsa "+ZU.util.encode64(i.bytes())+" "+e},e.privateKeyToOpenSSH=function(t,e){return e?ZU.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):ZU.pki.privateKeyToPem(t)},e.getPublicKeyFingerprint=function(t,e){var i=(e=e||{}).md||ZU.md.md5.create(),o=ZU.util.createBuffer();n(o,"ssh-rsa"),r(o,t.e),r(o,t.n),i.start(),i.update(o.getBytes());var a=i.digest();if("hex"===e.encoding){var s=a.toHex();return e.delimiter?s.match(/.{2}/g).join(e.delimiter):s}if("binary"===e.encoding)return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".');return a}});var kK="forge.task",SK={},EK=0;ZU.debug.set(kK,"tasks",SK);var MK={};ZU.debug.set(kK,"queues",MK);var AK="ready",xK="running",BK="blocked",CK="sleeping",IK="done",TK="error",PK={ready:{}};PK.ready.stop=AK,PK.ready.start=xK,PK.ready.cancel=IK,PK.ready.fail=TK,PK.running={},PK.running.stop=AK,PK.running.start=xK,PK.running.block=BK,PK.running.unblock=xK,PK.running.sleep=CK,PK.running.wakeup=xK,PK.running.cancel=IK,PK.running.fail=TK,PK.blocked={},PK.blocked.stop=BK,PK.blocked.start=BK,PK.blocked.block=BK,PK.blocked.unblock=BK,PK.blocked.sleep=BK,PK.blocked.wakeup=BK,PK.blocked.cancel=IK,PK.blocked.fail=TK,PK.sleeping={},PK.sleeping.stop=CK,PK.sleeping.start=CK,PK.sleeping.block=CK,PK.sleeping.unblock=CK,PK.sleeping.sleep=CK,PK.sleeping.wakeup=CK,PK.sleeping.cancel=IK,PK.sleeping.fail=TK,PK.done={},PK.done.stop=IK,PK.done.start=IK,PK.done.block=IK,PK.done.unblock=IK,PK.done.sleep=IK,PK.done.wakeup=IK,PK.done.cancel=IK,PK.done.fail=TK,PK.error={},PK.error.stop=TK,PK.error.start=TK,PK.error.block=TK,PK.error.unblock=TK,PK.error.sleep=TK,PK.error.wakeup=TK,PK.error.cancel=TK,PK.error.fail=TK;var NK=function(t){this.id=-1,this.name=t.name||"?",this.parent=t.parent||null,this.run=t.run,this.subtasks=[],this.error=!1,this.state=AK,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=EK++,SK[this.id]=this};NK.prototype.debug=function(t){t=t||"",ZU.log.debug(kK,t,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",MK)},NK.prototype.next=function(t,e){"function"==typeof t&&(e=t,t=this.name);var r=new NK({run:e,name:t,parent:this});return r.state=xK,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},NK.prototype.parallel=function(t,e){return ZU.util.isArray(t)&&(e=t,t=this.name),this.next(t,function(r){var n=r;n.block(e.length);for(var i=function(t,r){ZU.task.start({type:t,run:function(t){e[r](t)},success:function(t){n.unblock()},failure:function(t){n.unblock()}})},o=0;o<e.length;o++){i(t+"__parallel-"+r.id+"-"+o,o)}})},NK.prototype.stop=function(){this.state=PK[this.state].stop},NK.prototype.start=function(){this.error=!1,this.state=PK[this.state].start,this.state===xK&&(this.start=new Date,this.run(this),RK(this,0))},NK.prototype.block=function(t){t=void 0===t?1:t,this.blocks+=t,this.blocks>0&&(this.state=PK[this.state].block)},NK.prototype.unblock=function(t){return t=void 0===t?1:t,this.blocks-=t,0===this.blocks&&this.state!==IK&&(this.state=xK,RK(this,0)),this.blocks},NK.prototype.sleep=function(t){t=void 0===t?0:t,this.state=PK[this.state].sleep;var e=this;this.timeoutId=setTimeout(function(){e.timeoutId=null,e.state=xK,RK(e,0)},t)},NK.prototype.wait=function(t){t.wait(this)},NK.prototype.wakeup=function(){this.state===CK&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=xK,RK(this,0))},NK.prototype.cancel=function(){this.state=PK[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},NK.prototype.fail=function(t){if(this.error=!0,LK(this,!0),t)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,RK(t,0);else{if(null!==this.parent){for(var e=this.parent;null!==e.parent;)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,e=e.parent;LK(e,!0)}this.failureCallback&&this.failureCallback(this)}};var RK=function(t,e){var r=e>30||+new Date-t.swapTime>20,n=function(e){if(e++,t.state===xK)if(r&&(t.swapTime=+new Date),t.subtasks.length>0){var n=t.subtasks.shift();n.error=t.error,n.swapTime=t.swapTime,n.userData=t.userData,n.run(n),n.error||RK(n,e)}else LK(t),t.error||null!==t.parent&&(t.parent.error=t.error,t.parent.swapTime=t.swapTime,t.parent.userData=t.userData,RK(t.parent,e))};r?setTimeout(n,0):n(e)},LK=function(t,e){t.state=IK,delete SK[t.id],null===t.parent&&(t.type in MK?0===MK[t.type].length?ZU.log.error(kK,"[%s][%s] task queue empty [%s]",t.id,t.name,t.type):MK[t.type][0]!==t?ZU.log.error(kK,"[%s][%s] task not first in queue [%s]",t.id,t.name,t.type):(MK[t.type].shift(),0===MK[t.type].length?delete MK[t.type]:MK[t.type][0].start()):ZU.log.error(kK,"[%s][%s] task queue missing [%s]",t.id,t.name,t.type),e||(t.error&&t.failureCallback?t.failureCallback(t):!t.error&&t.successCallback&&t.successCallback(t)))};ZU.task=ZU.task||{};ZU.task.start=function(t){var e=new NK({run:t.run,name:t.name||"?"});e.type=t.type,e.successCallback=t.success||null,e.failureCallback=t.failure||null,e.type in MK?MK[t.type].push(e):(MK[e.type]=[e],function(t){t.error=!1,t.state=PK[t.state].start,setTimeout(function(){t.state===xK&&(t.swapTime=+new Date,t.run(t),RK(t,0))},0)}(e))},ZU.task.cancel=function(t){t in MK&&(MK[t]=[MK[t][0]])},ZU.task.createCondition=function(){var t={tasks:{},wait:function(e){e.id in t.tasks||(e.block(),t.tasks[e.id]=e)},notify:function(){var e=t.tasks;for(var r in t.tasks={},e)e[r].unblock()}};return t};var OK=ZU,jK=et(function(t,e){function r(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new r(t,e)},r.prototype._createNamed=function(t){let e;try{e=n.runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return ti(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},r.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(Bz.decoders[t])),this.decoders[t]},r.prototype.decode=function(t,e,r){return this._getDecoder(e).decode(t,r)},r.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(Bz.encoders[t])),this.encoders[t]},r.prototype.encode=function(t,e,r){return this._getEncoder(e).encode(t,r)}});function DK(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}var UK=DK;function FK(t,e){this.path=t,this.rethrow(e)}DK.prototype.isError=function(t){return t instanceof FK},DK.prototype.save=function(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},DK.prototype.restore=function(t){const e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},DK.prototype.enterKey=function(t){return this._reporterState.path.push(t)},DK.prototype.exitKey=function(t){const e=this._reporterState;e.path=e.path.slice(0,t-1)},DK.prototype.leaveKey=function(t,e,r){const n=this._reporterState;this.exitKey(t),null!==n.obj&&(n.obj[e]=r)},DK.prototype.path=function(){return this._reporterState.path.join("/")},DK.prototype.enterObject=function(){const t=this._reporterState,e=t.obj;return t.obj={},e},DK.prototype.leaveObject=function(t){const e=this._reporterState,r=e.obj;return e.obj=t,r},DK.prototype.error=function(t){let e;const r=this._reporterState,n=t instanceof FK;if(e=n?t:new FK(r.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!r.options.partial)throw e;return n||r.errors.push(e),e},DK.prototype.wrapResult=function(t){const e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},ti(FK,Error),FK.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,FK),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this};var qK={Reporter:UK};const KK=nz.Reporter,zK=t.Buffer;function VK(t,e){KK.call(this,e),zK.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}ti(VK,KK);var HK=VK;function GK(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof GK||(t=new GK(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=zK.byteLength(t);else{if(!zK.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}VK.prototype.save=function(){return{offset:this.offset,reporter:KK.prototype.save.call(this)}},VK.prototype.restore=function(t){const e=new VK(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,KK.prototype.restore.call(this,t.reporter),e},VK.prototype.isEmpty=function(){return this.offset===this.length},VK.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},VK.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");const r=new VK(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},VK.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)};var $K=GK;GK.prototype.join=function(t,e){return t||(t=new zK(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,e),e+=r.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):zK.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)};var WK={DecoderBuffer:HK,EncoderBuffer:$K};const YK=nz.Reporter,ZK=nz.EncoderBuffer,QK=nz.DecoderBuffer,XK=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],JK=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(XK);function tz(t,e){const r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}var ez=tz;const rz=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];tz.prototype.clone=function(){const t=this._baseState,e={};rz.forEach(function(r){e[r]=t[r]});const r=new this.constructor(e.parent);return r._baseState=e,r},tz.prototype._wrap=function(){const t=this._baseState;JK.forEach(function(e){this[e]=function(){const r=new this.constructor(this);return t.children.push(r),r[e].apply(r,arguments)}},this)},tz.prototype._init=function(t){const e=this._baseState;Dn(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),Dn.equal(e.children.length,1,"Root node can have only one child")},tz.prototype._useArgs=function(t){const e=this._baseState,r=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==r.length&&(Dn(null===e.children),e.children=r,r.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(Dn(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;const e={};return Object.keys(t).forEach(function(r){r==(0|r)&&(r|=0);const n=t[r];e[n]=r}),e}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){tz.prototype[t]=function(){const e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),XK.forEach(function(t){tz.prototype[t]=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return Dn(null===e.tag),e.tag=t,this._useArgs(r),this}}),tz.prototype.use=function(t){Dn(t);const e=this._baseState;return Dn(null===e.use),e.use=t,this},tz.prototype.optional=function(){return this._baseState.optional=!0,this},tz.prototype.def=function(t){const e=this._baseState;return Dn(null===e.default),e.default=t,e.optional=!0,this},tz.prototype.explicit=function(t){const e=this._baseState;return Dn(null===e.explicit&&null===e.implicit),e.explicit=t,this},tz.prototype.implicit=function(t){const e=this._baseState;return Dn(null===e.explicit&&null===e.implicit),e.implicit=t,this},tz.prototype.obj=function(){const t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},tz.prototype.key=function(t){const e=this._baseState;return Dn(null===e.key),e.key=t,this},tz.prototype.any=function(){return this._baseState.any=!0,this},tz.prototype.choice=function(t){const e=this._baseState;return Dn(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},tz.prototype.contains=function(t){const e=this._baseState;return Dn(null===e.use),e.contains=t,this},tz.prototype._decode=function(t,e){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,e));let n,i=r.default,o=!0,a=null;if(null!==r.key&&(a=t.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(o=this._peekTag(t,n,r.any),t.isError(o))return o}else{const n=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e),o=!0}catch(t){o=!1}t.restore(n)}}if(r.obj&&o&&(n=t.enterObject()),o){if(null!==r.explicit){const e=this._decodeTag(t,r.explicit);if(t.isError(e))return e;t=e}const n=t.offset;if(null===r.use&&null===r.choice){let e;r.any&&(e=t.save());const n=this._decodeTag(t,null!==r.implicit?r.implicit:r.tag,r.any);if(t.isError(n))return n;r.any?i=t.raw(e):t=n}if(e&&e.track&&null!==r.tag&&e.track(t.path(),n,t.length,"tagged"),e&&e.track&&null!==r.tag&&e.track(t.path(),t.offset,t.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,t,e):this._decodeChoice(t,e)),t.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(t,e)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new QK(i);i=this._getUse(r.contains,t._reporterState.obj)._decode(n,e)}}return r.obj&&o&&(i=t.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==a&&t.exitKey(a):t.leaveKey(a,r.key,i),i},tz.prototype._decodeGeneric=function(t,e,r){const n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0],r):/str$/.test(t)?this._decodeStr(e,t,r):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1],r):"objid"===t?this._decodeObjid(e,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(e,t,r):"null_"===t?this._decodeNull(e,r):"bool"===t?this._decodeBool(e,r):"objDesc"===t?this._decodeStr(e,t,r):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e,r):e.error("unknown tag: "+t)},tz.prototype._getUse=function(t,e){const r=this._baseState;return r.useDecoder=this._use(t,e),Dn(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},tz.prototype._decodeChoice=function(t,e){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some(function(o){const a=t.save(),s=r.choice[o];try{const r=s._decode(t,e);if(t.isError(r))return!1;n={type:o,value:r},i=!0}catch(e){return t.restore(a),!1}return!0},this),i?n:t.error("Choice not matched")},tz.prototype._createEncoderBuffer=function(t){return new ZK(t,this.reporter)},tz.prototype._encode=function(t,e,r){const n=this._baseState;if(null!==n.default&&n.default===t)return;const i=this._encodeValue(t,e,r);return void 0===i||this._skipDefault(i,e,r)?void 0:i},tz.prototype._encodeValue=function(t,e,r){const n=this._baseState;if(null===n.parent)return n.children[0]._encode(t,e||new YK);let i=null;if(this.reporter=e,n.optional&&void 0===t){if(null===n.default)return;t=n.default}let o=null,a=!1;if(n.any)i=this._createEncoderBuffer(t);else if(n.choice)i=this._encodeChoice(t,e);else if(n.contains)o=this._getUse(n.contains,r)._encode(t,e),a=!0;else if(n.children)o=n.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,e,t);if(null===r._baseState.key)return e.error("Child should have a key");const n=e.enterKey(r._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");const i=r._encode(t[r._baseState.key],e,t);return e.leaveKey(n),i},this).filter(function(t){return t}),o=this._createEncoderBuffer(o);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return e.error("Too many args for : "+n.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,o=this._createEncoderBuffer(t.map(function(r){const n=this._baseState;return this._getUse(n.args[0],t)._encode(r,e)},r))}else null!==n.use?i=this._getUse(n.use,r)._encode(t,e):(o=this._encodePrimitive(n.tag,t),a=!0);if(!n.any&&null===n.choice){const t=null!==n.implicit?n.implicit:n.tag,r=null===n.implicit?"universal":"context";null===t?null===n.use&&e.error("Tag could be omitted only for .use()"):null===n.use&&(i=this._encodeComposite(t,a,r,o))}return null!==n.explicit&&(i=this._encodeComposite(n.explicit,!1,"context",i)),i},tz.prototype._encodeChoice=function(t,e){const r=this._baseState,n=r.choice[t.type];return n||Dn(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(t.value,e)},tz.prototype._encodePrimitive=function(t,e){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&r.args)return this._encodeObjid(e,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},tz.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},tz.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)};var nz=et(function(t,e){const r=e;r.Reporter=qK.Reporter,r.DecoderBuffer=WK.DecoderBuffer,r.EncoderBuffer=WK.EncoderBuffer,r.Node=ez}),iz=et(function(t,e){e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=oz._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=oz._reverse(e.tag)}),oz=(iz.tagClass,iz.tagClassByName,iz.tag,iz.tagByName,et(function(t,e){const r=e;r._reverse=function(t){const e={};return Object.keys(t).forEach(function(r){(0|r)==r&&(r|=0);const n=t[r];e[n]=r}),e},r.der=iz}));const az=Bz.base,sz=Bz.bignum,uz=Bz.constants.der;function cz(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new hz,this.tree._init(t.body)}var fz=cz;function hz(t){az.Node.call(this,"der",t)}function lz(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=uz.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=t.readUInt8(e),t.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:uz.tag[r]}}function dz(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return t.error("length octect is too long");n=0;for(let e=0;e<i;e++){n<<=8;const e=t.readUInt8(r);if(t.isError(e))return e;n|=e}return n}cz.prototype.decode=function(t,e){return t instanceof az.DecoderBuffer||(t=new az.DecoderBuffer(t,e)),this.tree._decode(t,e)},ti(hz,az.Node),hz.prototype._peekTag=function(t,e,r){if(t.isEmpty())return!1;const n=t.save(),i=lz(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(n),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||r)},hz.prototype._decodeTag=function(t,e,r){const n=lz(t,'Failed to decode tag of "'+e+'"');if(t.isError(n))return n;let i=dz(t,n.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!r&&n.tag!==e&&n.tagStr!==e&&n.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(n.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');const o=t.save(),a=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(a)?a:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},hz.prototype._skipUntilEnd=function(t,e){for(;;){const r=lz(t,e);if(t.isError(r))return r;const n=dz(t,r.primitive,e);if(t.isError(n))return n;let i;if(i=r.primitive||null!==n?t.skip(n):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===r.tagStr)break}},hz.prototype._decodeList=function(t,e,r,n){const i=[];for(;!t.isEmpty();){const e=this._peekTag(t,"end");if(t.isError(e))return e;const o=r.decode(t,"der",n);if(t.isError(o)&&e)break;i.push(o)}return i},hz.prototype._decodeStr=function(t,e){if("bitstr"===e){const e=t.readUInt8();return t.isError(e)?e:{unused:e,data:t.raw()}}if("bmpstr"===e){const e=t.raw();if(e.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let r="";for(let t=0;t<e.length/2;t++)r+=String.fromCharCode(e.readUInt16BE(2*t));return r}if("numstr"===e){const e=t.raw().toString("ascii");return this._isNumstr(e)?e:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){const e=t.raw().toString("ascii");return this._isPrintstr(e)?e:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},hz.prototype._decodeObjid=function(t,e,r){let n;const i=[];let o=0,a=0;for(;!t.isEmpty();)o<<=7,o|=127&(a=t.readUInt8()),0==(128&a)&&(i.push(o),o=0);128&a&&i.push(o);const s=i[0]/40|0,u=i[0]%40;if(n=r?i:[s,u].concat(i.slice(1)),e){let t=e[n.join(" ")];void 0===t&&(t=e[n.join(".")]),void 0!==t&&(n=t)}return n},hz.prototype._decodeTime=function(t,e){const r=t.raw().toString();let n,i,o,a,s,u;if("gentime"===e)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),u=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,u,0)},hz.prototype._decodeNull=function(){return null},hz.prototype._decodeBool=function(t){const e=t.readUInt8();return t.isError(e)?e:0!==e},hz.prototype._decodeInt=function(t,e){const r=t.raw();let n=new sz(r);return e&&(n=e[n.toString(10)]||n),n},hz.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree};const pz=t.Buffer;function mz(t){fz.call(this,t),this.enc="pem"}ti(mz,fz);var yz=mz;mz.prototype.decode=function(t,e){const r=t.toString().split(/[\r\n]+/g),n=e.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,a=-1;for(let t=0;t<r.length;t++){const e=r[t].match(i);if(null!==e&&e[2]===n){if(-1!==o){if("END"!==e[1])break;a=t;break}if("BEGIN"!==e[1])break;o=t}}if(-1===o||-1===a)throw new Error("PEM section not found for: "+n);const s=r.slice(o+1,a).join("");s.replace(/[^a-z0-9+/=]+/gi,"");const u=new pz(s,"base64");return fz.prototype.decode.call(this,u,e)};var vz=et(function(t,e){const r=e;r.der=fz,r.pem=yz});const gz=t.Buffer,bz=Bz.base,wz=Bz.constants.der;function _z(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Sz,this.tree._init(t.body)}var kz=_z;function Sz(t){bz.Node.call(this,"der",t)}function Ez(t){return t<10?"0"+t:t}function Mz(t){kz.call(this,t),this.enc="pem"}_z.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},ti(Sz,bz.Node),Sz.prototype._encodeComposite=function(t,e,r,n){const i=function(t,e,r,n){let i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(wz.tagByName.hasOwnProperty(t))i=wz.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return n.error("Unknown tag: "+t);i=t}if(i>=31)return n.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=wz.tagClassByName[r||"universal"]<<6}(t,e,r,this.reporter);if(n.length<128){const t=new gz(2);return t[0]=i,t[1]=n.length,this._createEncoderBuffer([t,n])}let o=1;for(let t=n.length;t>=256;t>>=8)o++;const a=new gz(2+o);a[0]=i,a[1]=128|o;for(let t=1+o,e=n.length;e>0;t--,e>>=8)a[t]=255&e;return this._createEncoderBuffer([a,n])},Sz.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){const e=new gz(2*t.length);for(let r=0;r<t.length;r++)e.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(e)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},Sz.prototype._encodeObjid=function(t,e,r){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s.]+/g);for(let e=0;e<t.length;e++)t[e]|=0}else if(Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let n=0;for(let e=0;e<t.length;e++){let r=t[e];for(n++;r>=128;r>>=7)n++}const i=new gz(n);let o=i.length-1;for(let e=t.length-1;e>=0;e--){let r=t[e];for(i[o--]=127&r;(r>>=7)>0;)i[o--]=128|127&r}return this._createEncoderBuffer(i)},Sz.prototype._encodeTime=function(t,e){let r;const n=new Date(t);return"gentime"===e?r=[Ez(n.getFullYear()),Ez(n.getUTCMonth()+1),Ez(n.getUTCDate()),Ez(n.getUTCHours()),Ez(n.getUTCMinutes()),Ez(n.getUTCSeconds()),"Z"].join(""):"utctime"===e?r=[Ez(n.getFullYear()%100),Ez(n.getUTCMonth()+1),Ez(n.getUTCDate()),Ez(n.getUTCHours()),Ez(n.getUTCMinutes()),Ez(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(r,"octstr")},Sz.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Sz.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!gz.isBuffer(t)){const e=t.toArray();!t.sign&&128&e[0]&&e.unshift(0),t=new gz(e)}if(gz.isBuffer(t)){let e=t.length;0===t.length&&e++;const r=new gz(e);return t.copy(r),0===t.length&&(r[0]=0),this._createEncoderBuffer(r)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;e>=256;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;e>=0;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new gz(n))},Sz.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},Sz.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},Sz.prototype._skipDefault=function(t,e,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=t.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,e,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0},ti(Mz,kz);var Az=Mz;Mz.prototype.encode=function(t,e){const r=kz.prototype.encode.call(this,t).toString("base64"),n=["-----BEGIN "+e.label+"-----"];for(let t=0;t<r.length;t+=64)n.push(r.slice(t,t+64));return n.push("-----END "+e.label+"-----"),n.join("\n")};var xz=et(function(t,e){const r=e;r.der=kz,r.pem=Az}),Bz=et(function(t,e){const r=e;r.bignum=fn,r.define=jK.define,r.base=nz,r.constants=oz,r.decoders=vz,r.encoders=xz});const Cz=Bz.bignum;var Iz=function(t,e){return t.toArrayLike(Buffer,"be",e).toString("base64").replace(/(=*)$/,"").replace(/\+/g,"-").replace(/\//g,"_")},Tz=function(t){return new Cz(Buffer.from(t,"base64"))};const Pz=Iz,Nz=Tz,Rz=Bz.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}),Lz=Bz.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid({"1.2.840.113549.1.1.1":"rsa"}),this.key("none").optional().null_(),this.key("curve").optional().objid(),this.key("params").optional().seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()))}),Oz=Bz.define("RSAPublicKey",function(){this.seq().obj(this.key("algorithm").use(Lz),this.key("subjectPublicKey").bitstr())}),jz=Bz.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});var Dz={pkcs1ToJwk:function(t){const e=Rz.decode(t,"der");return{kty:"RSA",n:Pz(e.modulus),e:Pz(e.publicExponent),d:Pz(e.privateExponent),p:Pz(e.prime1),q:Pz(e.prime2),dp:Pz(e.exponent1),dq:Pz(e.exponent2),qi:Pz(e.coefficient),alg:"RS256",kid:"2011-04-29"}},jwkToPkcs1:function(t){return Rz.encode({version:0,modulus:Nz(t.n),publicExponent:Nz(t.e),privateExponent:Nz(t.d),prime1:Nz(t.p),prime2:Nz(t.q),exponent1:Nz(t.dp),exponent2:Nz(t.dq),coefficient:Nz(t.qi)},"der")},pkixToJwk:function(t){const e=Oz.decode(t,"der"),r=jz.decode(e.subjectPublicKey.data,"der");return{kty:"RSA",n:Pz(r.modulus),e:Pz(r.publicExponent),alg:"RS256",kid:"2011-04-29"}},jwkToPkix:function(t){return Oz.encode({algorithm:{algorithm:"rsa",none:null},subjectPublicKey:{data:jz.encode({modulus:Nz(t.n),publicExponent:Nz(t.e)},"der")}},"der")}};const Uz=qU();function Fz(t){return Promise.all([Uz.subtle.exportKey("jwk",t.privateKey),Uz.subtle.exportKey("jwk",t.publicKey)])}var qz={utils:Dz,generateKey:function(t,e){UU(Uz.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(Fz).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},unmarshalPrivateKey:function(t,e){const r=Uz.subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]);var n;UU(Promise.all([r,(n=t,Uz.subtle.importKey("jwk",{kty:n.kty,n:n.n,e:n.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))]).then(t=>Fz({privateKey:t[0],publicKey:t[1]})).then(t=>({privateKey:t[0],publicKey:t[1]})),e)},getRandomValues:function(t){return Buffer.from(Uz.getRandomValues(t))},hashAndSign:function(t,e,r){UU(Uz.subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]).then(t=>Uz.subtle.sign({name:"RSASSA-PKCS1-v1_5"},t,Uint8Array.from(e))).then(t=>Buffer.from(t)),r)},hashAndVerify:function(t,e,r,n){UU(Uz.subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]).then(t=>Uz.subtle.verify({name:"RSASSA-PKCS1-v1_5"},t,e,r)),n)}};const Kz=mD(YU);class zz{constructor(t){this._key=t}verify(t,e,r){Hz(r),qz.hashAndVerify(this._key,e,t,r)}marshal(){return qz.utils.jwkToPkix(this._key)}get bytes(){return Kz.PublicKey.encode({Type:Kz.KeyType.RSA,Data:this.marshal()})}encrypt(t){return this._key.encrypt(t,"RSAES-PKCS1-V1_5")}equals(t){return this.bytes.equals(t.bytes)}hash(t){Hz(t),Ej(this.bytes,"sha2-256",t)}}class Vz{constructor(t,e){this._key=t,this._publicKey=e}genSecret(){return qz.getRandomValues(new Uint8Array(16))}sign(t,e){Hz(e),qz.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new zz(this._publicKey)}decrypt(t,e){qz.decrypt(this._key,t,e)}marshal(){return qz.utils.jwkToPkcs1(this._key)}get bytes(){return Kz.PrivateKey.encode({Type:Kz.KeyType.RSA,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){Hz(t),Ej(this.bytes,"sha2-256",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,GC.encode(r))})}export(t,e,r){"function"==typeof e&&(r=e,e=t,t="pkcs-8"),Hz(r),bO(()=>{let n=null,i=null;try{const r=new OK.util.ByteBuffer(this.marshal()),o=OK.asn1.fromDer(r),a=OK.pki.privateKeyFromAsn1(o);if("pkcs-8"===t){const t={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};i=OK.pki.encryptRsaPrivateKey(a,e,t)}else n=new Error(`Unknown export format '${t}'`)}catch(t){n=t}r(n,i)})}}function Hz(t){if("function"!=typeof t)throw new Error("callback is required")}var Gz={RsaPublicKey:zz,RsaPrivateKey:Vz,unmarshalRsaPublicKey:function(t){const e=qz.utils.pkixToJwk(t);return new zz(e)},unmarshalRsaPrivateKey:function(t,e){const r=qz.utils.pkcs1ToJwk(t);qz.unmarshalPrivateKey(r,(t,r)=>{if(t)return e(t);e(null,new Vz(r.privateKey,r.publicKey))})},generateKeyPair:function(t,e){qz.generateKey(t,(t,r)=>{if(t)return e(t);e(null,new Vz(r.privateKey,r.publicKey))})},fromJwk:function(t,e){qz.unmarshalPrivateKey(t,(t,r)=>{if(t)return e(t);e(null,new Vz(r.privateKey,r.publicKey))})}},$z=et(function(t){!function(t){var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=e(),a=e([1]),s=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),l=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function p(t,e,r,n,i){var o,a=0;for(o=0;o<i;o++)a|=t[e+o]^r[n+o];return(1&a-1>>>8)-1}function m(t,e,r,n){return p(t,e,r,n,16)}function y(t,e,r,n){return p(t,e,r,n,32)}function v(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=o,k=a,S=s,E=u,M=c,A=f,x=h,B=l,C=d,I=p,T=m,P=y,N=v,R=g,L=b,O=w,j=0;j<20;j+=2)_^=(i=(N^=(i=(C^=(i=(M^=(i=_+N|0)<<7|i>>>25)+_|0)<<9|i>>>23)+M|0)<<13|i>>>19)+C|0)<<18|i>>>14,A^=(i=(k^=(i=(R^=(i=(I^=(i=A+k|0)<<7|i>>>25)+A|0)<<9|i>>>23)+I|0)<<13|i>>>19)+R|0)<<18|i>>>14,T^=(i=(x^=(i=(S^=(i=(L^=(i=T+x|0)<<7|i>>>25)+T|0)<<9|i>>>23)+L|0)<<13|i>>>19)+S|0)<<18|i>>>14,O^=(i=(P^=(i=(B^=(i=(E^=(i=O+P|0)<<7|i>>>25)+O|0)<<9|i>>>23)+E|0)<<13|i>>>19)+B|0)<<18|i>>>14,_^=(i=(E^=(i=(S^=(i=(k^=(i=_+E|0)<<7|i>>>25)+_|0)<<9|i>>>23)+k|0)<<13|i>>>19)+S|0)<<18|i>>>14,A^=(i=(M^=(i=(B^=(i=(x^=(i=A+M|0)<<7|i>>>25)+A|0)<<9|i>>>23)+x|0)<<13|i>>>19)+B|0)<<18|i>>>14,T^=(i=(I^=(i=(C^=(i=(P^=(i=T+I|0)<<7|i>>>25)+T|0)<<9|i>>>23)+P|0)<<13|i>>>19)+C|0)<<18|i>>>14,O^=(i=(L^=(i=(R^=(i=(N^=(i=O+L|0)<<7|i>>>25)+O|0)<<9|i>>>23)+N|0)<<13|i>>>19)+R|0)<<18|i>>>14;_=_+o|0,k=k+a|0,S=S+s|0,E=E+u|0,M=M+c|0,A=A+f|0,x=x+h|0,B=B+l|0,C=C+d|0,I=I+p|0,T=T+m|0,P=P+y|0,N=N+v|0,R=R+g|0,L=L+b|0,O=O+w|0,t[0]=_>>>0&255,t[1]=_>>>8&255,t[2]=_>>>16&255,t[3]=_>>>24&255,t[4]=k>>>0&255,t[5]=k>>>8&255,t[6]=k>>>16&255,t[7]=k>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=E>>>0&255,t[13]=E>>>8&255,t[14]=E>>>16&255,t[15]=E>>>24&255,t[16]=M>>>0&255,t[17]=M>>>8&255,t[18]=M>>>16&255,t[19]=M>>>24&255,t[20]=A>>>0&255,t[21]=A>>>8&255,t[22]=A>>>16&255,t[23]=A>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=B>>>0&255,t[29]=B>>>8&255,t[30]=B>>>16&255,t[31]=B>>>24&255,t[32]=C>>>0&255,t[33]=C>>>8&255,t[34]=C>>>16&255,t[35]=C>>>24&255,t[36]=I>>>0&255,t[37]=I>>>8&255,t[38]=I>>>16&255,t[39]=I>>>24&255,t[40]=T>>>0&255,t[41]=T>>>8&255,t[42]=T>>>16&255,t[43]=T>>>24&255,t[44]=P>>>0&255,t[45]=P>>>8&255,t[46]=P>>>16&255,t[47]=P>>>24&255,t[48]=N>>>0&255,t[49]=N>>>8&255,t[50]=N>>>16&255,t[51]=N>>>24&255,t[52]=R>>>0&255,t[53]=R>>>8&255,t[54]=R>>>16&255,t[55]=R>>>24&255,t[56]=L>>>0&255,t[57]=L>>>8&255,t[58]=L>>>16&255,t[59]=L>>>24&255,t[60]=O>>>0&255,t[61]=O>>>8&255,t[62]=O>>>16&255,t[63]=O>>>24&255}(t,e,r,n)}function g(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,v=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)o^=(i=(v^=(i=(d^=(i=(c^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,f^=(i=(a^=(i=(g^=(i=(p^=(i=f+a|0)<<7|i>>>25)+f|0)<<9|i>>>23)+p|0)<<13|i>>>19)+g|0)<<18|i>>>14,m^=(i=(h^=(i=(s^=(i=(b^=(i=m+h|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(y^=(i=(l^=(i=(u^=(i=w+y|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(u^=(i=(s^=(i=(a^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,f^=(i=(c^=(i=(l^=(i=(h^=(i=f+c|0)<<7|i>>>25)+f|0)<<9|i>>>23)+h|0)<<13|i>>>19)+l|0)<<18|i>>>14,m^=(i=(p^=(i=(d^=(i=(y^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,w^=(i=(b^=(i=(g^=(i=(v^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+v|0)<<13|i>>>19)+g|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=f>>>0&255,t[5]=f>>>8&255,t[6]=f>>>16&255,t[7]=f>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=h>>>0&255,t[17]=h>>>8&255,t[18]=h>>>16&255,t[19]=h>>>24&255,t[20]=l>>>0&255,t[21]=l>>>8&255,t[22]=l>>>16&255,t[23]=l>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(t,e,r,n,i,o,a){var s,u,c=new Uint8Array(16),f=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(v(f,c,a,b),u=0;u<64;u++)t[e+u]=r[n+u]^f[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;i-=64,e+=64,n+=64}if(i>0)for(v(f,c,a,b),u=0;u<i;u++)t[e+u]=r[n+u]^f[u];return 0}function _(t,e,r,n,i){var o,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(v(u,s,i,b),a=0;a<64;a++)t[e+a]=u[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(v(u,s,i,b),a=0;a<r;a++)t[e+a]=u[a];return 0}function k(t,e,r,n,i){var o=new Uint8Array(32);g(o,n,i,b);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return _(t,e,r,a,o)}function S(t,e,r,n,i,o,a){var s=new Uint8Array(32);g(s,o,a,b);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return w(t,e,r,n,i,u,s)}var E=function(t){var e,r,n,i,o,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function M(t,e,r,n,i,o){var a=new E(o);return a.update(r,n,i),a.finish(t,e),0}function A(t,e,r,n,i,o){var a=new Uint8Array(16);return M(a,0,r,n,i,o),m(t,e,a,0)}function x(t,e,r,n,i){var o;if(r<32)return-1;for(S(t,0,e,0,r,n,i),M(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function B(t,e,r,n,i){var o,a=new Uint8Array(32);if(r<32)return-1;if(k(a,0,32,n,i),0!==A(e,16,e,32,r-32,a))return-1;for(S(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function C(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function I(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function T(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function P(t,r){var n,i,o,a=e(),s=e();for(n=0;n<16;n++)s[n]=r[n];for(I(s),I(s),I(s),i=0;i<2;i++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,T(s,a,1-o)}for(n=0;n<16;n++)t[2*n]=255&s[n],t[2*n+1]=s[n]>>8}function N(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return P(r,t),P(n,e),y(r,0,n,0)}function R(t){var e=new Uint8Array(32);return P(e,t),1&e[0]}function L(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function O(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function j(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function D(t,e,r){var n,i,o=0,a=0,s=0,u=0,c=0,f=0,h=0,l=0,d=0,p=0,m=0,y=0,v=0,g=0,b=0,w=0,_=0,k=0,S=0,E=0,M=0,A=0,x=0,B=0,C=0,I=0,T=0,P=0,N=0,R=0,L=0,O=r[0],j=r[1],D=r[2],U=r[3],F=r[4],q=r[5],K=r[6],z=r[7],V=r[8],H=r[9],G=r[10],$=r[11],W=r[12],Y=r[13],Z=r[14],Q=r[15];o+=(n=e[0])*O,a+=n*j,s+=n*D,u+=n*U,c+=n*F,f+=n*q,h+=n*K,l+=n*z,d+=n*V,p+=n*H,m+=n*G,y+=n*$,v+=n*W,g+=n*Y,b+=n*Z,w+=n*Q,a+=(n=e[1])*O,s+=n*j,u+=n*D,c+=n*U,f+=n*F,h+=n*q,l+=n*K,d+=n*z,p+=n*V,m+=n*H,y+=n*G,v+=n*$,g+=n*W,b+=n*Y,w+=n*Z,_+=n*Q,s+=(n=e[2])*O,u+=n*j,c+=n*D,f+=n*U,h+=n*F,l+=n*q,d+=n*K,p+=n*z,m+=n*V,y+=n*H,v+=n*G,g+=n*$,b+=n*W,w+=n*Y,_+=n*Z,k+=n*Q,u+=(n=e[3])*O,c+=n*j,f+=n*D,h+=n*U,l+=n*F,d+=n*q,p+=n*K,m+=n*z,y+=n*V,v+=n*H,g+=n*G,b+=n*$,w+=n*W,_+=n*Y,k+=n*Z,S+=n*Q,c+=(n=e[4])*O,f+=n*j,h+=n*D,l+=n*U,d+=n*F,p+=n*q,m+=n*K,y+=n*z,v+=n*V,g+=n*H,b+=n*G,w+=n*$,_+=n*W,k+=n*Y,S+=n*Z,E+=n*Q,f+=(n=e[5])*O,h+=n*j,l+=n*D,d+=n*U,p+=n*F,m+=n*q,y+=n*K,v+=n*z,g+=n*V,b+=n*H,w+=n*G,_+=n*$,k+=n*W,S+=n*Y,E+=n*Z,M+=n*Q,h+=(n=e[6])*O,l+=n*j,d+=n*D,p+=n*U,m+=n*F,y+=n*q,v+=n*K,g+=n*z,b+=n*V,w+=n*H,_+=n*G,k+=n*$,S+=n*W,E+=n*Y,M+=n*Z,A+=n*Q,l+=(n=e[7])*O,d+=n*j,p+=n*D,m+=n*U,y+=n*F,v+=n*q,g+=n*K,b+=n*z,w+=n*V,_+=n*H,k+=n*G,S+=n*$,E+=n*W,M+=n*Y,A+=n*Z,x+=n*Q,d+=(n=e[8])*O,p+=n*j,m+=n*D,y+=n*U,v+=n*F,g+=n*q,b+=n*K,w+=n*z,_+=n*V,k+=n*H,S+=n*G,E+=n*$,M+=n*W,A+=n*Y,x+=n*Z,B+=n*Q,p+=(n=e[9])*O,m+=n*j,y+=n*D,v+=n*U,g+=n*F,b+=n*q,w+=n*K,_+=n*z,k+=n*V,S+=n*H,E+=n*G,M+=n*$,A+=n*W,x+=n*Y,B+=n*Z,C+=n*Q,m+=(n=e[10])*O,y+=n*j,v+=n*D,g+=n*U,b+=n*F,w+=n*q,_+=n*K,k+=n*z,S+=n*V,E+=n*H,M+=n*G,A+=n*$,x+=n*W,B+=n*Y,C+=n*Z,I+=n*Q,y+=(n=e[11])*O,v+=n*j,g+=n*D,b+=n*U,w+=n*F,_+=n*q,k+=n*K,S+=n*z,E+=n*V,M+=n*H,A+=n*G,x+=n*$,B+=n*W,C+=n*Y,I+=n*Z,T+=n*Q,v+=(n=e[12])*O,g+=n*j,b+=n*D,w+=n*U,_+=n*F,k+=n*q,S+=n*K,E+=n*z,M+=n*V,A+=n*H,x+=n*G,B+=n*$,C+=n*W,I+=n*Y,T+=n*Z,P+=n*Q,g+=(n=e[13])*O,b+=n*j,w+=n*D,_+=n*U,k+=n*F,S+=n*q,E+=n*K,M+=n*z,A+=n*V,x+=n*H,B+=n*G,C+=n*$,I+=n*W,T+=n*Y,P+=n*Z,N+=n*Q,b+=(n=e[14])*O,w+=n*j,_+=n*D,k+=n*U,S+=n*F,E+=n*q,M+=n*K,A+=n*z,x+=n*V,B+=n*H,C+=n*G,I+=n*$,T+=n*W,P+=n*Y,N+=n*Z,R+=n*Q,w+=(n=e[15])*O,a+=38*(k+=n*D),s+=38*(S+=n*U),u+=38*(E+=n*F),c+=38*(M+=n*q),f+=38*(A+=n*K),h+=38*(x+=n*z),l+=38*(B+=n*V),d+=38*(C+=n*H),p+=38*(I+=n*G),m+=38*(T+=n*$),y+=38*(P+=n*W),v+=38*(N+=n*Y),g+=38*(R+=n*Z),b+=38*(L+=n*Q),o=(n=(o+=38*(_+=n*j))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=a,t[2]=s,t[3]=u,t[4]=c,t[5]=f,t[6]=h,t[7]=l,t[8]=d,t[9]=p,t[10]=m,t[11]=y,t[12]=v,t[13]=g,t[14]=b,t[15]=w}function U(t,e){D(t,e,e)}function F(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)U(i,i),2!==n&&4!==n&&D(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function q(t,r,n){var i,o,a=new Uint8Array(32),u=new Float64Array(80),c=e(),f=e(),h=e(),l=e(),d=e(),p=e();for(o=0;o<31;o++)a[o]=r[o];for(a[31]=127&r[31]|64,a[0]&=248,L(u,n),o=0;o<16;o++)f[o]=u[o],l[o]=c[o]=h[o]=0;for(c[0]=l[0]=1,o=254;o>=0;--o)T(c,f,i=a[o>>>3]>>>(7&o)&1),T(h,l,i),O(d,c,h),j(c,c,h),O(h,f,l),j(f,f,l),U(l,d),U(p,c),D(c,h,c),D(h,f,d),O(d,c,h),j(c,c,h),U(f,c),j(h,l,p),D(c,h,s),O(c,c,l),D(h,h,c),D(c,l,p),D(l,f,u),U(f,d),T(c,f,i),T(h,l,i);for(o=0;o<16;o++)u[o+16]=c[o],u[o+32]=h[o],u[o+48]=f[o],u[o+64]=l[o];var m=u.subarray(32),y=u.subarray(16);return F(m,m),D(y,y,m),P(t,y),0}function K(t,e){return q(t,e,i)}function z(t,e){return r(e,32),K(t,e)}function V(t,e,r){var i=new Uint8Array(32);return q(i,r,e),g(t,n,i,b)}E.prototype.blocks=function(t,e,r){for(var n,i,o,a,s,u,c,f,h,l,d,p,m,y,v,g,b,w,_,k=this.fin?0:2048,S=this.h[0],E=this.h[1],M=this.h[2],A=this.h[3],x=this.h[4],B=this.h[5],C=this.h[6],I=this.h[7],T=this.h[8],P=this.h[9],N=this.r[0],R=this.r[1],L=this.r[2],O=this.r[3],j=this.r[4],D=this.r[5],U=this.r[6],F=this.r[7],q=this.r[8],K=this.r[9];r>=16;)S+=8191&(n=255&t[e+0]|(255&t[e+1])<<8),E+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3),M+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6),A+=8191&(o>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9),x+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12),B+=s>>>1&8191,C+=8191&(s>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2),I+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5),f=255&t[e+14]|(255&t[e+15])<<8,l=h=0,l+=S*N,l+=E*(5*K),l+=M*(5*q),l+=A*(5*F),h=(l+=x*(5*U))>>>13,l&=8191,l+=B*(5*D),l+=C*(5*j),l+=I*(5*O),l+=(T+=8191&(c>>>8|f<<8))*(5*L),d=h+=(l+=(P+=f>>>5|k)*(5*R))>>>13,d+=S*R,d+=E*N,d+=M*(5*K),d+=A*(5*q),h=(d+=x*(5*F))>>>13,d&=8191,d+=B*(5*U),d+=C*(5*D),d+=I*(5*j),d+=T*(5*O),h+=(d+=P*(5*L))>>>13,d&=8191,p=h,p+=S*L,p+=E*R,p+=M*N,p+=A*(5*K),h=(p+=x*(5*q))>>>13,p&=8191,p+=B*(5*F),p+=C*(5*U),p+=I*(5*D),p+=T*(5*j),m=h+=(p+=P*(5*O))>>>13,m+=S*O,m+=E*L,m+=M*R,m+=A*N,h=(m+=x*(5*K))>>>13,m&=8191,m+=B*(5*q),m+=C*(5*F),m+=I*(5*U),m+=T*(5*D),y=h+=(m+=P*(5*j))>>>13,y+=S*j,y+=E*O,y+=M*L,y+=A*R,h=(y+=x*N)>>>13,y&=8191,y+=B*(5*K),y+=C*(5*q),y+=I*(5*F),y+=T*(5*U),v=h+=(y+=P*(5*D))>>>13,v+=S*D,v+=E*j,v+=M*O,v+=A*L,h=(v+=x*R)>>>13,v&=8191,v+=B*N,v+=C*(5*K),v+=I*(5*q),v+=T*(5*F),g=h+=(v+=P*(5*U))>>>13,g+=S*U,g+=E*D,g+=M*j,g+=A*O,h=(g+=x*L)>>>13,g&=8191,g+=B*R,g+=C*N,g+=I*(5*K),g+=T*(5*q),b=h+=(g+=P*(5*F))>>>13,b+=S*F,b+=E*U,b+=M*D,b+=A*j,h=(b+=x*O)>>>13,b&=8191,b+=B*L,b+=C*R,b+=I*N,b+=T*(5*K),w=h+=(b+=P*(5*q))>>>13,w+=S*q,w+=E*F,w+=M*U,w+=A*D,h=(w+=x*j)>>>13,w&=8191,w+=B*O,w+=C*L,w+=I*R,w+=T*N,_=h+=(w+=P*(5*K))>>>13,_+=S*K,_+=E*q,_+=M*F,_+=A*U,h=(_+=x*D)>>>13,_&=8191,_+=B*j,_+=C*O,_+=I*L,_+=T*R,S=l=8191&(h=(h=((h+=(_+=P*N)>>>13)<<2)+h|0)+(l&=8191)|0),E=d+=h>>>=13,M=p&=8191,A=m&=8191,x=y&=8191,B=v&=8191,C=g&=8191,I=b&=8191,T=w&=8191,P=_&=8191,e+=16,r-=16;this.h[0]=S,this.h[1]=E,this.h[2]=M,this.h[3]=A,this.h[4]=x,this.h[5]=B,this.h[6]=C,this.h[7]=I,this.h[8]=T,this.h[9]=P},E.prototype.finish=function(t,e){var r,n,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},E.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var H=x,G=B;var $=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function W(t,e,r,n){for(var i,o,a,s,u,c,f,h,l,d,p,m,y,v,g,b,w,_,k,S,E,M,A,x,B,C,I=new Int32Array(16),T=new Int32Array(16),P=t[0],N=t[1],R=t[2],L=t[3],O=t[4],j=t[5],D=t[6],U=t[7],F=e[0],q=e[1],K=e[2],z=e[3],V=e[4],H=e[5],G=e[6],W=e[7],Y=0;n>=128;){for(k=0;k<16;k++)S=8*k+Y,I[k]=r[S+0]<<24|r[S+1]<<16|r[S+2]<<8|r[S+3],T[k]=r[S+4]<<24|r[S+5]<<16|r[S+6]<<8|r[S+7];for(k=0;k<80;k++)if(i=P,o=N,a=R,s=L,u=O,c=j,f=D,h=U,l=F,d=q,p=K,m=z,y=V,v=H,g=G,b=W,A=65535&(M=W),x=M>>>16,B=65535&(E=U),C=E>>>16,A+=65535&(M=(V>>>14|O<<18)^(V>>>18|O<<14)^(O>>>9|V<<23)),x+=M>>>16,B+=65535&(E=(O>>>14|V<<18)^(O>>>18|V<<14)^(V>>>9|O<<23)),C+=E>>>16,A+=65535&(M=V&H^~V&G),x+=M>>>16,B+=65535&(E=O&j^~O&D),C+=E>>>16,E=$[2*k],A+=65535&(M=$[2*k+1]),x+=M>>>16,B+=65535&E,C+=E>>>16,E=I[k%16],x+=(M=T[k%16])>>>16,B+=65535&E,C+=E>>>16,B+=(x+=(A+=65535&M)>>>16)>>>16,A=65535&(M=_=65535&A|x<<16),x=M>>>16,B=65535&(E=w=65535&B|(C+=B>>>16)<<16),C=E>>>16,A+=65535&(M=(F>>>28|P<<4)^(P>>>2|F<<30)^(P>>>7|F<<25)),x+=M>>>16,B+=65535&(E=(P>>>28|F<<4)^(F>>>2|P<<30)^(F>>>7|P<<25)),C+=E>>>16,x+=(M=F&q^F&K^q&K)>>>16,B+=65535&(E=P&N^P&R^N&R),C+=E>>>16,h=65535&(B+=(x+=(A+=65535&M)>>>16)>>>16)|(C+=B>>>16)<<16,b=65535&A|x<<16,A=65535&(M=m),x=M>>>16,B=65535&(E=s),C=E>>>16,x+=(M=_)>>>16,B+=65535&(E=w),C+=E>>>16,N=i,R=o,L=a,O=s=65535&(B+=(x+=(A+=65535&M)>>>16)>>>16)|(C+=B>>>16)<<16,j=u,D=c,U=f,P=h,q=l,K=d,z=p,V=m=65535&A|x<<16,H=y,G=v,W=g,F=b,k%16==15)for(S=0;S<16;S++)E=I[S],A=65535&(M=T[S]),x=M>>>16,B=65535&E,C=E>>>16,E=I[(S+9)%16],A+=65535&(M=T[(S+9)%16]),x+=M>>>16,B+=65535&E,C+=E>>>16,w=I[(S+1)%16],A+=65535&(M=((_=T[(S+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),x+=M>>>16,B+=65535&(E=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),C+=E>>>16,w=I[(S+14)%16],x+=(M=((_=T[(S+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,B+=65535&(E=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,I[S]=65535&B|C<<16,T[S]=65535&A|x<<16;A=65535&(M=F),x=M>>>16,B=65535&(E=P),C=E>>>16,E=t[0],x+=(M=e[0])>>>16,B+=65535&E,C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,t[0]=P=65535&B|C<<16,e[0]=F=65535&A|x<<16,A=65535&(M=q),x=M>>>16,B=65535&(E=N),C=E>>>16,E=t[1],x+=(M=e[1])>>>16,B+=65535&E,C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,t[1]=N=65535&B|C<<16,e[1]=q=65535&A|x<<16,A=65535&(M=K),x=M>>>16,B=65535&(E=R),C=E>>>16,E=t[2],x+=(M=e[2])>>>16,B+=65535&E,C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,t[2]=R=65535&B|C<<16,e[2]=K=65535&A|x<<16,A=65535&(M=z),x=M>>>16,B=65535&(E=L),C=E>>>16,E=t[3],x+=(M=e[3])>>>16,B+=65535&E,C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,t[3]=L=65535&B|C<<16,e[3]=z=65535&A|x<<16,A=65535&(M=V),x=M>>>16,B=65535&(E=O),C=E>>>16,E=t[4],x+=(M=e[4])>>>16,B+=65535&E,C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,t[4]=O=65535&B|C<<16,e[4]=V=65535&A|x<<16,A=65535&(M=H),x=M>>>16,B=65535&(E=j),C=E>>>16,E=t[5],x+=(M=e[5])>>>16,B+=65535&E,C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,t[5]=j=65535&B|C<<16,e[5]=H=65535&A|x<<16,A=65535&(M=G),x=M>>>16,B=65535&(E=D),C=E>>>16,E=t[6],x+=(M=e[6])>>>16,B+=65535&E,C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,t[6]=D=65535&B|C<<16,e[6]=G=65535&A|x<<16,A=65535&(M=W),x=M>>>16,B=65535&(E=U),C=E>>>16,E=t[7],x+=(M=e[7])>>>16,B+=65535&E,C+=E>>>16,C+=(B+=(x+=(A+=65535&M)>>>16)>>>16)>>>16,t[7]=U=65535&B|C<<16,e[7]=W=65535&A|x<<16,Y+=128,n-=128}return n}function Y(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,W(i,o,e,r),r%=128,n=0;n<r;n++)a[n]=e[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,d(a,r-8,s/536870912|0,s<<3),W(i,o,a,r),n=0;n<8;n++)d(t,8*n,i[n],o[n]);return 0}function Z(t,r){var n=e(),i=e(),o=e(),a=e(),s=e(),u=e(),f=e(),h=e(),l=e();j(n,t[1],t[0]),j(l,r[1],r[0]),D(n,n,l),O(i,t[0],t[1]),O(l,r[0],r[1]),D(i,i,l),D(o,t[3],r[3]),D(o,o,c),D(a,t[2],r[2]),O(a,a,a),j(s,i,n),j(u,a,o),O(f,a,o),O(h,i,n),D(t[0],s,u),D(t[1],h,f),D(t[2],f,u),D(t[3],s,h)}function Q(t,e,r){var n;for(n=0;n<4;n++)T(t[n],e[n],r)}function X(t,r){var n=e(),i=e(),o=e();F(o,r[2]),D(n,r[0],o),D(i,r[1],o),P(t,i),t[31]^=R(n)<<7}function J(t,e,r){var n,i;for(C(t[0],o),C(t[1],a),C(t[2],a),C(t[3],o),i=255;i>=0;--i)Q(t,e,n=r[i/8|0]>>(7&i)&1),Z(e,t),Z(t,t),Q(t,e,n)}function tt(t,r){var n=[e(),e(),e(),e()];C(n[0],f),C(n[1],h),C(n[2],a),D(n[3],f,h),J(t,n,r)}function et(t,n,i){var o,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(i||r(n,32),Y(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,tt(s,a),X(t,s),o=0;o<32;o++)n[o+32]=t[o];return 0}var rt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function nt(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*rt[i-(n-32)],r=e[i]+128>>8,e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*rt[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*rt[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function it(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;nt(t,r)}function ot(t,r,n,i){var o,a,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),f=new Float64Array(64),h=[e(),e(),e(),e()];Y(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var l=n+64;for(o=0;o<n;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=s[32+o];for(Y(c,t.subarray(32),n+32),it(c),tt(h,c),X(t,h),o=32;o<64;o++)t[o]=i[o];for(Y(u,t,n+64),it(u),o=0;o<64;o++)f[o]=0;for(o=0;o<32;o++)f[o]=c[o];for(o=0;o<32;o++)for(a=0;a<32;a++)f[o+a]+=u[o]*s[a];return nt(t.subarray(32),f),l}function at(t,r){var n=e(),i=e(),s=e(),c=e(),f=e(),h=e(),d=e();return C(t[2],a),L(t[1],r),U(s,t[1]),D(c,s,u),j(s,s,t[2]),O(c,t[2],c),U(f,c),U(h,f),D(d,h,f),D(n,d,s),D(n,n,c),function(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)U(i,i),1!==n&&D(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}(n,n),D(n,n,s),D(n,n,c),D(n,n,c),D(t[0],n,c),U(i,t[0]),D(i,i,c),N(i,s)&&D(t[0],t[0],l),U(i,t[0]),D(i,i,c),N(i,s)?-1:(R(t[0])===r[31]>>7&&j(t[0],o,t[0]),D(t[3],t[0],t[1]),0)}function st(t,r,n,i){var o,a=new Uint8Array(32),s=new Uint8Array(64),u=[e(),e(),e(),e()],c=[e(),e(),e(),e()];if(-1,n<64)return-1;if(at(c,i))return-1;for(o=0;o<n;o++)t[o]=r[o];for(o=0;o<32;o++)t[o+32]=i[o];if(Y(s,t,n),it(s),J(u,c,s),tt(c,r.subarray(32)),Z(u,c),X(a,u),n-=64,y(r,0,a,0)){for(o=0;o<n;o++)t[o]=0;return-1}for(o=0;o<n;o++)t[o]=r[o+64];return n}var ut=32,ct=24,ft=32,ht=32,lt=ct;function dt(t,e){if(t.length!==ut)throw new Error("bad key size");if(e.length!==ct)throw new Error("bad nonce size")}function pt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function mt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:g,crypto_stream_xor:S,crypto_stream:k,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:_,crypto_onetimeauth:M,crypto_onetimeauth_verify:A,crypto_verify_16:m,crypto_verify_32:y,crypto_secretbox:x,crypto_secretbox_open:B,crypto_scalarmult:q,crypto_scalarmult_base:K,crypto_box_beforenm:V,crypto_box_afternm:H,crypto_box:function(t,e,r,n,i,o){var a=new Uint8Array(32);return V(a,i,o),H(t,e,r,n,a)},crypto_box_open:function(t,e,r,n,i,o){var a=new Uint8Array(32);return V(a,i,o),G(t,e,r,n,a)},crypto_box_keypair:z,crypto_hash:Y,crypto_sign:ot,crypto_sign_keypair:et,crypto_sign_open:st,crypto_secretbox_KEYBYTES:ut,crypto_secretbox_NONCEBYTES:ct,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:ft,crypto_box_SECRETKEYBYTES:ht,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:lt,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,r){pt(t,e,r),dt(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return x(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){pt(t,e,r),dt(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32?null:0!==B(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=ut,t.secretbox.nonceLength=ct,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(pt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return q(r,t,e),r},t.scalarMult.base=function(t){if(pt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return K(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){pt(t,e),function(t,e){if(t.length!==ft)throw new Error("bad public key size");if(e.length!==ht)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return V(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(ft),e=new Uint8Array(ht);return z(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(pt(t),t.length!==ht)throw new Error("bad secret key size");var e=new Uint8Array(ft);return K(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=ft,t.box.secretKeyLength=ht,t.box.sharedKeyLength=32,t.box.nonceLength=lt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(pt(t,e),64!==e.length)throw new Error("bad secret key size");var r=new Uint8Array(64+t.length);return ot(r,t,t.length,e),r},t.sign.open=function(t,e){if(pt(t,e),32!==e.length)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=st(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(pt(t,e,r),64!==e.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return st(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return et(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(pt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(pt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return et(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){pt(t);var e=new Uint8Array(64);return Y(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return pt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===p(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG(function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];mt(i)})}else(e=cn)&&e.randomBytes&&t.setPRNG(function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];mt(i)})}()}(t.exports?t.exports:self.nacl=self.nacl||{})}),Wz={publicKeyLength:$z.sign.publicKeyLength,privateKeyLength:$z.sign.secretKeyLength,generateKey:function(t){bO(()=>{let e;try{e=$z.sign.keyPair()}catch(e){return t(e)}t(null,e)})},generateKeyFromSeed:function(t,e){bO(()=>{let r;try{r=$z.sign.keyPair.fromSeed(t)}catch(t){return e(t)}e(null,r)})},hashAndSign:function(t,e,r){bO(()=>{r(null,Buffer.from($z.sign.detached(e,t)))})},hashAndVerify:function(t,e,r,n){bO(()=>{let i;try{i=$z.sign.detached.verify(r,e,t)}catch(t){return n(t)}n(null,i)})}};const Yz=mD(YU);class Zz{constructor(t){this._key=Jz(t,Wz.publicKeyLength)}verify(t,e,r){Xz(r),Wz.hashAndVerify(this._key,e,t,r)}marshal(){return Buffer.from(this._key)}get bytes(){return Yz.PublicKey.encode({Type:Yz.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){Xz(t),Ej(this.bytes,"sha2-256",t)}}class Qz{constructor(t,e){this._key=Jz(t,Wz.privateKeyLength),this._publicKey=Jz(e,Wz.publicKeyLength)}sign(t,e){Xz(e),Wz.hashAndSign(this._key,t,e)}get public(){if(!this._publicKey)throw new Error("public key not provided");return new Zz(this._publicKey)}marshal(){return Buffer.concat([Buffer.from(this._key),Buffer.from(this._publicKey)])}get bytes(){return Yz.PrivateKey.encode({Type:Yz.KeyType.Ed25519,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){Xz(t),Ej(this.bytes,"sha2-256",t)}id(t){this.public.hash((e,r)=>{if(e)return t(e);t(null,GC.encode(r))})}}function Xz(t){if("function"!=typeof t)throw new Error("callback is required")}function Jz(t,e){if(Buffer.isBuffer(t)&&(t=new Uint8Array(t)),!(t instanceof Uint8Array)||t.length!==e)throw new Error("Key must be a Uint8Array or Buffer of length "+e);return t}var tV={Ed25519PublicKey:Zz,Ed25519PrivateKey:Qz,unmarshalEd25519PrivateKey:function(t,e){try{t=Jz(t,Wz.privateKeyLength+Wz.publicKeyLength)}catch(t){return e(t)}const r=t.slice(0,Wz.privateKeyLength),n=t.slice(Wz.privateKeyLength,t.length);e(null,new Qz(r,n))},unmarshalEd25519PublicKey:function(t){return t=Jz(t,Wz.publicKeyLength),new Zz(t)},generateKeyPair:function(t,e){void 0===e&&"function"==typeof t&&(e=t),Wz.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new Qz(r.secretKey,r.publicKey)}catch(t){return void e(t)}e(null,n)})},generateKeyPairFromSeed:function(t,e,r){void 0===r&&"function"==typeof e&&(r=e),Wz.generateKeyFromSeed(t,(t,e)=>{if(t)return r(t);let n;try{n=new Qz(e.secretKey,e.publicKey)}catch(t){return void r(t)}r(null,n)})}};const eV="sha2-256";var rV=(t,e,r)=>{r=r||(t=>{function e(t){if(!uy.privateKeyVerify(t))throw new Error("Invalid private key")}return{generateKey:function(e){let r;do{r=t(32)}while(!uy.privateKeyVerify(r));((t,r)=>bO(()=>e(t,r)))(null,r)},privateKeyLength:32,hashAndSign:function(t,e,r){const n=(t,e)=>bO(()=>r(t,e));Ej.digest(e,eV,(e,r)=>{if(e)return n(e);try{const i=uy.sign(r,t),o=uy.signatureExport(i.signature);return n(null,o)}catch(e){n(e)}})},hashAndVerify:function(t,e,r,n){const i=(t,e)=>bO(()=>n(t,e));Ej.digest(r,eV,(r,n)=>{if(r)return i(r);try{e=uy.signatureImport(e);const o=uy.verify(n,e,t);return i(null,o)}catch(r){i(r)}})},compressPublicKey:function(t){if(!uy.publicKeyVerify(t))throw new Error("Invalid public key");return uy.publicKeyConvert(t,!0)},decompressPublicKey:function(t){return uy.publicKeyConvert(t,!1)},validatePrivateKey:e,validatePublicKey:function(t){if(!uy.publicKeyVerify(t))throw new Error("Invalid public key")},computePublicKey:function(t){return e(t),uy.publicKeyCreate(t)}}})(e);class n{constructor(t){r.validatePublicKey(t),this._key=t}verify(t,e,n){o(n),r.hashAndVerify(this._key,e,t,n)}marshal(){return r.compressPublicKey(this._key)}get bytes(){return t.PublicKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){o(t),Ej(this.bytes,"sha2-256",t)}}class i{constructor(t,e){this._key=t,this._publicKey=e||r.computePublicKey(t),r.validatePrivateKey(this._key),r.validatePublicKey(this._publicKey)}sign(t,e){o(e),r.hashAndSign(this._key,t,e)}get public(){return new n(this._publicKey)}marshal(){return this._key}get bytes(){return t.PrivateKey.encode({Type:t.KeyType.Secp256k1,Data:this.marshal()})}equals(t){return this.bytes.equals(t.bytes)}hash(t){o(t),Ej(this.bytes,"sha2-256",t)}}function o(t){if("function"!=typeof t)throw new Error("callback is required")}return{Secp256k1PublicKey:n,Secp256k1PrivateKey:i,unmarshalSecp256k1PrivateKey:function(t,e){e(null,new i(t),null)},unmarshalSecp256k1PublicKey:function(t){return new n(t)},generateKeyPair:function(t,e){void 0===e&&"function"==typeof t&&(e=t),o(e),r.generateKey((t,r)=>{if(t)return e(t);let n;try{n=new i(r)}catch(t){return e(t)}e(null,n)})}}};var nV=function(t){if(!t||"number"!=typeof t)throw new Error("first argument must be a Number bigger than 0");return qz.getRandomValues(new Uint8Array(t))},iV=et(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,a){a=(0,i.default)(a||r.default);var s=(0,o.default)(e);if(!t())return a(null);var u=function(e){if(e)return a(e);if(t())return s(u);var r=(0,n.default)(arguments,1);a.apply(null,[null].concat(r))};s(u)};var r=a(dw),n=a(b_),i=a(m_),o=a(S_);function a(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default});tt(iV);const oV={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};var aV=(t,e,r,n)=>{const i=oV[t];if(!i)return n(new Error("unkown cipherType passed"));if(!e)return n(new Error("unkown hashType passed"));const o=i.keySize,a=i.ivSize,s=Buffer.from("key expansion"),u=2*(a+o+20);HU.create(e,r,(t,e)=>{if(t)return n(t);e.digest(s,(t,r)=>{if(t)return n(t);let i=[],c=0;iV(()=>c<u,function(t){e.digest(Buffer.concat([r,s]),(n,o)=>{if(n)return t(n);let a=o.length;c+a>u&&(a=u-c),i.push(o),c+=a,e.digest(r,(e,n)=>{if(e)return t(e);r=n,t()})})},function(t){if(t)return n(t);const e=u/2,r=Buffer.concat(i),s=r.slice(0,e),c=r.slice(e,u),f=t=>({iv:t.slice(0,a),cipherKey:t.slice(a,a+o),macKey:t.slice(a+o)});n(null,{k1:f(s),k2:f(c)})})})})};const sV=qU(),uV=Bz.bignum,cV=Iz,fV=Tz,hV={"P-256":256,"P-384":384,"P-521":521};const lV={"P-256":32,"P-384":48,"P-521":66};function dV(t,e){const r=lV[t];if(!e.slice(0,1).equals(Buffer.from([4])))throw new Error("Invalid key format");const n=new uV(e.slice(1,r+1)),i=new uV(e.slice(1+r));return{kty:"EC",crv:t,x:cV(n,r),y:cV(i,r),ext:!0}}var pV=function(t,e){UU(sV.subtle.generateKey({name:"ECDH",namedCurve:t},!0,["deriveBits"]).then(e=>{const r=(r,n,i)=>{let o;"function"==typeof n&&(i=n,n=void 0),o=n?sV.subtle.importKey("jwk",function(t,e){const r=dV(t,e.public);return r.d=cV(new uV(e.private)),r}(t,n),{name:"ECDH",namedCurve:t},!1,["deriveBits"]):Promise.resolve(e.privateKey);const a=Promise.all([sV.subtle.importKey("jwk",dV(t,r),{name:"ECDH",namedCurve:t},!1,[]),o]);UU(a.then(e=>sV.subtle.deriveBits({name:"ECDH",namedCurve:t,public:e[0]},e[1],hV[t])).then(t=>Buffer.from(t)),i)};return sV.subtle.exportKey("jwk",e.publicKey).then(t=>({key:function(t){const e=lV[t.crv];return Buffer.concat([Buffer.from([4]),fV(t.x).toArrayLike(Buffer,"be",e),fV(t.y).toArrayLike(Buffer,"be",e)],1+2*e)}(t),genSharedKey:r}))}),e)},mV=(t,e)=>{pV(t,e)},yV=et(function(t,e){const r=mD(YU);e=t.exports;const n={rsa:Gz,ed25519:tV,secp256k1:rV(r,nV)};function i(t){return void 0!==n[t.toLowerCase()]}e.supportedKeys=n,e.keysPBM=r,e.keyStretcher=aV,e.generateEphemeralKeyPair=mV,e.generateKeyPair=((t,e,r)=>{let i=n[t.toLowerCase()];if(!i)return r(new Error("invalid or unsupported key type"));i.generateKeyPair(e,r)}),e.generateKeyPairFromSeed=((t,e,r,i)=>{let o=n[t.toLowerCase()];return o?"ed25519"!==t.toLowerCase()?i(new Error("Seed key derivation is unimplemented for RSA or secp256k1")):void o.generateKeyPairFromSeed(e,r,i):i(new Error("invalid or unsupported key type"))}),e.unmarshalPublicKey=(t=>{const e=r.PublicKey.decode(t),i=e.Data;switch(e.Type){case r.KeyType.RSA:return n.rsa.unmarshalRsaPublicKey(i);case r.KeyType.Ed25519:return n.ed25519.unmarshalEd25519PublicKey(i);case r.KeyType.Secp256k1:if(n.secp256k1)return n.secp256k1.unmarshalSecp256k1PublicKey(i);throw new Error("secp256k1 support requires libp2p-crypto-secp256k1 package");default:throw new Error("invalid or unsupported key type")}}),e.marshalPublicKey=((t,e)=>{if(!i(e=(e||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return t.bytes}),e.unmarshalPrivateKey=((t,e)=>{let i;try{i=r.PrivateKey.decode(t)}catch(t){return e(t)}const o=i.Data;switch(i.Type){case r.KeyType.RSA:return n.rsa.unmarshalRsaPrivateKey(o,e);case r.KeyType.Ed25519:return n.ed25519.unmarshalEd25519PrivateKey(o,e);case r.KeyType.Secp256k1:return n.secp256k1?n.secp256k1.unmarshalSecp256k1PrivateKey(o,e):e(new Error("secp256k1 support requires libp2p-crypto-secp256k1 package"));default:e(new Error("invalid or unsupported key type"))}}),e.marshalPrivateKey=((t,e)=>{if(!i(e=(e||"rsa").toLowerCase()))throw new Error("invalid or unsupported key type");return t.bytes}),e.import=((t,e,r)=>{try{const i=OK.pki.decryptRsaPrivateKey(t,e);if(null===i)throw new Error("Cannot read the key, most likely the password is wrong or not a RSA key");let o=OK.asn1.toDer(OK.pki.privateKeyToAsn1(i));return o=Buffer.from(o.getBytes(),"binary"),n.rsa.unmarshalRsaPrivateKey(o,r)}catch(t){r(t)}})});yV.supportedKeys,yV.keysPBM,yV.keyStretcher,yV.generateEphemeralKeyPair,yV.generateKeyPair,yV.generateKeyPairFromSeed,yV.unmarshalPublicKey,yV.marshalPublicKey,yV.unmarshalPrivateKey,yV.marshalPrivateKey;const vV={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};var gV=function(t,e,r,n,i){const o=vV[i];if(!o)throw new Error(`Hash '${i}' is unknown or not supported`);const a=OK.pkcs5.pbkdf2(t,e,r,n,o);return OK.util.encode64(a)},bV=et(function(t,e){(e=t.exports).aes=WU,e.hmac=HU,e.keys=yV,e.randomBytes=nV,e.pbkdf2=gV}),wV=(bV.aes,bV.hmac,bV.keys,bV.randomBytes,bV.pbkdf2,et(function(t,e){class r{constructor(t,e,r){o(Buffer.isBuffer(t),"invalid id provided"),e&&r&&o(e.public.bytes.equals(r.bytes),"inconsistent arguments"),this._id=t,this._idB58String=DP.toB58String(this.id),this._privKey=e,this._pubKey=r}get id(){return this._id}set id(t){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(t){this._privKey=t}get pubKey(){return this._pubKey?this._pubKey:this._privKey?this._privKey.public:void 0}set pubKey(t){this._pubKey=t}marshalPubKey(){if(this.pubKey)return bV.keys.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return bV.keys.marshalPrivateKey(this.privKey)}toPrint(){return this.toJSON()}toJSON(){return{id:this.toB58String(),privKey:n(this.marshalPrivKey()),pubKey:n(this.marshalPubKey())}}toHexString(){return DP.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}isEqual(t){if(Buffer.isBuffer(t))return this.id.equals(t);if(t.id)return this.id.equals(t.id);throw new Error("not valid Id")}isValid(t){this.privKey&&this.privKey.public&&this.privKey.public.bytes&&Buffer.isBuffer(this.pubKey.bytes)&&this.privKey.public.bytes.equals(this.pubKey.bytes)?t():t(new Error("Keys not match"))}}function n(t){if(t)return t.toString("base64")}(e=t.exports=r).create=function(t,e){"function"==typeof t&&(e=t,t={}),(t=t||{}).bits=t.bits||2048,LD([e=>bV.keys.generateKeyPair("RSA",t.bits,e),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,n,i)=>{if(t)return e(t);e(null,new r(n,i))})},e.createFromHexString=function(t){return new r(DP.fromHexString(t))},e.createFromBytes=function(t){return new r(t)},e.createFromB58String=function(t){return new r(DP.fromB58String(t))},e.createFromPubKey=function(t,e){if("function"!=typeof e)throw new Error("callback is required");let n;try{let r=t;if("string"==typeof r&&(r=Buffer.from(t,"base64")),!Buffer.isBuffer(r))throw new Error("Supplied key is neither a base64 string nor a buffer");n=bV.keys.unmarshalPublicKey(r)}catch(t){return e(t)}n.hash((t,i)=>{if(t)return e(t);e(null,new r(i,null,n))})},e.createFromPrivKey=function(t,e){if("function"!=typeof e)throw new Error("callback is required");let n=t;try{if("string"==typeof n&&(n=Buffer.from(t,"base64")),!Buffer.isBuffer(n))throw new Error("Supplied key is neither a base64 string nor a buffer")}catch(t){return e(t)}LD([t=>bV.keys.unmarshalPrivateKey(n,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)})],(t,n,i)=>{if(t)return e(t);e(null,new r(n,i,i.public))})},e.createFromJSON=function(t,e){if("function"!=typeof e)throw new Error("callback is required");let n,i,o,a;try{n=DP.fromB58String(t.id),i=t.privKey&&Buffer.from(t.privKey,"base64"),o=t.pubKey&&Buffer.from(t.pubKey,"base64"),a=o&&bV.keys.unmarshalPublicKey(o)}catch(t){return e(t)}i?LD([t=>bV.keys.unmarshalPrivateKey(i,t),(t,e)=>t.public.hash((r,n)=>{e(r,n,t)}),(t,e,r)=>{a?a.hash((n,i)=>{r(n,t,e,i)}):r(null,t,e)}],(t,i,o,s)=>t?e(t):a&&!i.equals(s)?e(new Error("Public and private key do not match")):n&&!i.equals(n)?e(new Error("Id and private key do not match")):void e(null,new r(n,o,a))):e(null,new r(n,null,a))},e.isPeerId=function(t){return Boolean("object"==typeof t&&t._id&&t._idB58String)}}));wV.create,wV.createFromHexString,wV.createFromBytes,wV.createFromB58String,wV.createFromPubKey,wV.createFromPrivKey,wV.createFromJSON,wV.isPeerId;var _V=function(t){return AI.isMultiaddr(t)?t:AI(t)},kV=et(function(t,e){var r=200,n="Expected a function",i="__lodash_hash_undefined__",o=1,a=2,s=1/0,u=9007199254740991,c="[object Arguments]",f="[object Array]",h="[object Boolean]",l="[object Date]",d="[object Error]",p="[object Function]",m="[object GeneratorFunction]",y="[object Map]",v="[object Number]",g="[object Object]",b="[object RegExp]",w="[object Set]",_="[object String]",k="[object Symbol]",S="[object ArrayBuffer]",E="[object DataView]",M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,x=/^\./,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,C=/\\(\\)?/g,I=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[c]=P[f]=P[S]=P[h]=P[E]=P[l]=P[d]=P[p]=P[y]=P[v]=P[g]=P[b]=P[w]=P[_]=P["[object WeakMap]"]=!1;var N="object"==typeof X&&X&&X.Object===Object&&X,R="object"==typeof self&&self&&self.Object===Object&&self,L=N||R||Function("return this")(),O=e&&!e.nodeType&&e,j=O&&t&&!t.nodeType&&t,D=j&&j.exports===O&&N.process,U=function(){try{return D&&D.binding("util")}catch(t){}}(),F=U&&U.isTypedArray;function q(t,e){return!!(t?t.length:0)&&function(t,e,r){if(e!=e)return function(t,e,r,n){var i=t.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,V,r);var n=r-1,i=t.length;for(;++n<i;)if(t[n]===e)return n;return-1}(t,e,0)>-1}function K(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function z(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function V(t){return t!=t}function H(t,e){return t.has(e)}function G(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function $(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function W(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Y,Z,Q,J=Array.prototype,tt=Function.prototype,et=Object.prototype,rt=L["__core-js_shared__"],nt=(Y=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",it=tt.toString,ot=et.hasOwnProperty,at=et.toString,st=RegExp("^"+it.call(ot).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=L.Symbol,ct=L.Uint8Array,ft=et.propertyIsEnumerable,ht=J.splice,lt=(Z=Object.keys,Q=Object,function(t){return Z(Q(t))}),dt=Vt(L,"DataView"),pt=Vt(L,"Map"),mt=Vt(L,"Promise"),yt=Vt(L,"Set"),vt=Vt(L,"WeakMap"),gt=Vt(Object,"create"),bt=Xt(dt),wt=Xt(pt),_t=Xt(mt),kt=Xt(yt),St=Xt(vt),Et=ut?ut.prototype:void 0,Mt=Et?Et.valueOf:void 0,At=Et?Et.toString:void 0;function xt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Bt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t){var e=-1,r=t?t.length:0;for(this.__data__=new Ct;++e<r;)this.add(t[e])}function Tt(t){this.__data__=new Bt(t)}function Pt(t,e){var r=re(t)||ee(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,i=!!n;for(var o in t)!e&&!ot.call(t,o)||i&&("length"==o||Gt(o,n))||r.push(o);return r}function Nt(t,e){for(var r=t.length;r--;)if(te(t[r][0],e))return r;return-1}function Rt(t,e){for(var r=0,n=(e=$t(e,t)?[e]:Ft(e)).length;null!=t&&r<n;)t=t[Qt(e[r++])];return r&&r==n?t:void 0}function Lt(t,e){return null!=t&&e in Object(t)}function Ot(t,e,r,n,i){return t===e||(null==t||null==e||!ae(t)&&!se(e)?t!=t&&e!=e:function(t,e,r,n,i,s){var u=re(t),p=re(e),m=f,M=f;u||(m=(m=Ht(t))==c?g:m);p||(M=(M=Ht(e))==c?g:M);var A=m==g&&!G(t),x=M==g&&!G(e),B=m==M;if(B&&!A)return s||(s=new Tt),u||ce(t)?Kt(t,e,r,n,i,s):function(t,e,r,n,i,s,u){switch(r){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!n(new ct(t),new ct(e)));case h:case l:case v:return te(+t,+e);case d:return t.name==e.name&&t.message==e.message;case b:case _:return t==e+"";case y:var c=$;case w:var f=s&a;if(c||(c=W),t.size!=e.size&&!f)return!1;var p=u.get(t);if(p)return p==e;s|=o,u.set(t,e);var m=Kt(c(t),c(e),n,i,s,u);return u.delete(t),m;case k:if(Mt)return Mt.call(t)==Mt.call(e)}return!1}(t,e,m,r,n,i,s);if(!(i&a)){var C=A&&ot.call(t,"__wrapped__"),I=x&&ot.call(e,"__wrapped__");if(C||I){var T=C?t.value():t,P=I?e.value():e;return s||(s=new Tt),r(T,P,n,i,s)}}if(!B)return!1;return s||(s=new Tt),function(t,e,r,n,i,o){var s=i&a,u=fe(t),c=u.length,f=fe(e).length;if(c!=f&&!s)return!1;for(var h=c;h--;){var l=u[h];if(!(s?l in e:ot.call(e,l)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var p=!0;o.set(t,e),o.set(e,t);for(var m=s;++h<c;){l=u[h];var y=t[l],v=e[l];if(n)var g=s?n(v,y,l,e,t,o):n(y,v,l,t,e,o);if(!(void 0===g?y===v||r(y,v,n,i,o):g)){p=!1;break}m||(m="constructor"==l)}if(p&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(p=!1)}return o.delete(t),o.delete(e),p}(t,e,r,n,i,s)}(t,e,Ot,r,n,i))}function jt(t){return!(!ae(t)||nt&&nt in t)&&(ie(t)||G(t)?st:I).test(Xt(t))}function Dt(t){return"function"==typeof t?t:null==t?he:"object"==typeof t?re(t)?function(t,e){if($t(t)&&Wt(e))return Yt(Qt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Rt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){var n,i=-1,o=(e=$t(e,t)?[e]:Ft(e)).length;for(;++i<o;){var a=Qt(e[i]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;return!!(o=t?t.length:0)&&oe(o)&&Gt(a,o)&&(re(t)||ee(t))}(t,e,Lt)}(r,t):Ot(e,n,void 0,o|a)}}(t[0],t[1]):function(t){var e=function(t){var e=fe(t),r=e.length;for(;r--;){var n=e[r],i=t[n];e[r]=[n,i,Wt(i)]}return e}(t);if(1==e.length&&e[0][2])return Yt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var i=r.length,s=i,u=!n;if(null==t)return!s;for(t=Object(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<s;){var f=(c=r[i])[0],h=t[f],l=c[1];if(u&&c[2]){if(void 0===h&&!(f in t))return!1}else{var d=new Tt;if(n)var p=n(h,l,f,t,e,d);if(!(void 0===p?Ot(l,h,n,o|a,d):p))return!1}}return!0}(r,t,e)}}(t):$t(e=t)?(r=Qt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Rt(e,t)}}(e);var e,r}function Ut(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||et,e!==n)return lt(t);var e,r,n,i=[];for(var o in Object(t))ot.call(t,o)&&"constructor"!=o&&i.push(o);return i}function Ft(t){return re(t)?t:Zt(t)}xt.prototype.clear=function(){this.__data__=gt?gt(null):{}},xt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},xt.prototype.get=function(t){var e=this.__data__;if(gt){var r=e[t];return r===i?void 0:r}return ot.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:ot.call(e,t)},xt.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?i:e,this},Bt.prototype.clear=function(){this.__data__=[]},Bt.prototype.delete=function(t){var e=this.__data__,r=Nt(e,t);return!(r<0||(r==e.length-1?e.pop():ht.call(e,r,1),0))},Bt.prototype.get=function(t){var e=this.__data__,r=Nt(e,t);return r<0?void 0:e[r][1]},Bt.prototype.has=function(t){return Nt(this.__data__,t)>-1},Bt.prototype.set=function(t,e){var r=this.__data__,n=Nt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Ct.prototype.clear=function(){this.__data__={hash:new xt,map:new(pt||Bt),string:new xt}},Ct.prototype.delete=function(t){return zt(this,t).delete(t)},Ct.prototype.get=function(t){return zt(this,t).get(t)},Ct.prototype.has=function(t){return zt(this,t).has(t)},Ct.prototype.set=function(t,e){return zt(this,t).set(t,e),this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,i),this},It.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.clear=function(){this.__data__=new Bt},Tt.prototype.delete=function(t){return this.__data__.delete(t)},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Bt){var i=n.__data__;if(!pt||i.length<r-1)return i.push([t,e]),this;n=this.__data__=new Ct(i)}return n.set(t,e),this};var qt=yt&&1/W(new yt([,-0]))[1]==s?function(t){return new yt(t)}:function(){};function Kt(t,e,r,n,i,s){var u=i&a,c=t.length,f=e.length;if(c!=f&&!(u&&f>c))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var l=-1,d=!0,p=i&o?new It:void 0;for(s.set(t,e),s.set(e,t);++l<c;){var m=t[l],y=e[l];if(n)var v=u?n(y,m,l,e,t,s):n(m,y,l,t,e,s);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!z(e,function(t,e){if(!p.has(e)&&(m===t||r(m,t,n,i,s)))return p.add(e)})){d=!1;break}}else if(m!==y&&!r(m,y,n,i,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function zt(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Vt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return jt(r)?r:void 0}var Ht=function(t){return at.call(t)};function Gt(t,e){return!!(e=null==e?u:e)&&("number"==typeof t||T.test(t))&&t>-1&&t%1==0&&t<e}function $t(t,e){if(re(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ue(t))||(A.test(t)||!M.test(t)||null!=e&&t in Object(e))}function Wt(t){return t==t&&!ae(t)}function Yt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(dt&&Ht(new dt(new ArrayBuffer(1)))!=E||pt&&Ht(new pt)!=y||mt&&"[object Promise]"!=Ht(mt.resolve())||yt&&Ht(new yt)!=w||vt&&"[object WeakMap]"!=Ht(new vt))&&(Ht=function(t){var e=at.call(t),r=e==g?t.constructor:void 0,n=r?Xt(r):void 0;if(n)switch(n){case bt:return E;case wt:return y;case _t:return"[object Promise]";case kt:return w;case St:return"[object WeakMap]"}return e});var Zt=Jt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ue(t))return At?At.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}(e);var r=[];return x.test(t)&&r.push(""),t.replace(B,function(t,e,n,i){r.push(n?i.replace(C,"$1"):e||t)}),r});function Qt(t){if("string"==typeof t||ue(t))return t;var e=t+"";return"0"==e&&1/t==-s?"-0":e}function Xt(t){if(null!=t){try{return it.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Jt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(Jt.Cache||Ct),r}function te(t,e){return t===e||t!=t&&e!=e}function ee(t){return function(t){return se(t)&&ne(t)}(t)&&ot.call(t,"callee")&&(!ft.call(t,"callee")||at.call(t)==c)}Jt.Cache=Ct;var re=Array.isArray;function ne(t){return null!=t&&oe(t.length)&&!ie(t)}function ie(t){var e=ae(t)?at.call(t):"";return e==p||e==m}function oe(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=u}function ae(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function se(t){return!!t&&"object"==typeof t}function ue(t){return"symbol"==typeof t||se(t)&&at.call(t)==k}var ce=F?function(t){return function(e){return t(e)}}(F):function(t){return se(t)&&oe(t.length)&&!!P[at.call(t)]};function fe(t){return ne(t)?Pt(t):Ut(t)}function he(t){return t}t.exports=function(t,e){return t&&t.length?function(t,e,n){var i=-1,o=q,a=t.length,s=!0,u=[],c=u;if(n)s=!1,o=K;else if(a>=r){var f=e?null:qt(t);if(f)return W(f);s=!1,o=H,c=new It}else c=e?[]:u;t:for(;++i<a;){var h=t[i],l=e?e(h):h;if(h=n||0!==h?h:0,s&&l==l){for(var d=c.length;d--;)if(c[d]===l)continue t;e&&c.push(l),u.push(h)}else o(c,l,n)||(c!==u&&c.push(l),u.push(h))}return u}(t,Dt(e)):[]}});const SV=_V;var EV=class{constructor(t){this._multiaddrs=t||[],this._observedMultiaddrs=[]}add(t){t=SV(t),this.has(t)||this._multiaddrs.push(t)}addSafe(t){t=SV(t),this._observedMultiaddrs.some((e,r)=>{if(e.equals(t))return this.add(t),this._observedMultiaddrs.splice(r,1),!0})||this._observedMultiaddrs.push(t)}toArray(){return this._multiaddrs.slice()}get size(){return this._multiaddrs.length}forEach(t){return this._multiaddrs.forEach(t)}has(t){return t=SV(t),this._multiaddrs.some(e=>e.equals(t))}delete(t){t=SV(t),this._multiaddrs.some((e,r)=>{if(e.equals(t))return this._multiaddrs.splice(r,1),!0})}replace(t,e){Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]),t.forEach(t=>this.delete(t)),e.forEach(t=>this.add(t))}clear(){this._multiaddrs=[]}distinct(){return kV(this._multiaddrs,t=>[t.toOptions().port,t.toOptions().transport].join())}};const MV=_V;class AV{constructor(t){o(t,"Missing peerId. Use Peer.create(cb) to create one"),this.id=t,this.multiaddrs=new EV,this.protocols=new Set,this._connectedMultiaddr=void 0}connect(t){if(t=MV(t),!this.multiaddrs.has(t)&&t.toString()!==`/ipfs/${this.id.toB58String()}`)throw new Error("can't be connected to missing multiaddr from set");this._connectedMultiaddr=t}disconnect(){this._connectedMultiaddr=void 0}isConnected(){return this._connectedMultiaddr}}AV.create=((t,e)=>{if("function"==typeof t)return e=t,t=null,void wV.create((t,r)=>{if(t)return e(t);e(null,new AV(r))});"function"==typeof t.toJSON?e(null,new AV(t)):wV.createFromJSON(t,(t,r)=>e(t,new AV(r)))}),AV.isPeerInfo=(t=>Boolean("object"==typeof t&&t.id&&t.multiaddrs));var xV=AV,BV=t=>{const e=FL(t);return{peers:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={});const n=e.v||e.verbose;t({path:"swarm/peers",qs:e},(t,e)=>{if(t)return r(t);e.Strings?r(null,e.Strings.map(t=>{const e={};if(n){const r=t.split(" ");e.addr=AI(r[0]),e.latency=r[1]}else e.addr=AI(t);return e.peer=wV.createFromB58String(e.addr.decapsulate("ipfs")),e})):e.Peers&&r(null,e.Peers.map(t=>{const e={addr:AI(t.Addr),peer:wV.createFromB58String(t.Peer),muxer:t.Muxer};return t.Latency&&(e.latency=t.Latency),t.Streams&&(e.streams=t.Streams),e}))})}))(e),connect:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t({path:"swarm/connect",args:e,qs:r},n)}))(e),disconnect:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t({path:"swarm/disconnect",args:e,qs:r},n)}))(e),addrs:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t({path:"swarm/addrs",qs:e},(t,e)=>{if(t)return r(t);const n=Object.keys(e.Addrs).map(t=>{const r=new xV(wV.createFromB58String(t));return e.Addrs[t].forEach(t=>{r.multiaddrs.add(AI(t))}),r});r(null,n)})}))(e),localAddrs:(t=>xI((e,r)=>{"function"==typeof e&&(r=e,e={}),t({path:"swarm/addrs/local",qs:e},(t,e)=>{if(t)return r(t);r(null,e.Strings.map(t=>AI(t)))})}))(e)}},CV={deserialize(t,e){if("json"===(e=e?e.toLowerCase():"json"))return function(t){return IV(JSON.parse(t))}(t);if("base64"===e)return IV(t);throw new Error(`Unsupported encoding: '${e}'`)}};function IV(t){if(!function(t){return t&&t.from&&t.seqno&&t.data&&(t.topicIDs||t.topicCIDs)}(t))throw new Error("Not a pubsub message");return{from:GC.encode(Buffer.from(t.from,"base64")).toString(),seqno:Buffer.from(t.seqno,"base64"),data:Buffer.from(t.data,"base64"),topicIDs:t.topicIDs||t.topicCIDs}}const TV=eP.Transform;class PV extends TV{constructor(t){super(Object.assign(t||{},{objectMode:!0}))}static from(t,e){let r=t.pipe(new PV);t.on("end",()=>r.emit("end")),e(null,r)}_transform(t,e,r){if(0===Object.keys(t).length)return r();try{const e=CV.deserialize(t,"base64");this.push(e),r()}catch(t){return r(t)}}}var NV=PV;var RV=function(t,e){e(null,t.Strings||[])};const LV=()=>new Error("pubsub is currently not supported when run in the browser");var OV=t=>{const e=FL(t),r=new a,n={};return r.id=Math.random(),{subscribe:(t,e,r,n)=>{const o={discover:!1};return"function"==typeof e&&(n=r,r=e,e=o),e||(e=o),bP?n?void i(t,e,r,n):new Promise((n,o)=>{i(t,e,r,t=>{if(t)return o(t);n()})}):n?n(LV()):Promise.reject(LV())},unsubscribe:(t,e)=>{if(!bP)throw LV();if(0===r.listenerCount(t)||!n[t])throw new Error(`Not subscribed to '${t}'`);r.removeListener(t,e),0===r.listenerCount(t)&&(n[t].abort(),n[t]=null)},publish:xI((t,r,n)=>{if(!bP)return n(LV());if(!Buffer.isBuffer(r))return n(new Error("data must be a Buffer"));e({path:"pubsub/pub",args:[t,r]},n)}),ls:xI(t=>{if(!bP)return t(LV());e.andTransform({path:"pubsub/ls"},RV,t)}),peers:xI((t,r)=>{if(!bP)return r(LV());const n={path:"pubsub/peers",args:[t]};e.andTransform(n,RV,r)}),setMaxListeners:t=>r.setMaxListeners(t)};function i(t,i,o,a){if(r.on(t,o),n[t])return a();const s={path:"pubsub/sub",args:[t],qs:{discover:i.discover}};n[t]=e.andTransform(s,NV.from,(e,i)=>{if(e)return n[t]=null,r.removeListener(t,o),a(e);i.on("data",e=>{r.emit(t,e)}),i.on("error",t=>{r.emit("error",t)}),SN(i,e=>{e&&r.emit("error",e),n[t]=null,r.removeListener(t,o)}),a()})}},jV=t=>{const e=FL(t);return{apply:xI((t,r)=>{"function"==typeof t&&(r=t,t={}),e({path:"update",qs:t},r)}),check:xI((t,r)=>{"function"==typeof t&&(r=t,t={}),e({path:"update/check",qs:t},r)}),log:xI((t,r)=>{"function"==typeof t&&(r=t,t={}),e({path:"update/log",qs:t},r)})}},DV=t=>{const e=FL(t);return xI((t,r)=>{"function"==typeof t&&(r=t,t={}),e({path:"version",qs:t},(t,e)=>{if(t)return r(t);const n={version:e.Version,commit:e.Commit,repo:e.Repo};r(null,n)})})};const UV=function(t,e){e(null,t.Path)};var FV=t=>{const e=FL(t);return xI((t,r,n)=>{"function"==typeof r&&(n=r,r={}),e.andTransform({path:"dns",args:t,qs:r},UV,n)})};const qV=function(t,e){e(null,{type:t.Type,blocks:t.Blocks,size:t.Size,hash:t.Hash,cumulativeSize:t.CumulativeSize,withLocality:t.WithLocality||!1,local:t.Local||void 0,sizeLocal:t.SizeLocal||void 0})};const KV=function(t,e){e(null,(t.Entries||[]).map(t=>({name:t.Name,type:t.Type,size:t.Size,hash:t.Hash})))};var zV=t=>{const e=FL(t);return{add:TP(e),addReadableStream:PP(e),addPullStream:OP(e),cat:wN(e),catReadableStream:TN(e),catPullStream:LN(e),get:MR(e),getReadableStream:AR(e),getPullStream:HR(e),flush:(t=>xI((e,r)=>("function"==typeof e&&(r=e,e="/"),t({path:"files/flush",args:e},r))))(e),cp:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t({path:"files/cp",args:e,qs:r},n)}))(e),mkdir:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t({path:"files/mkdir",args:e,qs:r},n)}))(e),stat:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),r=AU.mapKeys(r,(t,e)=>AU.kebabCase(e)),t.andTransform({path:"files/stat",args:e,qs:r},qV,n)}))(e),rm:(t=>xI((e,r,n)=>{"function"!=typeof r||n||(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),t({path:"files/rm",args:e,qs:r},n)}))(e),ls:(t=>xI((e,r,n)=>("function"==typeof r&&(n=r,r={}),t.andTransform({path:"files/ls",args:e,qs:r},KV,n))))(e),read:(t=>xI((e,r,n)=>{"function"==typeof r&&(n=r,r={}),t.andTransform({path:"files/read",args:e,qs:r},RL,n)}))(e),write:(t=>{const e=BP(t,"files/write");return xI((t,r,n,i)=>{"function"!=typeof n||i||(i=n,n={}),"function"==typeof n&&"function"==typeof i&&(i=n,n={});const o=[].concat(r),a=lP(i),s=e({qs:{args:t,qs:n,converter:gP}}),u=cP(t=>a(null,t));s.once("error",a),s.pipe(u),o.forEach(t=>s.write(t)),s.end()})})(e),mv:(t=>xI((e,r,n)=>{"function"==typeof r&&void 0===n&&(n=r,r={}),t({path:"files/mv",args:e,qs:r},n)}))(e)}},VV=t=>{const e=WL(t,"add");return xI((t,r,n)=>{if("function"==typeof r&&void 0===n&&(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),!bP)return n(new Error("fsAdd does not work in the browser"));if("string"!=typeof t)return n(new Error('"path" must be a string'));e(t,{qs:r,converter:gP},n)})};const HV=u.parse;var GV=t=>{const e=WL(t,"add");return xI((t,r,n)=>{if("function"==typeof r&&void 0===n&&(n=r,r={}),"function"==typeof r&&"function"==typeof n&&(n=r,r={}),!$V(t))return n(new Error('"url" param must be an http(s) url'));WV(t,r,e,n)})};const $V=t=>"string"==typeof t&&t.startsWith("http"),WV=(t,e,r,n)=>{DL(HV(t).protocol)(t,t=>{if(t.once("error",n),t.statusCode>=400)return n(new Error(`Failed to download with ${t.statusCode}`));const i=t.headers.location;if(t.statusCode>=300&&t.statusCode<400&&i){if(!$V(i))return n(new Error("redirection url must be an http(s) url"));WV(i,e,r,n)}else{r(t,{qs:e,converter:gP},n)}}).end()};var YV=function(t){const e=function(){const t={add:TP,addReadableStream:PP,addPullStream:OP,cat:wN,catReadableStream:TN,catPullStream:LN,get:MR,getReadableStream:AR,getPullStream:HR,ls:qL,lsReadableStream:KL,lsPullStream:zL,bitswap:GL,block:ZL,bootstrap:QL,commands:XL,config:eO,dht:rO,diag:nO,id:iO,key:fO,log:hO,mount:lO,name:mO,object:MU,pin:xU,ping:BU,refs:CU,repo:PU,stop:NU,stats:DU,swarm:BV,pubsub:OV,update:jV,version:DV,dns:FV};return t.shutdown=t.stop,t.files=function(t){return zV(t)},t.util=function(t){return{addFromFs:VV(t),addFromStream:TP(t),addFromURL:GV(t)}},t}(),r={};return Object.keys(e).forEach(n=>{r[n]=e[n](t)}),r},ZV=et(function(t,e){t.exports=function(t,e,r){const n=dL();try{const r=AI(t).nodeAddress();n.host=r.address,n.port=r.port}catch(r){"string"==typeof t&&(n.host=t,n.port=e&&"object"!=typeof e?e:n.port)}let i=arguments.length;for(;!r&&i-- >0&&!(r=arguments[i]););if(Object.assign(n,r),!n.host&&"undefined"!=typeof self){const t=self.location.host.split(":");n.host=t[0],n.port=t[1]}const o=UL(n),a=YV(o);return a.send=o,a.Buffer=Buffer,a}}),QV=R,XV=QV.classCallCheck,JV=QV.createClass,tH=function(){function t(e){XV(this,t),this.ipfs=ZV(e)}return JV(t,[{key:"healthy",value:function(){return this.ipfs.id()}},{key:"writeObject",value:function(t){return new Promise(function(e,r){return e(this.ipfs.object.put({Data:new Buffer(JSON.stringify(t)),Links:[]}))}.bind(this))}},{key:"readObject",value:function(t){return new Promise(function(e,r){var n;return Promise.resolve(this.ipfs.object.get(t)).then(function(t){try{return n=t.data.toString(),e(JSON.parse(n))}catch(t){return r(t)}}.bind(this),r)}.bind(this))}},{key:"bytes32ToMultihash",value:function(t){return GC.encode(new Buffer("1220"+t.slice(2),"hex"))}},{key:"multihashToBytes32",value:function(t){return"0x"+new Buffer(GC.decode(t).slice(2)).toString("hex")}}]),t}(),eH="transmute-eventstore",rH="dist/transmute-eventstore.min.js",nH=["dist","src"],iH={start:"npm test","truffle:test":"truffle test","truffle:migrate":"truffle migrate","truffle:test:minikube":"truffle test --network minikube","truffle:migrate:minikube":"truffle migrate --network minikube",build:"./node_modules/bili/dist/cli.js --format cjs,umd-min ./src/index.js",test:"NODE_TLS_REJECT_UNAUTHORIZED=0 react-scripts test --coverage",eject:"react-scripts eject"},oH={type:"git",url:"git+ssh://git@github.com/transmute-industries/transmute.git"},aH=["transmute"],sH=["Orie Steele <orie@transmute.industries>"],uH={url:"https://github.com/transmute-industries/transmute/issues"},cH="https://github.com/transmute-industries/transmute#readme",fH={bili:"^3.0.4","react-scripts":"^1.1.1"},hH={bs58:"^4.0.1","ipfs-api":"^18.2.0","keen-tracking":"^1.1.3","truffle-contract":"^3.0.4",web3:"^1.0.0-beta.33","web3-provider-engine":"^13.6.6","zeppelin-solidity":"^1.6.0"},lH={name:eH,version:"0.0.1",description:"EventStore Middleware",main:rH,files:nH,scripts:iH,repository:oH,keywords:aH,authors:sH,license:"MIT",bugs:uH,homepage:cH,devDependencies:fH,dependencies:hH},dH=Object.freeze({name:eH,version:"0.0.1",description:"EventStore Middleware",main:rH,files:nH,scripts:iH,repository:oH,keywords:aH,authors:sH,license:"MIT",bugs:uH,homepage:cH,devDependencies:fH,dependencies:hH,default:lH}),pH=dH&&lH||dH,mH=QV.classCallCheck,yH=QV.createClass;return function(){function t(e){if(mH(this,t),!e)throw new Error("a config of form { eventStoreArtifact, web3, keen, ipfs } is required.");var r=e.eventStoreArtifact,n=e.web3Config,i=e.keenConfig,o=e.ipfsConfig;if(!r)throw new Error("a truffle-contract eventStoreArtifact property is required in constructor argument.");if(!n)throw new Error("a web3 property is required in constructor argument.");if(!i)throw new Error("a keenConfig property is required in constructor argument.");if(!o)throw new Error("an ipfsConfig property is required in constructor argument.");var a=new V_;a.addProvider(new nk({rpcUrl:n.providerUrl})),a.start(),this.version=pH.version,this.web3=new Pm(a),this.eventStoreArtifact=r,this.eventStoreContract=XB(this.eventStoreArtifact),this.eventStoreContract.setProvider(this.web3.currentProvider),this.keen=new jC(i),this.ipfs=new tH(o)}return yH(t,[{key:"init",value:function(){return new Promise(function(t,e){if(!this.eventStoreContractInstance)return Promise.resolve(this.eventStoreContract.deployed()).then(function(t){try{return this.eventStoreContractInstance=t,r.call(this)}catch(t){return e(t)}}.bind(this),e);function r(){return t()}return r.call(this)}.bind(this))}},{key:"requireInstance",value:function(){if(!this.eventStoreContractInstance)throw new Error("You must call init() before accessing eventStoreContractInstance.")}},{key:"clone",value:function(t){return new Promise(function(e,r){var n,i;return Promise.resolve(this.eventStoreContract.new({from:t,gas:309600})).then(function(t){try{return n=t,(i=Object.assign(Object.create(Object.getPrototypeOf(this)),this)).eventStoreContractInstance=n,e(i)}catch(t){return r(t)}}.bind(this),r)}.bind(this))}},{key:"write",value:function(t,e,r){return new Promise(function(n,i){var o,a,s,u,c,f,h,l,d,p;return this.requireInstance(),o=this.web3,a=this.ipfs,s=this.eventStoreContractInstance,Promise.resolve(a.writeObject(e)).then(function(m){try{return u=m._json.multihash,c=a.multihashToBytes32(u),Promise.resolve(a.writeObject(r)).then(function(m){try{return f=m._json.multihash,h=a.multihashToBytes32(f),Promise.resolve(s.write.estimateGas(c,h)).then(function(a){try{return l=a,Promise.resolve(s.write.sendTransaction(c,h,{from:t,gas:l+2050})).then(function(a){try{return d=a,p=o.eth.getTransactionReceipt(d),n({event:{sender:t,key:e,value:r},meta:{tx:d,ipfs:{key:u,value:f},bytes32:{key:c,value:h},receipt:p}})}catch(t){return i(t)}}.bind(this),i)}catch(t){return i(t)}}.bind(this),i)}catch(t){return i(t)}}.bind(this),i)}catch(t){return i(t)}}.bind(this),i)}.bind(this))}},{key:"read",value:function(t){return new Promise(function(e,r){var n,i,o,a;this.requireInstance(),this.web3,n=this.ipfs,i=this.eventStoreContractInstance;var s=function(){try{return o?(a=[o[0].toNumber(),o[1],n.bytes32ToMultihash(o[2]),n.bytes32ToMultihash(o[3])],Promise.resolve(n.readObject(a[2])).then(function(t){try{return Promise.resolve(n.readObject(a[3])).then(function(n){try{return e({index:a[0],sender:a[1],key:t,value:n})}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)):r(new Error("Failed to read values from index."))}catch(t){return r(t)}}.bind(this),u=function(e){try{if(0==t)throw new Error("EventStore has no events.");return s()}catch(t){return r(t)}}.bind(this);try{return Promise.resolve(i.read(t)).then(function(t){try{return o=t,s()}catch(t){return u(t)}}.bind(this),u)}catch(t){u(t)}}.bind(this))}},{key:"getSlice",value:function(t,e){return new Promise(function(r,n){var i,o,a;return e>=t?(i=t,o=[],(a=function(t){for(;t;){if(t.then)return void t.then(a,n);try{if(t.pop){if(t.length)return t.pop()?u.call(this):t;t=s}else t=t.call(this)}catch(t){return n(t)}}}.bind(this))(s)):n(new Error("startIndex must be less than or equal to endIndex."));function s(){return i<=e?Promise.resolve(this.read(i)).then(function(t){try{return o.push(t),i++,s}catch(t){return n(t)}}.bind(this),n):[1]}function u(){return r(o)}}.bind(this))}},{key:"healthy",value:function(){return new Promise(function(t,e){return this.requireInstance(),t({ipfs:this.ipfs.healthy(),eventStoreContract:this.eventStoreContractInstance.address})}.bind(this))}},{key:"destroy",value:function(t){return this.eventStore.destroy(t)}}]),t}()});
//# sourceMappingURL=transmute-eventstore.min.js.map
